import{a as Xe,b as X}from"./chunk-4WISYR2D.js";import{$a as oe,Ac as ze,Bb as I,D as Z,Db as h,Fb as d,Ga as S,H as ee,Hc as k,Ic as ae,Ka as ie,Kh as Ve,L as he,La as c,Ld as N,M as te,Nb as Se,Ob as Me,Oc as Be,Od as He,Pb as Ee,Qb as Ae,Qd as Fe,Rb as se,Rd as je,Ub as r,Va as M,Wb as Ie,Wd as Ke,Xa as xe,_h as Ye,a as R,b as ce,ba as $,da as P,fa as l,fb as V,ff as Ge,ga as fe,h as de,ha as be,hc as ke,jc as Ne,k as J,ka as _,kb as E,kd as Oe,ki as We,l as me,la as y,ld as Ue,mb as A,mi as qe,nb as Te,oa as ge,ob as _e,of as le,pa as ve,pb as Y,qa as Ce,qb as W,qd as q,ra as L,rb as f,sb as m,sc as De,sd as we,t as pe,tb as p,td as Pe,tf as $e,ua as ne,ub as ye,ud as H,wg as Le,yc as re,za as Re,zc as u}from"./chunk-MX2XXWDT.js";var D=new P("REUSE_TAB_CACHED_MANAGER"),F=class{list=[];title={};closable={}};var x=new P("REUSE_TAB_STORAGE_KEY"),T=new P("REUSE_TAB_STORAGE_STATE"),j=class{get(e){return JSON.parse(localStorage.getItem(e)??"[]")??[]}update(e,t){return localStorage.setItem(e,JSON.stringify(t)),!0}remove(e){localStorage.removeItem(e)}};var g=class s{injector=l(ge);menuService=l(Fe);cached=l(D);stateKey=l(x);stateSrv=l(T);_inited=!1;_max=10;_keepingScroll=!1;_cachedChange=new me(null);_router$;removeUrlBuffer=null;positionBuffer={};componentRef;debug=!1;routeParamMatchMode="strict";mode=0;excludes=[];storageState=!1;get snapshot(){return this.injector.get(q).snapshot}get inited(){return this._inited}get curUrl(){return this.getUrl(this.snapshot)}set max(e){this._max=Math.min(Math.max(e,2),100);for(let t=this.cached.list.length;t>this._max;t--)this.cached.list.pop()}set keepingScroll(e){this._keepingScroll=e,this.initScroll()}get keepingScroll(){return this._keepingScroll}keepingScrollContainer;get items(){return this.cached.list}get count(){return this.cached.list.length}get change(){return this._cachedChange.asObservable()}set title(e){let t=this.curUrl;typeof e=="string"&&(e={text:e}),this.cached.title[t]=e,this.di("update current tag title: ",e),this._cachedChange.next({active:"title",url:t,title:e,list:this.cached.list})}index(e){return this.cached.list.findIndex(t=>t.url===e)}exists(e){return this.index(e)!==-1}get(e){return e?this.cached.list.find(t=>t.url===e)??null:null}remove(e,t){let n=typeof e=="string"?this.index(e):e,o=n!==-1?this.cached.list[n]:null;return!o||!t&&!o.closable?!1:(this.destroy(o._handle),this.cached.list.splice(n,1),delete this.cached.title[e],!0)}close(e,t=!1){return this.removeUrlBuffer=e,this.remove(e,t),this._cachedChange.next({active:"close",url:e,list:this.cached.list}),this.di("close tag",e),!0}closeRight(e,t=!1){let n=this.index(e);for(let o=this.count-1;o>n;o--)this.remove(o,t);return this.removeUrlBuffer=null,this._cachedChange.next({active:"closeRight",url:e,list:this.cached.list}),this.di("close right tages",e),!0}clear(e=!1){this.cached.list.forEach(t=>{!e&&t.closable&&this.destroy(t._handle)}),this.cached.list=this.cached.list.filter(t=>!e&&!t.closable),this.removeUrlBuffer=null,this._cachedChange.next({active:"clear",list:this.cached.list}),this.di("clear all catch")}move(e,t){let n=this.cached.list.findIndex(i=>i.url===e);if(n===-1)return;let o=this.cached.list.slice();o.splice(t<0?o.length+t:t,0,o.splice(n,1)[0]),this.cached.list=o,this._cachedChange.next({active:"move",url:e,position:t,list:this.cached.list})}replace(e){let t=this.curUrl;this.injector.get(H).navigateByUrl(e).then(()=>{this.exists(t)?this.close(t,!0):this.removeUrlBuffer=t})}getTitle(e,t){if(this.cached.title[e])return this.cached.title[e];if(t&&t.data&&(t.data.titleI18n||t.data.title))return{text:t.data.title,i18n:t.data.titleI18n};let n=this.getMenu(e);return n?{text:n.text,i18n:n.i18n}:{text:e}}clearTitleCached(){this.cached.title={}}set closable(e){let t=this.curUrl;this.cached.closable[t]=e,this.di("update current tag closable: ",e),this._cachedChange.next({active:"closable",closable:e,list:this.cached.list})}getClosable(e,t){if(typeof this.cached.closable[e]<"u")return this.cached.closable[e];if(t&&t.data&&typeof t.data.reuseClosable=="boolean")return t.data.reuseClosable;let n=this.mode!==2?this.getMenu(e):null;return n&&typeof n.reuseClosable=="boolean"?n.reuseClosable:!0}clearClosableCached(){this.cached.closable={}}getTruthRoute(e){let t=e;for(;t.firstChild;)t=t.firstChild;return t}getUrl(e){let t=this.getTruthRoute(e),n=[];for(;t;)n.push(t.url.join("/")),t=t.parent;return`/${n.filter(i=>i).reverse().join("/")}`}can(e){let t=this.getUrl(e);if(t===this.removeUrlBuffer)return!1;if(e.data&&typeof e.data.reuse=="boolean")return e.data.reuse;if(this.mode!==2){let n=this.getMenu(t);if(!n)return!1;if(this.mode===0){if(n.reuse===!1)return!1}else if(!n.reuse||n.reuse!==!0)return!1;return!0}return!this.isExclude(t)}isExclude(e){return this.excludes.findIndex(t=>t.test(e))!==-1}refresh(e){this._cachedChange.next({active:"refresh",data:e})}destroy(e){e&&e.componentRef&&e.componentRef.destroy&&e.componentRef.destroy()}di(...e){}constructor(){this.cached==null&&(this.cached={list:[],title:{},closable:{}})}init(){this.initScroll(),this._inited=!0,this.loadState()}loadState(){this.storageState&&(this.cached.list=this.stateSrv.get(this.stateKey).map(e=>ce(R({},e),{title:{text:e.title},url:e.url,position:e.position})),this._cachedChange.next({active:"loadState"}))}getMenu(e){let t=this.menuService.getPathByUrl(e);return!t||t.length===0?null:t.pop()}runHook(e,t,n="init"){if(typeof t=="number"&&(t=this.cached.list[t]._handle?.componentRef),t==null||!t.instance)return;let o=t.instance,i=o[e];typeof i=="function"&&(e==="_onReuseInit"?i.call(o,n):i.call(o))}hasInValidRoute(e){return!e.routeConfig||!!e.routeConfig.loadChildren||!!e.routeConfig.children}shouldDetach(e){return this.hasInValidRoute(e)?!1:(this.di("#shouldDetach",this.can(e),this.getUrl(e)),this.can(e))}saveCache(e,t,n){let o=this.getTruthRoute(e),i=this.getUrl(e),a=this.index(i),b={title:this.getTitle(i,o),url:i,closable:this.getClosable(i,e),_snapshot:e,_handle:t};if(a<0){if(this.items.splice(n??this.items.length,0,b),this.count>this._max){let U=this.items.findIndex(C=>C.url!==i&&C.closable);if(U!==-1){let C=this.items[U];this.remove(U,!1),Z(1).pipe(te(1)).subscribe(()=>this._cachedChange.next({active:"close",url:C.url,list:this.cached.list}))}}}else this.items[a]=b}store(e,t){let n=this.getUrl(e);t!=null&&this.saveCache(e,t);let o=this.cached.list,i={title:this.getTitle(n,e),closable:this.getClosable(n,e),position:this.getKeepingScroll(n,e)?this.positionBuffer[n]:null,url:n,_snapshot:e,_handle:t},a=this.index(n),b=o[a]?._handle?.componentRef;t==null&&b!=null&&Z(100).pipe(te(1)).subscribe(()=>this.runHook("_onReuseInit",b)),o[a]=i,this.removeUrlBuffer=null,this.di("#store","[override]",n),t&&t.componentRef&&this.runHook("_onReuseDestroy",t.componentRef),this._cachedChange.next({active:"override",item:i,list:o})}shouldAttach(e){if(this.hasInValidRoute(e))return!1;let t=this.getUrl(e),n=this.get(t),o=!!(n&&n._handle);return this.di("#shouldAttach",o,t),o||this._cachedChange.next({active:"add",url:t,list:this.cached.list}),o}retrieve(e){if(this.hasInValidRoute(e))return null;let t=this.getUrl(e),n=this.get(t),o=n&&n._handle;return this.di("#retrieve",t,o),o}shouldReuseRoute(e,t){let n=e.routeConfig===t.routeConfig;if(!n)return!1;let o=(e.routeConfig&&e.routeConfig.path)??"";if(o.length>0&&~o.indexOf(":")){let i=this.routeParamMatchMode;typeof i=="function"?n=i(e,t):i==="strict"?n=this.getUrl(e)===this.getUrl(t):n=o===((t.routeConfig&&t.routeConfig.path)??"")}return this.di("====================="),this.di("#shouldReuseRoute",n,`${this.getUrl(t)}=>${this.getUrl(e)}`,e,t),n}getKeepingScroll(e,t){if(t&&t.data&&typeof t.data.keepingScroll=="boolean")return t.data.keepingScroll;let n=this.mode!==2?this.getMenu(e):null;return n&&typeof n.keepingScroll=="boolean"?n.keepingScroll:this.keepingScroll}get isDisabledInRouter(){return this.injector.get(we,{}).scrollPositionRestoration==="disabled"}get ss(){return this.injector.get(Ye)}initScroll(){this._router$&&this._router$.unsubscribe(),this._router$=this.injector.get(H).events.subscribe(e=>{if(e instanceof Oe){let t=this.curUrl;this.getKeepingScroll(t,this.getTruthRoute(this.snapshot))?this.positionBuffer[t]=this.ss.getScrollPosition(this.keepingScrollContainer):delete this.positionBuffer[t]}else if(e instanceof Ue){let t=this.curUrl,n=this.get(t);n&&n.position&&this.getKeepingScroll(t,this.getTruthRoute(this.snapshot))&&(this.isDisabledInRouter?this.ss.scrollToPosition(this.keepingScrollContainer,n.position):setTimeout(()=>this.ss.scrollToPosition(this.keepingScrollContainer,n.position),1))}})}ngOnDestroy(){let{_cachedChange:e,_router$:t}=this;this.clear(),this.cached.list=[],e.complete(),t&&t.unsubscribe()}static \u0275fac=function(t){return new(t||s)};static \u0275prov=$({token:s,factory:s.\u0275fac})};function tt(s,e){if(s&1){let t=I();r(0,`
        `),m(1,"li",4),h("click",function(o){_(t);let i=d();return y(i.click(o,"refresh"))}),p(),r(2,`
      `)}if(s&2){let t=d();c(),f("innerHTML",t.i18n.refresh,S)}}function nt(s,e){if(s&1){let t=I();r(0,`
          `),m(1,"li",6),h("click",function(o){let i=_(t).$implicit,a=d(2);return y(a.click(o,"custom",i))}),p(),r(2,`
        `)}if(s&2){let t=e.$implicit,n=d(2);c(),f("nzDisabled",n.isDisabled(t))("innerHTML",t.title,S),V("data-type",t.id)}}function it(s,e){if(s&1&&(r(0,`
        `),ye(1,"li",5),r(2,`
        `),Y(3,nt,3,3,null,null,Te)),s&2){let t=d();c(3),W(t.customContextMenu)}}var z=class s{locale=l(Ve).valueSignal("reuseTab");_i18n;set i18n(e){this._i18n=R(R({},this.locale()),e)}get i18n(){return this._i18n}item;event;customContextMenu;close=new L;get includeNonCloseable(){return this.event.ctrlKey}notify(e){this.close.next({type:e,item:this.item,includeNonCloseable:this.includeNonCloseable})}ngOnInit(){this.includeNonCloseable&&(this.item.closable=!0)}click(e,t,n){if(e.preventDefault(),e.stopPropagation(),!(t==="close"&&!this.item.closable)&&!(t==="closeRight"&&this.item.last)){if(n){if(this.isDisabled(n))return;n.fn(this.item,n)}this.notify(t)}}isDisabled(e){return e.disabled?e.disabled(this.item):!1}closeMenu(e){e.type==="click"&&e.button===2||this.notify(null)}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=M({type:s,selectors:[["reuse-tab-context-menu"]],hostBindings:function(t,n){t&1&&h("click",function(i){return n.closeMenu(i)},ie)("contextmenu",function(i){return n.closeMenu(i)},ie)},inputs:{i18n:"i18n",item:"item",event:"event",customContextMenu:"customContextMenu"},outputs:{close:"close"},decls:12,vars:7,consts:[["nz-menu",""],["nz-menu-item","","data-type","close",3,"click","nzDisabled","innerHTML"],["nz-menu-item","","data-type","closeOther",3,"click","innerHTML"],["nz-menu-item","","data-type","closeRight",3,"click","nzDisabled","innerHTML"],["nz-menu-item","","data-type","refresh",3,"click","innerHTML"],["nz-menu-divider",""],["nz-menu-item","",3,"click","nzDisabled","innerHTML"]],template:function(t,n){t&1&&(r(0,`
    `),m(1,"ul",0),r(2,`
      `),E(3,tt,3,1),m(4,"li",1),h("click",function(i){return n.click(i,"close")}),p(),r(5,`
      `),m(6,"li",2),h("click",function(i){return n.click(i,"closeOther")}),p(),r(7,`
      `),m(8,"li",3),h("click",function(i){return n.click(i,"closeRight")}),p(),r(9,`
      `),E(10,it,5,0),p(),r(11,`
  `)),t&2&&(c(3),A(n.item.active?3:-1),c(),f("nzDisabled",!n.item.closable)("innerHTML",n.i18n.close,S),c(2),f("innerHTML",n.i18n.closeOther,S),c(2),f("nzDisabled",n.item.last)("innerHTML",n.i18n.closeRight,S),c(2),A(n.customContextMenu.length>0?10:-1))},dependencies:[qe,We],encapsulation:2,changeDetection:0})};var v=class s{overlay=l($e);ref=null;i18n;show=new J;close=new J;remove(){this.ref&&(this.ref.detach(),this.ref.dispose(),this.ref=null)}open(e){this.remove();let{event:t,item:n,customContextMenu:o}=e,{x:i,y:a}=t,b=[new le({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new le({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})],U=this.overlay.position().flexibleConnectedTo({x:i,y:a}).withPositions(b);this.ref=this.overlay.create({positionStrategy:U,panelClass:"reuse-tab__cm",scrollStrategy:this.overlay.scrollStrategies.close()});let C=this.ref.attach(new Ge(z)),w=C.instance;w.i18n=this.i18n,w.item=R({},n),w.customContextMenu=o,w.event=t;let ue=new de;ue.add(w.close.subscribe(Ze=>{this.close.next(Ze),this.remove()})),C.onDestroy(()=>ue.unsubscribe())}static \u0275fac=function(t){return new(t||s)};static \u0275prov=$({token:s,factory:s.\u0275fac})};var B=class s{srv=l(v);set i18n(e){this.srv.i18n=e}change=new L;constructor(){this.srv.show.pipe(N()).subscribe(e=>this.srv.open(e)),this.srv.close.pipe(N()).subscribe(e=>this.change.emit(e))}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=M({type:s,selectors:[["reuse-tab-context"]],inputs:{i18n:"i18n"},outputs:{change:"change"},decls:0,vars:0,template:function(t,n){},encapsulation:2})};var O=class s{srv=l(v);item=u.required({alias:"reuse-tab-context-menu"});customContextMenu=u.required();_onContextMenu(e){this.srv.show.next({event:e,item:this.item(),customContextMenu:this.customContextMenu()}),e.preventDefault(),e.stopPropagation()}static \u0275fac=function(t){return new(t||s)};static \u0275dir=xe({type:s,selectors:[["","reuse-tab-context-menu",""]],hostBindings:function(t,n){t&1&&h("contextmenu",function(i){return n._onContextMenu(i)})},inputs:{item:[1,"reuse-tab-context-menu","item"],customContextMenu:[1,"customContextMenu"]},exportAs:["reuseTabContextMenu"]})};var ot=s=>({$implicit:s});function st(s,e){}function rt(s,e){if(s&1&&(r(0,`
                  `),oe(1,st,0,0,"ng-template",5),r(2,`
                `)),s&2){let t=d(2).$implicit,n=d();c(),f("ngTemplateOutlet",n.titleRender())("ngTemplateOutletContext",Ne(2,ot,t))}}function at(s,e){if(s&1&&r(0),s&2){let t=d(2).$implicit;Ie(`
                  `,t.title,`
                `)}}function lt(s,e){if(s&1){let t=I();r(0,`
              `),m(1,"nz-icon",6),h("click",function(o){_(t);let i=d(2).$index,a=d();return y(a._close(o,i,!1))}),p(),r(2,`
            `)}}function ut(s,e){if(s&1&&(r(0,`
            `),m(1,"div",4),r(2,`
              `),m(3,"span"),r(4,`
                `),E(5,rt,3,4)(6,at,1,1),p(),r(7,`
            `),p(),r(8,`
            `),E(9,lt,3,0)),s&2){let t=d().$implicit,n=d();c(),f("reuse-tab-context-menu",t)("customContextMenu",n.customContextMenu()),V("title",t.title),c(2),Ae("max-width",n.tabMaxWidth(),"px"),se("reuse-tab__name-width",n.tabMaxWidth()),c(2),A(n.titleRender()?5:6),c(4),A(t.closable?9:-1)}}function ct(s,e){if(s&1){let t=I();r(0,`
        `),m(1,"nz-tab",3),h("nzClick",function(){let o=_(t).$index,i=d();return y(i._to(o))}),r(2,`
          `),oe(3,ut,10,9,"ng-template",null,0,De),r(5,`
        `),p(),r(6,`
      `)}if(s&2){let t=Ee(4);c(),f("nzTitle",t)}}var Q=class s{srv=l(g,{optional:!0});router=l(H);route=l(q);i18nSrv=l(He);doc=l(ve);platform=l(je);stateKey=l(x);stateSrv=l(T);tabset=ze.required(X);destroy$=l(Ce);dir=l(Ke).valueSignal;list=ne([]);item;pos=ne(0);mode=u(0);i18n=u();debug=u(!1,{transform:k});max=u(void 0,{transform:ae});tabMaxWidth=u(void 0,{transform:ae});excludes=u();allowClose=u(!0,{transform:k});keepingScroll=u(!1,{transform:k});storageState=u(!1,{transform:k});keepingScrollContainer=u();customContextMenu=u([]);tabBarExtraContent=u();tabBarGutter=u();tabBarStyle=u(null);tabType=u("line");routeParamMatchMode=u("strict");disabled=u(!1,{transform:k});titleRender=u();canClose=u();change=re();close=re();genTit(e){return e.i18n?this.i18nSrv.fanyi(e.i18n):e.text}get curUrl(){return this.srv.getUrl(this.route.snapshot)}genCurItem(){let e=this.curUrl,t=this.srv.getTruthRoute(this.route.snapshot);return{url:e,title:this.genTit(this.srv.getTitle(e,t)),closable:this.allowClose()&&this.srv.count>0&&this.srv.getClosable(e,t),active:!1,last:!1,index:0}}genList(e){let t=this.srv.items.map((i,a)=>({url:i.url,title:this.genTit(i.title),closable:this.allowClose()&&this.srv.count>0&&this.srv.getClosable(i.url,i._snapshot),position:i.position,index:a,active:!1,last:!1})),n=this.curUrl,o=t.findIndex(i=>i.url===n)===-1;if(e&&e.active==="close"&&e.url===n){o=!1;let i=0,a=this.list().find(b=>b.url===n);a.index===t.length?i=t.length-1:a.index<t.length&&(i=Math.max(0,a.index)),this.router.navigateByUrl(t[i].url)}if(o){let i=this.pos()+1;t.splice(i,0,this.genCurItem()),this.srv.saveCache(this.route.snapshot,null,i)}t.forEach((i,a)=>i.index=a),t.length===1&&(t[0].closable=!1),this.list.set(t),this.updatePos()}updateTitle(e){this.list.update(t=>{let n=t.find(o=>o.url===e.url);return n?(n.title=this.genTit(e.title),[...t]):t})}refresh(e){this.srv.runHook("_onReuseInit",this.pos()===e.index?this.srv.componentRef:e.index,"refresh")}saveState(){!this.srv.inited||!this.storageState()||this.stateSrv?.update(this.stateKey,this.list())}contextMenuChange(e){let t=null;switch(e.type){case"refresh":this.refresh(e.item);break;case"close":this._close(null,e.item.index,e.includeNonCloseable);break;case"closeRight":t=()=>{this.srv.closeRight(e.item.url,e.includeNonCloseable),this.close.emit(null)};break;case"closeOther":t=()=>{this.srv.clear(e.includeNonCloseable),this.close.emit(null)};break}t&&(!e.item.active&&e.item.index<=this.list().find(n=>n.active).index?this._to(e.item.index,t):t())}_to(e,t){e=Math.max(0,Math.min(e,this.list().length-1));let n=this.list()[e];this.router.navigateByUrl(n.url).then(o=>{o&&(this.item=n,this.change.emit(n),t?.())})}_close(e,t,n){e!=null&&(e.preventDefault(),e.stopPropagation());let o=this.list()[t],i=this.canClose();return(i?i({item:o,includeNonCloseable:n}):pe(!0)).pipe(ee(a=>a)).subscribe(()=>{this.srv.close(o.url,n),this.close.emit(o)}),!1}activate(e){this.srv!=null&&(this.srv.componentRef={instance:e})}updatePos(){let e=this.srv.getUrl(this.route.snapshot),t=this.list().filter(a=>a.url===e||!this.srv.isExclude(a.url));if(t.length===0)return;let n=t[t.length-1],o=t.find(a=>a.url===e);n.last=!0;let i=o==null?n.index:o.index;t.forEach((a,b)=>a.active=i===b),this.pos.set(i),this.tabset().nzSelectedIndex=i,this.list.set(t),this.saveState()}ngOnInit(){!this.platform.isBrowser||this.srv==null||(this.srv.change.pipe(N(this.destroy$)).subscribe(e=>{switch(e?.active){case"title":this.updateTitle(e);return;case"override":if(e?.list?.length===this.list.length){this.updatePos();return}break}this.genList(e)}),this.i18nSrv.change.pipe(ee(()=>this.srv.inited),N(this.destroy$),he(100)).subscribe(()=>this.genList({active:"title"})),this.srv.init())}ngOnChanges(e){if(!(!this.platform.isBrowser||this.srv==null)){if(e.max&&(this.srv.max=this.max()),e.excludes&&(this.srv.excludes=this.excludes()),e.mode&&(this.srv.mode=this.mode()),e.routeParamMatchMode&&(this.srv.routeParamMatchMode=this.routeParamMatchMode()),e.keepingScroll){this.srv.keepingScroll=this.keepingScroll();let t=this.keepingScrollContainer();this.srv.keepingScrollContainer=typeof t=="string"?this.doc.querySelector(t):t}e.storageState&&(this.srv.storageState=this.storageState()),this.srv.debug=this.debug()}}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=M({type:s,selectors:[["reuse-tab"],["","reuse-tab",""]],viewQuery:function(t,n){t&1&&Se(n.tabset,X,5),t&2&&Me()},hostAttrs:[1,"reuse-tab"],hostVars:8,hostBindings:function(t,n){t&2&&se("reuse-tab__line",n.tabType()==="line")("reuse-tab__card",n.tabType()==="card")("reuse-tab__disabled",n.disabled())("reuse-tab-rtl",n.dir()==="rtl")},inputs:{mode:[1,"mode"],i18n:[1,"i18n"],debug:[1,"debug"],max:[1,"max"],tabMaxWidth:[1,"tabMaxWidth"],excludes:[1,"excludes"],allowClose:[1,"allowClose"],keepingScroll:[1,"keepingScroll"],storageState:[1,"storageState"],keepingScrollContainer:[1,"keepingScrollContainer"],customContextMenu:[1,"customContextMenu"],tabBarExtraContent:[1,"tabBarExtraContent"],tabBarGutter:[1,"tabBarGutter"],tabBarStyle:[1,"tabBarStyle"],tabType:[1,"tabType"],routeParamMatchMode:[1,"routeParamMatchMode"],disabled:[1,"disabled"],titleRender:[1,"titleRender"],canClose:[1,"canClose"]},outputs:{change:"change",close:"close"},exportAs:["reuseTab"],features:[ke([v]),Re],decls:8,vars:7,consts:[["titleTemplate",""],[3,"nzSelectedIndex","nzAnimated","nzType","nzTabBarExtraContent","nzTabBarGutter","nzTabBarStyle"],[3,"change","i18n"],[3,"nzClick","nzTitle"],[1,"reuse-tab__name",3,"reuse-tab-context-menu","customContextMenu"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nzType","close",1,"reuse-tab__op",3,"click"]],template:function(t,n){t&1&&(r(0,`
    `),m(1,"nz-tabs",1),r(2,`
      `),Y(3,ct,7,1,null,null,_e),p(),r(5,`
    `),m(6,"reuse-tab-context",2),h("change",function(i){return n.contextMenuChange(i)}),p(),r(7,`
  `)),t&2&&(c(),f("nzSelectedIndex",n.pos())("nzAnimated",!1)("nzType",n.tabType())("nzTabBarExtraContent",n.tabBarExtraContent())("nzTabBarGutter",n.tabBarGutter())("nzTabBarStyle",n.tabBarStyle()),c(2),W(n.list()),c(3),f("i18n",n.i18n()))},dependencies:[Be,X,Xe,O,B,Le],encapsulation:2,changeDetection:0})};var G=class{srv=l(g);shouldDetach(e){return this.srv.shouldDetach(e)}store(e,t){this.srv.store(e,t)}shouldAttach(e){return this.srv.shouldAttach(e)}retrieve(e){return this.srv.retrieve(e)}shouldReuseRoute(e,t){return this.srv.shouldReuseRoute(e,t)}};function Je(s,e){return{\u0275kind:s,\u0275providers:e}}function ci(s){return fe([g,{provide:x,useValue:s?.storeKey??"_reuse-tab-state"},(s?.cacheManager??dt()).\u0275providers,(s?.store??mt()).\u0275providers,{provide:Pe,useClass:G,deps:[g]},be(()=>{let e=l(g);s?.debug&&(e.debug=s.debug),s?.mode&&(e.mode=s.mode),s?.routeParamMatchMode&&(e.routeParamMatchMode=s.routeParamMatchMode),s?.max&&(e.max=s.max),s?.excludes&&(e.excludes=s.excludes)})])}function dt(){return Je(0,[{provide:D,useFactory:()=>new F}])}function mt(){return Je(1,[{provide:T,useFactory:()=>new j}])}export{g as a,Q as b,ci as c};
