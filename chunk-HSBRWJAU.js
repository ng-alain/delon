import{a as Kt,b as Zt}from"./chunk-DXDQQFS5.js";import{a as Z,b as G}from"./chunk-JJLWTDCJ.js";import{a as Wt}from"./chunk-G6DHYIGB.js";import{a as Pt}from"./chunk-DAHELYEP.js";import{E as Qt,G as Ut,P as K}from"./chunk-TA7EFEO7.js";import{Ab as wt,Ad as Bt,Ae as $t,Bb as rt,Bc as Lt,Cb as V,Cc as lt,Da as F,Db as j,Dc as Mt,Ee as Vt,Fa as yt,Gd as Rt,Ge as H,Hb as L,Ia as c,J as _t,Jc as ct,Jd as q,Kb as Ot,Ke as jt,La as kt,Lb as at,Lh as W,Mb as o,Md as M,Na as et,Nb as P,Nd as Ft,Ob as It,Qa as I,Ra as St,Sa as At,Sh as qt,Wa as y,Wb as Nt,Xa as $,Y as gt,_ as Ct,bc as st,cb as Dt,dd as Ht,ea as Tt,eb as g,fc as Et,gb as C,gc as bt,h as Y,ha as l,hb as nt,he as pt,jb as it,kb as ot,kc as Q,la as w,lb as u,m as zt,ma as O,mb as h,nb as m,ob as v,pd as U,qa as R,ra as tt,s as D,sb as N,t as x,vb as k,wa as xt,xb as f,ya as vt,yb as E,zb as b}from"./chunk-R4G4X3NR.js";var oe=["ink"],Yt=["*"],re=e=>({"ant-anchor-wrapper-horizontal":e}),ae=e=>({"ant-anchor-fixed":e});function se(e,n){}function le(e,n){if(e&1&&(h(0,"nz-affix",2),y(1,se,0,0,"ng-template",3),m()),e&2){let t=f(),i=L(3);u("nzOffsetTop",t.nzOffsetTop)("nzTarget",t.container),c(),u("ngTemplateOutlet",i)}}function ce(e,n){}function pe(e,n){if(e&1&&y(0,ce,0,0,"ng-template",3),e&2){f();let t=L(3);u("ngTemplateOutlet",t)}}function me(e,n){if(e&1&&(h(0,"div",4)(1,"div",5)(2,"div",6),v(3,"div",7,1),m(),b(5),m()()),e&2){let t=f();Ot(t.wrapperStyle),at(st(6,re,t.nzDirection==="horizontal")),c(),at(st(8,ae,!t.nzAffix&&!t.nzShowInkInFixed))}}var fe=["nzTemplate"],de=["linkTitle"];function he(e,n){if(e&1&&(h(0,"span"),o(1),m()),e&2){let t=f();c(),P(t.titleStr)}}function ue(e,n){}function ze(e,n){if(e&1&&y(0,ue,0,0,"ng-template",2),e&2){let t=f();u("ngTemplateOutlet",t.titleTpl||t.nzTemplate)}}function _e(e,n){e&1&&b(0)}function Gt(e,n){if(!e||!e.getClientRects().length)return 0;let t=e.getBoundingClientRect();if(t.width||t.height){if(n===window){let i=e.ownerDocument.documentElement;return t.top-i.clientTop}return t.top-n.getBoundingClientRect().top}return t.top}var Jt="ant-anchor-ink-ball-visible",ge="anchor",Ce=/#([^#]+)$/,Te=Ft({passive:!0}),J=(()=>{var T;let e,n=[],t=[],i,s=[],_=[],S,B=[],mt=[],ft,dt=[],ht=[];return T=class{nzConfigService=l(Vt);scrollSrv=l(qt);cdr=l(Lt);platform=l(M);renderer=l(et);doc=l(R);destroyRef=l(tt);_nzModuleName=ge;ink;nzAffix=!0;nzShowInkInFixed=x(this,n,!1);nzBounds=(x(this,t),x(this,s,5));nzOffsetTop=(x(this,_),x(this,B,void 0));nzTargetOffset=(x(this,mt),x(this,dt,void 0));nzContainer=x(this,ht);nzCurrentAnchor;nzDirection="vertical";nzClick=new $;nzChange=new $;nzScroll=new $;visible=!1;wrapperStyle={"max-height":"100vh"};container;activeLink;links=[];animating=!1;destroy$=new zt;handleScrollTimeoutID;constructor(){this.destroyRef.onDestroy(()=>{clearTimeout(this.handleScrollTimeoutID),this.destroy$.next(!0),this.destroy$.complete()})}registerLink(a){this.links.push(a)}unregisterLink(a){this.links.splice(this.links.indexOf(a),1)}getContainer(){return this.container||window}ngAfterViewInit(){this.registerScrollEvent()}registerScrollEvent(){this.platform.isBrowser&&(this.destroy$.next(!0),$t(this.getContainer(),"scroll",Te).pipe(Ct(50),gt(this.destroy$)).subscribe(()=>this.handleScroll()),this.handleScrollTimeoutID=setTimeout(()=>this.handleScroll()))}handleScroll(){if(typeof document>"u"||this.animating)return;let a=[],p=(this.nzTargetOffset?this.nzTargetOffset:this.nzOffsetTop||0)+this.nzBounds;if(this.links.forEach(d=>{let z=Ce.exec(d.nzHref.toString());if(!z)return;let A=this.doc.getElementById(z[1]);if(A){let ut=Gt(A,this.getContainer());ut<p&&a.push({top:ut,comp:d})}}),this.visible=!!a.length,!this.visible)this.clearActive(),this.cdr.detectChanges();else{let d=a.reduce((z,A)=>A.top>z.top?A:z);this.handleActive(d.comp)}this.setVisible()}clearActive(){this.links.forEach(a=>{a.unsetActive()})}setActive(a){let r=this.activeLink,p=this.nzCurrentAnchor&&this.links.find(z=>z.nzHref===this.nzCurrentAnchor)||a;if(!p)return;p.setActive();let d=p.getLinkTitleElement();this.nzDirection==="vertical"?this.ink.nativeElement.style.top=`${d.offsetTop+d.clientHeight/2-4.5}px`:this.ink.nativeElement.style.left=`${d.offsetLeft+d.clientWidth/2}px`,this.activeLink=(a||p).nzHref,r!==this.activeLink&&this.nzChange.emit(this.activeLink)}handleActive(a){this.clearActive(),this.setActive(a),this.visible=!0,this.setVisible(),this.nzScroll.emit(a)}setVisible(){this.ink&&(this.visible?this.renderer.addClass(this.ink.nativeElement,Jt):this.renderer.removeClass(this.ink.nativeElement,Jt))}handleScrollTo(a){let r=this.doc.querySelector(a.nzHref);if(!r)return;this.animating=!0;let p=this.scrollSrv.getScroll(this.getContainer()),d=Gt(r,this.getContainer()),z=p+d;z-=this.nzTargetOffset!==void 0?this.nzTargetOffset:this.nzOffsetTop||0,this.scrollSrv.scrollTo(this.getContainer(),z,{callback:()=>{this.animating=!1,this.handleActive(a)}}),this.nzClick.emit(a.nzHref)}ngOnChanges(a){let{nzOffsetTop:r,nzContainer:p,nzCurrentAnchor:d}=a;if(r&&(this.wrapperStyle={"max-height":`calc(100vh - ${this.nzOffsetTop}px)`}),p){let z=this.nzContainer;this.container=typeof z=="string"?this.doc.querySelector(z):z,this.registerScrollEvent()}d&&this.setActive()}},(()=>{let a=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;e=[H()],i=[H()],S=[H()],ft=[H()],D(null,null,e,{kind:"field",name:"nzShowInkInFixed",static:!1,private:!1,access:{has:r=>"nzShowInkInFixed"in r,get:r=>r.nzShowInkInFixed,set:(r,p)=>{r.nzShowInkInFixed=p}},metadata:a},n,t),D(null,null,i,{kind:"field",name:"nzBounds",static:!1,private:!1,access:{has:r=>"nzBounds"in r,get:r=>r.nzBounds,set:(r,p)=>{r.nzBounds=p}},metadata:a},s,_),D(null,null,S,{kind:"field",name:"nzOffsetTop",static:!1,private:!1,access:{has:r=>"nzOffsetTop"in r,get:r=>r.nzOffsetTop,set:(r,p)=>{r.nzOffsetTop=p}},metadata:a},B,mt),D(null,null,ft,{kind:"field",name:"nzTargetOffset",static:!1,private:!1,access:{has:r=>"nzTargetOffset"in r,get:r=>r.nzTargetOffset,set:(r,p)=>{r.nzTargetOffset=p}},metadata:a},dt,ht),a&&Object.defineProperty(T,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})})(),Y(T,"\u0275fac",function(r){return new(r||T)}),Y(T,"\u0275cmp",I({type:T,selectors:[["nz-anchor"]],viewQuery:function(r,p){if(r&1&&rt(oe,5),r&2){let d;V(d=j())&&(p.ink=d.first)}},inputs:{nzAffix:[2,"nzAffix","nzAffix",lt],nzShowInkInFixed:[2,"nzShowInkInFixed","nzShowInkInFixed",lt],nzBounds:[2,"nzBounds","nzBounds",Mt],nzOffsetTop:[2,"nzOffsetTop","nzOffsetTop",pt],nzTargetOffset:[2,"nzTargetOffset","nzTargetOffset",pt],nzContainer:"nzContainer",nzCurrentAnchor:"nzCurrentAnchor",nzDirection:"nzDirection"},outputs:{nzClick:"nzClick",nzChange:"nzChange",nzScroll:"nzScroll"},exportAs:["nzAnchor"],features:[xt],ngContentSelectors:Yt,decls:4,vars:1,consts:[["content",""],["ink",""],[3,"nzOffsetTop","nzTarget"],[3,"ngTemplateOutlet"],[1,"ant-anchor-wrapper"],[1,"ant-anchor"],[1,"ant-anchor-ink"],[1,"ant-anchor-ink-ball"]],template:function(r,p){r&1&&(E(),g(0,le,2,3,"nz-affix",2)(1,pe,1,1,null,3),y(2,me,6,10,"ng-template",null,0,Q)),r&2&&C(p.nzAffix?0:1)},dependencies:[ct,G,Z],encapsulation:2,changeDetection:0})),T})(),te=(()=>{class e{elementRef=l(vt);anchorComp=l(J);platform=l(M);renderer=l(et);destroyRef=l(tt);nzHref="#";nzTarget;titleStr="";titleTpl;nzDirection="vertical";set nzTitle(t){t instanceof kt?(this.titleStr=null,this.titleTpl=t):this.titleStr=t}nzTemplate;linkTitle;constructor(){this.destroyRef.onDestroy(()=>{this.anchorComp.unregisterLink(this)})}ngOnInit(){this.anchorComp.registerLink(this),this.nzDirection=this.anchorComp.nzDirection}getLinkTitleElement(){return this.linkTitle.nativeElement}setActive(){this.renderer.addClass(this.elementRef.nativeElement,"ant-anchor-link-active")}unsetActive(){this.renderer.removeClass(this.elementRef.nativeElement,"ant-anchor-link-active")}goToClick(t){t.preventDefault(),t.stopPropagation(),this.platform.isBrowser&&this.anchorComp.handleScrollTo(this)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=I({type:e,selectors:[["nz-link"]],contentQueries:function(i,s,_){if(i&1&&wt(_,fe,5),i&2){let S;V(S=j())&&(s.nzTemplate=S.first)}},viewQuery:function(i,s){if(i&1&&rt(de,5),i&2){let _;V(_=j())&&(s.linkTitle=_.first)}},hostAttrs:[1,"ant-anchor-link"],inputs:{nzHref:"nzHref",nzTarget:"nzTarget",nzTitle:"nzTitle"},exportAs:["nzLink"],ngContentSelectors:Yt,decls:5,vars:5,consts:[["linkTitle",""],[1,"ant-anchor-link-title",3,"click","href","target"],[3,"ngTemplateOutlet"]],template:function(i,s){if(i&1){let _=N();E(),h(0,"a",1,0),k("click",function(B){return w(_),O(s.goToClick(B))}),g(2,he,2,1,"span")(3,ze,1,1,null,2),m(),g(4,_e,1,0)}i&2&&(u("href",s.nzHref,yt)("target",s.nzTarget),Dt("title",s.titleStr),c(2),C(s.titleStr?2:3),c(2),C(s.nzDirection==="vertical"?4:-1))},dependencies:[ct],encapsulation:2,changeDetection:0})}return e})(),ee=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=St({type:e});static \u0275inj=Tt({imports:[J]})}return e})();var X=class e{router=l(U);msg=l(K);i18n=l(q);clickToc(n){let t=`#${n}`,i=document.querySelector(t);i&&i.scrollIntoView()}_click(n){let t=n.target;if(!t||!t.dataset||!["a","i"].includes(t.tagName.toLowerCase()))return;let i=t.dataset.anchor;if(i&&i.length>0){W(`${location.href.split("#")[0]}#${i}`).then(()=>{this.msg.success(this.i18n.fanyi("app.content.link.copied"))});return}let s=t.dataset.url;if(t.dataset.toc||s&&s.startsWith("#")){this.clickToc(t.dataset.toc||s.substring(1).replace(/ /g,"-")),n.preventDefault(),n.stopPropagation();return}if(s&&s.startsWith("/")&&!s.startsWith("//")){this.router.navigateByUrl(s);return}}static \u0275fac=function(t){return new(t||e)};static \u0275dir=At({type:e,selectors:[["","routeTransfer",""]],hostBindings:function(t,i){t&1&&k("click",function(_){return i._click(_)})}})};var ve=["*"];function ye(e,n){if(e&1&&(o(0,`
              `),v(1,"nz-link",3),o(2,`
            `)),e&2){let t=n.$implicit;c(),u("nzHref","#"+t.id)("nzTitle",t.title)}}function ke(e,n){if(e&1&&(o(0,`
            `),it(1,ye,3,2,null,null,nt)),e&2){let t=f().$implicit;c(),ot(t.children)}}function Se(e,n){if(e&1&&(o(0,`
        `),h(1,"nz-link",3),o(2,`
          `),g(3,ke,3,0),m(),o(4,`
      `)),e&2){let t=n.$implicit;c(),u("nzHref","#"+t.id)("nzTitle",t.title),c(2),C(t.children&&t.children.length>0?3:-1)}}function Ae(e,n){if(e&1){let t=N();o(0,`
  `),h(1,"nz-affix",1),o(2,`
    `),h(3,"nz-anchor",2),k("nzClick",function(s){w(t);let _=f();return O(_.goLink(s))}),o(4,`
      `),it(5,Se,5,3,null,null,nt),m(),o(7,`
  `),m(),o(8,`
`)}if(e&2){let t=f();c(5),ot(t.data.con.toc)}}function De(e,n){if(e&1&&(o(0),h(1,"a",8),o(2," Help us!"),m(),o(3,`
      `)),e&2){let t=f(3);It(`
        `,t.data.con.meta.i18n==="need-update"?"This article need re-translated, hope that your can PR to translated it.":"This article has not been translated, hope that your can PR to translated it.",`
        `)}}function we(e,n){if(e&1&&(o(0,`
    `),h(1,"nz-alert",7),o(2,`
      `),y(3,De,4,1,"ng-template",null,0,Q),o(5,`
    `),m(),o(6,`
  `)),e&2){let t=L(4);c(),u("nzType","warning")("nzCloseable","true")("nzMessage",t)}}function Oe(e,n){if(e&1){let t=N();o(0,`
        `),h(1,"div",9),o(2,`
          `),h(3,"span",10),Et(4,"i18n"),k("click",function(){w(t);let s=f(2);return O(s.copyModule())}),o(5,`
            IMPORT MODULE
          `),m(),o(6,`
        `),m(),o(7,`
      `)}if(e&2){let t=f(2);c(3),u("nzTooltipTitle",bt(4,1,"app.content.copy-import-module")+t.data.con.module)}}function Ie(e,n){if(e&1&&(o(0,`
    `),v(1,"div",11),o(2,`
  `)),e&2){let t=f(2);c(),u("innerHTML",t.data.con.content,F)}}function Ne(e,n){if(e&1&&(o(0,`
    `),v(1,"h2",12),o(2,`
    `),b(3),o(4,`
  `)),e&2){let t=f(2);c(),u("id",Nt(t.demoStr))("innerHTML",t.demoContent,F)}}function Ee(e,n){if(e&1&&(o(0,`
    `),v(1,"div",13),o(2,`
  `)),e&2){let t=f(2);c(),u("innerHTML",t.data.con.api,F)}}function be(e,n){if(e&1&&(o(0,`
  `),g(1,we,7,3),h(2,"div",4),o(3,`
    `),h(4,"h1",5),o(5,`
      `),h(6,"strong"),o(7),m(),o(8,`
      `),g(9,Oe,8,3),v(10,"edit-button",6),o(11,`
    `),m(),o(12,`
  `),m(),o(13,`
  `),g(14,Ie,3,1),g(15,Ne,5,3),g(16,Ee,3,1)),e&2){let t=f();c(),C(!t.meta.item.i18n||t.data.con.meta.i18n==="need-update"?1:-1),c(6),P(t.meta.item.subtitle||t.meta.item.title),c(2),C(t.data.con.module?9:-1),c(),u("item",t.item),c(4),C(t.data.con.content?14:-1),c(),C(t.data.demo?15:-1),c(),C(t.data.con.api?16:-1)}}var ne=class e{meta=l(Pt);i18n=l(q);msg=l(K);router=l(U);sanitizer=l(Ht);doc=l(R);i18NChange$;demoStr;demoContent;data={};isBrowser=l(M).isBrowser;codes;item;constructor(){this.i18NChange$=this.i18n.change.pipe(Rt(),_t(()=>!!this.item)).subscribe(()=>{this.init()})}genData(){let n=Bt(this.item),t={demo:n.demo,urls:n.urls,con:n.content[this.i18n.currentLang]||n.content[this.i18n.defaultLang]};t.demo&&this.codes&&this.codes.length&&(this.genDemoTitle(),t.con.toc=this.codes.map(i=>({h:3,id:i.id,title:this.i18n.get(i.meta.title)})).concat({id:"API",title:"API",h:2})),t.con.content&&(t.con.content=this.sanitizer.bypassSecurityTrustHtml(t.con.content)),t.con.api&&(t.con.api=this.sanitizer.bypassSecurityTrustHtml(t.con.api)),t.con.meta.module&&(t.con.module=t.con.meta.module),this.data=t,setTimeout(()=>{let i=this.router.parseUrl(this.router.url).fragment||"";if(i){let s=this.doc.querySelector(`#${i}`);s&&s.scrollIntoView()}},200)}goLink(n){window&&(window.location.hash=n)}genDemoTitle(){this.demoStr=this.i18n.fanyi("app.component.examples"),this.demoContent=this.sanitizer.bypassSecurityTrustHtml(`<a class="lake-link"><i data-anchor="${this.demoStr}"></i></a>${this.demoStr}`)}init(){this.genData(),this.genDemoTitle(),this.isBrowser&&setTimeout(()=>{this.doc.querySelectorAll('[class*="language-"], [class*="lang-"]').forEach(t=>{hljs.highlightBlock(t)})},250)}copyModule(){W(this.data.con.module).then(()=>{this.msg.success(this.i18n.fanyi("app.demo.copied"))})}ngOnInit(){this.init()}ngOnDestroy(){this.i18NChange$.unsubscribe()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=I({type:e,selectors:[["app-docs"]],inputs:{codes:"codes",item:"item"},ngContentSelectors:ve,decls:2,vars:2,consts:[["message",""],["nzOffsetTop","16",1,"toc-affix"],["nzShowInkInFixed","","nzAffix","false",3,"nzClick"],[3,"nzHref","nzTitle"],[1,"markdown"],[1,"flex-center"],[3,"item"],["nzBanner","",1,"my-md",3,"nzType","nzCloseable","nzMessage"],["href","//github.com/ng-alain/ng-alain/issues/74","target","_blank"],[1,"ml-sm"],["nz-tooltip","",1,"copy-import-module",3,"click","nzTooltipTitle"],["routeTransfer","",1,"markdown",3,"innerHTML"],["routeTransfer","",2,"margin","32px 0 24px 0",3,"id","innerHTML"],["routeTransfer","",1,"markdown","api-container",3,"innerHTML"]],template:function(t,i){t&1&&(E(),g(0,Ae,9,0),g(1,be,17,7)),t&2&&(C(i.isBrowser&&(i.data.con.toc!=null&&i.data.con.toc.length)?0:-1),c(),C(i.meta.item?1:-1))},dependencies:[jt,X,G,Z,ee,J,te,Zt,Kt,Ut,Qt,Wt],encapsulation:2})};export{ne as a};
