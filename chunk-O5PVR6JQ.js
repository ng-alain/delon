import{a as We,b as Xe}from"./chunk-JTOY7A5N.js";import{Ab as Te,Bb as Se,Cb as Re,D as Z,Db as Me,Fa as A,Fb as ye,Fe as je,H as ee,Ia as ie,Ja as u,Kb as Ee,Ke as re,L as he,Lb as B,M as te,Me as Ve,Nb as ke,Pc as De,Qc as Ie,Ra as Ce,Sa as C,Ua as G,Va as p,Vc as W,Wa as be,Wb as Ae,Xa as ne,Xc as ze,Xf as Le,Yc as Oe,Zc as H,a as O,ba as L,cb as w,cc as we,ch as Ge,da as N,db as $,dc as U,ec as se,fa as o,fb as K,ga as me,gb as Y,h as le,ha as k,hb as h,ib as m,ja as de,jb as xe,jc as Be,k as J,l as ce,la as pe,nb as S,nd as R,pa as fe,pd as Ne,qa as x,qb as d,ra as v,rc as Ue,rd as He,s as ue,sb as c,sd as Pe,sh as $e,va as ge,wa as _e,wh as Ke,xa as T,yd as Fe,yh as Ye,zb as ve}from"./chunk-PQ76J5IX.js";var g=function(n){return n[n.Menu=0]="Menu",n[n.MenuForce=1]="MenuForce",n[n.URL=2]="URL",n}(g||{});var D=new N("REUSE_TAB_CACHED_MANAGER"),P=class{constructor(){this.list=[],this.title={},this.closable={}}};var M=new N("REUSE_TAB_STORAGE_KEY"),y=new N("REUSE_TAB_STORAGE_STATE"),F=class{get(a){return JSON.parse(localStorage.getItem(a)||"[]")||[]}update(a,e){return localStorage.setItem(a,JSON.stringify(e)),!0}remove(a){localStorage.removeItem(a)}};var _=(()=>{class n{get snapshot(){return this.injector.get(W).snapshot}get inited(){return this._inited}get curUrl(){return this.getUrl(this.snapshot)}set max(e){this._max=Math.min(Math.max(e,2),100);for(let t=this.cached.list.length;t>this._max;t--)this.cached.list.pop()}set keepingScroll(e){this._keepingScroll=e,this.initScroll()}get keepingScroll(){return this._keepingScroll}get items(){return this.cached.list}get count(){return this.cached.list.length}get change(){return this._cachedChange.asObservable()}set title(e){let t=this.curUrl;typeof e=="string"&&(e={text:e}),this.cached.title[t]=e,this.di("update current tag title: ",e),this._cachedChange.next({active:"title",url:t,title:e,list:this.cached.list})}index(e){return this.cached.list.findIndex(t=>t.url===e)}exists(e){return this.index(e)!==-1}get(e){return e&&this.cached.list.find(t=>t.url===e)||null}remove(e,t){let i=typeof e=="string"?this.index(e):e,s=i!==-1?this.cached.list[i]:null;return!s||!t&&!s.closable?!1:(this.destroy(s._handle),this.cached.list.splice(i,1),delete this.cached.title[e],!0)}close(e,t=!1){return this.removeUrlBuffer=e,this.remove(e,t),this._cachedChange.next({active:"close",url:e,list:this.cached.list}),this.di("close tag",e),!0}closeRight(e,t=!1){let i=this.index(e);for(let s=this.count-1;s>i;s--)this.remove(s,t);return this.removeUrlBuffer=null,this._cachedChange.next({active:"closeRight",url:e,list:this.cached.list}),this.di("close right tages",e),!0}clear(e=!1){this.cached.list.forEach(t=>{!e&&t.closable&&this.destroy(t._handle)}),this.cached.list=this.cached.list.filter(t=>!e&&!t.closable),this.removeUrlBuffer=null,this._cachedChange.next({active:"clear",list:this.cached.list}),this.di("clear all catch")}move(e,t){let i=this.cached.list.findIndex(r=>r.url===e);if(i===-1)return;let s=this.cached.list.slice();s.splice(t<0?s.length+t:t,0,s.splice(i,1)[0]),this.cached.list=s,this._cachedChange.next({active:"move",url:e,position:t,list:this.cached.list})}replace(e){let t=this.curUrl;this.injector.get(H).navigateByUrl(e).then(()=>{this.exists(t)?this.close(t,!0):this.removeUrlBuffer=t})}getTitle(e,t){if(this.cached.title[e])return this.cached.title[e];if(t&&t.data&&(t.data.titleI18n||t.data.title))return{text:t.data.title,i18n:t.data.titleI18n};let i=this.getMenu(e);return i?{text:i.text,i18n:i.i18n}:{text:e}}clearTitleCached(){this.cached.title={}}set closable(e){let t=this.curUrl;this.cached.closable[t]=e,this.di("update current tag closable: ",e),this._cachedChange.next({active:"closable",closable:e,list:this.cached.list})}getClosable(e,t){if(typeof this.cached.closable[e]<"u")return this.cached.closable[e];if(t&&t.data&&typeof t.data.reuseClosable=="boolean")return t.data.reuseClosable;let i=this.mode!==g.URL?this.getMenu(e):null;return i&&typeof i.reuseClosable=="boolean"?i.reuseClosable:!0}clearClosableCached(){this.cached.closable={}}getTruthRoute(e){let t=e;for(;t.firstChild;)t=t.firstChild;return t}getUrl(e){let t=this.getTruthRoute(e),i=[];for(;t;)i.push(t.url.join("/")),t=t.parent;return`/${i.filter(r=>r).reverse().join("/")}`}can(e){let t=this.getUrl(e);if(t===this.removeUrlBuffer)return!1;if(e.data&&typeof e.data.reuse=="boolean")return e.data.reuse;if(this.mode!==g.URL){let i=this.getMenu(t);if(!i)return!1;if(this.mode===g.Menu){if(i.reuse===!1)return!1}else if(!i.reuse||i.reuse!==!0)return!1;return!0}return!this.isExclude(t)}isExclude(e){return this.excludes.findIndex(t=>t.test(e))!==-1}refresh(e){this._cachedChange.next({active:"refresh",data:e})}destroy(e){e&&e.componentRef&&e.componentRef.destroy&&e.componentRef.destroy()}di(...e){}constructor(){this.injector=o(ge),this.menuService=o(He),this.cached=o(D),this.stateKey=o(M),this.stateSrv=o(y),this._inited=!1,this._max=10,this._keepingScroll=!1,this._cachedChange=new ce(null),this.removeUrlBuffer=null,this.positionBuffer={},this.debug=!1,this.routeParamMatchMode="strict",this.mode=g.Menu,this.excludes=[],this.storageState=!1,this.cached==null&&(this.cached={list:[],title:{},closable:{}})}init(){this.initScroll(),this._inited=!0,this.loadState()}loadState(){this.storageState&&(this.cached.list=this.stateSrv.get(this.stateKey).map(e=>({title:{text:e.title},url:e.url,position:e.position})),this._cachedChange.next({active:"loadState"}))}getMenu(e){let t=this.menuService.getPathByUrl(e);return!t||t.length===0?null:t.pop()}runHook(e,t,i="init"){if(typeof t=="number"&&(t=this.cached.list[t]._handle?.componentRef),t==null||!t.instance)return;let s=t.instance,r=s[e];typeof r=="function"&&(e==="_onReuseInit"?r.call(s,i):r.call(s))}hasInValidRoute(e){return!e.routeConfig||!!e.routeConfig.loadChildren||!!e.routeConfig.children}shouldDetach(e){return this.hasInValidRoute(e)?!1:(this.di("#shouldDetach",this.can(e),this.getUrl(e)),this.can(e))}saveCache(e,t,i){let s=this.getTruthRoute(e),r=this.getUrl(e),l=this.index(r),f={title:this.getTitle(r,s),url:r,closable:this.getClosable(r,e),_snapshot:e,_handle:t};if(l<0){if(this.items.splice(i??this.items.length,0,f),this.count>this._max){let I=this.items.findIndex(b=>b.url!==r&&b.closable);if(I!==-1){let b=this.items[I];this.remove(I,!1),Z(1).pipe(te(1)).subscribe(()=>this._cachedChange.next({active:"close",url:b.url,list:this.cached.list}))}}}else this.items[l]=f}store(e,t){let i=this.getUrl(e);t!=null&&this.saveCache(e,t);let s=this.cached.list,r={title:this.getTitle(i,e),closable:this.getClosable(i,e),position:this.getKeepingScroll(i,e)?this.positionBuffer[i]:null,url:i,_snapshot:e,_handle:t},l=this.index(i),f=s[l]?._handle?.componentRef;t==null&&f!=null&&Z(100).pipe(te(1)).subscribe(()=>this.runHook("_onReuseInit",f)),s[l]=r,this.removeUrlBuffer=null,this.di("#store","[override]",i),t&&t.componentRef&&this.runHook("_onReuseDestroy",t.componentRef),this._cachedChange.next({active:"override",item:r,list:s})}shouldAttach(e){if(this.hasInValidRoute(e))return!1;let t=this.getUrl(e),i=this.get(t),s=!!(i&&i._handle);return this.di("#shouldAttach",s,t),s||this._cachedChange.next({active:"add",url:t,list:this.cached.list}),s}retrieve(e){if(this.hasInValidRoute(e))return null;let t=this.getUrl(e),i=this.get(t),s=i&&i._handle||null;return this.di("#retrieve",t,s),s}shouldReuseRoute(e,t){let i=e.routeConfig===t.routeConfig;if(!i)return!1;let s=e.routeConfig&&e.routeConfig.path||"";return s.length>0&&~s.indexOf(":")&&(this.routeParamMatchMode==="strict"?i=this.getUrl(e)===this.getUrl(t):i=s===(t.routeConfig&&t.routeConfig.path||"")),this.di("====================="),this.di("#shouldReuseRoute",i,`${this.getUrl(t)}=>${this.getUrl(e)}`,e,t),i}getKeepingScroll(e,t){if(t&&t.data&&typeof t.data.keepingScroll=="boolean")return t.data.keepingScroll;let i=this.mode!==g.URL?this.getMenu(e):null;return i&&typeof i.keepingScroll=="boolean"?i.keepingScroll:this.keepingScroll}get isDisabledInRouter(){return this.injector.get(ze,{}).scrollPositionRestoration==="disabled"}get ss(){return this.injector.get($e)}initScroll(){this._router$&&this._router$.unsubscribe(),this._router$=this.injector.get(H).events.subscribe(e=>{if(e instanceof De){let t=this.curUrl;this.getKeepingScroll(t,this.getTruthRoute(this.snapshot))?this.positionBuffer[t]=this.ss.getScrollPosition(this.keepingScrollContainer):delete this.positionBuffer[t]}else if(e instanceof Ie){let t=this.curUrl,i=this.get(t);i&&i.position&&this.getKeepingScroll(t,this.getTruthRoute(this.snapshot))&&(this.isDisabledInRouter?this.ss.scrollToPosition(this.keepingScrollContainer,i.position):setTimeout(()=>this.ss.scrollToPosition(this.keepingScrollContainer,i.position),1))}})}ngOnDestroy(){let{_cachedChange:e,_router$:t}=this;this.clear(),this.cached.list=[],e.complete(),t&&t.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})();function Ze(n,a){if(n&1){let e=S();h(0,"li",5),d("click",function(i){x(e);let s=c();return v(s.click(i,"refresh"))}),m()}if(n&2){let e=c();p("innerHTML",e.i18n.refresh,A)}}function et(n,a){if(n&1){let e=S();h(0,"li",8),d("click",function(i){let s=x(e).$implicit,r=c(2);return v(r.click(i,"custom",s))}),m()}if(n&2){let e=a.$implicit,t=c(2);p("nzDisabled",t.isDisabled(e))("innerHTML",e.title,A),G("data-type",e.id)}}function tt(n,a){if(n&1&&(xe(0,"li",6),K(1,et,1,3,"li",7,$)),n&2){let e=c();u(),Y(e.customContextMenu)}}var X=(()=>{class n{constructor(){this.i18nSrv=o(Ge),this.close=new T}set i18n(e){this._i18n=O(O({},this.i18nSrv.getData("reuseTab")),e)}get i18n(){return this._i18n}get includeNonCloseable(){return this.event.ctrlKey}notify(e){this.close.next({type:e,item:this.item,includeNonCloseable:this.includeNonCloseable})}ngOnInit(){this.includeNonCloseable&&(this.item.closable=!0)}click(e,t,i){if(e.preventDefault(),e.stopPropagation(),!(t==="close"&&!this.item.closable)&&!(t==="closeRight"&&this.item.last)){if(i){if(this.isDisabled(i))return;i.fn(this.item,i)}this.notify(t)}}isDisabled(e){return e.disabled?e.disabled(this.item):!1}closeMenu(e){e.type==="click"&&e.button===2||this.notify(null)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=k({type:n,selectors:[["reuse-tab-context-menu"]],hostBindings:function(t,i){t&1&&d("click",function(r){return i.closeMenu(r)},!1,ie)("contextmenu",function(r){return i.closeMenu(r)},!1,ie)},inputs:{i18n:"i18n",item:"item",event:"event",customContextMenu:"customContextMenu"},outputs:{close:"close"},standalone:!0,features:[B],decls:6,vars:7,consts:[["nz-menu",""],["nz-menu-item","","data-type","refresh",3,"innerHTML"],["nz-menu-item","","data-type","close",3,"click","nzDisabled","innerHTML"],["nz-menu-item","","data-type","closeOther",3,"click","innerHTML"],["nz-menu-item","","data-type","closeRight",3,"click","nzDisabled","innerHTML"],["nz-menu-item","","data-type","refresh",3,"click","innerHTML"],["nz-menu-divider",""],["nz-menu-item","",3,"nzDisabled","innerHTML"],["nz-menu-item","",3,"click","nzDisabled","innerHTML"]],template:function(t,i){t&1&&(h(0,"ul",0),C(1,Ze,1,1,"li",1),h(2,"li",2),d("click",function(r){return i.click(r,"close")}),m(),h(3,"li",3),d("click",function(r){return i.click(r,"closeOther")}),m(),h(4,"li",4),d("click",function(r){return i.click(r,"closeRight")}),m(),C(5,tt,3,0),m()),t&2&&(u(),w(i.item.active?1:-1),u(),p("nzDisabled",!i.item.closable)("innerHTML",i.i18n.close,A),u(),p("innerHTML",i.i18n.closeOther,A),u(),p("nzDisabled",i.item.last)("innerHTML",i.i18n.closeRight,A),u(),w(i.customContextMenu.length>0?5:-1))},dependencies:[Ye,Ke],encapsulation:2,changeDetection:0})}}return n})();var E=(()=>{class n{constructor(){this.overlay=o(Ve),this.ref=null,this.show=new J,this.close=new J}remove(){this.ref&&(this.ref.detach(),this.ref.dispose(),this.ref=null)}open(e){this.remove();let{event:t,item:i,customContextMenu:s}=e,{x:r,y:l}=t,f=[new re({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new re({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})],I=this.overlay.position().flexibleConnectedTo({x:r,y:l}).withPositions(f);this.ref=this.overlay.create({positionStrategy:I,panelClass:"reuse-tab__cm",scrollStrategy:this.overlay.scrollStrategies.close()});let b=this.ref.attach(new je(X)),z=b.instance;z.i18n=this.i18n,z.item=O({},i),z.customContextMenu=s,z.event=t;let ae=new le;ae.add(z.close.subscribe(Je=>{this.close.next(Je),this.remove()})),b.onDestroy(()=>ae.unsubscribe())}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})();var Q=(()=>{class n{set i18n(e){this.srv.i18n=e}constructor(){this.srv=o(E),this.change=new T,this.srv.show.pipe(R()).subscribe(e=>this.srv.open(e)),this.srv.close.pipe(R()).subscribe(e=>this.change.emit(e))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=k({type:n,selectors:[["reuse-tab-context"]],inputs:{i18n:"i18n"},outputs:{change:"change"},standalone:!0,features:[B],decls:0,vars:0,template:function(t,i){},encapsulation:2})}}return n})();var q=(()=>{class n{constructor(){this.srv=o(E)}_onContextMenu(e){this.srv.show.next({event:e,item:this.item,customContextMenu:this.customContextMenu}),e.preventDefault(),e.stopPropagation()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=de({type:n,selectors:[["","reuse-tab-context-menu",""]],hostBindings:function(t,i){t&1&&d("contextmenu",function(r){return i._onContextMenu(r)})},inputs:{item:[0,"reuse-tab-context-menu","item"],customContextMenu:"customContextMenu"},exportAs:["reuseTabContextMenu"],standalone:!0})}}return n})();var it=["tabset"],nt=n=>({$implicit:n});function st(n,a){}function rt(n,a){if(n&1&&C(0,st,0,0,"ng-template",7),n&2){let e=c(2).$implicit,t=c();p("ngTemplateOutlet",t.titleRender)("ngTemplateOutletContext",ke(2,nt,e))}}function ot(n,a){if(n&1&&Me(0),n&2){let e=c(2).$implicit;ye(" ",e.title," ")}}function at(n,a){if(n&1){let e=S();h(0,"i",9),d("click",function(i){x(e);let s=c(2).$index,r=c();return v(r._close(i,s,!1))}),m()}}function lt(n,a){if(n&1&&(h(0,"div",6)(1,"span"),C(2,rt,1,4,null,7)(3,ot,1,1),m()(),C(4,at,1,0,"i",8)),n&2){let e=c().$implicit,t=c();p("reuse-tab-context-menu",e)("customContextMenu",t.customContextMenu),G("title",e.title),u(),be("max-width",t.tabMaxWidth,"px"),ne("reuse-tab__name-width",t.tabMaxWidth),u(),w(t.titleRender?2:3),u(2),w(e.closable?4:-1)}}function ct(n,a){if(n&1){let e=S();h(0,"nz-tab",5),d("nzClick",function(){let i=x(e).$index,s=c();return v(s._to(i))}),C(1,lt,5,9,"ng-template",null,1,Ae),m()}if(n&2){let e=Re(2);p("nzTitle",e)}}var Qe=(()=>{class n{constructor(){this.srv=o(_,{optional:!0}),this.cdr=o(we),this.router=o(H),this.route=o(W),this.i18nSrv=o(Ne),this.doc=o(Be),this.platform=o(Pe),this.directionality=o(Fe),this.stateKey=o(M),this.stateSrv=o(y),this.destroy$=o(_e),this.list=[],this.pos=0,this.dir="ltr",this.mode=g.Menu,this.debug=!1,this.allowClose=!0,this.keepingScroll=!1,this.storageState=!1,this.customContextMenu=[],this.tabBarStyle=null,this.tabType="line",this.routeParamMatchMode="strict",this.disabled=!1,this.change=new T,this.close=new T}set keepingScrollContainer(e){this._keepingScrollContainer=typeof e=="string"?this.doc.querySelector(e):e}genTit(e){return e.i18n?this.i18nSrv.fanyi(e.i18n):e.text}get curUrl(){return this.srv.getUrl(this.route.snapshot)}genCurItem(){let e=this.curUrl,t=this.srv.getTruthRoute(this.route.snapshot);return{url:e,title:this.genTit(this.srv.getTitle(e,t)),closable:this.allowClose&&this.srv.count>0&&this.srv.getClosable(e,t),active:!1,last:!1,index:0}}genList(e){let t=this.srv.items.map((r,l)=>({url:r.url,title:this.genTit(r.title),closable:this.allowClose&&this.srv.count>0&&this.srv.getClosable(r.url,r._snapshot),position:r.position,index:l,active:!1,last:!1})),i=this.curUrl,s=t.findIndex(r=>r.url===i)===-1;if(e&&e.active==="close"&&e.url===i){s=!1;let r=0,l=this.list.find(f=>f.url===i);l.index===t.length?r=t.length-1:l.index<t.length&&(r=Math.max(0,l.index)),this.router.navigateByUrl(t[r].url)}if(s){let r=this.pos+1;t.splice(r,0,this.genCurItem()),this.srv.saveCache(this.route.snapshot,null,r)}t.forEach((r,l)=>r.index=l),t.length===1&&(t[0].closable=!1),this.list=t,this.cdr.detectChanges(),this.updatePos()}updateTitle(e){let t=this.list.find(i=>i.url===e.url);t&&(t.title=this.genTit(e.title),this.cdr.detectChanges())}refresh(e){this.srv.runHook("_onReuseInit",this.pos===e.index?this.srv.componentRef:e.index,"refresh")}saveState(){!this.srv.inited||!this.storageState||this.stateSrv?.update(this.stateKey,this.list)}contextMenuChange(e){let t=null;switch(e.type){case"refresh":this.refresh(e.item);break;case"close":this._close(null,e.item.index,e.includeNonCloseable);break;case"closeRight":t=()=>{this.srv.closeRight(e.item.url,e.includeNonCloseable),this.close.emit(null)};break;case"closeOther":t=()=>{this.srv.clear(e.includeNonCloseable),this.close.emit(null)};break}t&&(!e.item.active&&e.item.index<=this.list.find(i=>i.active).index?this._to(e.item.index,t):t())}_to(e,t){e=Math.max(0,Math.min(e,this.list.length-1));let i=this.list[e];this.router.navigateByUrl(i.url).then(s=>{s&&(this.item=i,this.change.emit(i),t?.())})}_close(e,t,i){e!=null&&(e.preventDefault(),e.stopPropagation());let s=this.list[t];return(this.canClose?this.canClose({item:s,includeNonCloseable:i}):ue(!0)).pipe(ee(r=>r)).subscribe(()=>{this.srv.close(s.url,i),this.close.emit(s),this.cdr.detectChanges()}),!1}activate(e){this.srv!=null&&(this.srv.componentRef={instance:e})}updatePos(){let e=this.srv.getUrl(this.route.snapshot),t=this.list.filter(l=>l.url===e||!this.srv.isExclude(l.url));if(t.length===0)return;let i=t[t.length-1],s=t.find(l=>l.url===e);i.last=!0;let r=s==null?i.index:s.index;t.forEach((l,f)=>l.active=r===f),this.pos=r,this.tabset.nzSelectedIndex=r,this.list=t,this.cdr.detectChanges(),this.saveState()}ngOnInit(){this.dir=this.directionality.value,this.directionality.change.pipe(R(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),!(!this.platform.isBrowser||this.srv==null)&&(this.srv.change.pipe(R(this.destroy$)).subscribe(e=>{switch(e?.active){case"title":this.updateTitle(e);return;case"override":if(e?.list?.length===this.list.length){this.updatePos();return}break}this.genList(e)}),this.i18nSrv.change.pipe(ee(()=>this.srv.inited),R(this.destroy$),he(100)).subscribe(()=>this.genList({active:"title"})),this.srv.init())}ngOnChanges(e){!this.platform.isBrowser||this.srv==null||(e.max&&(this.srv.max=this.max),e.excludes&&(this.srv.excludes=this.excludes),e.mode&&(this.srv.mode=this.mode),e.routeParamMatchMode&&(this.srv.routeParamMatchMode=this.routeParamMatchMode),e.keepingScroll&&(this.srv.keepingScroll=this.keepingScroll,this.srv.keepingScrollContainer=this._keepingScrollContainer),e.storageState&&(this.srv.storageState=this.storageState),this.srv.debug=this.debug,this.cdr.detectChanges())}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=k({type:n,selectors:[["reuse-tab"],["","reuse-tab",""]],viewQuery:function(t,i){if(t&1&&ve(it,5),t&2){let s;Te(s=Se())&&(i.tabset=s.first)}},hostVars:10,hostBindings:function(t,i){t&2&&ne("reuse-tab",!0)("reuse-tab__line",i.tabType==="line")("reuse-tab__card",i.tabType==="card")("reuse-tab__disabled",i.disabled)("reuse-tab-rtl",i.dir==="rtl")},inputs:{mode:"mode",i18n:"i18n",debug:[2,"debug","debug",U],max:[2,"max","max",se],tabMaxWidth:[2,"tabMaxWidth","tabMaxWidth",se],excludes:"excludes",allowClose:[2,"allowClose","allowClose",U],keepingScroll:[2,"keepingScroll","keepingScroll",U],storageState:[2,"storageState","storageState",U],keepingScrollContainer:"keepingScrollContainer",customContextMenu:"customContextMenu",tabBarExtraContent:"tabBarExtraContent",tabBarGutter:"tabBarGutter",tabBarStyle:"tabBarStyle",tabType:"tabType",routeParamMatchMode:"routeParamMatchMode",disabled:[2,"disabled","disabled",U],titleRender:"titleRender",canClose:"canClose"},outputs:{change:"change",close:"close"},exportAs:["reuseTab"],standalone:!0,features:[Ee([E]),Ce,fe,B],decls:5,vars:7,consts:[["tabset",""],["titleTemplate",""],[3,"nzSelectedIndex","nzAnimated","nzType","nzTabBarExtraContent","nzTabBarGutter","nzTabBarStyle"],[3,"nzTitle"],[3,"change","i18n"],[3,"nzClick","nzTitle"],[1,"reuse-tab__name",3,"reuse-tab-context-menu","customContextMenu"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-icon","","nzType","close",1,"reuse-tab__op"],["nz-icon","","nzType","close",1,"reuse-tab__op",3,"click"]],template:function(t,i){if(t&1){let s=S();h(0,"nz-tabset",2,0),K(2,ct,3,1,"nz-tab",3,$),m(),h(4,"reuse-tab-context",4),d("change",function(l){return x(s),v(i.contextMenuChange(l))}),m()}t&2&&(p("nzSelectedIndex",i.pos)("nzAnimated",!1)("nzType",i.tabType)("nzTabBarExtraContent",i.tabBarExtraContent)("nzTabBarGutter",i.tabBarGutter)("nzTabBarStyle",i.tabBarStyle),u(2),Y(i.list),u(2),p("i18n",i.i18n))},dependencies:[Ue,Xe,We,q,Q,Le],encapsulation:2,changeDetection:0})}}return n})();var V=class{constructor(){this.srv=o(_)}shouldDetach(a){return this.srv.shouldDetach(a)}store(a,e){this.srv.store(a,e)}shouldAttach(a){return this.srv.shouldAttach(a)}retrieve(a){return this.srv.retrieve(a)}shouldReuseRoute(a,e){return this.srv.shouldReuseRoute(a,e)}};var oe=function(n){return n[n.CacheManager=0]="CacheManager",n[n.Store=1]="Store",n}(oe||{});function qe(n,a){return{\u0275kind:n,\u0275providers:a}}function Ni(n){let a=[_,{provide:M,useValue:n?.storeKey??"_reuse-tab-state"},(n?.cacheManager??ut()).\u0275providers,(n?.store??ht()).\u0275providers,{provide:Oe,useClass:V,deps:[_]},{provide:me,multi:!0,useValue:()=>{let e=o(_);n?.debug&&(e.debug=n.debug),n?.mode&&(e.mode=n.mode),n?.routeParamMatchMode&&(e.routeParamMatchMode=n.routeParamMatchMode),n?.max&&(e.max=n.max),n?.excludes&&(e.excludes=n.excludes)}}];return pe(a)}function ut(){return qe(oe.CacheManager,[{provide:D,useFactory:()=>new P}])}function ht(){return qe(oe.Store,[{provide:y,useFactory:()=>new F}])}export{g as a,_ as b,Qe as c,Ni as d};
