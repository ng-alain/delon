import{d as rt,f as at,h as lt,i as me}from"./chunk-X2IZ3XTA.js";import{a as ot,b as st}from"./chunk-GWJ3KQCX.js";import{a as et,g as tt,m as nt,v as it}from"./chunk-Q2T3DRLN.js";import{Aa as J,Bb as j,Bd as x,Bg as qe,Dg as Ze,Ea as Ie,Eb as R,Fc as $e,Gb as N,Hb as re,Ib as ae,J as ie,L as Ce,Ma as w,Md as We,Na as I,Nb as Oe,Nc as je,Ob as Pe,P as we,Pb as Be,Qb as xe,Rb as ke,Sb as le,Ta as Re,Tb as ce,Ub as D,Va as be,Vb as F,Wa as y,Xa as se,Y as Ee,Z as Se,Zg as Je,_ as Ne,_a as ye,ab as Q,bb as _,ca as ve,cc as Le,da as _e,ea as oe,ha as b,hb as v,jb as $,l as G,lh as Qe,ma as q,mg as ee,n as X,na as V,nc as Ve,ng as H,oa as U,og as Ke,pg as Ge,qb as A,r as ge,ra as Me,s as ne,sc as B,tb as Ae,tc as W,tg as Xe,ub as De,uc as de,va as Z,vb as C,ve as He,wb as E,we as Ye,xb as P,y as ze,yb as Fe,yc as Ue,zb as Te}from"./chunk-QFOSDDRE.js";var ft=["nz-segmented-item",""],dt=["*"];function pt(i,d){}function gt(i,d){if(i&1&&(C(0,"span",4),P(1,"nz-icon",5),E(),C(2,"span"),_(3,pt,0,0,"ng-template",3),E()),i&2){let r=N(),a=ce(5);w(),v("nzType",r.nzIcon),w(2),v("ngTemplateOutlet",a)}}function zt(i,d){}function Ct(i,d){if(i&1&&_(0,zt,0,0,"ng-template",3),i&2){N();let r=ce(5);v("ngTemplateOutlet",r)}}function wt(i,d){i&1&&ae(0)}var Et=(i,d)=>d.value;function St(i,d){if(i&1){let r=j();C(0,"div",1),R("@thumbMotion.done",function(l){V(r);let m=N();return U(m.handleThumbAnimationDone(l))}),E()}if(i&2){let r=N();v("@thumbMotion",r.animationState)}}function Nt(i,d){if(i&1&&(C(0,"label",2),D(1),E()),i&2){let r=d.$implicit;v("nzIcon",r.icon)("nzValue",r.value)("nzDisabled",r.disabled),w(),F(r.label)}}function vt(i,d){if(i&1&&Ae(0,Nt,2,4,"label",2,Et),i&2){let r=N();De(r.normalizedOptions)}}var ue=(()=>{class i{constructor(){this.selected$=new X(1),this.activated$=new X(1),this.disabled$=new X(1),this.animationDone$=new G}ngOnDestroy(){this.selected$.complete(),this.activated$.complete(),this.disabled$.complete(),this.animationDone$.complete()}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),Y=(()=>{class i{constructor(){this.isChecked=!1,this.service=b(ue);let r=b(B),a=b(J);this.service.selected$.pipe(Ne(l=>{this.isChecked=!1,r.markForCheck(),l===this.nzValue&&this.service.activated$.next(a.nativeElement)}),Ee(l=>this.service.animationDone$.pipe(ie(m=>m.toState==="to"),we(1),ze(()=>l))),ie(l=>l===this.nzValue),x()).subscribe(()=>{this.isChecked=!0,r.markForCheck()}),this.service.disabled$.pipe(x()).subscribe(l=>{this.nzDisabled=l,r.markForCheck()})}handleClick(){this.nzDisabled||this.service.selected$.next(this.nzValue)}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=y({type:i,selectors:[["label","nz-segmented-item",""],["label","nzSegmentedItem",""]],hostAttrs:[1,"ant-segmented-item"],hostVars:4,hostBindings:function(a,l){a&1&&R("click",function(){return l.handleClick()}),a&2&&$("ant-segmented-item-selected",l.isChecked)("ant-segmented-item-disabled",l.nzDisabled)},inputs:{nzIcon:"nzIcon",nzValue:"nzValue",nzDisabled:"nzDisabled"},exportAs:["nzSegmentedItem"],attrs:ft,ngContentSelectors:dt,decls:6,vars:2,consts:[["content",""],["type","radio",1,"ant-segmented-item-input",3,"click","checked"],[1,"ant-segmented-item-label"],[3,"ngTemplateOutlet"],[1,"ant-segmented-item-icon"],[3,"nzType"]],template:function(a,l){if(a&1){let m=j();re(),C(0,"input",1),R("click",function(f){return V(m),U(f.stopPropagation())}),E(),C(1,"div",2),_(2,gt,4,2)(3,Ct,1,1,null,3),E(),_(4,wt,1,0,"ng-template",null,0,Ve)}a&2&&(v("checked",l.isChecked),w(2),A(l.nzIcon?2:3))},dependencies:[H,ee,$e],encapsulation:2,changeDetection:0})}}return i})();function _t(i){return i.map(d=>typeof d=="string"||typeof d=="number"?{label:`${d}`,value:d}:d)}var Mt="segmented",mt=(()=>{let i,d=[],r=[];return class te{static{let l=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[Ye()],ge(null,null,i,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:m=>"nzSize"in m,get:m=>m.nzSize,set:(m,o)=>{m.nzSize=o}},metadata:l},d,r),l&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l})}constructor(l,m,o){this.nzConfigService=l,this.cdr=m,this.directionality=o,this._nzModuleName=Mt,this.nzBlock=!1,this.nzDisabled=!1,this.nzOptions=[],this.nzSize=ne(this,d,"default"),this.nzValueChange=(ne(this,r),new Z),this.viewItemCmps=Re(Y),this.contentItemCmps=be(Y),this.dir="ltr",this.animationState={value:"to",params:he()},this.normalizedOptions=[],this.onChange=()=>{},this.onTouched=()=>{},this.service=b(ue),this.directionality.change.pipe(x()).subscribe(f=>{this.dir=f,this.cdr.markForCheck()}),this.service.selected$.pipe(x()).subscribe(f=>{this.value=f,this.nzValueChange.emit(f),this.onChange(f)}),this.service.activated$.pipe(Ce(2,1),x()).subscribe(f=>{this.animationState={value:"from",params:he(f[0])},this.cdr.detectChanges(),this.animationState={value:"to",params:he(f[1])},this.cdr.detectChanges()}),Ue(()=>{let f=this.viewItemCmps().concat(this.contentItemCmps());f.length&&(this.value===null||this.value===void 0||!f.some(e=>e.nzValue===this.value))&&this.service.selected$.next(f[0].nzValue)})}ngOnChanges(l){let{nzOptions:m,nzDisabled:o}=l;m&&(this.normalizedOptions=_t(m.currentValue)),o&&this.service.disabled$.next(o.currentValue)}handleThumbAnimationDone(l){l.toState==="to"&&(this.animationState=null),this.service.animationDone$.next(l)}writeValue(l){l!=null&&this.service.selected$.next(l)}registerOnChange(l){this.onChange=l}registerOnTouched(l){this.onTouched=l}static{this.\u0275fac=function(m){return new(m||te)(I(He),I(B),I(We))}}static{this.\u0275cmp=y({type:te,selectors:[["nz-segmented"]],contentQueries:function(m,o,f){m&1&&xe(f,o.contentItemCmps,Y,4),m&2&&le()},viewQuery:function(m,o){m&1&&ke(o.viewItemCmps,Y,5),m&2&&le()},hostAttrs:[1,"ant-segmented"],hostVars:10,hostBindings:function(m,o){m&2&&$("ant-segmented-disabled",o.nzDisabled)("ant-segmented-rtl",o.dir==="rtl")("ant-segmented-lg",o.nzSize==="large")("ant-segmented-sm",o.nzSize==="small")("ant-segmented-block",o.nzBlock)},inputs:{nzBlock:[2,"nzBlock","nzBlock",W],nzDisabled:[2,"nzDisabled","nzDisabled",W],nzOptions:"nzOptions",nzSize:"nzSize"},outputs:{nzValueChange:"nzValueChange"},exportAs:["nzSegmented"],features:[Le([ue,{provide:et,useExisting:ve(()=>te),multi:!0}]),Q,q],ngContentSelectors:dt,decls:4,vars:1,consts:[[1,"ant-segmented-group"],[1,"ant-segmented-thumb","ant-segmented-thumb-motion"],["nz-segmented-item","",3,"nzIcon","nzValue","nzDisabled"]],template:function(m,o){m&1&&(re(),C(0,"div",0),_(1,St,1,1,"div",1),ae(2,0,null,vt,2,0),E()),m&2&&(w(),A(o.animationState?1:-1))},dependencies:[H,Ge,Y],encapsulation:2,data:{animation:[Qe]},changeDetection:0})}}})();function he(i){return{transform:i?.offsetLeft??0,width:i?.clientWidth??0}}var k=class i extends lt{static KEY="segmented";_list;get list(){return this._list??[]}reset(d){rt(this.schema,this.ui,d).subscribe(r=>{this._list=r,this.detectChanges()})}valueChange(d){this.ui.valueChange&&this.ui.valueChange({index:d,item:typeof d=="number"?this.list[d]:null})}static \u0275fac=(()=>{let d;return function(a){return(d||(d=Me(i)))(a||i)}})();static \u0275cmp=y({type:i,selectors:[["sf-segmented"]],features:[ye],decls:2,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzValueChange","ngModel","nzDisabled","nzSize","nzBlock","nzOptions"]],template:function(r,a){if(r&1&&(C(0,"sf-item-wrap",0)(1,"nz-segmented",1),R("ngModelChange",function(m){return a.setValue(m)})("nzValueChange",function(m){return a.valueChange(m)}),E()()),r&2){let l;v("id",a.id)("schema",a.schema)("ui",a.ui)("showError",a.showError)("error",a.error)("showTitle",a.schema.title),w(),v("ngModel",a.value)("nzDisabled",a.disabled)("nzSize",a.ui.size)("nzBlock",(l=a.ui.block)!==null&&l!==void 0?l:!1)("nzOptions",a.list)}},dependencies:[it,tt,nt,me,at,mt],encapsulation:2})};function An(){return{KEY:k.KEY,type:k}}var It=["canvas"];function Rt(i,d){if(i&1&&(Fe(0),D(1),Te()),i&2){let r=N(2);w(),F(r.nzStatusRender)}}function bt(i,d){if(i&1&&(C(0,"div",1),_(1,Rt,2,1,"ng-container",2),E()),i&2){let r=N();w(),v("nzStringTemplateOutlet",r.nzStatusRender)}}function yt(i,d){i&1&&P(0,"nz-spin")}function At(i,d){if(i&1){let r=j();C(0,"div")(1,"p",3),D(2),E(),C(3,"button",4),R("click",function(){V(r);let l=N(2);return U(l.reloadQRCode())}),P(4,"nz-icon",5),C(5,"span"),D(6),E()()()}if(i&2){let r=N(2);w(2),F(r.locale.expired),w(4),F(r.locale.refresh)}}function Dt(i,d){if(i&1&&(C(0,"div")(1,"p",3),D(2),E()()),i&2){let r=N(2);w(2),F(r.locale.scanned)}}function Ft(i,d){if(i&1&&(C(0,"div",1),_(1,yt,1,0,"nz-spin")(2,At,7,2,"div")(3,Dt,3,1,"div"),E()),i&2){let r,a=N();w(),A((r=a.nzStatus)==="loading"?1:r==="expired"?2:r==="scanned"?3:-1)}}function Tt(i,d){i&1&&P(0,"canvas",null,0)}var T;(function(i){let d=(()=>{class o{static encodeText(e,t){let n=i.QrSegment.makeSegments(e);return o.encodeSegments(n,t)}static encodeBinary(e,t){let n=i.QrSegment.makeBytes(e);return o.encodeSegments([n],t)}static encodeSegments(e,t,n=1,s=40,c=-1,u=!0){if(!(o.MIN_VERSION<=n&&n<=s&&s<=o.MAX_VERSION)||c<-1||c>7)throw new RangeError("Invalid value");let h,g;for(h=n;;h++){let z=o.getNumDataCodewords(h,t)*8,S=m.getTotalBits(e,h);if(S<=z){g=S;break}if(h>=s)throw new RangeError("Data too long")}for(let z of[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH])u&&g<=o.getNumDataCodewords(h,z)*8&&(t=z);let p=[];for(let z of e){r(z.mode.modeBits,4,p),r(z.numChars,z.mode.numCharCountBits(h),p);for(let S of z.getData())p.push(S)}l(p.length==g);let L=o.getNumDataCodewords(h,t)*8;l(p.length<=L),r(0,Math.min(4,L-p.length),p),r(0,(8-p.length%8)%8,p),l(p.length%8==0);for(let z=236;p.length<L;z^=253)r(z,8,p);let M=[];for(;M.length*8<p.length;)M.push(0);return p.forEach((z,S)=>M[S>>>3]|=z<<7-(S&7)),new o(h,t,M,c)}constructor(e,t,n,s){if(this.version=e,this.errorCorrectionLevel=t,this.modules=[],this.isFunction=[],e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version value out of range");if(s<-1||s>7)throw new RangeError("Mask value out of range");this.size=e*4+17;let c=[];for(let h=0;h<this.size;h++)c.push(!1);for(let h=0;h<this.size;h++)this.modules.push(c.slice()),this.isFunction.push(c.slice());this.drawFunctionPatterns();let u=this.addEccAndInterleave(n);if(this.drawCodewords(u),s==-1){let h=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);let p=this.getPenaltyScore();p<h&&(s=g,h=p),this.applyMask(g)}}l(s>=0&&s<=7),this.mask=s,this.applyMask(s),this.drawFormatBits(s),this.isFunction=[]}getModule(e,t){return e>=0&&e<this.size&&t>=0&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let s=0;s<t;s++)n==0&&s==0||n==0&&s==t-1||n==t-1&&s==0||this.drawAlignmentPattern(e[n],e[s]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let t=this.errorCorrectionLevel.formatBits<<3|e,n=t;for(let c=0;c<10;c++)n=n<<1^(n>>>9)*1335;let s=(t<<10|n)^21522;l(s>>>15==0);for(let c=0;c<=5;c++)this.setFunctionModule(8,c,a(s,c));this.setFunctionModule(8,7,a(s,6)),this.setFunctionModule(8,8,a(s,7)),this.setFunctionModule(7,8,a(s,8));for(let c=9;c<15;c++)this.setFunctionModule(14-c,8,a(s,c));for(let c=0;c<8;c++)this.setFunctionModule(this.size-1-c,8,a(s,c));for(let c=8;c<15;c++)this.setFunctionModule(8,this.size-15+c,a(s,c));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^(e>>>11)*7973;let t=this.version<<12|e;l(t>>>18==0);for(let n=0;n<18;n++){let s=a(t,n),c=this.size-11+n%3,u=Math.floor(n/3);this.setFunctionModule(c,u,s),this.setFunctionModule(u,c,s)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let s=-4;s<=4;s++){let c=Math.max(Math.abs(s),Math.abs(n)),u=e+s,h=t+n;u>=0&&u<this.size&&h>=0&&h<this.size&&this.setFunctionModule(u,h,c!=2&&c!=4)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let s=-2;s<=2;s++)this.setFunctionModule(e+s,t+n,Math.max(Math.abs(s),Math.abs(n))!=1)}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){let t=this.version,n=this.errorCorrectionLevel;if(e.length!=o.getNumDataCodewords(t,n))throw new RangeError("Invalid argument");let s=o.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][t],c=o.ECC_CODEWORDS_PER_BLOCK[n.ordinal][t],u=Math.floor(o.getNumRawDataModules(t)/8),h=s-u%s,g=Math.floor(u/s),p=[],L=o.reedSolomonComputeDivisor(c);for(let z=0,S=0;z<s;z++){let O=e.slice(S,S+g-c+(z<h?0:1));S+=O.length;let ht=o.reedSolomonComputeRemainder(O,L);z<h&&O.push(0),p.push(O.concat(ht))}let M=[];for(let z=0;z<p[0].length;z++)p.forEach((S,O)=>{(z!=g-c||O>=h)&&M.push(S[z])});return l(M.length==u),M}drawCodewords(e){if(e.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let t=0;for(let n=this.size-1;n>=1;n-=2){n==6&&(n=5);for(let s=0;s<this.size;s++)for(let c=0;c<2;c++){let u=n-c,g=(n+1&2)==0?this.size-1-s:s;!this.isFunction[g][u]&&t<e.length*8&&(this.modules[g][u]=a(e[t>>>3],7-(t&7)),t++)}}l(t==e.length*8)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let s;switch(e){case 0:s=(n+t)%2==0;break;case 1:s=t%2==0;break;case 2:s=n%3==0;break;case 3:s=(n+t)%3==0;break;case 4:s=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:s=n*t%2+n*t%3==0;break;case 6:s=(n*t%2+n*t%3)%2==0;break;case 7:s=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&s&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let c=0;c<this.size;c++){let u=!1,h=0,g=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[c][p]==u?(h++,h==5?e+=o.PENALTY_N1:h>5&&e++):(this.finderPenaltyAddHistory(h,g),u||(e+=this.finderPenaltyCountPatterns(g)*o.PENALTY_N3),u=this.modules[c][p],h=1);e+=this.finderPenaltyTerminateAndCount(u,h,g)*o.PENALTY_N3}for(let c=0;c<this.size;c++){let u=!1,h=0,g=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[p][c]==u?(h++,h==5?e+=o.PENALTY_N1:h>5&&e++):(this.finderPenaltyAddHistory(h,g),u||(e+=this.finderPenaltyCountPatterns(g)*o.PENALTY_N3),u=this.modules[p][c],h=1);e+=this.finderPenaltyTerminateAndCount(u,h,g)*o.PENALTY_N3}for(let c=0;c<this.size-1;c++)for(let u=0;u<this.size-1;u++){let h=this.modules[c][u];h==this.modules[c][u+1]&&h==this.modules[c+1][u]&&h==this.modules[c+1][u+1]&&(e+=o.PENALTY_N2)}let t=0;for(let c of this.modules)t=c.reduce((u,h)=>u+(h?1:0),t);let n=this.size*this.size,s=Math.ceil(Math.abs(t*20-n*10)/n)-1;return l(s>=0&&s<=9),e+=s*o.PENALTY_N4,l(e>=0&&e<=2568888),e}getAlignmentPatternPositions(){if(this.version==1)return[];{let e=Math.floor(this.version/7)+2,t=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2,n=[6];for(let s=this.size-7;n.length<e;s-=t)n.splice(1,0,s);return n}}static getNumRawDataModules(e){if(e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version number out of range");let t=(16*e+128)*e+64;if(e>=2){let n=Math.floor(e/7)+2;t-=(25*n-10)*n-55,e>=7&&(t-=36)}return l(t>=208&&t<=29648),t}static getNumDataCodewords(e,t){return Math.floor(o.getNumRawDataModules(e)/8)-o.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*o.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let t=[];for(let s=0;s<e-1;s++)t.push(0);t.push(1);let n=1;for(let s=0;s<e;s++){for(let c=0;c<t.length;c++)t[c]=o.reedSolomonMultiply(t[c],n),c+1<t.length&&(t[c]^=t[c+1]);n=o.reedSolomonMultiply(n,2)}return t}static reedSolomonComputeRemainder(e,t){let n=t.map(s=>0);for(let s of e){let c=s^n.shift();n.push(0),t.forEach((u,h)=>n[h]^=o.reedSolomonMultiply(u,c))}return n}static reedSolomonMultiply(e,t){if(e>>>8||t>>>8)throw new RangeError("Byte out of range");let n=0;for(let s=7;s>=0;s--)n=n<<1^(n>>>7)*285,n^=(t>>>s&1)*e;return l(n>>>8==0),n}finderPenaltyCountPatterns(e){let t=e[1];l(t<=this.size*3);let n=t>0&&e[2]==t&&e[3]==t*3&&e[4]==t&&e[5]==t;return(n&&e[0]>=t*4&&e[6]>=t?1:0)+(n&&e[6]>=t*4&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){t[0]==0&&(e+=this.size),t.pop(),t.unshift(e)}static{this.MIN_VERSION=1}static{this.MAX_VERSION=40}static{this.PENALTY_N1=3}static{this.PENALTY_N2=3}static{this.PENALTY_N3=40}static{this.PENALTY_N4=10}static{this.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]}static{this.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]}}return o})();i.QrCode=d;function r(o,f,e){if(f<0||f>31||o>>>f)throw new RangeError("Value out of range");for(let t=f-1;t>=0;t--)e.push(o>>>t&1)}function a(o,f){return(o>>>f&1)!=0}function l(o){if(!o)throw new Error("Assertion error")}let m=(()=>{class o{static makeBytes(e){let t=[];for(let n of e)r(n,8,t);return new o(o.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!o.isNumeric(e))throw new RangeError("String contains non-numeric characters");let t=[];for(let n=0;n<e.length;){let s=Math.min(e.length-n,3);r(parseInt(e.substring(n,n+s),10),s*3+1,t),n+=s}return new o(o.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!o.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let t=[],n;for(n=0;n+2<=e.length;n+=2){let s=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n))*45;s+=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n+1)),r(s,11,t)}return n<e.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n)),6,t),new o(o.Mode.ALPHANUMERIC,e.length,t)}static makeSegments(e){return e==""?[]:o.isNumeric(e)?[o.makeNumeric(e)]:o.isAlphanumeric(e)?[o.makeAlphanumeric(e)]:[o.makeBytes(o.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)r(e,8,t);else if(e<16384)r(2,2,t),r(e,14,t);else if(e<1e6)r(6,3,t),r(e,21,t);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,t)}static isNumeric(e){return o.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return o.ALPHANUMERIC_REGEX.test(e)}constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(let s of e){let c=s.mode.numCharCountBits(t);if(s.numChars>=1<<c)return 1/0;n+=4+c+s.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)e.charAt(n)!="%"?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2);return t}static{this.NUMERIC_REGEX=/^[0-9]*$/}static{this.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/}static{this.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:"}}return o})();i.QrSegment=m})(T||(T={}));(function(i){var d;(function(r){class a{static{this.LOW=new a(0,1)}static{this.MEDIUM=new a(1,0)}static{this.QUARTILE=new a(2,3)}static{this.HIGH=new a(3,2)}constructor(m,o){this.ordinal=m,this.formatBits=o}}r.Ecc=a})(d=i.QrCode||(i.QrCode={}))})(T||(T={}));(function(i){var d;(function(r){class a{static{this.NUMERIC=new a(1,[10,12,14])}static{this.ALPHANUMERIC=new a(2,[9,11,13])}static{this.BYTE=new a(4,[8,16,16])}static{this.KANJI=new a(8,[8,10,12])}static{this.ECI=new a(7,[0,0,0])}constructor(m,o){this.modeBits=m,this.numBitsCharCount=o}numCharCountBits(m){return this.numBitsCharCount[Math.floor((m+7)/17)]}}r.Mode=a})(d=i.QrSegment||(i.QrSegment={}))})(T||(T={}));var K=T,Ot={L:K.QrCode.Ecc.LOW,M:K.QrCode.Ecc.MEDIUM,Q:K.QrCode.Ecc.QUARTILE,H:K.QrCode.Ecc.HIGH},Pt=160,Bt=10,xt=10,kt="#000000",Lt="#FFFFFF",Vt=40,Ut="M",$t=(i,d=Ut)=>i?K.QrCode.encodeText(i,Ot[d]):null;function jt(i,d,r=Pt,a=Bt,l=xt,m=kt,o=Lt,f=Vt,e){let t=i.getContext("2d"),n=Wt(l);if(i.style.width=`${r}px`,i.style.height=`${r}px`,!d){t.fillStyle="rgba(0, 0, 0, 0)",t.fillRect(0,0,i.width,i.height);return}if(i.width=d.size*a+n[1]+n[3],i.height=d.size*a+n[0]+n[2],!e)pe(t,i.width,i.height,a,o),fe(t,d,a,n,o,m);else{let s=new Image;s.src=e,s.crossOrigin="anonymous",s.width=f*(i.width/r),s.height=f*(i.width/r);let c=()=>{h(),pe(t,i.width,i.height,a,o),fe(t,d,a,n,o,m);let g=i.width/2-f*(i.width/r)/2;t.fillRect(g,g,f*(i.width/r),f*(i.width/r)),t.drawImage(s,g,g,f*(i.width/r),f*(i.width/r))},u=()=>{h(),pe(t,i.width,i.height,a,o),fe(t,d,a,n,o,m)},h=()=>{s.removeEventListener("load",c),s.removeEventListener("error",u)};s.addEventListener("load",c),s.addEventListener("error",u)}}function fe(i,d,r,a,l,m){for(let o=0;o<d.size;o++)for(let f=0;f<d.size;f++)i.fillStyle=d.getModule(f,o)?m:l,i.fillRect(a[3]+f*r,a[0]+o*r,r,r)}function pe(i,d,r,a,l){i.fillStyle=l,i.fillRect(0,0,d*a,r*a)}function Wt(i){return Array.isArray(i)?Array(4).fill(0).map((d,r)=>i[r%i.length]):[i,i,i,i]}var Ht=(()=>{class i{constructor(r,a,l){this.i18n=r,this.el=a,this.cdr=l,this.nzValue="",this.nzPadding=0,this.nzColor="#000000",this.nzBgColor="#FFFFFF",this.nzSize=160,this.nzIcon="",this.nzIconSize=40,this.nzBordered=!0,this.nzStatus="active",this.nzLevel="M",this.nzStatusRender=null,this.nzRefresh=new Z,this.isBrowser=!0,this.destroy$=new G,this.platformId=b(Ie),this.isBrowser=je(this.platformId),this.cdr.markForCheck()}ngOnInit(){this.el.nativeElement.style.backgroundColor=this.nzBgColor,this.i18n.localeChange.pipe(Se(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("QRCode"),this.cdr.markForCheck()})}ngOnChanges(r){let{nzValue:a,nzIcon:l,nzLevel:m,nzSize:o,nzIconSize:f,nzColor:e,nzPadding:t,nzBgColor:n}=r;(a||l||m||o||f||e||t||n)&&this.canvas&&this.drawCanvasQRCode(),n&&(this.el.nativeElement.style.backgroundColor=this.nzBgColor)}ngAfterViewInit(){this.drawCanvasQRCode()}reloadQRCode(){this.drawCanvasQRCode(),this.nzRefresh.emit("refresh")}drawCanvasQRCode(){this.canvas&&jt(this.canvas.nativeElement,$t(this.nzValue,this.nzLevel),this.nzSize,10,this.nzPadding,this.nzColor,this.nzBgColor,this.nzIconSize,this.nzIcon)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(a){return new(a||i)(I(Je),I(J),I(B))}}static{this.\u0275cmp=y({type:i,selectors:[["nz-qrcode"]],viewQuery:function(a,l){if(a&1&&Oe(It,5),a&2){let m;Pe(m=Be())&&(l.canvas=m.first)}},hostAttrs:[1,"ant-qrcode"],hostVars:2,hostBindings:function(a,l){a&2&&$("ant-qrcode-border",l.nzBordered)},inputs:{nzValue:"nzValue",nzPadding:"nzPadding",nzColor:"nzColor",nzBgColor:"nzBgColor",nzSize:[2,"nzSize","nzSize",de],nzIcon:"nzIcon",nzIconSize:[2,"nzIconSize","nzIconSize",de],nzBordered:[2,"nzBordered","nzBordered",W],nzStatus:"nzStatus",nzLevel:"nzLevel",nzStatusRender:"nzStatusRender"},outputs:{nzRefresh:"nzRefresh"},exportAs:["nzQRCode"],features:[Q,q],decls:3,vars:2,consts:[["canvas",""],[1,"ant-qrcode-mask"],[4,"nzStringTemplateOutlet"],[1,"ant-qrcode-expired"],["nz-button","","nzType","link",3,"click"],["nzType","reload","nzTheme","outline"]],template:function(a,l){a&1&&_(0,bt,2,1,"div",1)(1,Ft,4,1,"div",1)(2,Tt,2,0,"canvas"),a&2&&(A(l.nzStatusRender?0:l.nzStatus!=="active"?1:-1),w(2),A(l.isBrowser?2:-1))},dependencies:[st,ot,Ze,qe,Xe,H,ee,Ke],encapsulation:2,changeDetection:0})}}return i})(),Qn=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=oe({imports:[Ht]})}}return i})();export{Ht as a,Qn as b,k as c,An as d};
