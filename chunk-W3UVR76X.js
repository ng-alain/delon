import{a as mi,b as ja}from"./chunk-O74XELQO.js";import{b as fi,f as Pa,g as Oa,h as Ia,i as ka,j as Na,k as Va,l as Kt,m as Ma,p as Fa,u as Aa}from"./chunk-DHVVM7Y5.js";import{a as ua,b as da,c as fa,d as pa,e as ma,f as ha,g as _a}from"./chunk-HQBK4EMB.js";import{a as Ra,b as qa}from"./chunk-URMU3Q2R.js";import{h as ya,i as va,o as wa,p as ba,q as Ge,r as Je,s as Da}from"./chunk-7ULXDHLQ.js";import{F as gt,H as ga,I as pi,J as Ca,K as za,L as $a,M as Sa,N as xa,O as Ea,P as Ta,d as di,g as fe,h as sa,k as aa,m as pe,n as la,v as ca,z as Bt}from"./chunk-GK4IRTK3.js";import{Aa as Yr,Ab as Hs,Bb as Us,Bc as Xs,Cb as de,Db as Q,Eb as Ht,F as Es,Fa as We,Fb as se,H as Ts,Hb as Le,Ib as He,J as Ps,Ja as v,Jb as Ue,Ka as Ds,Kb as ni,L as Jr,La as Ms,M as Os,Mb as dn,Na as Fs,Nb as Bs,P as Xr,Pa as js,Pb as Ks,Pg as ra,Qc as si,Ra as K,Sa as ei,Ta as S,Tg as ia,Ua as Ee,Va as _,Vf as Ie,W as Zr,Wa as ti,Wb as we,Wf as ea,X as mt,Xa as le,Xf as Ce,Za as Rs,a as C,b as J,ba as yr,bg as ai,c as zs,ca as Is,cb as T,cc as oi,d as b,db as Te,dc as Be,dg as li,ec as Gs,f as $s,fa as W,fb as Pe,fg as ta,g as Rt,ga as ks,gb as Oe,ha as H,hb as z,hh as na,ia as Ns,ib as $,ih as oa,j as Ss,ja as st,jb as U,k as qt,kb as qs,kd as Tt,l as At,la as Vs,lb as As,mb as Ws,mh as ui,nb as te,nc as Ut,oc as Js,od as Ke,pa as ht,pd as Zs,qa as O,qb as L,qd as fn,ra as I,s as xs,sb as m,sd as Qs,sg as ci,tb as ri,ua as B,ub as ii,uc as be,va as Qr,vd as Ys,w as Wt,x as un,xa as Lt,ya as _t,zb as Ls}from"./chunk-FML4Y3RM.js";var zr=b(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.regexpCode=q.getEsmExportName=q.getProperty=q.safeStringify=q.stringify=q.strConcat=q.addCodeArg=q.str=q._=q.nil=q._Code=q.Name=q.IDENTIFIER=q._CodeOrName=void 0;var br=class{};q._CodeOrName=br;q.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Ot=class extends br{constructor(e){if(super(),!q.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};q.Name=Ot;var ke=class extends br{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,i)=>`${r}${i}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,i)=>(i instanceof Ot&&(r[i.str]=(r[i.str]||0)+1),r),{})}};q._Code=ke;q.nil=new ke("");function Ua(t,...e){let r=[t[0]],i=0;for(;i<e.length;)_n(r,e[i]),r.push(t[++i]);return new ke(r)}q._=Ua;var hn=new ke("+");function Ba(t,...e){let r=[Cr(t[0])],i=0;for(;i<e.length;)r.push(hn),_n(r,e[i]),r.push(hn,Cr(t[++i]));return Zu(r),new ke(r)}q.str=Ba;function _n(t,e){e instanceof ke?t.push(...e._items):e instanceof Ot?t.push(e):t.push(ed(e))}q.addCodeArg=_n;function Zu(t){let e=1;for(;e<t.length-1;){if(t[e]===hn){let r=Qu(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function Qu(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof Ot||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof Ot))return`"${t}${e.slice(1)}`}function Yu(t,e){return e.emptyStr()?t:t.emptyStr()?e:Ba`${t}${e}`}q.strConcat=Yu;function ed(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Cr(Array.isArray(t)?t.join(","):t)}function td(t){return new ke(Cr(t))}q.stringify=td;function Cr(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}q.safeStringify=Cr;function rd(t){return typeof t=="string"&&q.IDENTIFIER.test(t)?new ke(`.${t}`):Ua`[${t}]`}q.getProperty=rd;function id(t){if(typeof t=="string"&&q.IDENTIFIER.test(t))return new ke(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}q.getEsmExportName=id;function nd(t){return new ke(t.toString())}q.regexpCode=nd});var vn=b($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.ValueScope=$e.ValueScopeName=$e.Scope=$e.varKinds=$e.UsedValueState=void 0;var ze=zr(),gn=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},yi=function(t){return t[t.Started=0]="Started",t[t.Completed=1]="Completed",t}(yi||($e.UsedValueState=yi={}));$e.varKinds={const:new ze.Name("const"),let:new ze.Name("let"),var:new ze.Name("var")};var vi=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof ze.Name?e:this.name(e)}name(e){return new ze.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,i;if(!((i=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||i===void 0)&&i.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};$e.Scope=vi;var wi=class extends ze.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:i}){this.value=e,this.scopePath=(0,ze._)`.${new ze.Name(r)}[${i}]`}};$e.ValueScopeName=wi;var od=(0,ze._)`\n`,yn=class extends vi{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=J(C({},e),{_n:e.lines?od:ze.nil})}get(){return this._scope}name(e){return new wi(e,this._newName(e))}value(e,r){var i;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(e),{prefix:o}=n,s=(i=r.key)!==null&&i!==void 0?i:r.ref,a=this._values[o];if(a){let u=a.get(s);if(u)return u}else a=this._values[o]=new Map;a.set(s,n);let l=this._scope[o]||(this._scope[o]=[]),c=l.length;return l[c]=r.ref,n.setValue(r,{property:o,itemIndex:c}),n}getValue(e,r){let i=this._values[e];if(i)return i.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,ze._)`${e}${i.scopePath}`})}scopeCode(e=this._values,r,i){return this._reduceValues(e,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},r,i)}_reduceValues(e,r,i={},n){let o=ze.nil;for(let s in e){let a=e[s];if(!a)continue;let l=i[s]=i[s]||new Map;a.forEach(c=>{if(l.has(c))return;l.set(c,yi.Started);let u=r(c);if(u){let d=this.opts.es5?$e.varKinds.var:$e.varKinds.const;o=(0,ze._)`${o}${d} ${c} = ${u};${this.opts._n}`}else if(u=n?.(c))o=(0,ze._)`${o}${u}${this.opts._n}`;else throw new gn(c);l.set(c,yi.Completed)})}return o}};$e.ValueScope=yn});var V=b(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.or=D.and=D.not=D.CodeGen=D.operators=D.varKinds=D.ValueScopeName=D.ValueScope=D.Scope=D.Name=D.regexpCode=D.stringify=D.getProperty=D.nil=D.strConcat=D.str=D._=void 0;var j=zr(),Me=vn(),vt=zr();Object.defineProperty(D,"_",{enumerable:!0,get:function(){return vt._}});Object.defineProperty(D,"str",{enumerable:!0,get:function(){return vt.str}});Object.defineProperty(D,"strConcat",{enumerable:!0,get:function(){return vt.strConcat}});Object.defineProperty(D,"nil",{enumerable:!0,get:function(){return vt.nil}});Object.defineProperty(D,"getProperty",{enumerable:!0,get:function(){return vt.getProperty}});Object.defineProperty(D,"stringify",{enumerable:!0,get:function(){return vt.stringify}});Object.defineProperty(D,"regexpCode",{enumerable:!0,get:function(){return vt.regexpCode}});Object.defineProperty(D,"Name",{enumerable:!0,get:function(){return vt.Name}});var Si=vn();Object.defineProperty(D,"Scope",{enumerable:!0,get:function(){return Si.Scope}});Object.defineProperty(D,"ValueScope",{enumerable:!0,get:function(){return Si.ValueScope}});Object.defineProperty(D,"ValueScopeName",{enumerable:!0,get:function(){return Si.ValueScopeName}});Object.defineProperty(D,"varKinds",{enumerable:!0,get:function(){return Si.varKinds}});D.operators={GT:new j._Code(">"),GTE:new j._Code(">="),LT:new j._Code("<"),LTE:new j._Code("<="),EQ:new j._Code("==="),NEQ:new j._Code("!=="),NOT:new j._Code("!"),OR:new j._Code("||"),AND:new j._Code("&&"),ADD:new j._Code("+")};var at=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},wn=class extends at{constructor(e,r,i){super(),this.varKind=e,this.name=r,this.rhs=i}render({es5:e,_n:r}){let i=e?Me.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${n};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=er(this.rhs,e,r)),this}get names(){return this.rhs instanceof j._CodeOrName?this.rhs.names:{}}},Ci=class extends at{constructor(e,r,i){super(),this.lhs=e,this.rhs=r,this.sideEffects=i}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof j.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=er(this.rhs,e,r),this}get names(){let e=this.lhs instanceof j.Name?{}:C({},this.lhs.names);return $i(e,this.rhs)}},bn=class extends Ci{constructor(e,r,i,n){super(e,i,n),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Cn=class extends at{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},zn=class extends at{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},$n=class extends at{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},Sn=class extends at{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=er(this.code,e,r),this}get names(){return this.code instanceof j._CodeOrName?this.code.names:{}}},$r=class extends at{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,i)=>r+i.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let i=e[r].optimizeNodes();Array.isArray(i)?e.splice(r,1,...i):i?e[r]=i:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:i}=this,n=i.length;for(;n--;){let o=i[n];o.optimizeNames(e,r)||(sd(e,o.names),i.splice(n,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>It(e,r.names),{})}},lt=class extends $r{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},xn=class extends $r{},En=(()=>{class t extends lt{}return t.kind="else",t})(),bi=(()=>{class t extends lt{constructor(r,i){super(i),this.condition=r}render(r){let i=`if(${this.condition})`+super.render(r);return this.else&&(i+="else "+this.else.render(r)),i}optimizeNodes(){super.optimizeNodes();let r=this.condition;if(r===!0)return this.nodes;let i=this.else;if(i){let n=i.optimizeNodes();i=this.else=Array.isArray(n)?new En(n):n}if(i)return r===!1?i instanceof t?i:i.nodes:this.nodes.length?this:new t(Za(r),i instanceof t?[i]:i.nodes);if(!(r===!1||!this.nodes.length))return this}optimizeNames(r,i){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(r,i),!!(super.optimizeNames(r,i)||this.else))return this.condition=er(this.condition,r,i),this}get names(){let r=super.names;return $i(r,this.condition),this.else&&It(r,this.else.names),r}}return t.kind="if",t})(),xi=(()=>{class t extends lt{}return t.kind="for",t})(),Tn=class extends xi{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=er(this.iteration,e,r),this}get names(){return It(super.names,this.iteration.names)}},Pn=class extends xi{constructor(e,r,i,n){super(),this.varKind=e,this.name=r,this.from=i,this.to=n}render(e){let r=e.es5?Me.varKinds.var:this.varKind,{name:i,from:n,to:o}=this;return`for(${r} ${i}=${n}; ${i}<${o}; ${i}++)`+super.render(e)}get names(){let e=$i(super.names,this.from);return $i(e,this.to)}},zi=class extends xi{constructor(e,r,i,n){super(),this.loop=e,this.varKind=r,this.name=i,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=er(this.iterable,e,r),this}get names(){return It(super.names,this.iterable.names)}},Ka=(()=>{class t extends lt{constructor(r,i,n){super(),this.name=r,this.args=i,this.async=n}render(r){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(r)}}return t.kind="func",t})(),Ga=(()=>{class t extends $r{render(r){return"return "+super.render(r)}}return t.kind="return",t})(),On=class extends lt{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var i,n;return super.optimizeNames(e,r),(i=this.catch)===null||i===void 0||i.optimizeNames(e,r),(n=this.finally)===null||n===void 0||n.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&It(e,this.catch.names),this.finally&&It(e,this.finally.names),e}},Ja=(()=>{class t extends lt{constructor(r){super(),this.error=r}render(r){return`catch(${this.error})`+super.render(r)}}return t.kind="catch",t})(),Xa=(()=>{class t extends lt{render(r){return"finally"+super.render(r)}}return t.kind="finally",t})(),In=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=J(C({},r),{_n:r.lines?`
`:""}),this._extScope=e,this._scope=new Me.Scope({parent:e}),this._nodes=[new xn]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let i=this._extScope.value(e,r);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,i,n){let o=this._scope.toName(r);return i!==void 0&&n&&(this._constants[o.str]=i),this._leafNode(new wn(e,o,i)),o}const(e,r,i){return this._def(Me.varKinds.const,e,r,i)}let(e,r,i){return this._def(Me.varKinds.let,e,r,i)}var(e,r,i){return this._def(Me.varKinds.var,e,r,i)}assign(e,r,i){return this._leafNode(new Ci(e,r,i))}add(e,r){return this._leafNode(new bn(e,D.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==j.nil&&this._leafNode(new Sn(e)),this}object(...e){let r=["{"];for(let[i,n]of e)r.length>1&&r.push(","),r.push(i),(i!==n||this.opts.es5)&&(r.push(":"),(0,j.addCodeArg)(r,n));return r.push("}"),new j._Code(r)}if(e,r,i){if(this._blockNode(new bi(e)),r&&i)this.code(r).else().code(i).endIf();else if(r)this.code(r).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new bi(e))}else(){return this._elseNode(new En)}endIf(){return this._endBlockNode(bi,En)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new Tn(e),r)}forRange(e,r,i,n,o=this.opts.es5?Me.varKinds.var:Me.varKinds.let){let s=this._scope.toName(e);return this._for(new Pn(o,s,r,i),()=>n(s))}forOf(e,r,i,n=Me.varKinds.const){let o=this._scope.toName(e);if(this.opts.es5){let s=r instanceof j.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,j._)`${s}.length`,a=>{this.var(o,(0,j._)`${s}[${a}]`),i(o)})}return this._for(new zi("of",n,o,r),()=>i(o))}forIn(e,r,i,n=this.opts.es5?Me.varKinds.var:Me.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,j._)`Object.keys(${r})`,i);let o=this._scope.toName(e);return this._for(new zi("in",n,o,r),()=>i(o))}endFor(){return this._endBlockNode(xi)}label(e){return this._leafNode(new Cn(e))}break(e){return this._leafNode(new zn(e))}return(e){let r=new Ga;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Ga)}try(e,r,i){if(!r&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new On;if(this._blockNode(n),this.code(e),r){let o=this.name("e");this._currNode=n.catch=new Ja(o),r(o)}return i&&(this._currNode=n.finally=new Xa,this.code(i)),this._endBlockNode(Ja,Xa)}throw(e){return this._leafNode(new $n(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-r;if(i<0||e!==void 0&&i!==e)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=j.nil,i,n){return this._blockNode(new Ka(e,r,i)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(Ka)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let i=this._currNode;if(i instanceof e||r&&i instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof bi))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};D.CodeGen=In;function It(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function $i(t,e){return e instanceof j._CodeOrName?It(t,e.names):t}function er(t,e,r){if(t instanceof j.Name)return i(t);if(!n(t))return t;return new j._Code(t._items.reduce((o,s)=>(s instanceof j.Name&&(s=i(s)),s instanceof j._Code?o.push(...s._items):o.push(s),o),[]));function i(o){let s=r[o.str];return s===void 0||e[o.str]!==1?o:(delete e[o.str],s)}function n(o){return o instanceof j._Code&&o._items.some(s=>s instanceof j.Name&&e[s.str]===1&&r[s.str]!==void 0)}}function sd(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function Za(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,j._)`!${kn(t)}`}D.not=Za;var ad=Qa(D.operators.AND);function ld(...t){return t.reduce(ad)}D.and=ld;var cd=Qa(D.operators.OR);function ud(...t){return t.reduce(cd)}D.or=ud;function Qa(t){return(e,r)=>e===j.nil?r:r===j.nil?e:(0,j._)`${kn(e)} ${t} ${kn(r)}`}function kn(t){return t instanceof j.Name?t:(0,j._)`(${t})`}});var A=b(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.checkStrictMode=F.getErrorPath=F.Type=F.useFunc=F.setEvaluated=F.evaluatedPropsToName=F.mergeEvaluated=F.eachItem=F.unescapeJsonPointer=F.escapeJsonPointer=F.escapeFragment=F.unescapeFragment=F.schemaRefOrVal=F.schemaHasRulesButRef=F.schemaHasRules=F.checkUnknownRules=F.alwaysValidSchema=F.toHash=void 0;var X=V(),dd=zr();function fd(t){let e={};for(let r of t)e[r]=!0;return e}F.toHash=fd;function pd(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(tl(t,e),!rl(e,t.self.RULES.all))}F.alwaysValidSchema=pd;function tl(t,e=t.schema){let{opts:r,self:i}=t;if(!r.strictSchema||typeof e=="boolean")return;let n=i.RULES.keywords;for(let o in e)n[o]||ol(t,`unknown keyword: "${o}"`)}F.checkUnknownRules=tl;function rl(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}F.schemaHasRules=rl;function md(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}F.schemaHasRulesButRef=md;function hd({topSchemaRef:t,schemaPath:e},r,i,n){if(!n){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,X._)`${r}`}return(0,X._)`${t}${e}${(0,X.getProperty)(i)}`}F.schemaRefOrVal=hd;function _d(t){return il(decodeURIComponent(t))}F.unescapeFragment=_d;function gd(t){return encodeURIComponent(Vn(t))}F.escapeFragment=gd;function Vn(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}F.escapeJsonPointer=Vn;function il(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}F.unescapeJsonPointer=il;function yd(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}F.eachItem=yd;function Ya({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:i}){return(n,o,s,a)=>{let l=s===void 0?o:s instanceof X.Name?(o instanceof X.Name?t(n,o,s):e(n,o,s),s):o instanceof X.Name?(e(n,s,o),o):r(o,s);return a===X.Name&&!(l instanceof X.Name)?i(n,l):l}}F.mergeEvaluated={props:Ya({mergeNames:(t,e,r)=>t.if((0,X._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,X._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,X._)`${r} || {}`).code((0,X._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,X._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,X._)`${r} || {}`),Dn(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:C(C({},t),e),resultToName:nl}),items:Ya({mergeNames:(t,e,r)=>t.if((0,X._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,X._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,X._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,X._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function nl(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,X._)`{}`);return e!==void 0&&Dn(t,r,e),r}F.evaluatedPropsToName=nl;function Dn(t,e,r){Object.keys(r).forEach(i=>t.assign((0,X._)`${e}${(0,X.getProperty)(i)}`,!0))}F.setEvaluated=Dn;var el={};function vd(t,e){return t.scopeValue("func",{ref:e,code:el[e.code]||(el[e.code]=new dd._Code(e.code))})}F.useFunc=vd;var Nn=function(t){return t[t.Num=0]="Num",t[t.Str=1]="Str",t}(Nn||(F.Type=Nn={}));function wd(t,e,r){if(t instanceof X.Name){let i=e===Nn.Num;return r?i?(0,X._)`"[" + ${t} + "]"`:(0,X._)`"['" + ${t} + "']"`:i?(0,X._)`"/" + ${t}`:(0,X._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,X.getProperty)(t).toString():"/"+Vn(t)}F.getErrorPath=wd;function ol(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}F.checkStrictMode=ol});var ct=b(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});var he=V(),bd={data:new he.Name("data"),valCxt:new he.Name("valCxt"),instancePath:new he.Name("instancePath"),parentData:new he.Name("parentData"),parentDataProperty:new he.Name("parentDataProperty"),rootData:new he.Name("rootData"),dynamicAnchors:new he.Name("dynamicAnchors"),vErrors:new he.Name("vErrors"),errors:new he.Name("errors"),this:new he.Name("this"),self:new he.Name("self"),scope:new he.Name("scope"),json:new he.Name("json"),jsonPos:new he.Name("jsonPos"),jsonLen:new he.Name("jsonLen"),jsonPart:new he.Name("jsonPart")};Mn.default=bd});var Sr=b(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.extendErrors=_e.resetErrorsCount=_e.reportExtraError=_e.reportError=_e.keyword$DataError=_e.keywordError=void 0;var R=V(),Ei=A(),ye=ct();_e.keywordError={message:({keyword:t})=>(0,R.str)`must pass "${t}" keyword validation`};_e.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,R.str)`"${t}" keyword must be ${e} ($data)`:(0,R.str)`"${t}" keyword is invalid ($data)`};function Cd(t,e=_e.keywordError,r,i){let{it:n}=t,{gen:o,compositeRule:s,allErrors:a}=n,l=ll(t,e,r);i??(s||a)?sl(o,l):al(n,(0,R._)`[${l}]`)}_e.reportError=Cd;function zd(t,e=_e.keywordError,r){let{it:i}=t,{gen:n,compositeRule:o,allErrors:s}=i,a=ll(t,e,r);sl(n,a),o||s||al(i,ye.default.vErrors)}_e.reportExtraError=zd;function $d(t,e){t.assign(ye.default.errors,e),t.if((0,R._)`${ye.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,R._)`${ye.default.vErrors}.length`,e),()=>t.assign(ye.default.vErrors,null)))}_e.resetErrorsCount=$d;function Sd({gen:t,keyword:e,schemaValue:r,data:i,errsCount:n,it:o}){if(n===void 0)throw new Error("ajv implementation error");let s=t.name("err");t.forRange("i",n,ye.default.errors,a=>{t.const(s,(0,R._)`${ye.default.vErrors}[${a}]`),t.if((0,R._)`${s}.instancePath === undefined`,()=>t.assign((0,R._)`${s}.instancePath`,(0,R.strConcat)(ye.default.instancePath,o.errorPath))),t.assign((0,R._)`${s}.schemaPath`,(0,R.str)`${o.errSchemaPath}/${e}`),o.opts.verbose&&(t.assign((0,R._)`${s}.schema`,r),t.assign((0,R._)`${s}.data`,i))})}_e.extendErrors=Sd;function sl(t,e){let r=t.const("err",e);t.if((0,R._)`${ye.default.vErrors} === null`,()=>t.assign(ye.default.vErrors,(0,R._)`[${r}]`),(0,R._)`${ye.default.vErrors}.push(${r})`),t.code((0,R._)`${ye.default.errors}++`)}function al(t,e){let{gen:r,validateName:i,schemaEnv:n}=t;n.$async?r.throw((0,R._)`new ${t.ValidationError}(${e})`):(r.assign((0,R._)`${i}.errors`,e),r.return(!1))}var kt={keyword:new R.Name("keyword"),schemaPath:new R.Name("schemaPath"),params:new R.Name("params"),propertyName:new R.Name("propertyName"),message:new R.Name("message"),schema:new R.Name("schema"),parentSchema:new R.Name("parentSchema")};function ll(t,e,r){let{createErrors:i}=t.it;return i===!1?(0,R._)`{}`:xd(t,e,r)}function xd(t,e,r={}){let{gen:i,it:n}=t,o=[Ed(n,r),Td(t,r)];return Pd(t,e,o),i.object(...o)}function Ed({errorPath:t},{instancePath:e}){let r=e?(0,R.str)`${t}${(0,Ei.getErrorPath)(e,Ei.Type.Str)}`:t;return[ye.default.instancePath,(0,R.strConcat)(ye.default.instancePath,r)]}function Td({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:i}){let n=i?e:(0,R.str)`${e}/${t}`;return r&&(n=(0,R.str)`${n}${(0,Ei.getErrorPath)(r,Ei.Type.Str)}`),[kt.schemaPath,n]}function Pd(t,{params:e,message:r},i){let{keyword:n,data:o,schemaValue:s,it:a}=t,{opts:l,propertyName:c,topSchemaRef:u,schemaPath:d}=a;i.push([kt.keyword,n],[kt.params,typeof e=="function"?e(t):e||(0,R._)`{}`]),l.messages&&i.push([kt.message,typeof r=="function"?r(t):r]),l.verbose&&i.push([kt.schema,s],[kt.parentSchema,(0,R._)`${u}${d}`],[ye.default.data,o]),c&&i.push([kt.propertyName,c])}});var ul=b(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.boolOrEmptySchema=tr.topBoolOrEmptySchema=void 0;var Od=Sr(),Id=V(),kd=ct(),Nd={message:"boolean schema is false"};function Vd(t){let{gen:e,schema:r,validateName:i}=t;r===!1?cl(t,!1):typeof r=="object"&&r.$async===!0?e.return(kd.default.data):(e.assign((0,Id._)`${i}.errors`,null),e.return(!0))}tr.topBoolOrEmptySchema=Vd;function Dd(t,e){let{gen:r,schema:i}=t;i===!1?(r.var(e,!1),cl(t)):r.var(e,!0)}tr.boolOrEmptySchema=Dd;function cl(t,e){let{gen:r,data:i}=t,n={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Od.reportError)(n,Nd,void 0,e)}});var Fn=b(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.getRules=rr.isJSONType=void 0;var Md=["string","number","integer","boolean","null","object","array"],Fd=new Set(Md);function jd(t){return typeof t=="string"&&Fd.has(t)}rr.isJSONType=jd;function Rd(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:J(C({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}rr.getRules=Rd});var jn=b(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.shouldUseRule=wt.shouldUseGroup=wt.schemaHasRulesForType=void 0;function qd({schema:t,self:e},r){let i=e.RULES.types[r];return i&&i!==!0&&dl(t,i)}wt.schemaHasRulesForType=qd;function dl(t,e){return e.rules.some(r=>fl(t,r))}wt.shouldUseGroup=dl;function fl(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(i=>t[i]!==void 0))}wt.shouldUseRule=fl});var xr=b(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.reportTypeError=ge.checkDataTypes=ge.checkDataType=ge.coerceAndCheckDataType=ge.getJSONTypes=ge.getSchemaTypes=ge.DataType=void 0;var Ad=Fn(),Wd=jn(),Ld=Sr(),N=V(),pl=A(),ir=function(t){return t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong",t}(ir||(ge.DataType=ir={}));function Hd(t){let e=ml(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}ge.getSchemaTypes=Hd;function ml(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(Ad.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}ge.getJSONTypes=ml;function Ud(t,e){let{gen:r,data:i,opts:n}=t,o=Bd(e,n.coerceTypes),s=e.length>0&&!(o.length===0&&e.length===1&&(0,Wd.schemaHasRulesForType)(t,e[0]));if(s){let a=qn(e,i,n.strictNumbers,ir.Wrong);r.if(a,()=>{o.length?Kd(t,e,o):An(t)})}return s}ge.coerceAndCheckDataType=Ud;var hl=new Set(["string","number","integer","boolean","null"]);function Bd(t,e){return e?t.filter(r=>hl.has(r)||e==="array"&&r==="array"):[]}function Kd(t,e,r){let{gen:i,data:n,opts:o}=t,s=i.let("dataType",(0,N._)`typeof ${n}`),a=i.let("coerced",(0,N._)`undefined`);o.coerceTypes==="array"&&i.if((0,N._)`${s} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>i.assign(n,(0,N._)`${n}[0]`).assign(s,(0,N._)`typeof ${n}`).if(qn(e,n,o.strictNumbers),()=>i.assign(a,n))),i.if((0,N._)`${a} !== undefined`);for(let c of r)(hl.has(c)||c==="array"&&o.coerceTypes==="array")&&l(c);i.else(),An(t),i.endIf(),i.if((0,N._)`${a} !== undefined`,()=>{i.assign(n,a),Gd(t,a)});function l(c){switch(c){case"string":i.elseIf((0,N._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,N._)`"" + ${n}`).elseIf((0,N._)`${n} === null`).assign(a,(0,N._)`""`);return;case"number":i.elseIf((0,N._)`${s} == "boolean" || ${n} === null
              || (${s} == "string" && ${n} && ${n} == +${n})`).assign(a,(0,N._)`+${n}`);return;case"integer":i.elseIf((0,N._)`${s} === "boolean" || ${n} === null
              || (${s} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(a,(0,N._)`+${n}`);return;case"boolean":i.elseIf((0,N._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(a,!1).elseIf((0,N._)`${n} === "true" || ${n} === 1`).assign(a,!0);return;case"null":i.elseIf((0,N._)`${n} === "" || ${n} === 0 || ${n} === false`),i.assign(a,null);return;case"array":i.elseIf((0,N._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${n} === null`).assign(a,(0,N._)`[${n}]`)}}}function Gd({gen:t,parentData:e,parentDataProperty:r},i){t.if((0,N._)`${e} !== undefined`,()=>t.assign((0,N._)`${e}[${r}]`,i))}function Rn(t,e,r,i=ir.Correct){let n=i===ir.Correct?N.operators.EQ:N.operators.NEQ,o;switch(t){case"null":return(0,N._)`${e} ${n} null`;case"array":o=(0,N._)`Array.isArray(${e})`;break;case"object":o=(0,N._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":o=s((0,N._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":o=s();break;default:return(0,N._)`typeof ${e} ${n} ${t}`}return i===ir.Correct?o:(0,N.not)(o);function s(a=N.nil){return(0,N.and)((0,N._)`typeof ${e} == "number"`,a,r?(0,N._)`isFinite(${e})`:N.nil)}}ge.checkDataType=Rn;function qn(t,e,r,i){if(t.length===1)return Rn(t[0],e,r,i);let n,o=(0,pl.toHash)(t);if(o.array&&o.object){let s=(0,N._)`typeof ${e} != "object"`;n=o.null?s:(0,N._)`!${e} || ${s}`,delete o.null,delete o.array,delete o.object}else n=N.nil;o.number&&delete o.integer;for(let s in o)n=(0,N.and)(n,Rn(s,e,r,i));return n}ge.checkDataTypes=qn;var Jd={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,N._)`{type: ${t}}`:(0,N._)`{type: ${e}}`};function An(t){let e=Xd(t);(0,Ld.reportError)(e,Jd)}ge.reportTypeError=An;function Xd(t){let{gen:e,data:r,schema:i}=t,n=(0,pl.schemaRefOrVal)(t,i,"type");return{gen:e,keyword:"type",data:r,schema:i.type,schemaCode:n,schemaValue:n,parentSchema:i,params:{},it:t}}});var gl=b(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.assignDefaults=void 0;var nr=V(),Zd=A();function Qd(t,e){let{properties:r,items:i}=t.schema;if(e==="object"&&r)for(let n in r)_l(t,n,r[n].default);else e==="array"&&Array.isArray(i)&&i.forEach((n,o)=>_l(t,o,n.default))}Ti.assignDefaults=Qd;function _l(t,e,r){let{gen:i,compositeRule:n,data:o,opts:s}=t;if(r===void 0)return;let a=(0,nr._)`${o}${(0,nr.getProperty)(e)}`;if(n){(0,Zd.checkStrictMode)(t,`default is ignored for: ${a}`);return}let l=(0,nr._)`${a} === undefined`;s.useDefaults==="empty"&&(l=(0,nr._)`${l} || ${a} === null || ${a} === ""`),i.if(l,(0,nr._)`${a} = ${(0,nr.stringify)(r)}`)}});var Ne=b(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.validateUnion=G.validateArray=G.usePattern=G.callValidateCode=G.schemaProperties=G.allSchemaProperties=G.noPropertyInData=G.propertyInData=G.isOwnProperty=G.hasPropFunc=G.reportMissingProp=G.checkMissingProp=G.checkReportMissingProp=void 0;var Y=V(),Wn=A(),bt=ct(),Yd=A();function ef(t,e){let{gen:r,data:i,it:n}=t;r.if(Hn(r,i,e,n.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Y._)`${e}`},!0),t.error()})}G.checkReportMissingProp=ef;function tf({gen:t,data:e,it:{opts:r}},i,n){return(0,Y.or)(...i.map(o=>(0,Y.and)(Hn(t,e,o,r.ownProperties),(0,Y._)`${n} = ${o}`)))}G.checkMissingProp=tf;function rf(t,e){t.setParams({missingProperty:e},!0),t.error()}G.reportMissingProp=rf;function yl(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Y._)`Object.prototype.hasOwnProperty`})}G.hasPropFunc=yl;function Ln(t,e,r){return(0,Y._)`${yl(t)}.call(${e}, ${r})`}G.isOwnProperty=Ln;function nf(t,e,r,i){let n=(0,Y._)`${e}${(0,Y.getProperty)(r)} !== undefined`;return i?(0,Y._)`${n} && ${Ln(t,e,r)}`:n}G.propertyInData=nf;function Hn(t,e,r,i){let n=(0,Y._)`${e}${(0,Y.getProperty)(r)} === undefined`;return i?(0,Y.or)(n,(0,Y.not)(Ln(t,e,r))):n}G.noPropertyInData=Hn;function vl(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}G.allSchemaProperties=vl;function of(t,e){return vl(e).filter(r=>!(0,Wn.alwaysValidSchema)(t,e[r]))}G.schemaProperties=of;function sf({schemaCode:t,data:e,it:{gen:r,topSchemaRef:i,schemaPath:n,errorPath:o},it:s},a,l,c){let u=c?(0,Y._)`${t}, ${e}, ${i}${n}`:e,d=[[bt.default.instancePath,(0,Y.strConcat)(bt.default.instancePath,o)],[bt.default.parentData,s.parentData],[bt.default.parentDataProperty,s.parentDataProperty],[bt.default.rootData,bt.default.rootData]];s.opts.dynamicRef&&d.push([bt.default.dynamicAnchors,bt.default.dynamicAnchors]);let y=(0,Y._)`${u}, ${r.object(...d)}`;return l!==Y.nil?(0,Y._)`${a}.call(${l}, ${y})`:(0,Y._)`${a}(${y})`}G.callValidateCode=sf;var af=(0,Y._)`new RegExp`;function lf({gen:t,it:{opts:e}},r){let i=e.unicodeRegExp?"u":"",{regExp:n}=e.code,o=n(r,i);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Y._)`${n.code==="new RegExp"?af:(0,Yd.useFunc)(t,n)}(${r}, ${i})`})}G.usePattern=lf;function cf(t){let{gen:e,data:r,keyword:i,it:n}=t,o=e.name("valid");if(n.allErrors){let a=e.let("valid",!0);return s(()=>e.assign(a,!1)),a}return e.var(o,!0),s(()=>e.break()),o;function s(a){let l=e.const("len",(0,Y._)`${r}.length`);e.forRange("i",0,l,c=>{t.subschema({keyword:i,dataProp:c,dataPropType:Wn.Type.Num},o),e.if((0,Y.not)(o),a)})}}G.validateArray=cf;function uf(t){let{gen:e,schema:r,keyword:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,Wn.alwaysValidSchema)(n,l))&&!n.opts.unevaluated)return;let s=e.let("valid",!1),a=e.name("_valid");e.block(()=>r.forEach((l,c)=>{let u=t.subschema({keyword:i,schemaProp:c,compositeRule:!0},a);e.assign(s,(0,Y._)`${s} || ${a}`),t.mergeValidEvaluated(u,a)||e.if((0,Y.not)(s))})),t.result(s,()=>t.reset(),()=>t.error(!0))}G.validateUnion=uf});var Cl=b(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.validateKeywordUsage=Ze.validSchemaType=Ze.funcKeywordCode=Ze.macroKeywordCode=void 0;var ve=V(),Nt=ct(),df=Ne(),ff=Sr();function pf(t,e){let{gen:r,keyword:i,schema:n,parentSchema:o,it:s}=t,a=e.macro.call(s.self,n,o,s),l=bl(r,i,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);let c=r.name("valid");t.subschema({schema:a,schemaPath:ve.nil,errSchemaPath:`${s.errSchemaPath}/${i}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}Ze.macroKeywordCode=pf;function mf(t,e){var r;let{gen:i,keyword:n,schema:o,parentSchema:s,$data:a,it:l}=t;_f(l,e);let c=!a&&e.compile?e.compile.call(l.self,o,s,l):e.validate,u=bl(i,n,c),d=i.let("valid");t.block$data(d,y),t.ok((r=e.valid)!==null&&r!==void 0?r:d);function y(){if(e.errors===!1)p(),e.modifying&&wl(t),w(()=>t.error());else{let f=e.async?g():h();e.modifying&&wl(t),w(()=>hf(t,f))}}function g(){let f=i.let("ruleErrs",null);return i.try(()=>p((0,ve._)`await `),E=>i.assign(d,!1).if((0,ve._)`${E} instanceof ${l.ValidationError}`,()=>i.assign(f,(0,ve._)`${E}.errors`),()=>i.throw(E))),f}function h(){let f=(0,ve._)`${u}.errors`;return i.assign(f,null),p(ve.nil),f}function p(f=e.async?(0,ve._)`await `:ve.nil){let E=l.opts.passContext?Nt.default.this:Nt.default.self,M=!("compile"in e&&!a||e.schema===!1);i.assign(d,(0,ve._)`${f}${(0,df.callValidateCode)(t,u,E,M)}`,e.modifying)}function w(f){var E;i.if((0,ve.not)((E=e.valid)!==null&&E!==void 0?E:d),f)}}Ze.funcKeywordCode=mf;function wl(t){let{gen:e,data:r,it:i}=t;e.if(i.parentData,()=>e.assign(r,(0,ve._)`${i.parentData}[${i.parentDataProperty}]`))}function hf(t,e){let{gen:r}=t;r.if((0,ve._)`Array.isArray(${e})`,()=>{r.assign(Nt.default.vErrors,(0,ve._)`${Nt.default.vErrors} === null ? ${e} : ${Nt.default.vErrors}.concat(${e})`).assign(Nt.default.errors,(0,ve._)`${Nt.default.vErrors}.length`),(0,ff.extendErrors)(t)},()=>t.error())}function _f({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function bl(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ve.stringify)(r)})}function gf(t,e,r=!1){return!e.length||e.some(i=>i==="array"?Array.isArray(t):i==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==i||r&&typeof t>"u")}Ze.validSchemaType=gf;function yf({schema:t,opts:e,self:r,errSchemaPath:i},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");let s=n.dependencies;if(s?.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(n.validateSchema&&!n.validateSchema(t[o])){let l=`keyword "${o}" value is invalid at path "${i}": `+r.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Ze.validateKeywordUsage=yf});var $l=b(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.extendSubschemaMode=Ct.extendSubschemaData=Ct.getSubschema=void 0;var Qe=V(),zl=A();function vf(t,{keyword:e,schemaProp:r,schema:i,schemaPath:n,errSchemaPath:o,topSchemaRef:s}){if(e!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let a=t.schema[e];return r===void 0?{schema:a,schemaPath:(0,Qe._)`${t.schemaPath}${(0,Qe.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[r],schemaPath:(0,Qe._)`${t.schemaPath}${(0,Qe.getProperty)(e)}${(0,Qe.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,zl.escapeFragment)(r)}`}}if(i!==void 0){if(n===void 0||o===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Ct.getSubschema=vf;function wf(t,e,{dataProp:r,dataPropType:i,data:n,dataTypes:o,propertyName:s}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=e;if(r!==void 0){let{errorPath:c,dataPathArr:u,opts:d}=e,y=a.let("data",(0,Qe._)`${e.data}${(0,Qe.getProperty)(r)}`,!0);l(y),t.errorPath=(0,Qe.str)`${c}${(0,zl.getErrorPath)(r,i,d.jsPropertySyntax)}`,t.parentDataProperty=(0,Qe._)`${r}`,t.dataPathArr=[...u,t.parentDataProperty]}if(n!==void 0){let c=n instanceof Qe.Name?n:a.let("data",n,!0);l(c),s!==void 0&&(t.propertyName=s)}o&&(t.dataTypes=o);function l(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}Ct.extendSubschemaData=wf;function bf(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:i,createErrors:n,allErrors:o}){i!==void 0&&(t.compositeRule=i),n!==void 0&&(t.createErrors=n),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=e,t.jtdMetadata=r}Ct.extendSubschemaMode=bf});var Un=b((My,Sl)=>{"use strict";Sl.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var i,n,o;if(Array.isArray(e)){if(i=e.length,i!=r.length)return!1;for(n=i;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),i=o.length,i!==Object.keys(r).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=i;n--!==0;){var s=o[n];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}});var El=b((Fy,xl)=>{"use strict";var zt=xl.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var i=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};Pi(e,i,n,t,"",t)};zt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};zt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};zt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};zt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Pi(t,e,r,i,n,o,s,a,l,c){if(i&&typeof i=="object"&&!Array.isArray(i)){e(i,n,o,s,a,l,c);for(var u in i){var d=i[u];if(Array.isArray(d)){if(u in zt.arrayKeywords)for(var y=0;y<d.length;y++)Pi(t,e,r,d[y],n+"/"+u+"/"+y,o,n,u,i,y)}else if(u in zt.propsKeywords){if(d&&typeof d=="object")for(var g in d)Pi(t,e,r,d[g],n+"/"+u+"/"+Cf(g),o,n,u,i,g)}else(u in zt.keywords||t.allKeys&&!(u in zt.skipKeywords))&&Pi(t,e,r,d,n+"/"+u,o,n,u,i)}r(i,n,o,s,a,l,c)}}function Cf(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Er=b(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.getSchemaRefs=Se.resolveUrl=Se.normalizeId=Se._getFullPath=Se.getFullPath=Se.inlineRef=void 0;var zf=A(),$f=Un(),Sf=El(),xf=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ef(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Bn(t):e?Tl(t)<=e:!1}Se.inlineRef=Ef;var Tf=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Bn(t){for(let e in t){if(Tf.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(Bn)||typeof r=="object"&&Bn(r))return!0}return!1}function Tl(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!xf.has(r)&&(typeof t[r]=="object"&&(0,zf.eachItem)(t[r],i=>e+=Tl(i)),e===1/0))return 1/0}return e}function Pl(t,e="",r){r!==!1&&(e=or(e));let i=t.parse(e);return Ol(t,i)}Se.getFullPath=Pl;function Ol(t,e){return t.serialize(e).split("#")[0]+"#"}Se._getFullPath=Ol;var Pf=/#\/?$/;function or(t){return t?t.replace(Pf,""):""}Se.normalizeId=or;function Of(t,e,r){return r=or(r),t.resolve(e,r)}Se.resolveUrl=Of;var If=/^[a-z_][-a-z0-9._]*$/i;function kf(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:i}=this.opts,n=or(t[r]||e),o={"":n},s=Pl(i,n,!1),a={},l=new Set;return Sf(t,{allKeys:!0},(d,y,g,h)=>{if(h===void 0)return;let p=s+y,w=o[h];typeof d[r]=="string"&&(w=f.call(this,d[r])),E.call(this,d.$anchor),E.call(this,d.$dynamicAnchor),o[y]=w;function f(M){let Z=this.opts.uriResolver.resolve;if(M=or(w?Z(w,M):M),l.has(M))throw u(M);l.add(M);let k=this.refs[M];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?c(d,k.schema,M):M!==or(p)&&(M[0]==="#"?(c(d,a[M],M),a[M]=d):this.refs[M]=p),M}function E(M){if(typeof M=="string"){if(!If.test(M))throw new Error(`invalid anchor "${M}"`);f.call(this,`#${M}`)}}}),a;function c(d,y,g){if(y!==void 0&&!$f(d,y))throw u(g)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Se.getSchemaRefs=kf});var Or=b($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.getData=$t.KeywordCxt=$t.validateFunctionCode=void 0;var Dl=ul(),Il=xr(),Gn=jn(),Oi=xr(),Nf=gl(),Pr=Cl(),Kn=$l(),x=V(),P=ct(),Vf=Er(),ut=A(),Tr=Sr();function Df(t){if(jl(t)&&(Rl(t),Fl(t))){jf(t);return}Ml(t,()=>(0,Dl.topBoolOrEmptySchema)(t))}$t.validateFunctionCode=Df;function Ml({gen:t,validateName:e,schema:r,schemaEnv:i,opts:n},o){n.code.es5?t.func(e,(0,x._)`${P.default.data}, ${P.default.valCxt}`,i.$async,()=>{t.code((0,x._)`"use strict"; ${kl(r,n)}`),Ff(t,n),t.code(o)}):t.func(e,(0,x._)`${P.default.data}, ${Mf(n)}`,i.$async,()=>t.code(kl(r,n)).code(o))}function Mf(t){return(0,x._)`{${P.default.instancePath}="", ${P.default.parentData}, ${P.default.parentDataProperty}, ${P.default.rootData}=${P.default.data}${t.dynamicRef?(0,x._)`, ${P.default.dynamicAnchors}={}`:x.nil}}={}`}function Ff(t,e){t.if(P.default.valCxt,()=>{t.var(P.default.instancePath,(0,x._)`${P.default.valCxt}.${P.default.instancePath}`),t.var(P.default.parentData,(0,x._)`${P.default.valCxt}.${P.default.parentData}`),t.var(P.default.parentDataProperty,(0,x._)`${P.default.valCxt}.${P.default.parentDataProperty}`),t.var(P.default.rootData,(0,x._)`${P.default.valCxt}.${P.default.rootData}`),e.dynamicRef&&t.var(P.default.dynamicAnchors,(0,x._)`${P.default.valCxt}.${P.default.dynamicAnchors}`)},()=>{t.var(P.default.instancePath,(0,x._)`""`),t.var(P.default.parentData,(0,x._)`undefined`),t.var(P.default.parentDataProperty,(0,x._)`undefined`),t.var(P.default.rootData,P.default.data),e.dynamicRef&&t.var(P.default.dynamicAnchors,(0,x._)`{}`)})}function jf(t){let{schema:e,opts:r,gen:i}=t;Ml(t,()=>{r.$comment&&e.$comment&&Al(t),Lf(t),i.let(P.default.vErrors,null),i.let(P.default.errors,0),r.unevaluated&&Rf(t),ql(t),Bf(t)})}function Rf(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,x._)`${r}.evaluated`),e.if((0,x._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,x._)`${t.evaluated}.props`,(0,x._)`undefined`)),e.if((0,x._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,x._)`${t.evaluated}.items`,(0,x._)`undefined`))}function kl(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,x._)`/*# sourceURL=${r} */`:x.nil}function qf(t,e){if(jl(t)&&(Rl(t),Fl(t))){Af(t,e);return}(0,Dl.boolOrEmptySchema)(t,e)}function Fl({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function jl(t){return typeof t.schema!="boolean"}function Af(t,e){let{schema:r,gen:i,opts:n}=t;n.$comment&&r.$comment&&Al(t),Hf(t),Uf(t);let o=i.const("_errs",P.default.errors);ql(t,o),i.var(e,(0,x._)`${o} === ${P.default.errors}`)}function Rl(t){(0,ut.checkUnknownRules)(t),Wf(t)}function ql(t,e){if(t.opts.jtd)return Nl(t,[],!1,e);let r=(0,Il.getSchemaTypes)(t.schema),i=(0,Il.coerceAndCheckDataType)(t,r);Nl(t,r,!i,e)}function Wf(t){let{schema:e,errSchemaPath:r,opts:i,self:n}=t;e.$ref&&i.ignoreKeywordsWithRef&&(0,ut.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Lf(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,ut.checkStrictMode)(t,"default is ignored in the schema root")}function Hf(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Vf.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Uf(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Al({gen:t,schemaEnv:e,schema:r,errSchemaPath:i,opts:n}){let o=r.$comment;if(n.$comment===!0)t.code((0,x._)`${P.default.self}.logger.log(${o})`);else if(typeof n.$comment=="function"){let s=(0,x.str)`${i}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,x._)`${P.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`)}}function Bf(t){let{gen:e,schemaEnv:r,validateName:i,ValidationError:n,opts:o}=t;r.$async?e.if((0,x._)`${P.default.errors} === 0`,()=>e.return(P.default.data),()=>e.throw((0,x._)`new ${n}(${P.default.vErrors})`)):(e.assign((0,x._)`${i}.errors`,P.default.vErrors),o.unevaluated&&Kf(t),e.return((0,x._)`${P.default.errors} === 0`))}function Kf({gen:t,evaluated:e,props:r,items:i}){r instanceof x.Name&&t.assign((0,x._)`${e}.props`,r),i instanceof x.Name&&t.assign((0,x._)`${e}.items`,i)}function Nl(t,e,r,i){let{gen:n,schema:o,data:s,allErrors:a,opts:l,self:c}=t,{RULES:u}=c;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,ut.schemaHasRulesButRef)(o,u))){n.block(()=>Ll(t,"$ref",u.all.$ref.definition));return}l.jtd||Gf(t,e),n.block(()=>{for(let y of u.rules)d(y);d(u.post)});function d(y){(0,Gn.shouldUseGroup)(o,y)&&(y.type?(n.if((0,Oi.checkDataType)(y.type,s,l.strictNumbers)),Vl(t,y),e.length===1&&e[0]===y.type&&r&&(n.else(),(0,Oi.reportTypeError)(t)),n.endIf()):Vl(t,y),a||n.if((0,x._)`${P.default.errors} === ${i||0}`))}}function Vl(t,e){let{gen:r,schema:i,opts:{useDefaults:n}}=t;n&&(0,Nf.assignDefaults)(t,e.type),r.block(()=>{for(let o of e.rules)(0,Gn.shouldUseRule)(i,o)&&Ll(t,o.keyword,o.definition,e.type)})}function Gf(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Jf(t,e),t.opts.allowUnionTypes||Xf(t,e),Zf(t,t.dataTypes))}function Jf(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Wl(t.dataTypes,r)||Jn(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),Yf(t,e)}}function Xf(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Jn(t,"use allowUnionTypes to allow union type keyword")}function Zf(t,e){let r=t.self.RULES.all;for(let i in r){let n=r[i];if(typeof n=="object"&&(0,Gn.shouldUseRule)(t.schema,n)){let{type:o}=n.definition;o.length&&!o.some(s=>Qf(e,s))&&Jn(t,`missing type "${o.join(",")}" for keyword "${i}"`)}}}function Qf(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Wl(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Yf(t,e){let r=[];for(let i of t.dataTypes)Wl(e,i)?r.push(i):e.includes("integer")&&i==="number"&&r.push("integer");t.dataTypes=r}function Jn(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,ut.checkStrictMode)(t,e,t.opts.strictTypes)}var Ii=class{constructor(e,r,i){if((0,Pr.validateKeywordUsage)(e,r,i),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=i,this.data=e.data,this.schema=e.schema[i],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ut.schemaRefOrVal)(e,this.schema,i,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Hl(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Pr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",P.default.errors))}result(e,r,i){this.failResult((0,x.not)(e),r,i)}failResult(e,r,i){this.gen.if(e),i?i():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,x.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,x._)`${r} !== undefined && (${(0,x.or)(this.invalid$data(),e)})`)}error(e,r,i){if(r){this.setParams(r),this._error(e,i),this.setParams({});return}this._error(e,i)}_error(e,r){(e?Tr.reportExtraError:Tr.reportError)(this,this.def.error,r)}$dataError(){(0,Tr.reportError)(this,this.def.$dataError||Tr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Tr.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,i=x.nil){this.gen.block(()=>{this.check$data(e,i),r()})}check$data(e=x.nil,r=x.nil){if(!this.$data)return;let{gen:i,schemaCode:n,schemaType:o,def:s}=this;i.if((0,x.or)((0,x._)`${n} === undefined`,r)),e!==x.nil&&i.assign(e,!0),(o.length||s.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),e!==x.nil&&i.assign(e,!1)),i.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:i,def:n,it:o}=this;return(0,x.or)(s(),a());function s(){if(i.length){if(!(r instanceof x.Name))throw new Error("ajv implementation error");let l=Array.isArray(i)?i:[i];return(0,x._)`${(0,Oi.checkDataTypes)(l,r,o.opts.strictNumbers,Oi.DataType.Wrong)}`}return x.nil}function a(){if(n.validateSchema){let l=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,x._)`!${l}(${r})`}return x.nil}}subschema(e,r){let i=(0,Kn.getSubschema)(this.it,e);(0,Kn.extendSubschemaData)(i,this.it,e),(0,Kn.extendSubschemaMode)(i,e);let n=J(C(C({},this.it),i),{items:void 0,props:void 0});return qf(n,r),n}mergeEvaluated(e,r){let{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&e.props!==void 0&&(i.props=ut.mergeEvaluated.props(n,e.props,i.props,r)),i.items!==!0&&e.items!==void 0&&(i.items=ut.mergeEvaluated.items(n,e.items,i.items,r)))}mergeValidEvaluated(e,r){let{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(r,()=>this.mergeEvaluated(e,x.Name)),!0}};$t.KeywordCxt=Ii;function Ll(t,e,r,i){let n=new Ii(t,r,e);"code"in r?r.code(n,i):n.$data&&r.validate?(0,Pr.funcKeywordCode)(n,r):"macro"in r?(0,Pr.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,Pr.funcKeywordCode)(n,r)}var ep=/^\/(?:[^~]|~0|~1)*$/,tp=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Hl(t,{dataLevel:e,dataNames:r,dataPathArr:i}){let n,o;if(t==="")return P.default.rootData;if(t[0]==="/"){if(!ep.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);n=t,o=P.default.rootData}else{let c=tp.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);let u=+c[1];if(n=c[2],n==="#"){if(u>=e)throw new Error(l("property/index",u));return i[e-u]}if(u>e)throw new Error(l("data",u));if(o=r[e-u],!n)return o}let s=o,a=n.split("/");for(let c of a)c&&(o=(0,x._)`${o}${(0,x.getProperty)((0,ut.unescapeJsonPointer)(c))}`,s=(0,x._)`${s} && ${o}`);return s;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${e}`}}$t.getData=Hl});var ki=b(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});var Xn=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};Zn.default=Xn});var Ir=b(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});var Qn=Er(),Yn=class extends Error{constructor(e,r,i,n){super(n||`can't resolve reference ${i} from id ${r}`),this.missingRef=(0,Qn.resolveUrl)(e,r,i),this.missingSchema=(0,Qn.normalizeId)((0,Qn.getFullPath)(e,this.missingRef))}};eo.default=Yn});var Vi=b(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.resolveSchema=Ve.getCompilingSchema=Ve.resolveRef=Ve.compileSchema=Ve.SchemaEnv=void 0;var Fe=V(),rp=ki(),Vt=ct(),je=Er(),Ul=A(),ip=Or(),sr=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let i;typeof e.schema=="object"&&(i=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,je.normalizeId)(i?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=i?.$async,this.refs={}}};Ve.SchemaEnv=sr;function ro(t){let e=Bl.call(this,t);if(e)return e;let r=(0,je.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:o}=this.opts,s=new Fe.CodeGen(this.scope,{es5:i,lines:n,ownProperties:o}),a;t.$async&&(a=s.scopeValue("Error",{ref:rp.default,code:(0,Fe._)`require("ajv/dist/runtime/validation_error").default`}));let l=s.scopeName("validate");t.validateName=l;let c={gen:s,allErrors:this.opts.allErrors,data:Vt.default.data,parentData:Vt.default.parentData,parentDataProperty:Vt.default.parentDataProperty,dataNames:[Vt.default.data],dataPathArr:[Fe.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Fe.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Fe.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Fe._)`""`,opts:this.opts,self:this},u;try{this._compilations.add(t),(0,ip.validateFunctionCode)(c),s.optimize(this.opts.code.optimize);let d=s.toString();u=`${s.scopeRefs(Vt.default.scope)}return ${d}`,this.opts.code.process&&(u=this.opts.code.process(u,t));let g=new Function(`${Vt.default.self}`,`${Vt.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:g}),g.errors=null,g.schema=t.schema,g.schemaEnv=t,t.$async&&(g.$async=!0),this.opts.code.source===!0&&(g.source={validateName:l,validateCode:d,scopeValues:s._values}),this.opts.unevaluated){let{props:h,items:p}=c;g.evaluated={props:h instanceof Fe.Name?void 0:h,items:p instanceof Fe.Name?void 0:p,dynamicProps:h instanceof Fe.Name,dynamicItems:p instanceof Fe.Name},g.source&&(g.source.evaluated=(0,Fe.stringify)(g.evaluated))}return t.validate=g,t}catch(d){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),d}finally{this._compilations.delete(t)}}Ve.compileSchema=ro;function np(t,e,r){var i;r=(0,je.resolveUrl)(this.opts.uriResolver,e,r);let n=t.refs[r];if(n)return n;let o=ap.call(this,t,r);if(o===void 0){let s=(i=t.localRefs)===null||i===void 0?void 0:i[r],{schemaId:a}=this.opts;s&&(o=new sr({schema:s,schemaId:a,root:t,baseId:e}))}if(o!==void 0)return t.refs[r]=op.call(this,o)}Ve.resolveRef=np;function op(t){return(0,je.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:ro.call(this,t)}function Bl(t){for(let e of this._compilations)if(sp(e,t))return e}Ve.getCompilingSchema=Bl;function sp(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function ap(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Ni.call(this,t,e)}function Ni(t,e){let r=this.opts.uriResolver.parse(e),i=(0,je._getFullPath)(this.opts.uriResolver,r),n=(0,je.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&i===n)return to.call(this,r,t);let o=(0,je.normalizeId)(i),s=this.refs[o]||this.schemas[o];if(typeof s=="string"){let a=Ni.call(this,t,s);return typeof a?.schema!="object"?void 0:to.call(this,r,a)}if(typeof s?.schema=="object"){if(s.validate||ro.call(this,s),o===(0,je.normalizeId)(e)){let{schema:a}=s,{schemaId:l}=this.opts,c=a[l];return c&&(n=(0,je.resolveUrl)(this.opts.uriResolver,n,c)),new sr({schema:a,schemaId:l,root:t,baseId:n})}return to.call(this,r,s)}}Ve.resolveSchema=Ni;var lp=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function to(t,{baseId:e,schema:r,root:i}){var n;if(((n=t.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let l=r[(0,Ul.unescapeFragment)(a)];if(l===void 0)return;r=l;let c=typeof r=="object"&&r[this.opts.schemaId];!lp.has(a)&&c&&(e=(0,je.resolveUrl)(this.opts.uriResolver,e,c))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,Ul.schemaHasRulesButRef)(r,this.RULES)){let a=(0,je.resolveUrl)(this.opts.uriResolver,e,r.$ref);o=Ni.call(this,i,a)}let{schemaId:s}=this.opts;if(o=o||new sr({schema:r,schemaId:s,root:i,baseId:e}),o.schema!==o.root.schema)return o}});var Kl=b((Hy,cp)=>{cp.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Jl=b((Uy,Gl)=>{"use strict";var up={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Gl.exports={HEX:up}});var ic=b((By,rc)=>{"use strict";var{HEX:dp}=Jl();function Yl(t){if(tc(t,".")<3)return{host:t,isIPV4:!1};let e=t.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=e;return r?{host:pp(r,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function io(t,e=!1){let r="",i=!0;for(let n of t){if(dp[n]===void 0)return;n!=="0"&&i===!0&&(i=!1),i||(r+=n)}return e&&r.length===0&&(r="0"),r}function fp(t){let e=0,r={error:!1,address:"",zone:""},i=[],n=[],o=!1,s=!1,a=!1;function l(){if(n.length){if(o===!1){let c=io(n);if(c!==void 0)i.push(c);else return r.error=!0,!1}n.length=0}return!0}for(let c=0;c<t.length;c++){let u=t[c];if(!(u==="["||u==="]"))if(u===":"){if(s===!0&&(a=!0),!l())break;if(e++,i.push(":"),e>7){r.error=!0;break}c-1>=0&&t[c-1]===":"&&(s=!0);continue}else if(u==="%"){if(!l())break;o=!0}else{n.push(u);continue}}return n.length&&(o?r.zone=n.join(""):a?i.push(n.join("")):i.push(io(n))),r.address=i.join(""),r}function ec(t,e={}){if(tc(t,":")<2)return{host:t,isIPV6:!1};let r=fp(t);if(r.error)return{host:t,isIPV6:!1};{let i=r.address,n=r.address;return r.zone&&(i+="%"+r.zone,n+="%25"+r.zone),{host:i,escapedHost:n,isIPV6:!0}}}function pp(t,e){let r="",i=!0,n=t.length;for(let o=0;o<n;o++){let s=t[o];s==="0"&&i?(o+1<=n&&t[o+1]===e||o+1===n)&&(r+=s,i=!1):(s===e?i=!0:i=!1,r+=s)}return r}function tc(t,e){let r=0;for(let i=0;i<t.length;i++)t[i]===e&&r++;return r}var Xl=/^\.\.?\//u,Zl=/^\/\.(?:\/|$)/u,Ql=/^\/\.\.(?:\/|$)/u,mp=/^\/?(?:.|\n)*?(?=\/|$)/u;function hp(t){let e=[];for(;t.length;)if(t.match(Xl))t=t.replace(Xl,"");else if(t.match(Zl))t=t.replace(Zl,"/");else if(t.match(Ql))t=t.replace(Ql,"/"),e.pop();else if(t==="."||t==="..")t="";else{let r=t.match(mp);if(r){let i=r[0];t=t.slice(i.length),e.push(i)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function _p(t,e){let r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function gp(t,e){let r=[];if(t.userinfo!==void 0&&(r.push(t.userinfo),r.push("@")),t.host!==void 0){let i=unescape(t.host),n=Yl(i);if(n.isIPV4)i=n.host;else{let o=ec(n.host,{isIPV4:!1});o.isIPV6===!0?i=`[${o.escapedHost}]`:i=t.host}r.push(i)}return(typeof t.port=="number"||typeof t.port=="string")&&(r.push(":"),r.push(String(t.port))),r.length?r.join(""):void 0}rc.exports={recomposeAuthority:gp,normalizeComponentEncoding:_p,removeDotSegments:hp,normalizeIPv4:Yl,normalizeIPv6:ec,stringArrayToHexStripped:io}});var cc=b((Ky,lc)=>{"use strict";var yp=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,vp=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function nc(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function oc(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function sc(t){let e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function wp(t){return t.secure=nc(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function bp(t){if((t.port===(nc(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function Cp(t,e){if(!t.path)return t.error="URN can not be parsed",t;let r=t.path.match(vp);if(r){let i=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];let n=`${i}:${e.nid||t.nid}`,o=no[n];t.path=void 0,o&&(t=o.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function zp(t,e){let r=e.scheme||t.scheme||"urn",i=t.nid.toLowerCase(),n=`${r}:${e.nid||i}`,o=no[n];o&&(t=o.serialize(t,e));let s=t,a=t.nss;return s.path=`${i||e.nid}:${a}`,e.skipEscape=!0,s}function $p(t,e){let r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!yp.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Sp(t){let e=t;return e.nss=(t.uuid||"").toLowerCase(),e}var ac={scheme:"http",domainHost:!0,parse:oc,serialize:sc},xp={scheme:"https",domainHost:ac.domainHost,parse:oc,serialize:sc},Di={scheme:"ws",domainHost:!0,parse:wp,serialize:bp},Ep={scheme:"wss",domainHost:Di.domainHost,parse:Di.parse,serialize:Di.serialize},Tp={scheme:"urn",parse:Cp,serialize:zp,skipNormalize:!0},Pp={scheme:"urn:uuid",parse:$p,serialize:Sp,skipNormalize:!0},no={http:ac,https:xp,ws:Di,wss:Ep,urn:Tp,"urn:uuid":Pp};lc.exports=no});var dc=b((Gy,Fi)=>{"use strict";var{normalizeIPv6:Op,normalizeIPv4:Ip,removeDotSegments:kr,recomposeAuthority:kp,normalizeComponentEncoding:Mi}=ic(),oo=cc();function Np(t,e){return typeof t=="string"?t=Ye(dt(t,e),e):typeof t=="object"&&(t=dt(Ye(t,e),e)),t}function Vp(t,e,r){let i=Object.assign({scheme:"null"},r),n=uc(dt(t,i),dt(e,i),i,!0);return Ye(n,J(C({},i),{skipEscape:!0}))}function uc(t,e,r,i){let n={};return i||(t=dt(Ye(t,r),r),e=dt(Ye(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(n.scheme=e.scheme,n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=kr(e.path||""),n.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=kr(e.path||""),n.query=e.query):(e.path?(e.path.charAt(0)==="/"?n.path=kr(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?n.path="/"+e.path:t.path?n.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:n.path=e.path,n.path=kr(n.path)),n.query=e.query):(n.path=t.path,e.query!==void 0?n.query=e.query:n.query=t.query),n.userinfo=t.userinfo,n.host=t.host,n.port=t.port),n.scheme=t.scheme),n.fragment=e.fragment,n}function Dp(t,e,r){return typeof t=="string"?(t=unescape(t),t=Ye(Mi(dt(t,r),!0),J(C({},r),{skipEscape:!0}))):typeof t=="object"&&(t=Ye(Mi(t,!0),J(C({},r),{skipEscape:!0}))),typeof e=="string"?(e=unescape(e),e=Ye(Mi(dt(e,r),!0),J(C({},r),{skipEscape:!0}))):typeof e=="object"&&(e=Ye(Mi(e,!0),J(C({},r),{skipEscape:!0}))),t.toLowerCase()===e.toLowerCase()}function Ye(t,e){let r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},i=Object.assign({},e),n=[],o=oo[(i.scheme||r.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(r,i),r.path!==void 0&&(i.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),i.reference!=="suffix"&&r.scheme&&(n.push(r.scheme),n.push(":"));let s=kp(r,i);if(s!==void 0&&(i.reference!=="suffix"&&n.push("//"),n.push(s),r.path&&r.path.charAt(0)!=="/"&&n.push("/")),r.path!==void 0){let a=r.path;!i.absolutePath&&(!o||!o.absolutePath)&&(a=kr(a)),s===void 0&&(a=a.replace(/^\/\//u,"/%2F")),n.push(a)}return r.query!==void 0&&(n.push("?"),n.push(r.query)),r.fragment!==void 0&&(n.push("#"),n.push(r.fragment)),n.join("")}var Mp=Array.from({length:127},(t,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function Fp(t){let e=0;for(let r=0,i=t.length;r<i;++r)if(e=t.charCodeAt(r),e>126||Mp[e])return!0;return!1}var jp=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function dt(t,e){let r=Object.assign({},e),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},n=t.indexOf("%")!==-1,o=!1;r.reference==="suffix"&&(t=(r.scheme?r.scheme+":":"")+"//"+t);let s=t.match(jp);if(s){if(i.scheme=s[1],i.userinfo=s[3],i.host=s[4],i.port=parseInt(s[5],10),i.path=s[6]||"",i.query=s[7],i.fragment=s[8],isNaN(i.port)&&(i.port=s[5]),i.host){let l=Ip(i.host);if(l.isIPV4===!1){let c=Op(l.host,{isIPV4:!1});i.host=c.host.toLowerCase(),o=c.isIPV6}else i.host=l.host,o=!0}i.scheme===void 0&&i.userinfo===void 0&&i.host===void 0&&i.port===void 0&&!i.path&&i.query===void 0?i.reference="same-document":i.scheme===void 0?i.reference="relative":i.fragment===void 0?i.reference="absolute":i.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==i.reference&&(i.error=i.error||"URI is not a "+r.reference+" reference.");let a=oo[(r.scheme||i.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!a||!a.unicodeSupport)&&i.host&&(r.domainHost||a&&a.domainHost)&&o===!1&&Fp(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(l){i.error=i.error||"Host's domain name can not be converted to ASCII: "+l}(!a||a&&!a.skipNormalize)&&(n&&i.scheme!==void 0&&(i.scheme=unescape(i.scheme)),n&&i.userinfo!==void 0&&(i.userinfo=unescape(i.userinfo)),n&&i.host!==void 0&&(i.host=unescape(i.host)),i.path!==void 0&&i.path.length&&(i.path=escape(unescape(i.path))),i.fragment!==void 0&&i.fragment.length&&(i.fragment=encodeURI(decodeURIComponent(i.fragment)))),a&&a.parse&&a.parse(i,r)}else i.error=i.error||"URI can not be parsed.";return i}var so={SCHEMES:oo,normalize:Np,resolve:Vp,resolveComponents:uc,equal:Dp,serialize:Ye,parse:dt};Fi.exports=so;Fi.exports.default=so;Fi.exports.fastUri=so});var pc=b(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});var fc=dc();fc.code='require("ajv/dist/runtime/uri").default';ao.default=fc});var bc=b(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.CodeGen=ce.Name=ce.nil=ce.stringify=ce.str=ce._=ce.KeywordCxt=void 0;var Rp=Or();Object.defineProperty(ce,"KeywordCxt",{enumerable:!0,get:function(){return Rp.KeywordCxt}});var ar=V();Object.defineProperty(ce,"_",{enumerable:!0,get:function(){return ar._}});Object.defineProperty(ce,"str",{enumerable:!0,get:function(){return ar.str}});Object.defineProperty(ce,"stringify",{enumerable:!0,get:function(){return ar.stringify}});Object.defineProperty(ce,"nil",{enumerable:!0,get:function(){return ar.nil}});Object.defineProperty(ce,"Name",{enumerable:!0,get:function(){return ar.Name}});Object.defineProperty(ce,"CodeGen",{enumerable:!0,get:function(){return ar.CodeGen}});var qp=ki(),yc=Ir(),Ap=Fn(),Nr=Vi(),Wp=V(),Vr=Er(),ji=xr(),co=A(),mc=Kl(),Lp=pc(),vc=(t,e)=>new RegExp(t,e);vc.code="new RegExp";var Hp=["removeAdditional","useDefaults","coerceTypes"],Up=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Bp={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Kp={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},hc=200;function Gp(t){var e,r,i,n,o,s,a,l,c,u,d,y,g,h,p,w,f,E,M,Z,k,Ae,ot,an,ln;let gr=t.strict,cn=(e=t.code)===null||e===void 0?void 0:e.optimize,bs=cn===!0||cn===void 0?1:cn||0,Cs=(i=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&i!==void 0?i:vc,Bu=(n=t.uriResolver)!==null&&n!==void 0?n:Lp.default;return{strictSchema:(s=(o=t.strictSchema)!==null&&o!==void 0?o:gr)!==null&&s!==void 0?s:!0,strictNumbers:(l=(a=t.strictNumbers)!==null&&a!==void 0?a:gr)!==null&&l!==void 0?l:!0,strictTypes:(u=(c=t.strictTypes)!==null&&c!==void 0?c:gr)!==null&&u!==void 0?u:"log",strictTuples:(y=(d=t.strictTuples)!==null&&d!==void 0?d:gr)!==null&&y!==void 0?y:"log",strictRequired:(h=(g=t.strictRequired)!==null&&g!==void 0?g:gr)!==null&&h!==void 0?h:!1,code:t.code?J(C({},t.code),{optimize:bs,regExp:Cs}):{optimize:bs,regExp:Cs},loopRequired:(p=t.loopRequired)!==null&&p!==void 0?p:hc,loopEnum:(w=t.loopEnum)!==null&&w!==void 0?w:hc,meta:(f=t.meta)!==null&&f!==void 0?f:!0,messages:(E=t.messages)!==null&&E!==void 0?E:!0,inlineRefs:(M=t.inlineRefs)!==null&&M!==void 0?M:!0,schemaId:(Z=t.schemaId)!==null&&Z!==void 0?Z:"$id",addUsedSchema:(k=t.addUsedSchema)!==null&&k!==void 0?k:!0,validateSchema:(Ae=t.validateSchema)!==null&&Ae!==void 0?Ae:!0,validateFormats:(ot=t.validateFormats)!==null&&ot!==void 0?ot:!0,unicodeRegExp:(an=t.unicodeRegExp)!==null&&an!==void 0?an:!0,int32range:(ln=t.int32range)!==null&&ln!==void 0?ln:!0,uriResolver:Bu}}var Dr=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=C(C({},e),Gp(e));let{es5:r,lines:i}=this.opts.code;this.scope=new Wp.ValueScope({scope:{},prefixes:Up,es5:r,lines:i}),this.logger=em(e.logger);let n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,Ap.getRules)(),_c.call(this,Bp,e,"NOT SUPPORTED"),_c.call(this,Kp,e,"DEPRECATED","warn"),this._metaOpts=Qp.call(this),e.formats&&Xp.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Zp.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Jp.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:i}=this.opts,n=mc;i==="id"&&(n=C({},mc),n.id=n.$id,delete n.$id),r&&e&&this.addMetaSchema(n,n[i],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let i;if(typeof e=="string"){if(i=this.getSchema(e),!i)throw new Error(`no schema with key or ref "${e}"`)}else i=this.compile(e);let n=i(r);return"$async"in i||(this.errors=i.errors),n}compile(e,r){let i=this._addSchema(e,r);return i.validate||this._compileSchemaEnv(i)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return n.call(this,e,r);function n(u,d){return Rt(this,null,function*(){yield o.call(this,u.$schema);let y=this._addSchema(u,d);return y.validate||s.call(this,y)})}function o(u){return Rt(this,null,function*(){u&&!this.getSchema(u)&&(yield n.call(this,{$ref:u},!0))})}function s(u){return Rt(this,null,function*(){try{return this._compileSchemaEnv(u)}catch(d){if(!(d instanceof yc.default))throw d;return a.call(this,d),yield l.call(this,d.missingSchema),s.call(this,u)}})}function a({missingSchema:u,missingRef:d}){if(this.refs[u])throw new Error(`AnySchema ${u} is loaded but ${d} cannot be resolved`)}function l(u){return Rt(this,null,function*(){let d=yield c.call(this,u);this.refs[u]||(yield o.call(this,d.$schema)),this.refs[u]||this.addSchema(d,u,r)})}function c(u){return Rt(this,null,function*(){let d=this._loading[u];if(d)return d;try{return yield this._loading[u]=i(u)}finally{delete this._loading[u]}})}}addSchema(e,r,i,n=this.opts.validateSchema){if(Array.isArray(e)){for(let s of e)this.addSchema(s,void 0,i,n);return this}let o;if(typeof e=="object"){let{schemaId:s}=this.opts;if(o=e[s],o!==void 0&&typeof o!="string")throw new Error(`schema ${s} must be string`)}return r=(0,Vr.normalizeId)(r||o),this._checkUnique(r),this.schemas[r]=this._addSchema(e,i,r,n,!0),this}addMetaSchema(e,r,i=this.opts.validateSchema){return this.addSchema(e,r,!0,i),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let i;if(i=e.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(i,e);if(!n&&r){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return n}getSchema(e){let r;for(;typeof(r=gc.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:i}=this.opts,n=new Nr.SchemaEnv({schema:{},schemaId:i});if(r=Nr.resolveSchema.call(this,n,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=gc.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let i=e[this.opts.schemaId];return i&&(i=(0,Vr.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let i;if(typeof e=="string")i=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=i);else if(typeof e=="object"&&r===void 0){if(r=e,i=r.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(rm.call(this,i,r),!r)return(0,co.eachItem)(i,o=>lo.call(this,o)),this;nm.call(this,r);let n=J(C({},r),{type:(0,ji.getJSONTypes)(r.type),schemaType:(0,ji.getJSONTypes)(r.schemaType)});return(0,co.eachItem)(i,n.type.length===0?o=>lo.call(this,o,n):o=>n.type.forEach(s=>lo.call(this,o,n,s))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let i of r.rules){let n=i.rules.findIndex(o=>o.keyword===e);n>=0&&i.rules.splice(n,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:i="data"}={}){return!e||e.length===0?"No errors":e.map(n=>`${i}${n.instancePath} ${n.message}`).reduce((n,o)=>n+r+o)}$dataMetaSchema(e,r){let i=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let n of r){let o=n.split("/").slice(1),s=e;for(let a of o)s=s[a];for(let a in i){let l=i[a];if(typeof l!="object")continue;let{$data:c}=l.definition,u=s[a];c&&u&&(s[a]=wc(u))}}return e}_removeAllSchemas(e,r){for(let i in e){let n=e[i];(!r||r.test(i))&&(typeof n=="string"?delete e[i]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[i]))}}_addSchema(e,r,i,n=this.opts.validateSchema,o=this.opts.addUsedSchema){let s,{schemaId:a}=this.opts;if(typeof e=="object")s=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let l=this._cache.get(e);if(l!==void 0)return l;i=(0,Vr.normalizeId)(s||i);let c=Vr.getSchemaRefs.call(this,e,i);return l=new Nr.SchemaEnv({schema:e,schemaId:a,meta:r,baseId:i,localRefs:c}),this._cache.set(l.schema,l),o&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=l),n&&this.validateSchema(e,!0),l}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Nr.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{Nr.compileSchema.call(this,e)}finally{this.opts=r}}};Dr.ValidationError=qp.default;Dr.MissingRefError=yc.default;ce.default=Dr;function _c(t,e,r,i="error"){for(let n in t){let o=n;o in e&&this.logger[i](`${r}: option ${n}. ${t[o]}`)}}function gc(t){return t=(0,Vr.normalizeId)(t),this.schemas[t]||this.refs[t]}function Jp(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function Xp(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function Zp(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function Qp(){let t=C({},this.opts);for(let e of Hp)delete t[e];return t}var Yp={log(){},warn(){},error(){}};function em(t){if(t===!1)return Yp;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var tm=/^[a-z_$][a-z0-9_$:-]*$/i;function rm(t,e){let{RULES:r}=this;if((0,co.eachItem)(t,i=>{if(r.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!tm.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function lo(t,e,r){var i;let n=e?.post;if(r&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,s=n?o.post:o.rules.find(({type:l})=>l===r);if(s||(s={type:r,rules:[]},o.rules.push(s)),o.keywords[t]=!0,!e)return;let a={keyword:t,definition:J(C({},e),{type:(0,ji.getJSONTypes)(e.type),schemaType:(0,ji.getJSONTypes)(e.schemaType)})};e.before?im.call(this,s,a,e.before):s.rules.push(a),o.all[t]=a,(i=e.implements)===null||i===void 0||i.forEach(l=>this.addKeyword(l))}function im(t,e,r){let i=t.rules.findIndex(n=>n.keyword===r);i>=0?t.rules.splice(i,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function nm(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=wc(e)),t.validateSchema=this.compile(e,!0))}var om={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function wc(t){return{anyOf:[t,om]}}});var Cc=b(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});var sm={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};uo.default=sm});var xc=b(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.callRef=Dt.getValidate=void 0;var am=Ir(),zc=Ne(),xe=V(),lr=ct(),$c=Vi(),Ri=A(),lm={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:i}=t,{baseId:n,schemaEnv:o,validateName:s,opts:a,self:l}=i,{root:c}=o;if((r==="#"||r==="#/")&&n===c.baseId)return d();let u=$c.resolveRef.call(l,c,n,r);if(u===void 0)throw new am.default(i.opts.uriResolver,n,r);if(u instanceof $c.SchemaEnv)return y(u);return g(u);function d(){if(o===c)return qi(t,s,o,o.$async);let h=e.scopeValue("root",{ref:c});return qi(t,(0,xe._)`${h}.validate`,c,c.$async)}function y(h){let p=Sc(t,h);qi(t,p,h,h.$async)}function g(h){let p=e.scopeValue("schema",a.code.source===!0?{ref:h,code:(0,xe.stringify)(h)}:{ref:h}),w=e.name("valid"),f=t.subschema({schema:h,dataTypes:[],schemaPath:xe.nil,topSchemaRef:p,errSchemaPath:r},w);t.mergeEvaluated(f),t.ok(w)}}};function Sc(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,xe._)`${r.scopeValue("wrapper",{ref:e})}.validate`}Dt.getValidate=Sc;function qi(t,e,r,i){let{gen:n,it:o}=t,{allErrors:s,schemaEnv:a,opts:l}=o,c=l.passContext?lr.default.this:xe.nil;i?u():d();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");let h=n.let("valid");n.try(()=>{n.code((0,xe._)`await ${(0,zc.callValidateCode)(t,e,c)}`),g(e),s||n.assign(h,!0)},p=>{n.if((0,xe._)`!(${p} instanceof ${o.ValidationError})`,()=>n.throw(p)),y(p),s||n.assign(h,!1)}),t.ok(h)}function d(){t.result((0,zc.callValidateCode)(t,e,c),()=>g(e),()=>y(e))}function y(h){let p=(0,xe._)`${h}.errors`;n.assign(lr.default.vErrors,(0,xe._)`${lr.default.vErrors} === null ? ${p} : ${lr.default.vErrors}.concat(${p})`),n.assign(lr.default.errors,(0,xe._)`${lr.default.vErrors}.length`)}function g(h){var p;if(!o.opts.unevaluated)return;let w=(p=r?.validate)===null||p===void 0?void 0:p.evaluated;if(o.props!==!0)if(w&&!w.dynamicProps)w.props!==void 0&&(o.props=Ri.mergeEvaluated.props(n,w.props,o.props));else{let f=n.var("props",(0,xe._)`${h}.evaluated.props`);o.props=Ri.mergeEvaluated.props(n,f,o.props,xe.Name)}if(o.items!==!0)if(w&&!w.dynamicItems)w.items!==void 0&&(o.items=Ri.mergeEvaluated.items(n,w.items,o.items));else{let f=n.var("items",(0,xe._)`${h}.evaluated.items`);o.items=Ri.mergeEvaluated.items(n,f,o.items,xe.Name)}}}Dt.callRef=qi;Dt.default=lm});var Ec=b(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});var cm=Cc(),um=xc(),dm=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",cm.default,um.default];fo.default=dm});var Tc=b(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});var Ai=V(),St=Ai.operators,Wi={maximum:{okStr:"<=",ok:St.LTE,fail:St.GT},minimum:{okStr:">=",ok:St.GTE,fail:St.LT},exclusiveMaximum:{okStr:"<",ok:St.LT,fail:St.GTE},exclusiveMinimum:{okStr:">",ok:St.GT,fail:St.LTE}},fm={message:({keyword:t,schemaCode:e})=>(0,Ai.str)`must be ${Wi[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Ai._)`{comparison: ${Wi[t].okStr}, limit: ${e}}`},pm={keyword:Object.keys(Wi),type:"number",schemaType:"number",$data:!0,error:fm,code(t){let{keyword:e,data:r,schemaCode:i}=t;t.fail$data((0,Ai._)`${r} ${Wi[e].fail} ${i} || isNaN(${r})`)}};po.default=pm});var Pc=b(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});var Mr=V(),mm={message:({schemaCode:t})=>(0,Mr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Mr._)`{multipleOf: ${t}}`},hm={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:mm,code(t){let{gen:e,data:r,schemaCode:i,it:n}=t,o=n.opts.multipleOfPrecision,s=e.let("res"),a=o?(0,Mr._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,Mr._)`${s} !== parseInt(${s})`;t.fail$data((0,Mr._)`(${i} === 0 || (${s} = ${r}/${i}, ${a}))`)}};mo.default=hm});var Ic=b(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});function Oc(t){let e=t.length,r=0,i=0,n;for(;i<e;)r++,n=t.charCodeAt(i++),n>=55296&&n<=56319&&i<e&&(n=t.charCodeAt(i),(n&64512)===56320&&i++);return r}ho.default=Oc;Oc.code='require("ajv/dist/runtime/ucs2length").default'});var kc=b(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});var Mt=V(),_m=A(),gm=Ic(),ym={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,Mt.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Mt._)`{limit: ${t}}`},vm={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:ym,code(t){let{keyword:e,data:r,schemaCode:i,it:n}=t,o=e==="maxLength"?Mt.operators.GT:Mt.operators.LT,s=n.opts.unicode===!1?(0,Mt._)`${r}.length`:(0,Mt._)`${(0,_m.useFunc)(t.gen,gm.default)}(${r})`;t.fail$data((0,Mt._)`${s} ${o} ${i}`)}};_o.default=vm});var Nc=b(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});var wm=Ne(),Li=V(),bm={message:({schemaCode:t})=>(0,Li.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Li._)`{pattern: ${t}}`},Cm={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:bm,code(t){let{data:e,$data:r,schema:i,schemaCode:n,it:o}=t,s=o.opts.unicodeRegExp?"u":"",a=r?(0,Li._)`(new RegExp(${n}, ${s}))`:(0,wm.usePattern)(t,i);t.fail$data((0,Li._)`!${a}.test(${e})`)}};go.default=Cm});var Vc=b(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});var Fr=V(),zm={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,Fr.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Fr._)`{limit: ${t}}`},$m={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:zm,code(t){let{keyword:e,data:r,schemaCode:i}=t,n=e==="maxProperties"?Fr.operators.GT:Fr.operators.LT;t.fail$data((0,Fr._)`Object.keys(${r}).length ${n} ${i}`)}};yo.default=$m});var Dc=b(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});var jr=Ne(),Rr=V(),Sm=A(),xm={message:({params:{missingProperty:t}})=>(0,Rr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Rr._)`{missingProperty: ${t}}`},Em={keyword:"required",type:"object",schemaType:"array",$data:!0,error:xm,code(t){let{gen:e,schema:r,schemaCode:i,data:n,$data:o,it:s}=t,{opts:a}=s;if(!o&&r.length===0)return;let l=r.length>=a.loopRequired;if(s.allErrors?c():u(),a.strictRequired){let g=t.parentSchema.properties,{definedProperties:h}=t.it;for(let p of r)if(g?.[p]===void 0&&!h.has(p)){let w=s.schemaEnv.baseId+s.errSchemaPath,f=`required property "${p}" is not defined at "${w}" (strictRequired)`;(0,Sm.checkStrictMode)(s,f,s.opts.strictRequired)}}function c(){if(l||o)t.block$data(Rr.nil,d);else for(let g of r)(0,jr.checkReportMissingProp)(t,g)}function u(){let g=e.let("missing");if(l||o){let h=e.let("valid",!0);t.block$data(h,()=>y(g,h)),t.ok(h)}else e.if((0,jr.checkMissingProp)(t,r,g)),(0,jr.reportMissingProp)(t,g),e.else()}function d(){e.forOf("prop",i,g=>{t.setParams({missingProperty:g}),e.if((0,jr.noPropertyInData)(e,n,g,a.ownProperties),()=>t.error())})}function y(g,h){t.setParams({missingProperty:g}),e.forOf(g,i,()=>{e.assign(h,(0,jr.propertyInData)(e,n,g,a.ownProperties)),e.if((0,Rr.not)(h),()=>{t.error(),e.break()})},Rr.nil)}}};vo.default=Em});var Mc=b(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});var qr=V(),Tm={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,qr.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,qr._)`{limit: ${t}}`},Pm={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Tm,code(t){let{keyword:e,data:r,schemaCode:i}=t,n=e==="maxItems"?qr.operators.GT:qr.operators.LT;t.fail$data((0,qr._)`${r}.length ${n} ${i}`)}};wo.default=Pm});var Hi=b(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});var Fc=Un();Fc.code='require("ajv/dist/runtime/equal").default';bo.default=Fc});var jc=b(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});var Co=xr(),ue=V(),Om=A(),Im=Hi(),km={message:({params:{i:t,j:e}})=>(0,ue.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,ue._)`{i: ${t}, j: ${e}}`},Nm={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:km,code(t){let{gen:e,data:r,$data:i,schema:n,parentSchema:o,schemaCode:s,it:a}=t;if(!i&&!n)return;let l=e.let("valid"),c=o.items?(0,Co.getSchemaTypes)(o.items):[];t.block$data(l,u,(0,ue._)`${s} === false`),t.ok(l);function u(){let h=e.let("i",(0,ue._)`${r}.length`),p=e.let("j");t.setParams({i:h,j:p}),e.assign(l,!0),e.if((0,ue._)`${h} > 1`,()=>(d()?y:g)(h,p))}function d(){return c.length>0&&!c.some(h=>h==="object"||h==="array")}function y(h,p){let w=e.name("item"),f=(0,Co.checkDataTypes)(c,w,a.opts.strictNumbers,Co.DataType.Wrong),E=e.const("indices",(0,ue._)`{}`);e.for((0,ue._)`;${h}--;`,()=>{e.let(w,(0,ue._)`${r}[${h}]`),e.if(f,(0,ue._)`continue`),c.length>1&&e.if((0,ue._)`typeof ${w} == "string"`,(0,ue._)`${w} += "_"`),e.if((0,ue._)`typeof ${E}[${w}] == "number"`,()=>{e.assign(p,(0,ue._)`${E}[${w}]`),t.error(),e.assign(l,!1).break()}).code((0,ue._)`${E}[${w}] = ${h}`)})}function g(h,p){let w=(0,Om.useFunc)(e,Im.default),f=e.name("outer");e.label(f).for((0,ue._)`;${h}--;`,()=>e.for((0,ue._)`${p} = ${h}; ${p}--;`,()=>e.if((0,ue._)`${w}(${r}[${h}], ${r}[${p}])`,()=>{t.error(),e.assign(l,!1).break(f)})))}}};zo.default=Nm});var Rc=b(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});var $o=V(),Vm=A(),Dm=Hi(),Mm={message:"must be equal to constant",params:({schemaCode:t})=>(0,$o._)`{allowedValue: ${t}}`},Fm={keyword:"const",$data:!0,error:Mm,code(t){let{gen:e,data:r,$data:i,schemaCode:n,schema:o}=t;i||o&&typeof o=="object"?t.fail$data((0,$o._)`!${(0,Vm.useFunc)(e,Dm.default)}(${r}, ${n})`):t.fail((0,$o._)`${o} !== ${r}`)}};So.default=Fm});var qc=b(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});var Ar=V(),jm=A(),Rm=Hi(),qm={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Ar._)`{allowedValues: ${t}}`},Am={keyword:"enum",schemaType:"array",$data:!0,error:qm,code(t){let{gen:e,data:r,$data:i,schema:n,schemaCode:o,it:s}=t;if(!i&&n.length===0)throw new Error("enum must have non-empty array");let a=n.length>=s.opts.loopEnum,l,c=()=>l??(l=(0,jm.useFunc)(e,Rm.default)),u;if(a||i)u=e.let("valid"),t.block$data(u,d);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let g=e.const("vSchema",o);u=(0,Ar.or)(...n.map((h,p)=>y(g,p)))}t.pass(u);function d(){e.assign(u,!1),e.forOf("v",o,g=>e.if((0,Ar._)`${c()}(${r}, ${g})`,()=>e.assign(u,!0).break()))}function y(g,h){let p=n[h];return typeof p=="object"&&p!==null?(0,Ar._)`${c()}(${r}, ${g}[${h}])`:(0,Ar._)`${r} === ${p}`}}};xo.default=Am});var Ac=b(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});var Wm=Tc(),Lm=Pc(),Hm=kc(),Um=Nc(),Bm=Vc(),Km=Dc(),Gm=Mc(),Jm=jc(),Xm=Rc(),Zm=qc(),Qm=[Wm.default,Lm.default,Hm.default,Um.default,Bm.default,Km.default,Gm.default,Jm.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Xm.default,Zm.default];Eo.default=Qm});var Po=b(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.validateAdditionalItems=void 0;var Ft=V(),To=A(),Ym={message:({params:{len:t}})=>(0,Ft.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Ft._)`{limit: ${t}}`},eh={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Ym,code(t){let{parentSchema:e,it:r}=t,{items:i}=e;if(!Array.isArray(i)){(0,To.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Wc(t,i)}};function Wc(t,e){let{gen:r,schema:i,data:n,keyword:o,it:s}=t;s.items=!0;let a=r.const("len",(0,Ft._)`${n}.length`);if(i===!1)t.setParams({len:e.length}),t.pass((0,Ft._)`${a} <= ${e.length}`);else if(typeof i=="object"&&!(0,To.alwaysValidSchema)(s,i)){let c=r.var("valid",(0,Ft._)`${a} <= ${e.length}`);r.if((0,Ft.not)(c),()=>l(c)),t.ok(c)}function l(c){r.forRange("i",e.length,a,u=>{t.subschema({keyword:o,dataProp:u,dataPropType:To.Type.Num},c),s.allErrors||r.if((0,Ft.not)(c),()=>r.break())})}}Wr.validateAdditionalItems=Wc;Wr.default=eh});var Oo=b(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.validateTuple=void 0;var Lc=V(),Ui=A(),th=Ne(),rh={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return Hc(t,"additionalItems",e);r.items=!0,!(0,Ui.alwaysValidSchema)(r,e)&&t.ok((0,th.validateArray)(t))}};function Hc(t,e,r=t.schema){let{gen:i,parentSchema:n,data:o,keyword:s,it:a}=t;u(n),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=Ui.mergeEvaluated.items(i,r.length,a.items));let l=i.name("valid"),c=i.const("len",(0,Lc._)`${o}.length`);r.forEach((d,y)=>{(0,Ui.alwaysValidSchema)(a,d)||(i.if((0,Lc._)`${c} > ${y}`,()=>t.subschema({keyword:s,schemaProp:y,dataProp:y},l)),t.ok(l))});function u(d){let{opts:y,errSchemaPath:g}=a,h=r.length,p=h===d.minItems&&(h===d.maxItems||d[e]===!1);if(y.strictTuples&&!p){let w=`"${s}" is ${h}-tuple, but minItems or maxItems/${e} are not specified or different at path "${g}"`;(0,Ui.checkStrictMode)(a,w,y.strictTuples)}}}Lr.validateTuple=Hc;Lr.default=rh});var Uc=b(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var ih=Oo(),nh={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,ih.validateTuple)(t,"items")};Io.default=nh});var Kc=b(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});var Bc=V(),oh=A(),sh=Ne(),ah=Po(),lh={message:({params:{len:t}})=>(0,Bc.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Bc._)`{limit: ${t}}`},ch={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:lh,code(t){let{schema:e,parentSchema:r,it:i}=t,{prefixItems:n}=r;i.items=!0,!(0,oh.alwaysValidSchema)(i,e)&&(n?(0,ah.validateAdditionalItems)(t,n):t.ok((0,sh.validateArray)(t)))}};ko.default=ch});var Gc=b(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});var De=V(),Bi=A(),uh={message:({params:{min:t,max:e}})=>e===void 0?(0,De.str)`must contain at least ${t} valid item(s)`:(0,De.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,De._)`{minContains: ${t}}`:(0,De._)`{minContains: ${t}, maxContains: ${e}}`},dh={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:uh,code(t){let{gen:e,schema:r,parentSchema:i,data:n,it:o}=t,s,a,{minContains:l,maxContains:c}=i;o.opts.next?(s=l===void 0?1:l,a=c):s=1;let u=e.const("len",(0,De._)`${n}.length`);if(t.setParams({min:s,max:a}),a===void 0&&s===0){(0,Bi.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,Bi.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Bi.alwaysValidSchema)(o,r)){let p=(0,De._)`${u} >= ${s}`;a!==void 0&&(p=(0,De._)`${p} && ${u} <= ${a}`),t.pass(p);return}o.items=!0;let d=e.name("valid");a===void 0&&s===1?g(d,()=>e.if(d,()=>e.break())):s===0?(e.let(d,!0),a!==void 0&&e.if((0,De._)`${n}.length > 0`,y)):(e.let(d,!1),y()),t.result(d,()=>t.reset());function y(){let p=e.name("_valid"),w=e.let("count",0);g(p,()=>e.if(p,()=>h(w)))}function g(p,w){e.forRange("i",0,u,f=>{t.subschema({keyword:"contains",dataProp:f,dataPropType:Bi.Type.Num,compositeRule:!0},p),w()})}function h(p){e.code((0,De._)`${p}++`),a===void 0?e.if((0,De._)`${p} >= ${s}`,()=>e.assign(d,!0).break()):(e.if((0,De._)`${p} > ${a}`,()=>e.assign(d,!1).break()),s===1?e.assign(d,!0):e.if((0,De._)`${p} >= ${s}`,()=>e.assign(d,!0)))}}};No.default=dh});var Zc=b(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.validateSchemaDeps=et.validatePropertyDeps=et.error=void 0;var Vo=V(),fh=A(),Hr=Ne();et.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let i=e===1?"property":"properties";return(0,Vo.str)`must have ${i} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:i}})=>(0,Vo._)`{property: ${t},
    missingProperty: ${i},
    depsCount: ${e},
    deps: ${r}}`};var ph={keyword:"dependencies",type:"object",schemaType:"object",error:et.error,code(t){let[e,r]=mh(t);Jc(t,e),Xc(t,r)}};function mh({schema:t}){let e={},r={};for(let i in t){if(i==="__proto__")continue;let n=Array.isArray(t[i])?e:r;n[i]=t[i]}return[e,r]}function Jc(t,e=t.schema){let{gen:r,data:i,it:n}=t;if(Object.keys(e).length===0)return;let o=r.let("missing");for(let s in e){let a=e[s];if(a.length===0)continue;let l=(0,Hr.propertyInData)(r,i,s,n.opts.ownProperties);t.setParams({property:s,depsCount:a.length,deps:a.join(", ")}),n.allErrors?r.if(l,()=>{for(let c of a)(0,Hr.checkReportMissingProp)(t,c)}):(r.if((0,Vo._)`${l} && (${(0,Hr.checkMissingProp)(t,a,o)})`),(0,Hr.reportMissingProp)(t,o),r.else())}}et.validatePropertyDeps=Jc;function Xc(t,e=t.schema){let{gen:r,data:i,keyword:n,it:o}=t,s=r.name("valid");for(let a in e)(0,fh.alwaysValidSchema)(o,e[a])||(r.if((0,Hr.propertyInData)(r,i,a,o.opts.ownProperties),()=>{let l=t.subschema({keyword:n,schemaProp:a},s);t.mergeValidEvaluated(l,s)},()=>r.var(s,!0)),t.ok(s))}et.validateSchemaDeps=Xc;et.default=ph});var Yc=b(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var Qc=V(),hh=A(),_h={message:"property name must be valid",params:({params:t})=>(0,Qc._)`{propertyName: ${t.propertyName}}`},gh={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:_h,code(t){let{gen:e,schema:r,data:i,it:n}=t;if((0,hh.alwaysValidSchema)(n,r))return;let o=e.name("valid");e.forIn("key",i,s=>{t.setParams({propertyName:s}),t.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),e.if((0,Qc.not)(o),()=>{t.error(!0),n.allErrors||e.break()})}),t.ok(o)}};Do.default=gh});var Fo=b(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});var Ki=Ne(),Re=V(),yh=ct(),Gi=A(),vh={message:"must NOT have additional properties",params:({params:t})=>(0,Re._)`{additionalProperty: ${t.additionalProperty}}`},wh={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:vh,code(t){let{gen:e,schema:r,parentSchema:i,data:n,errsCount:o,it:s}=t;if(!o)throw new Error("ajv implementation error");let{allErrors:a,opts:l}=s;if(s.props=!0,l.removeAdditional!=="all"&&(0,Gi.alwaysValidSchema)(s,r))return;let c=(0,Ki.allSchemaProperties)(i.properties),u=(0,Ki.allSchemaProperties)(i.patternProperties);d(),t.ok((0,Re._)`${o} === ${yh.default.errors}`);function d(){e.forIn("key",n,w=>{!c.length&&!u.length?h(w):e.if(y(w),()=>h(w))})}function y(w){let f;if(c.length>8){let E=(0,Gi.schemaRefOrVal)(s,i.properties,"properties");f=(0,Ki.isOwnProperty)(e,E,w)}else c.length?f=(0,Re.or)(...c.map(E=>(0,Re._)`${w} === ${E}`)):f=Re.nil;return u.length&&(f=(0,Re.or)(f,...u.map(E=>(0,Re._)`${(0,Ki.usePattern)(t,E)}.test(${w})`))),(0,Re.not)(f)}function g(w){e.code((0,Re._)`delete ${n}[${w}]`)}function h(w){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){g(w);return}if(r===!1){t.setParams({additionalProperty:w}),t.error(),a||e.break();return}if(typeof r=="object"&&!(0,Gi.alwaysValidSchema)(s,r)){let f=e.name("valid");l.removeAdditional==="failing"?(p(w,f,!1),e.if((0,Re.not)(f),()=>{t.reset(),g(w)})):(p(w,f),a||e.if((0,Re.not)(f),()=>e.break()))}}function p(w,f,E){let M={keyword:"additionalProperties",dataProp:w,dataPropType:Gi.Type.Str};E===!1&&Object.assign(M,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(M,f)}}};Mo.default=wh});var ru=b(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});var bh=Or(),eu=Ne(),jo=A(),tu=Fo(),Ch={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:i,data:n,it:o}=t;o.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&tu.default.code(new bh.KeywordCxt(o,tu.default,"additionalProperties"));let s=(0,eu.allSchemaProperties)(r);for(let d of s)o.definedProperties.add(d);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=jo.mergeEvaluated.props(e,(0,jo.toHash)(s),o.props));let a=s.filter(d=>!(0,jo.alwaysValidSchema)(o,r[d]));if(a.length===0)return;let l=e.name("valid");for(let d of a)c(d)?u(d):(e.if((0,eu.propertyInData)(e,n,d,o.opts.ownProperties)),u(d),o.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(l);function c(d){return o.opts.useDefaults&&!o.compositeRule&&r[d].default!==void 0}function u(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};Ro.default=Ch});var su=b(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});var iu=Ne(),Ji=V(),nu=A(),ou=A(),zh={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:i,parentSchema:n,it:o}=t,{opts:s}=o,a=(0,iu.allSchemaProperties)(r),l=a.filter(p=>(0,nu.alwaysValidSchema)(o,r[p]));if(a.length===0||l.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;let c=s.strictSchema&&!s.allowMatchingProperties&&n.properties,u=e.name("valid");o.props!==!0&&!(o.props instanceof Ji.Name)&&(o.props=(0,ou.evaluatedPropsToName)(e,o.props));let{props:d}=o;y();function y(){for(let p of a)c&&g(p),o.allErrors?h(p):(e.var(u,!0),h(p),e.if(u))}function g(p){for(let w in c)new RegExp(p).test(w)&&(0,nu.checkStrictMode)(o,`property ${w} matches pattern ${p} (use allowMatchingProperties)`)}function h(p){e.forIn("key",i,w=>{e.if((0,Ji._)`${(0,iu.usePattern)(t,p)}.test(${w})`,()=>{let f=l.includes(p);f||t.subschema({keyword:"patternProperties",schemaProp:p,dataProp:w,dataPropType:ou.Type.Str},u),o.opts.unevaluated&&d!==!0?e.assign((0,Ji._)`${d}[${w}]`,!0):!f&&!o.allErrors&&e.if((0,Ji.not)(u),()=>e.break())})})}}};qo.default=zh});var au=b(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var $h=A(),Sh={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:i}=t;if((0,$h.alwaysValidSchema)(i,r)){t.fail();return}let n=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.failResult(n,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Ao.default=Sh});var lu=b(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});var xh=Ne(),Eh={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:xh.validateUnion,error:{message:"must match a schema in anyOf"}};Wo.default=Eh});var cu=b(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});var Xi=V(),Th=A(),Ph={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Xi._)`{passingSchemas: ${t.passing}}`},Oh={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ph,code(t){let{gen:e,schema:r,parentSchema:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;let o=r,s=e.let("valid",!1),a=e.let("passing",null),l=e.name("_valid");t.setParams({passing:a}),e.block(c),t.result(s,()=>t.reset(),()=>t.error(!0));function c(){o.forEach((u,d)=>{let y;(0,Th.alwaysValidSchema)(n,u)?e.var(l,!0):y=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&e.if((0,Xi._)`${l} && ${s}`).assign(s,!1).assign(a,(0,Xi._)`[${a}, ${d}]`).else(),e.if(l,()=>{e.assign(s,!0),e.assign(a,d),y&&t.mergeEvaluated(y,Xi.Name)})})}}};Lo.default=Oh});var uu=b(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});var Ih=A(),kh={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let n=e.name("valid");r.forEach((o,s)=>{if((0,Ih.alwaysValidSchema)(i,o))return;let a=t.subschema({keyword:"allOf",schemaProp:s},n);t.ok(n),t.mergeEvaluated(a)})}};Ho.default=kh});var pu=b(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});var Zi=V(),fu=A(),Nh={message:({params:t})=>(0,Zi.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Zi._)`{failingKeyword: ${t.ifClause}}`},Vh={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Nh,code(t){let{gen:e,parentSchema:r,it:i}=t;r.then===void 0&&r.else===void 0&&(0,fu.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let n=du(i,"then"),o=du(i,"else");if(!n&&!o)return;let s=e.let("valid",!0),a=e.name("_valid");if(l(),t.reset(),n&&o){let u=e.let("ifClause");t.setParams({ifClause:u}),e.if(a,c("then",u),c("else",u))}else n?e.if(a,c("then")):e.if((0,Zi.not)(a),c("else"));t.pass(s,()=>t.error(!0));function l(){let u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(u)}function c(u,d){return()=>{let y=t.subschema({keyword:u},a);e.assign(s,a),t.mergeValidEvaluated(y,s),d?e.assign(d,(0,Zi._)`${u}`):t.setParams({ifClause:u})}}}};function du(t,e){let r=t.schema[e];return r!==void 0&&!(0,fu.alwaysValidSchema)(t,r)}Uo.default=Vh});var mu=b(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});var Dh=A(),Mh={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Dh.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};Bo.default=Mh});var hu=b(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});var Fh=Po(),jh=Uc(),Rh=Oo(),qh=Kc(),Ah=Gc(),Wh=Zc(),Lh=Yc(),Hh=Fo(),Uh=ru(),Bh=su(),Kh=au(),Gh=lu(),Jh=cu(),Xh=uu(),Zh=pu(),Qh=mu();function Yh(t=!1){let e=[Kh.default,Gh.default,Jh.default,Xh.default,Zh.default,Qh.default,Lh.default,Hh.default,Wh.default,Uh.default,Bh.default];return t?e.push(jh.default,qh.default):e.push(Fh.default,Rh.default),e.push(Ah.default),e}Ko.default=Yh});var _u=b(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});var re=V(),e0={message:({schemaCode:t})=>(0,re.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,re._)`{format: ${t}}`},t0={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:e0,code(t,e){let{gen:r,data:i,$data:n,schema:o,schemaCode:s,it:a}=t,{opts:l,errSchemaPath:c,schemaEnv:u,self:d}=a;if(!l.validateFormats)return;n?y():g();function y(){let h=r.scopeValue("formats",{ref:d.formats,code:l.code.formats}),p=r.const("fDef",(0,re._)`${h}[${s}]`),w=r.let("fType"),f=r.let("format");r.if((0,re._)`typeof ${p} == "object" && !(${p} instanceof RegExp)`,()=>r.assign(w,(0,re._)`${p}.type || "string"`).assign(f,(0,re._)`${p}.validate`),()=>r.assign(w,(0,re._)`"string"`).assign(f,p)),t.fail$data((0,re.or)(E(),M()));function E(){return l.strictSchema===!1?re.nil:(0,re._)`${s} && !${f}`}function M(){let Z=u.$async?(0,re._)`(${p}.async ? await ${f}(${i}) : ${f}(${i}))`:(0,re._)`${f}(${i})`,k=(0,re._)`(typeof ${f} == "function" ? ${Z} : ${f}.test(${i}))`;return(0,re._)`${f} && ${f} !== true && ${w} === ${e} && !${k}`}}function g(){let h=d.formats[o];if(!h){E();return}if(h===!0)return;let[p,w,f]=M(h);p===e&&t.pass(Z());function E(){if(l.strictSchema===!1){d.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${o}" ignored in schema at path "${c}"`}}function M(k){let Ae=k instanceof RegExp?(0,re.regexpCode)(k):l.code.formats?(0,re._)`${l.code.formats}${(0,re.getProperty)(o)}`:void 0,ot=r.scopeValue("formats",{key:o,ref:k,code:Ae});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,re._)`${ot}.validate`]:["string",k,ot]}function Z(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!u.$async)throw new Error("async format in sync schema");return(0,re._)`await ${f}(${i})`}return typeof w=="function"?(0,re._)`${f}(${i})`:(0,re._)`${f}.test(${i})`}}}};Go.default=t0});var gu=b(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});var r0=_u(),i0=[r0.default];Jo.default=i0});var yu=b(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.contentVocabulary=cr.metadataVocabulary=void 0;cr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];cr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var wu=b(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});var n0=Ec(),o0=Ac(),s0=hu(),a0=gu(),vu=yu(),l0=[n0.default,o0.default,(0,s0.default)(),a0.default,vu.metadataVocabulary,vu.contentVocabulary];Xo.default=l0});var Cu=b(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.DiscrError=void 0;var bu=function(t){return t.Tag="tag",t.Mapping="mapping",t}(bu||(Qi.DiscrError=bu={}))});var $u=b(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});var ur=V(),Zo=Cu(),zu=Vi(),c0=Ir(),u0=A(),d0={message:({params:{discrError:t,tagName:e}})=>t===Zo.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,ur._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},f0={keyword:"discriminator",type:"object",schemaType:"object",error:d0,code(t){let{gen:e,data:r,schema:i,parentSchema:n,it:o}=t,{oneOf:s}=n;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=i.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");let l=e.let("valid",!1),c=e.const("tag",(0,ur._)`${r}${(0,ur.getProperty)(a)}`);e.if((0,ur._)`typeof ${c} == "string"`,()=>u(),()=>t.error(!1,{discrError:Zo.DiscrError.Tag,tag:c,tagName:a})),t.ok(l);function u(){let g=y();e.if(!1);for(let h in g)e.elseIf((0,ur._)`${c} === ${h}`),e.assign(l,d(g[h]));e.else(),t.error(!1,{discrError:Zo.DiscrError.Mapping,tag:c,tagName:a}),e.endIf()}function d(g){let h=e.name("valid"),p=t.subschema({keyword:"oneOf",schemaProp:g},h);return t.mergeEvaluated(p,ur.Name),h}function y(){var g;let h={},p=f(n),w=!0;for(let Z=0;Z<s.length;Z++){let k=s[Z];if(k?.$ref&&!(0,u0.schemaHasRulesButRef)(k,o.self.RULES)){let ot=k.$ref;if(k=zu.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,ot),k instanceof zu.SchemaEnv&&(k=k.schema),k===void 0)throw new c0.default(o.opts.uriResolver,o.baseId,ot)}let Ae=(g=k?.properties)===null||g===void 0?void 0:g[a];if(typeof Ae!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);w=w&&(p||f(k)),E(Ae,Z)}if(!w)throw new Error(`discriminator: "${a}" must be required`);return h;function f({required:Z}){return Array.isArray(Z)&&Z.includes(a)}function E(Z,k){if(Z.const)M(Z.const,k);else if(Z.enum)for(let Ae of Z.enum)M(Ae,k);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function M(Z,k){if(typeof Z!="string"||Z in h)throw new Error(`discriminator: "${a}" values must be unique strings`);h[Z]=k}}}};Qo.default=f0});var Su=b((jv,p0)=>{p0.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var es=b((ee,Yo)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.MissingRefError=ee.ValidationError=ee.CodeGen=ee.Name=ee.nil=ee.stringify=ee.str=ee._=ee.KeywordCxt=ee.Ajv=void 0;var m0=bc(),h0=wu(),_0=$u(),xu=Su(),g0=["/properties"],Yi="http://json-schema.org/draft-07/schema",dr=class extends m0.default{_addVocabularies(){super._addVocabularies(),h0.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(_0.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(xu,g0):xu;this.addMetaSchema(e,Yi,!1),this.refs["http://json-schema.org/schema"]=Yi}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Yi)?Yi:void 0)}};ee.Ajv=dr;Yo.exports=ee=dr;Yo.exports.Ajv=dr;Object.defineProperty(ee,"__esModule",{value:!0});ee.default=dr;var y0=Or();Object.defineProperty(ee,"KeywordCxt",{enumerable:!0,get:function(){return y0.KeywordCxt}});var fr=V();Object.defineProperty(ee,"_",{enumerable:!0,get:function(){return fr._}});Object.defineProperty(ee,"str",{enumerable:!0,get:function(){return fr.str}});Object.defineProperty(ee,"stringify",{enumerable:!0,get:function(){return fr.stringify}});Object.defineProperty(ee,"nil",{enumerable:!0,get:function(){return fr.nil}});Object.defineProperty(ee,"Name",{enumerable:!0,get:function(){return fr.Name}});Object.defineProperty(ee,"CodeGen",{enumerable:!0,get:function(){return fr.CodeGen}});var v0=ki();Object.defineProperty(ee,"ValidationError",{enumerable:!0,get:function(){return v0.default}});var w0=Ir();Object.defineProperty(ee,"MissingRefError",{enumerable:!0,get:function(){return w0.default}})});var Vu=b(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.formatNames=rt.fastFormats=rt.fullFormats=void 0;function tt(t,e){return{validate:t,compare:e}}rt.fullFormats={date:tt(Ou,ns),time:tt(rs(!0),os),"date-time":tt(Eu(!0),ku),"iso-time":tt(rs(),Iu),"iso-date-time":tt(Eu(),Nu),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:x0,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:N0,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:E0,int32:{type:"number",validate:O0},int64:{type:"number",validate:I0},float:{type:"number",validate:Pu},double:{type:"number",validate:Pu},password:!0,binary:!0};rt.fastFormats=J(C({},rt.fullFormats),{date:tt(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,ns),time:tt(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,os),"date-time":tt(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,ku),"iso-time":tt(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Iu),"iso-date-time":tt(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Nu),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});rt.formatNames=Object.keys(rt.fullFormats);function b0(t){return t%4===0&&(t%100!==0||t%400===0)}var C0=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,z0=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Ou(t){let e=C0.exec(t);if(!e)return!1;let r=+e[1],i=+e[2],n=+e[3];return i>=1&&i<=12&&n>=1&&n<=(i===2&&b0(r)?29:z0[i])}function ns(t,e){if(t&&e)return t>e?1:t<e?-1:0}var ts=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function rs(t){return function(r){let i=ts.exec(r);if(!i)return!1;let n=+i[1],o=+i[2],s=+i[3],a=i[4],l=i[5]==="-"?-1:1,c=+(i[6]||0),u=+(i[7]||0);if(c>23||u>59||t&&!a)return!1;if(n<=23&&o<=59&&s<60)return!0;let d=o-u*l,y=n-c*l-(d<0?1:0);return(y===23||y===-1)&&(d===59||d===-1)&&s<61}}function os(t,e){if(!(t&&e))return;let r=new Date("2020-01-01T"+t).valueOf(),i=new Date("2020-01-01T"+e).valueOf();if(r&&i)return r-i}function Iu(t,e){if(!(t&&e))return;let r=ts.exec(t),i=ts.exec(e);if(r&&i)return t=r[1]+r[2]+r[3],e=i[1]+i[2]+i[3],t>e?1:t<e?-1:0}var is=/t|\s/i;function Eu(t){let e=rs(t);return function(i){let n=i.split(is);return n.length===2&&Ou(n[0])&&e(n[1])}}function ku(t,e){if(!(t&&e))return;let r=new Date(t).valueOf(),i=new Date(e).valueOf();if(r&&i)return r-i}function Nu(t,e){if(!(t&&e))return;let[r,i]=t.split(is),[n,o]=e.split(is),s=ns(r,n);if(s!==void 0)return s||os(i,o)}var $0=/\/|:/,S0=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function x0(t){return $0.test(t)&&S0.test(t)}var Tu=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function E0(t){return Tu.lastIndex=0,Tu.test(t)}var T0=-(2**31),P0=2**31-1;function O0(t){return Number.isInteger(t)&&t<=P0&&t>=T0}function I0(t){return Number.isInteger(t)}function Pu(){return!0}var k0=/[^\\]\\Z/;function N0(t){if(k0.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var Du=b(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.formatLimitDefinition=void 0;var V0=es(),qe=V(),xt=qe.operators,en={formatMaximum:{okStr:"<=",ok:xt.LTE,fail:xt.GT},formatMinimum:{okStr:">=",ok:xt.GTE,fail:xt.LT},formatExclusiveMaximum:{okStr:"<",ok:xt.LT,fail:xt.GTE},formatExclusiveMinimum:{okStr:">",ok:xt.GT,fail:xt.LTE}},D0={message:({keyword:t,schemaCode:e})=>(0,qe.str)`should be ${en[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,qe._)`{comparison: ${en[t].okStr}, limit: ${e}}`};pr.formatLimitDefinition={keyword:Object.keys(en),type:"string",schemaType:"string",$data:!0,error:D0,code(t){let{gen:e,data:r,schemaCode:i,keyword:n,it:o}=t,{opts:s,self:a}=o;if(!s.validateFormats)return;let l=new V0.KeywordCxt(o,a.RULES.all.format.definition,"format");l.$data?c():u();function c(){let y=e.scopeValue("formats",{ref:a.formats,code:s.code.formats}),g=e.const("fmt",(0,qe._)`${y}[${l.schemaCode}]`);t.fail$data((0,qe.or)((0,qe._)`typeof ${g} != "object"`,(0,qe._)`${g} instanceof RegExp`,(0,qe._)`typeof ${g}.compare != "function"`,d(g)))}function u(){let y=l.schema,g=a.formats[y];if(!g||g===!0)return;if(typeof g!="object"||g instanceof RegExp||typeof g.compare!="function")throw new Error(`"${n}": format "${y}" does not define "compare" function`);let h=e.scopeValue("formats",{key:y,ref:g,code:s.code.formats?(0,qe._)`${s.code.formats}${(0,qe.getProperty)(y)}`:void 0});t.fail$data(d(h))}function d(y){return(0,qe._)`${y}.compare(${r}, ${i}) ${en[n].fail} 0`}},dependencies:["format"]};var M0=t=>(t.addKeyword(pr.formatLimitDefinition),t);pr.default=M0});var Ru=b((Ur,ju)=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});var mr=Vu(),F0=Du(),ss=V(),Mu=new ss.Name("fullFormats"),j0=new ss.Name("fastFormats"),as=(t,e={keywords:!0})=>{if(Array.isArray(e))return Fu(t,e,mr.fullFormats,Mu),t;let[r,i]=e.mode==="fast"?[mr.fastFormats,j0]:[mr.fullFormats,Mu],n=e.formats||mr.formatNames;return Fu(t,n,r,i),e.keywords&&(0,F0.default)(t),t};as.get=(t,e="full")=>{let i=(e==="fast"?mr.fastFormats:mr.fullFormats)[t];if(!i)throw new Error(`Unknown format "${t}"`);return i};function Fu(t,e,r,i){var n,o;(n=(o=t.opts.code).formats)!==null&&n!==void 0||(o.formats=(0,ss._)`require("ajv-formats/dist/formats").${i}`);for(let s of e)t.addFormat(s,r[s])}ju.exports=Ur=as;Object.defineProperty(Ur,"__esModule",{value:!0});Ur.default=as});var Ku={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ingoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function Gt(t){return t.merge("sf",Ku)}var ae="/";function mn(t){return t==null}function me(t,e){return t==null?e:`${t}`!="false"}function Jt(t,...e){}function Gu(t,e){let r=/^#\/definitions\/(.*)$/.exec(t);if(r&&r[1]){let i=r[1].split(ae),n=e;for(let o of i)if(o=o.replace(/~1/g,ae).replace(/~0/g,"~"),n.hasOwnProperty(o))n=n[o];else throw new Error(`Could not find a definition for ${t}.`);return n}throw new Error(`Could not find a definition for ${t}.`)}function vr(t,e={}){if(t.hasOwnProperty("$ref")){let i=Gu(t.$ref,e),r=t,{$ref:n}=r,o=zs(r,["$ref"]);return vr(C(C({},i),o),e)}return t}function Wa(t,e){let r=(i,n)=>{Ju(i,n),Object.keys(i.properties).forEach(o=>{let s=i.properties[o],a=`$${o}`;s.items&&r(s.items,n[a].$items),s.properties&&r(s,n[a])})};r(t,e)}function Ju(t,e){if(!(t.hasOwnProperty("if")&&t.hasOwnProperty("then")))return null;if(!t.if.properties)throw new Error("if: does not contain 'properties'");let r=Object.keys(t.properties),i=Object.keys(t.if.properties);pn(r,i),pn(r,t.then.required),t.required=t.required.concat(t.then.required);let n=t.hasOwnProperty("else");n&&(pn(r,t.else.required),t.required=t.required.concat(t.else.required));let o={},s={};return i.forEach(a=>{let l=t.if.properties[a].enum;o[a]=l,n&&(s[a]=c=>!l.includes(c))}),t.then.required.forEach(a=>e[`$${a}`].visibleIf=o),n&&t.else.required.forEach(a=>e[`$${a}`].visibleIf=s),t}function pn(t,e){e.forEach(r=>{if(!t.includes(r))throw new Error(`if: properties does not contain '${r}'`)})}function La(t,e){if(!Array.isArray(e))return t;let r=u=>u.reduce((d,y)=>(d[y]=!0,d),{}),i=u=>`property [${u.join("', '")}]`,n=r(t),o=r(e),s=e.filter(u=>u!=="*"&&!n[u]);if(s.length)throw new Error(`ui schema order list contains extraneous ${i(s)}`);let a=t.filter(u=>!o[u]),l=e.indexOf("*");if(l===-1){if(a.length)throw new Error(`ui schema order list does not contain ${i(a)}`);return e}if(l!==e.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let c=[...e];return c.splice(l,1,...a),c}function Ha(t,e,r){return mn(t)||!Array.isArray(t)||t.length===0?[]:(typeof t[0]!="object"&&(t=t.map(i=>({label:i,value:i}))),e&&(Array.isArray(e)||(e=[e]),t.forEach(i=>{~e.indexOf(i.value)&&(i.checked=!0)})),r&&t.forEach(i=>i.disabled=!0),t)}function Xu(t,e,r){return Ha(Tt(t||[]),e,r)}function Xt(t,e,r,i){return typeof e.asyncData=="function"?e.asyncData(i).pipe(Wt(n=>Ha(n,r,t.readOnly))):xs(Xu(t.enum,r,t.readOnly))}var wr=class{constructor(e,r,i,n,o,s,a,l){this.injector=e,this._options=l,this._errors=null,this._valueChanges=new At({path:null,pathValue:null,value:null}),this._errorsChanges=new At(null),this._visible=!0,this._visibilityChanges=new At(!0),this._objErrors={},this._value=null,this.schema=i,this.ui=n,this.schemaValidator=r.createValidatorFn(i,{ingoreKeywords:this.ui.ingoreKeywords,debug:n.debug}),this.formData=o||i.default,this._parent=s,s?this._root=s.root:this._root=this,this.path=a}get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(e=!1){this.widget?.detectChanges(e)}updateValueAndValidity(e){e=C({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updatePath:"",updateValue:null},e),this._updateValue(),e.emitValueEvent&&(e.updatePath=e.updatePath||this.path,e.updateValue=e.updateValue==null?this.value:e.updateValue,this.valueChanges.next({value:this.value,path:e.updatePath,pathValue:e.updateValue})),e.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!e.onlySelf&&this.parent.updateValueAndValidity(J(C({},e),{emitValidator:!1}))}searchProperty(e){let r=this,i=null,n=null;if(e[0]===ae)i=this.findRoot(),n=i.getProperty(e.substring(1));else for(;n===null&&r.parent!==null;)r=i=r.parent,n=i.getProperty(e);return n}findRoot(){let e=this;for(;e.parent!==null;)e=e.parent;return e}isEmptyData(e){if(mn(e))return!0;switch(this.type){case"string":return`${e}`.length===0}return!1}_runValidation(){let e,r=this.isEmptyData(this._value);r&&this.ui._required?e=[{keyword:"required"}]:r?e=[]:e=this.schemaValidator(this._value)||[];let i=this.ui.validator;if(typeof i=="function"){let n=i(this.value,this,this.findRoot());if(n instanceof Ss){n.subscribe(o=>{this.setCustomErrors(e,o),this.cd(!1)});return}this.setCustomErrors(e,n);return}this._errors=e,this.setErrors(this._errors)}setCustomErrors(e,r){let i=Array.isArray(r)&&r.length>0;i&&r.forEach(n=>{if(!n.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");n.keyword=null}),this._errors=i?e.concat(...r):e,this.setErrors(this._errors)}setErrors(e=[],r=!0){let i=Array.isArray(e)?e:[e];if(r&&i&&!this.ui.onlyVisual){let n=this.widget&&this.widget.l.error||{};i=i.map(o=>{let s=o.keyword==null&&o.message?o.message:(this.ui.errors||{})[o.keyword]||this._options.errors[o.keyword]||n[o.keyword]||"";return s&&typeof s=="function"&&(s=s(o)),s&&(~s.indexOf("{")&&o.params&&(s=s.replace(/{([\.a-zA-Z0-9]+)}/g,(a,l)=>o.params[l]||"")),o.message=s),o})}this._errors=i,this._errorsChanges.next(i),this._parent&&this._parent.setParentAndPlatErrors(i,this.path)}setParentAndPlatErrors(e,r){this._objErrors[r]=e;let i=[];Object.keys(this._objErrors).forEach(n=>{let o=this.searchProperty(n);o&&!o.visible||i.push(...this._objErrors[n])}),this.setErrors(i,!1)}setVisible(e){return this._visible=e,this._visibilityChanges.next(e),e&&this.injector.get(_t).onStable.pipe(Os(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let e=this.ui.visibleIf;if(typeof e=="object"&&Object.keys(e).length===0)this.setVisible(!1);else if(e!=null){let r=[];for(let i in e)if(e.hasOwnProperty(i)){let n=this.searchProperty(i);if(n){let o=n.valueChanges.pipe(Wt(l=>{let c=e[i];if(typeof c=="function"){let u=c(l.value,n);if(typeof u=="object"){let d=C({show:!1,required:!1},u),y=this.parent?.schema.required;if(y&&this.propertyId){let g=y.findIndex(h=>h===this.propertyId);d.required?g===-1&&y.push(this.propertyId):g!==-1&&y.splice(g,1),this.ui._required=d.required}return d.show}return u}return c.indexOf("$ANY$")!==-1?l.value&&l.value.length>0:c.indexOf(l.value)!==-1})),s=n._visibilityChanges,a=un([o,s]).pipe(Wt(l=>l[0]&&l[1]));r.push(a)}}un(r).pipe(Wt(i=>this.ui.visibleIfLogical==="and"?i.every(n=>n):i.some(n=>n)),Xr()).subscribe(i=>this.setVisible(i))}}updateFeedback(e=""){this.ui.feedback=e,this.widget?.injector.get(Bt).formStatusChanges.next({status:e,hasFeedback:!!e}),this.cd(!0)}},Xe=class t extends wr{constructor(){super(...arguments),this.properties=null}getProperty(e){let r=e.indexOf(ae),i=r!==-1?e.substring(0,r):e,n=this.properties[i];if(n!==null&&r!==-1&&n instanceof t){let o=e.substring(r+1);n=n.getProperty(o)}return n}forEachChild(e){for(let r in this.properties)if(this.properties.hasOwnProperty(r)){let i=this.properties[r];e(i,r)}}forEachChildRecursive(e){this.forEachChild(r=>{e(r),r instanceof t&&r.forEachChildRecursive(e)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(e=>{e._bindVisibility()})}isRoot(){return this===this.root}};var Zt=class extends Xe{get propertiesId(){return this._propertiesId}constructor(e,r,i,n,o,s,a,l,c){super(e,i,n,o,s,a,l,c),this.formPropertyFactory=r,this._propertiesId=[],this.createProperties()}createProperties(){this.properties={},this._propertiesId=[];let e;try{e=La(Object.keys(this.schema.properties),this.ui.order)}catch(r){console.error(`Invalid ${this.schema.title||"root"} object field configuration:`,r)}e.forEach(r=>{this.properties[r]=this.formPropertyFactory.createProperty(this.schema.properties[r],this.ui[`$${r}`],(this.formData||{})[r],this,r),this._propertiesId.push(r)})}setValue(e,r){let i=this.properties;for(let n in e)e.hasOwnProperty(n)&&i[n]&&i[n].setValue(e[n],!0);this.cd(r),this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0})}resetValue(e,r){e=e||this.schema.default||{};let i=this.properties;for(let n in this.schema.properties)this.schema.properties.hasOwnProperty(n)&&i[n].resetValue(e[n],!0);this.cd(r),this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let e={};this.forEachChild((r,i)=>{r.visible&&r._hasValue()&&(e[i]=r.value)}),this._value=e}};var Qt=class extends Xe{constructor(e,r,i,n,o,s,a,l,c){super(e,i,n,o,s,a,l,c),this.formPropertyFactory=r,this.properties=[]}getProperty(e){let r=e.indexOf(ae),i=+(r!==-1?e.substring(0,r):e),n=this.properties;if(isNaN(i)||i>=n.length)return;let o=e.substring(r+1);return n[i].getProperty(o)}setValue(e,r){this.properties=[],this.clearErrors(),this.resetProperties(e),this.cd(r),this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0})}resetValue(e,r){this._value=e||this.schema.default||[],this.setValue(this._value,r)}_hasValue(){return!0}_updateValue(){let e=[];this.forEachChild(r=>{r.visible&&e.push(C(C({},this.widget?.cleanValue?null:r.formData),r.value))}),this._value=e}addProperty(e){let r=this.formPropertyFactory.createProperty(Tt(this.schema.items),Tt(this.ui.$items),e,this);return this.properties.push(r),r}resetProperties(e){for(let r of e)this.addProperty(r).resetValue(r,!0)}clearErrors(e){(e||this)._objErrors={}}add(e){let r=this.addProperty(e);return r.resetValue(e,!1),r}remove(e){let r=this.properties;this.clearErrors(),r.splice(e,1),r.forEach((i,n)=>{i.path=[i.parent.path,n].join(ae),this.clearErrors(i),i instanceof Zt&&i.forEachChild(o=>{o.updateValueAndValidity({emitValueEvent:!1})})}),r.length===0&&this.updateValueAndValidity()}};var yt=class extends wr{setValue(e,r){this._value=e,this.cd(r),this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0})}resetValue(e,r){e==null&&(e=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=e,this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0}),this.widget&&(this.widget.reset(e),this.cd(r))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}};var hi=class extends yt{fallbackValue(){return null}};var _i=class extends yt{fallbackValue(){return null}setValue(e,r){typeof e=="string"&&(e.length?e=e.indexOf(".")>-1?parseFloat(e):parseInt(e,10):e=void 0),this._value=e,this.cd(r),this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0})}};var gi=class extends yt{fallbackValue(){return null}setValue(e,r){this._value=e??"",this.cd(r),this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0})}};var Yt=class{constructor(e,r,i){this.injector=e,this.schemaValidatorFactory=r,this.options=Gt(i)}createProperty(e,r,i,n=null,o){let s=null,a="";if(n)switch(a+=n.path,n.parent!==null&&(a+=ae),n.type){case"object":a+=o;break;case"array":a+=n.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${n.type}`)}else a=ae;if(e.$ref){let l=vr(e,n.root.schema.definitions);s=this.createProperty(l,r,i,n,a)}else switch((o&&n.schema.required.indexOf(o.split(ae).pop())!==-1||r.showRequired===!0)&&(r._required=!0),e.title==null&&(e.title=o),(e.type==="string"||e.type==="number")&&!e.format&&!r.format?r.widget==="date"?r._format=e.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:r.widget==="time"&&(r._format=e.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):r._format=r.format,e.type){case"integer":case"number":s=new _i(this.injector,this.schemaValidatorFactory,e,r,i,n,a,this.options);break;case"string":s=new gi(this.injector,this.schemaValidatorFactory,e,r,i,n,a,this.options);break;case"boolean":s=new hi(this.injector,this.schemaValidatorFactory,e,r,i,n,a,this.options);break;case"object":s=new Zt(this.injector,this,this.schemaValidatorFactory,e,r,i,n,a,this.options);break;case"array":s=new Qt(this.injector,this,this.schemaValidatorFactory,e,r,i,n,a,this.options);break;default:throw new TypeError(`Undefined type ${e.type}`)}return s.propertyId=o,s instanceof Xe&&this.initializeRoot(s),s}initializeRoot(e){e._bindVisibility()}};var Pt=class{constructor(){this.onDestroy=new qt}destroy(){this.onDestroy.next(!0)}};var qu=$s(es()),Au=$s(Ru());var jt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=yr({token:e,factory:e.\u0275fac});let t=e;return t})(),tn=(()=>{let e=class e extends jt{constructor(){if(super(),this.ngZone=W(_t),this.cogSrv=W(Ke),!(typeof document=="object"&&document))return;this.options=Gt(this.cogSrv);let i=this.options.ajv||{};this.ngZone.runOutsideAngular(()=>{this.ajv=new qu.default(J(C({allErrors:!0,loopEnum:50},i),{formats:C({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:fi.color,mobile:fi.mobile,"id-card":fi.idCard},i.formats)})),(0,Au.default)(this.ajv)})}createValidatorFn(i,n){let o=[...this.options.ingoreKeywords,...n.ingoreKeywords||[]];return s=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(i,s))}catch{}let a=this.ajv.errors;return this.options&&o&&a&&(a=a.filter(l=>o.indexOf(l.keyword)===-1)),a}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=yr({token:e,factory:e.\u0275fac});let t=e;return t})();var it=class{constructor(){this._widgets={}}get widgets(){return this._widgets}setDefault(e){this.defaultWidget=e}register(e,r){this._widgets[e]=r}has(e){return this._widgets.hasOwnProperty(e)}getType(e){return this.has(e)?this._widgets[e]:this.defaultWidget}},rn=(()=>{let e=class e{constructor(){this.registry=W(it)}createWidget(i,n){this.registry.has(n);let o=this.registry.getType(n);return i.createComponent(o)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=yr({token:e,factory:e.\u0275fac});let t=e;return t})();var R0=["target"];function q0(t,e){}function A0(t,e){t&1&&Ws(0)}var W0=0,pt=(()=>{let e=class e{constructor(){this.widgetFactory=W(rn),this.terminator=W(Pt),this.destroy$=new qt,this.widget=null,this.footer=null}onWidgetInstanciated(i){this.widget=i;let n=`_sf-${W0++}`,o=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=o,this.widget.id=n,this.formProperty.widget=i}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let i=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,i.ui.widget||i.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:i}=this;i.next(),i.complete(),this.ref.destroy()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=H({type:e,selectors:[["sf-item"]],viewQuery:function(n,o){if(n&1&&Ls(R0,7,js),n&2){let s;Hs(s=Us())&&(o.container=s.first)}},hostVars:2,hostBindings:function(n,o){n&2&&le("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],features:[ni([Bt]),ht],decls:3,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(n,o){n&1&&S(0,q0,0,0,"ng-template",null,0,we)(2,A0,1,0,"ng-container",1),n&2&&(v(2),_("ngTemplateOutlet",o.footer))},dependencies:[be],encapsulation:2});let t=e;return t})();var Br=(()=>{let e=class e{constructor(){this.el=W(Yr).nativeElement,this.render=W(Fs),this._inited=!1}init(){if(!this._inited||this.num==null||this.num<=0)return;let i=this.el,n=i.querySelector(".ant-row")||i;this.render.addClass(n,"sf__fixed");let o=n.querySelector(".ant-form-item-label"),s=n.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),a=`${this.num}px`;o?(this.render.setStyle(o,"flex",`0 0 ${a}`),this.render.setStyle(s,"max-width",`calc(100% - ${a})`)):this.render.setStyle(s,"margin-left",a)}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=st({type:e,selectors:[["","fixed-label",""]],inputs:{num:[2,"fixed-label","num",i=>Gs(i,0)]},features:[ei,ht]});let t=e;return t})();var U0=["*"];function B0(t,e){t&1&&ii(0)}function K0(t,e){if(t&1&&U(0,"i",10),t&2){let r=m(5);_("nzType",r._btn.submit_icon.type)("nzTheme",r._btn.submit_icon.theme)("nzTwotoneColor",r._btn.submit_icon.twoToneColor)("nzIconfont",r._btn.submit_icon.iconfont)}}function G0(t,e){if(t&1&&U(0,"i",10),t&2){let r=m(6);_("nzType",r._btn.reset_icon.type)("nzTheme",r._btn.reset_icon.theme)("nzTwotoneColor",r._btn.reset_icon.twoToneColor)("nzIconfont",r._btn.reset_icon.iconfont)}}function J0(t,e){if(t&1){let r=te();z(0,"button",12),L("click",function(){O(r);let n=m(5);return I(n.reset(!0))}),S(1,G0,1,4,"i",10),Q(2),$()}if(t&2){let r=m(5);_("nzType",r._btn.reset_type)("nzSize",r._btn.render.size)("disabled",r.loading),v(),T(r._btn.reset_icon?1:-1),v(),se(" ",r._btn.reset," ")}}function X0(t,e){if(t&1&&(z(0,"button",9),S(1,K0,1,4,"i",10),Q(2),$(),S(3,J0,3,5,"button",11)),t&2){let r=m(4);_("nzType",r._btn.submit_type)("nzSize",r._btn.render.size)("nzLoading",r.loading)("disabled",r.liveValidate&&!r.valid),v(),T(r._btn.submit_icon?1:-1),v(),se(" ",r._btn.submit," "),v(),T(r._btn.reset?3:-1)}}function Z0(t,e){}function Q0(t,e){if(t&1&&S(0,Z0,0,0,"ng-template",4),t&2){m(4);let r=de(1);_("ngTemplateOutlet",r)}}function Y0(t,e){if(t&1&&(z(0,"nz-form-item",5)(1,"div",6)(2,"div",7)(3,"div",8),S(4,X0,4,7)(5,Q0,1,1,null,4),$()()()()),t&2){let r=m(3);_("ngClass",r._btn.render.class)("fixed-label",r._btn.render.spanLabelFixed),v(),_("nzSpan",r.btnGrid.span)("nzOffset",r.btnGrid.offset)("nzXs",r.btnGrid.xs)("nzSm",r.btnGrid.sm)("nzMd",r.btnGrid.md)("nzLg",r.btnGrid.lg)("nzXl",r.btnGrid.xl)("nzXXl",r.btnGrid.xxl),v(3),T(r.button?4:5)}}function e_(t,e){if(t&1&&S(0,Y0,6,11,"nz-form-item",5),t&2){let r=m(2);T(r._btn&&r._btn.render?0:-1)}}function t_(t,e){}function r_(t,e){if(t&1&&S(0,t_,0,0,"ng-template",4),t&2){m(2);let r=de(1);_("ngTemplateOutlet",r)}}function i_(t,e){if(t&1&&S(0,e_,1,1)(1,r_,1,1,null,4),t&2){let r=m();T(r.button!=="none"?0:1)}}function n_(t,e){if(t&1&&U(0,"sf-item",3),t&2){let r=m(),i=de(3);_("formProperty",r.rootProperty)("footer",i)}}function o_(t,e,r){return new Yt(t,e,r)}var Gr=(()=>{let e=class e{get btnGrid(){return this._btn.render.grid}set mode(i){switch(i){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=i}get mode(){return this._mode}get valid(){return this._valid}get value(){return this._item}getProperty(i){return this.rootProperty?.searchProperty(i)}getValue(i){return this.getProperty(i)?.value}setValue(i,n){let o=this.getProperty(i);if(!o)throw new Error(`Invalid path: ${i}`);return o.resetValue(n,!1),this}setDisabled(i,n){let o=this.getProperty(i);if(!o)throw new Error(`Invalid path: ${i}`);return o.schema.readOnly=n,o.widget.detectChanges(),this}setRequired(i,n){let o=this.getProperty(i);if(!o)throw new Error(`Invalid path: ${i}`);let s=i.split(ae).pop(),a=o.parent?.schema.required||[],l=a.findIndex(c=>c===s);return n?l===-1&&a.push(s):l!==-1&&a.splice(l,1),o.parent.schema.required=a,o.ui._required=n,o.widget.detectChanges(),this.validator({onlyRoot:!1}),this}updateFeedback(i,n=""){return this.getProperty(i)?.updateFeedback(n),this}onSubmit(i){i.preventDefault(),i.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(i){this.formPropertyFactory=W(Yt),this.terminator=W(Pt),this.dom=W(si),this.cdr=W(oi),this.localeSrv=W(na),this.aclSrv=W(Zs),this.i18nSrv=W(Qs),this.platform=W(Ys),this._renders=new Map,this._valid=!0,this._inited=!1,this.locale={},this.rootProperty=null,this.layout="horizontal",this.button={},this.liveValidate=!0,this.firstVisual=!0,this.onlyVisual=!1,this.compact=!1,this.loading=!1,this.disabled=!1,this.noColon=!1,this.cleanValue=!1,this.delay=!1,this.formValueChange=new Lt,this.formChange=new Lt,this.formSubmit=new Lt,this.formReset=new Lt,this.formError=new Lt,this.options=Gt(i),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(fn()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())}),Es(this.aclSrv.change,this.i18nSrv.change).pipe(Ts(()=>this._inited),fn()).subscribe(()=>this.refreshSchema())}fanyi(i){return this.i18nSrv.fanyi(i)||i}inheritUI(i){["optionalHelp"].filter(n=>!!this._defUi[n]).forEach(n=>i[n]=C(C({},this._defUi[n]),i[n]))}coverProperty(){let i=this.layout==="horizontal",n=Tt(this.schema),{definitions:o}=n,s=(a,l,c,u,d)=>{Array.isArray(a.required)||(a.required=[]),Object.keys(a.properties).forEach(y=>{let g="$",h=g+y,p=vr(a.properties[y],o),w=C(C({},p.ui),c[h]),f=C(C(C(C(J(C(C({},this._defUi),u),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:p.type}),p.format&&this.options.formatMap[p.format]),typeof p.ui=="string"?{widget:p.ui}:null),!p.format&&!p.ui&&Array.isArray(p.enum)&&p.enum.length>0?{widget:"select"}:null),w);if(Object.keys(f).filter(E=>E.startsWith(g)).forEach(E=>delete f[E]),i?u.spanLabelFixed?w.spanLabelFixed||(f.spanLabelFixed=u.spanLabelFixed):(f.spanLabel||(f.spanLabel=typeof u.spanLabel>"u"?5:u.spanLabel),f.spanControl||(f.spanControl=typeof u.spanControl>"u"?19:u.spanControl),f.offsetControl||(f.offsetControl=typeof u.offsetControl>"u"?null:u.offsetControl)):(f.spanLabel=null,f.spanControl=null,f.offsetControl=null),this.layout==="inline"&&delete f.grid,this.layout!=="horizontal"&&(f.spanLabelFixed=null),f.spanLabelFixed!=null&&f.spanLabelFixed>0&&(f.spanLabel=null,f.spanControl=null),f.widget==="date"&&f.end!=null){let E=a.properties[f.end];E?E.ui=J(C({},E.ui),{widget:f.widget,hidden:!0}):f.end=null}if(this.inheritUI(f),f.optionalHelp){typeof f.optionalHelp=="string"&&(f.optionalHelp={text:f.optionalHelp});let E=f.optionalHelp=C({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},f.optionalHelp);E.i18n&&(E.text=this.fanyi(E.i18n)),E.text||(f.optionalHelp=void 0)}if(f.i18n&&(p.title=this.fanyi(f.i18n)),f.descriptionI18n&&(p.description=this.fanyi(f.descriptionI18n)),p.description&&(f._description=this.dom.bypassSecurityTrustHtml(p.description)),f.hidden=typeof f.hidden=="boolean"?f.hidden:!1,f.hidden===!1&&f.acl&&this.aclSrv&&!this.aclSrv.can(f.acl)&&(f.hidden=!0),d[h]=f,delete p.ui,f.hidden===!0){let E=a.required.indexOf(y);E!==-1&&a.required.splice(E,1)}p.items&&(f.$items=C(C(C({},p.items.ui),c[h]),f.$items),s(p.items,p.items,c[h]?.$items??{},f.$items,f.$items)),p.properties&&Object.keys(p.properties).length&&s(p,a,c[h]||{},f,f)})};this.ui==null&&(this.ui={}),this._defUi=C(C(C({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),n.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=C({},this._defUi),s(n,n,this.ui,this.ui,this._ui),Wa(n,this._ui),this._schema=n,delete n.ui,Jt(this._ui,"cover schema & ui",this._ui,n)}coverButtonProperty(){this._btn=C(C(C({render:{size:"default"}},this.locale),this.options.button),this.button);let i=Object.keys(this._ui).find(o=>o.startsWith("$")),n=this._btn.render;if(this.layout==="horizontal"){let o=i?this._ui[i]:this._defUi;n.grid||(n.grid={offset:o.spanLabel,span:o.spanControl}),n.spanLabelFixed==null&&(n.spanLabelFixed=o.spanLabelFixed),!n.class&&typeof o.spanLabelFixed=="number"&&o.spanLabelFixed>0&&(n.class="text-center")}else n.grid={};this._mode&&(this.mode=this._mode),Jt(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(i){if(!this.platform.isBrowser)return;let n=["disabled","loading"];if(Object.keys(i).every(o=>n.includes(o))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(i,n){this._inited&&(this._renders.has(i)||(this._renders.set(i,n),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((i,n)=>{let o=this.rootProperty?.searchProperty(n);o!=null&&(o.ui._render=i)})}validator(i={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let n=s=>{s._runValidation(),!(!(s instanceof Xe)||!s.properties)&&(Array.isArray(s.properties)?s.properties.forEach(a=>n(a)):Object.keys(s.properties).forEach(a=>n(s.properties[a])))};i.onlyRoot?this.rootProperty._runValidation():n(this.rootProperty);let o=this.rootProperty.errors;return this._valid=!(o&&o.length),i.emitError&&!this._valid&&this.formError.emit(o),this.cdr.detectChanges(),this._valid}refreshSchema(i,n){if(!this.platform.isBrowser)return this;if(i&&(this.schema=i),n&&(this.ui=n),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=C({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let o=!0;return this.rootProperty.valueChanges.subscribe(s=>{if(this._item=C(C({},this.cleanValue?null:this.formData),s.value),o){o=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:s.path,pathValue:s.pathValue})}),this.rootProperty.errorsChanges.subscribe(s=>{this._valid=!(s&&s.length),this.formError.emit(s),this.cdr.detectChanges()}),this}reset(i=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),i&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}};e.\u0275fac=function(n){return new(n||e)(Ds(Ke))},e.\u0275cmp=H({type:e,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(n,o){n&2&&le("sf",!0)("sf__inline",o.layout==="inline")("sf__horizontal",o.layout==="horizontal")("sf__search",o.mode==="search")("sf__edit",o.mode==="edit")("sf__no-error",o.onlyVisual)("sf__no-colon",o.noColon)("sf__compact",o.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:[2,"liveValidate","liveValidate",Be],autocomplete:"autocomplete",firstVisual:[2,"firstVisual","firstVisual",Be],onlyVisual:[2,"onlyVisual","onlyVisual",Be],compact:[2,"compact","compact",Be],mode:"mode",loading:[2,"loading","loading",Be],disabled:[2,"disabled","disabled",Be],noColon:[2,"noColon","noColon",Be],cleanValue:[2,"cleanValue","cleanValue",Be],delay:[2,"delay","delay",Be]},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],features:[ni([rn,{provide:Yt,useFactory:o_,deps:[Qr,jt,Ke]},Pt]),ei,ht],ngContentSelectors:U0,decls:6,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"submit","nzLayout"],[3,"formProperty","footer"],[3,"ngTemplateOutlet"],[1,"sf-btns",3,"ngClass","fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],["nz-icon","",3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled"],["type","button","nz-button","","data-type","reset",3,"click","nzType","nzSize","disabled"]],template:function(n,o){if(n&1){let s=te();ri(),S(0,B0,1,0,"ng-template",null,0,we)(2,i_,2,1,"ng-template",null,1,we),z(4,"form",2),L("submit",function(l){return O(s),I(o.onSubmit(l))}),S(5,n_,1,2,"sf-item",3),$()}n&2&&(v(4),_("nzLayout",o.layout),Ee("autocomplete",o.autocomplete),v(),T(o.rootProperty?5:-1))},dependencies:[Ut,be,la,sa,aa,li,Ce,ai,Je,Ge,Ma,Kt,Ie,pt,Br],encapsulation:2,changeDetection:0});let t=e;return t})();var s_=["*"];function a_(t,e){if(t&1&&U(0,"i",9),t&2){let r=m(4);_("nzTooltipTitle",r.oh.text)("nzTooltipPlacement",r.oh.placement)("nzTooltipTrigger",r.oh.trigger)("nzTooltipColor",r.oh.bgColor)("nzTooltipOverlayClassName",r.oh.overlayClassName)("nzTooltipOverlayStyle",r.oh.overlayStyle)("nzTooltipMouseEnterDelay",r.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",r.oh.mouseLeaveDelay)("nzType",r.oh.icon)}}function l_(t,e){if(t&1&&(z(0,"span",8),Q(1),S(2,a_,1,9,"i",9),$()),t&2){let r=m(3);v(),se(" ",r.ui.optional," "),v(),T(r.oh?2:-1)}}function c_(t,e){if(t&1&&(z(0,"label")(1,"span",7),Q(2),$(),S(3,l_,3,2,"span",8),$()),t&2){let r=m(2);le("ant-form-item-required",r.ui._required),Ee("for",r.id),v(2),Ht(r.t),v(),T(r.ui.optional||r.oh?3:-1)}}function u_(t,e){if(t&1&&(z(0,"div",0),S(1,c_,4,5,"label",6),$()),t&2){let r=m();_("nzSpan",r.ui.spanLabel),v(),T(r.t?1:-1)}}function d_(t,e){if(t&1&&(z(0,"div",4)(1,"div",10),Q(2),$()()),t&2){let r=m();_("@helpMotion",void 0),v(2),se(" ",r.error," ")}}function f_(t,e){if(t&1&&U(0,"div",5),t&2){let r=m();_("innerHTML",r.ui._description,We)}}var ie=(()=>{let e=class e{constructor(){this.statusSrv=W(Bt),this._showTitle=!1,this.title=null}set showTitle(i){this._showTitle=!!i}get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}ngOnChanges(){let i=!!this.error;this.statusSrv.formStatusChanges.next({status:i?"error":"",hasFeedback:!!this.ui.feedback})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=H({type:e,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},features:[ht],ngContentSelectors:s_,decls:8,vars:21,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra",3,"innerHTML"],[3,"ant-form-item-required"],[1,"sf__label-text"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],["role","alert",1,"ant-form-item-explain-error"]],template:function(n,o){n&1&&(ri(),z(0,"nz-form-item"),S(1,u_,2,2,"div",0),z(2,"div",1)(3,"div",2)(4,"div",3),ii(5),$()(),S(6,d_,3,2,"div",4)(7,f_,1,1,"div",5),$()()),n&2&&(ti("width",o.ui.width,"px"),le("ant-form-item-has-error",o.showError)("ant-form-item-with-help",o.showError)("ant-form-item-has-success",o.ui.feedback==="success")("ant-form-item-has-warning",o.ui.feedback==="warning")("ant-form-item-has-error",o.ui.feedback==="error")("ant-form-item-is-validating",o.ui.feedback==="validating")("ant-form-item-has-feedback",o.ui.feedback),v(),T(o._showTitle?1:-1),v(),_("nzSpan",o.ui.spanControl)("nzOffset",o.ui.offsetControl),v(4),T(!o.ui.onlyVisual&&o.showError?6:-1),v(),T(o.schema.description?7:-1))},dependencies:[Ce,Je,Ge,Kt,Ie,gt],encapsulation:2,data:{animation:[ia]}});let t=e;return t})();var p_=(()=>{let e=class e{constructor(){this.table=W(Gr),this.templateRef=W(Ms)}ngOnInit(){this.table._addTpl(this.path.startsWith(ae)?this.path:ae+this.path,this.templateRef)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=st({type:e,selectors:[["","sf-template",""]],inputs:{path:[0,"sf-template","path"]}});let t=e;return t})();var us=(()=>{let e=class e{constructor(){this.cd=W(oi),this.injector=W(Qr),this.sfItemComp=W(pt),this.sfComp=W(Gr),this.showError=!1,this.id=""}get cls(){return this.ui.class||""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(si)}get cleanValue(){return this.sfComp?.cleanValue}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(mt(this.sfItemComp.destroy$)).subscribe(i=>{if(i==null)return;Jt(this.ui,"errorsChanges",this.formProperty.path,i);let n=this.sfComp?.firstVisual;(n||!n&&this.sfComp?._inited)&&(this.showError=i.length>0,this.error=this.showError?i[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(i){this.formProperty.setValue(i,!1),Jt(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(i=!1){i?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=st({type:e,hostVars:2,hostBindings:function(n,o){n&2&&Rs(o.cls)}});let t=e;return t})();var oe=(()=>{let e=class e extends us{reset(i){}afterViewInit(){}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275dir=st({type:e,features:[K]});let t=e;return t})(),Hu=(()=>{let e=class e extends us{reset(i){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(mt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275dir=st({type:e,features:[K]});let t=e;return t})(),Uu=(()=>{let e=class e extends us{reset(i){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(mt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275dir=st({type:e,features:[K]});let t=e;return t})();function h_(t,e){if(t&1&&U(0,"i",8),t&2){let r=m(2);_("nzTooltipTitle",r.oh.text)("nzTooltipPlacement",r.oh.placement)("nzTooltipTrigger",r.oh.trigger)("nzTooltipOverlayClassName",r.oh.overlayClassName)("nzTooltipOverlayStyle",r.oh.overlayStyle)("nzTooltipMouseEnterDelay",r.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",r.oh.mouseLeaveDelay)("nzType",r.oh.icon)}}function __(t,e){if(t&1){let r=te();z(0,"div",0)(1,"label"),Q(2),z(3,"span",7),Q(4),S(5,h_,1,8,"i",8),$()(),z(6,"div",9)(7,"button",10),L("click",function(){O(r);let n=m();return I(n.addItem())}),$()()()}if(t&2){let r=m();_("nzSpan",r.ui.spanLabel),v(),le("ant-form-item-required",r.ui.required),v(),se(" ",r.schema.title," "),v(2),se(" ",r.ui.optional," "),v(),T(r.oh?5:-1),v(2),_("nzType",r.addType)("disabled",r.addDisabled)("innerHTML",r.addTitle,We)}}function g_(t,e){if(t&1){let r=te();z(0,"span",14),L("click",function(){O(r);let n=m(2).index,o=m();return I(o.removeItem(n))}),U(1,"i",15),$()}if(t&2){let r=m(3);Ee("title",r.removeTitle)}}function y_(t,e){if(t&1&&(z(0,"div",11)(1,"nz-card"),U(2,"sf-item",12),S(3,g_,2,1,"span",13),$()()),t&2){let r=m(),i=r.$implicit,n=r.index,o=m();_("nzSpan",o.arraySpan),Ee("data-index",n),v(2),_("formProperty",i),v(),T(o.showRemove?3:-1)}}function v_(t,e){if(t&1&&(qs(0),S(1,y_,4,4,"div",11),As()),t&2){let r=e.$implicit;v(),T(r.visible&&!r.ui.hidden?1:-1)}}function w_(t,e){if(t&1&&(z(0,"div",5),Q(1),$()),t&2){let r=m();v(),Ht(r.error)}}function b_(t,e){if(t&1&&U(0,"div",6),t&2){let r=m();_("innerHTML",r.ui._description,We)}}var ds=(()=>{let e=class e extends Hu{constructor(){super(...arguments),this.arraySpan=8}get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:i,addTitle:n,addType:o,removable:s,removeTitle:a}=this.ui;i&&i.arraySpan&&(this.arraySpan=i.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(n||this.l.addText),this.addType=o||"dashed",this.removeTitle=s===!1?null:a||this.l.removeText}reValid(i){this.formProperty.updateValueAndValidity(C({onlySelf:!1,emitValueEvent:!1,emitValidator:!0},i))}addItem(){let i=this.formProperty.add({});this.reValid(),this.ui.add?.(i)}removeItem(i){let n=this.formProperty.properties[i].path;this.formProperty.remove(i),this.reValid({updatePath:n,emitValueEvent:!0}),this.ui.remove?.(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275cmp=H({type:e,selectors:[["sf-array"]],hostVars:2,hostBindings:function(n,o){n&2&&le("sf__array",!0)},features:[K],decls:8,vars:10,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],[4,"ngFor","ngForOf"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__array-add"],["type","button","nz-button","",3,"click","nzType","disabled","innerHTML"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],[1,"sf__array-remove"],[1,"sf__array-remove",3,"click"],["nz-icon","","nzType","delete"]],template:function(n,o){n&1&&(z(0,"nz-form-item"),S(1,__,8,9,"div",0),z(2,"div",1)(3,"div",2)(4,"div",3),S(5,v_,2,1,"ng-container",4),$(),S(6,w_,2,1,"div",5)(7,b_,1,1,"div",6),$()()()),n&2&&(le("ant-form-item-with-help",o.showError),v(),T(o.schema.title?1:-1),v(),_("nzSpan",o.ui.spanControl)("nzOffset",o.ui.offsetControl),v(),le("has-error",o.showError),v(2),_("ngForOf",o.formProperty.properties),v(),T(!o.ui.onlyVisual&&o.showError?6:-1),v(),T(o.schema.description?7:-1))},dependencies:[Js,li,Ce,ai,mi,Je,Ge,Kt,Ie,gt,pt],encapsulation:2});let t=e;return t})();var fs=(()=>{let e=class e extends oe{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275cmp=H({type:e,selectors:[["sf-boolean"]],features:[K],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading"]],template:function(n,o){n&1&&(z(0,"sf-item-wrap",0)(1,"nz-switch",1),L("ngModelChange",function(a){return o.setValue(a)}),$()()),n&2&&(_("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),v(),_("ngModel",o.value)("nzDisabled",o.disabled)("nzSize",o.ui.size)("nzCheckedChildren",o.ui.checkedChildren)("nzUnCheckedChildren",o.ui.unCheckedChildren)("nzLoading",o.ui.loading))},dependencies:[fe,pe,Ra,ie],encapsulation:2});let t=e;return t})();function C_(t,e){if(t&1){let r=te();z(0,"label",3),Ue("ngModelChange",function(n){O(r);let o=m(2);return He(o.allChecked,n)||(o.allChecked=n),I(n)}),L("ngModelChange",function(){O(r);let n=m(2);return I(n.onAllChecked())}),Q(1),$()}if(t&2){let r=m(2);Le("ngModel",r.allChecked),_("nzIndeterminate",r.indeterminate),v(),se(" ",r.ui.checkAllText||r.l.checkAllText," ")}}function z_(t,e){if(t&1&&S(0,C_,2,3,"label",2),t&2){let r=m();T(r.ui.checkAll?0:-1)}}function $_(t,e){if(t&1&&U(0,"i",7),t&2){let r=m(3);_("nzTooltipTitle",r.oh.text)("nzTooltipPlacement",r.oh.placement)("nzTooltipTrigger",r.oh.trigger)("nzTooltipOverlayClassName",r.oh.overlayClassName)("nzTooltipOverlayStyle",r.oh.overlayStyle)("nzTooltipMouseEnterDelay",r.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",r.oh.mouseLeaveDelay)("nzType",r.oh.icon)}}function S_(t,e){if(t&1){let r=te();z(0,"label",5),L("ngModelChange",function(n){O(r);let o=m(2);return I(o._setValue(n))}),Q(1),z(2,"span",6),Q(3),S(4,$_,1,8,"i",7),$()()}if(t&2){let r=m(2);_("nzDisabled",r.disabled)("ngModel",r.value),v(),se(" ",r.schema.title," "),v(2),se(" ",r.ui.optional," "),v(),T(r.oh?4:-1)}}function x_(t,e){}function E_(t,e){if(t&1){let r=te();S(0,x_,0,0,"ng-template",9),z(1,"nz-checkbox-group",10),L("ngModelChange",function(){O(r);let n=m(3);return I(n.notifySet())}),$()}if(t&2){let r=m(3),i=de(1);_("ngTemplateOutlet",i),v(),_("ngModel",r.data)}}function T_(t,e){}function P_(t,e){if(t&1&&(z(0,"div",13),S(1,T_,0,0,"ng-template",9),$()),t&2){let r=m(4),i=de(1);_("nzSpan",r.grid_span),v(),_("ngTemplateOutlet",i)}}function O_(t,e){if(t&1&&(z(0,"div",13)(1,"label",14),Q(2),$()()),t&2){let r=e.$implicit,i=m(4);_("nzSpan",i.grid_span),v(),_("nzValue",r.value)("ngModel",r.checked)("nzDisabled",r.disabled),v(),se(" ",r.label," ")}}function I_(t,e){if(t&1){let r=te();z(0,"nz-checkbox-wrapper",11),L("nzOnChange",function(n){O(r);let o=m(3);return I(o.groupInGridChange(n))}),z(1,"div",12),S(2,P_,2,2,"div",13),Pe(3,O_,3,5,"div",13,Te),$()()}if(t&2){let r=m(3);v(2),T(r.ui.checkAll?2:-1),v(),Oe(r.data)}}function k_(t,e){if(t&1&&S(0,E_,2,2)(1,I_,5,1,"nz-checkbox-wrapper",8),t&2){let r=m(2);T(r.grid_span===0?0:1)}}function N_(t,e){if(t&1&&S(0,S_,5,5,"label",4)(1,k_,2,1),t&2){let r=m();T(r.data.length===0?0:1)}}var ps=(()=>{let e=class e extends oe{constructor(){super(...arguments),this.data=[],this.allChecked=!1,this.indeterminate=!1,this.labelTitle="",this.inited=!1}reset(i){this.inited=!1,Xt(this.schema,this.ui,i).subscribe(n=>{this.data=n,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=n.length===0?"":this.schema.title;let{span:o}=this.ui;this.grid_span=o&&o>0?o:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(i){this.setValue(i),this.detectChanges(),this.notifyChange(i)}notifySet(){let i=this.data.filter(n=>n.checked);this.updateAllChecked().setValue(i.map(n=>n.value)),this.notifyChange(i)}groupInGridChange(i){this.data.forEach(n=>n.checked=i.indexOf(n.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(i=>i.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(i=>i.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(i=>i.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(i){this.ui.change&&this.ui.change(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275cmp=H({type:e,selectors:[["sf-checkbox"]],features:[K],decls:4,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModel","nzIndeterminate"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModelChange","ngModel","nzIndeterminate"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__checkbox-list"],[3,"ngTemplateOutlet"],[3,"ngModelChange","ngModel"],[1,"sf__checkbox-list",3,"nzOnChange"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(n,o){n&1&&(S(0,z_,1,1,"ng-template",null,0,we),z(2,"sf-item-wrap",1),S(3,N_,2,1),$()),n&2&&(v(2),_("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",!0)("title",o.labelTitle),v(),T(o.inited?3:-1))},dependencies:[be,fe,pe,Ce,da,fa,ua,Je,Ge,Ie,gt,ie],encapsulation:2});let t=e;return t})();var V_=(t,e,r)=>({$implicit:t,schema:e,ui:r});function D_(t,e){}var ms=(()=>{let e=class e extends oe{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275cmp=H({type:e,selectors:[["sf-custom"]],features:[K],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,o){n&1&&(z(0,"sf-item-wrap",0),S(1,D_,0,0,"ng-template",1),$()),n&2&&(_("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),v(),_("ngTemplateOutlet",o.ui._render)("ngTemplateOutletContext",Ks(8,V_,o,o.schema,o.ui)))},dependencies:[be,ie],encapsulation:2});let t=e;return t})();function M_(t,e){if(t&1){let r=te();z(0,"nz-year-picker",5),Ue("ngModelChange",function(n){O(r);let o=m();return He(o.displayValue,n)||(o.displayValue=n),I(n)}),L("ngModelChange",function(n){O(r);let o=m();return I(o._change(n))})("nzOnOpenChange",function(n){O(r);let o=m();return I(o._openChange(n))}),$()}if(t&2){let r=m();_("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Le("ngModel",r.displayValue),_("nzAllowClear",r.i.allowClear)("ngClass",r.ui.className)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzRenderExtraFooter",r.ui.renderExtraFooter)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}function F_(t,e){if(t&1){let r=te();z(0,"nz-month-picker",5),Ue("ngModelChange",function(n){O(r);let o=m();return He(o.displayValue,n)||(o.displayValue=n),I(n)}),L("ngModelChange",function(n){O(r);let o=m();return I(o._change(n))})("nzOnOpenChange",function(n){O(r);let o=m();return I(o._openChange(n))}),$()}if(t&2){let r=m();_("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Le("ngModel",r.displayValue),_("nzAllowClear",r.i.allowClear)("ngClass",r.ui.className)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzRenderExtraFooter",r.ui.renderExtraFooter)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}function j_(t,e){if(t&1){let r=te();z(0,"nz-week-picker",6),Ue("ngModelChange",function(n){O(r);let o=m();return He(o.displayValue,n)||(o.displayValue=n),I(n)}),L("ngModelChange",function(n){O(r);let o=m();return I(o._change(n))})("nzOnOpenChange",function(n){O(r);let o=m();return I(o._openChange(n))}),$()}if(t&2){let r=m();_("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Le("ngModel",r.displayValue),_("nzAllowClear",r.i.allowClear)("ngClass",r.ui.className)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}function R_(t,e){if(t&1){let r=te();z(0,"nz-range-picker",7),Ue("ngModelChange",function(n){O(r);let o=m();return He(o.displayValue,n)||(o.displayValue=n),I(n)}),L("ngModelChange",function(n){O(r);let o=m();return I(o._change(n))})("nzOnOpenChange",function(n){O(r);let o=m();return I(o._openChange(n))})("nzOnOk",function(n){O(r);let o=m();return I(o._ok(n))}),$()}if(t&2){let r=m();_("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Le("ngModel",r.displayValue),_("nzAllowClear",r.i.allowClear)("ngClass",r.ui.className)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzDisabledTime",r.ui.disabledTime)("nzRenderExtraFooter",r.ui.renderExtraFooter)("nzRanges",r.ui.ranges)("nzShowTime",r.ui.showTime)("nzSeparator",r.ui.separator)("nzShowWeekNumber",r.ui.showWeekNumber||!1)("nzMode",r.ui.rangeMode)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}function q_(t,e){if(t&1){let r=te();z(0,"nz-date-picker",8),Ue("ngModelChange",function(n){O(r);let o=m();return He(o.displayValue,n)||(o.displayValue=n),I(n)}),L("ngModelChange",function(n){O(r);let o=m();return I(o._change(n))})("nzOnOpenChange",function(n){O(r);let o=m();return I(o._openChange(n))})("nzOnOk",function(n){O(r);let o=m();return I(o._ok(n))}),$()}if(t&2){let r=m();_("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Le("ngModel",r.displayValue),_("nzAllowClear",r.i.allowClear)("ngClass",r.ui.className)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzDisabledTime",r.ui.disabledTime)("nzRenderExtraFooter",r.ui.renderExtraFooter)("nzShowTime",r.ui.showTime)("nzShowToday",r.i.showToday)("nzShowWeekNumber",r.ui.showWeekNumber||!1)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}var hs=(()=>{let e=class e extends oe{constructor(){super(...arguments),this.flatRange=!1,this.displayValue=null}ngOnInit(){let{mode:i,end:n,displayFormat:o,allowClear:s,showToday:a}=this.ui;if(this.mode=i||"date",this.flatRange=n!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let l=this.endProperty.ui;this.endFormat=l.format?l._format:this.startFormat}if(o)this.displayFormat=o;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:me(s,!0),showToday:me(a,!0)}}reset(i){let n={formatString:this.startFormat,defaultValue:null};if(Array.isArray(i)?i=i.map(o=>ui(o,n)):i=ui(i,n),this.flatRange){let o=ui(this.endProperty.formData,{formatString:this.endFormat||this.startFormat,defaultValue:null});this.displayValue=i==null||o==null?[]:[i,o]}else this.displayValue=i;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(i,n=!0){if(n&&this.ui.change&&this.ui.change(i),i==null||Array.isArray(i)&&i.length<2){this.setValue(null),this.setEnd(null);return}let o=Array.isArray(i)?[ci(i[0],this.startFormat),ci(i[1],this.endFormat||this.startFormat)]:ci(i,this.startFormat);this.flatRange?(this.setValue(o[0]),this.setEnd(o[1])):this.setValue(o)}_openChange(i){this.ui.onOpenChange&&this.ui.onOpenChange(i)}_ok(i){this.ui.onOk&&this.ui.onOk(i)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(i){this.flatRange&&(this.endProperty.setValue(i,!0),this.endProperty.updateValueAndValidity())}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275cmp=H({type:e,selectors:[["sf-date"]],features:[K],decls:6,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"]],template:function(n,o){if(n&1&&(z(0,"sf-item-wrap",0),S(1,M_,1,15,"nz-year-picker",1)(2,F_,1,15,"nz-month-picker",1)(3,j_,1,14,"nz-week-picker",2)(4,R_,1,21,"nz-range-picker",3)(5,q_,1,19,"nz-date-picker",4),$()),n&2){let s;_("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),v(),T((s=o.mode)==="year"?1:s==="month"?2:s==="week"?3:s==="range"?4:5)}},dependencies:[Ut,fe,pe,Pa,Ia,Oa,Na,ka,ie],encapsulation:2});let t=e;return t})();var A_=t=>({"ant-input-number__hide-step":t}),on=(()=>{let e=class e extends oe{constructor(){super(...arguments),this.formatter=i=>i,this.parser=i=>i,this.width=""}ngOnInit(){let{minimum:i,exclusiveMinimum:n,maximum:o,exclusiveMaximum:s,multipleOf:a,type:l}=this.schema;this.step=a||1,typeof i<"u"&&(this.min=n?i+this.step:i),typeof o<"u"&&(this.max=s?o-this.step:o),l==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let c=this.ui;c.prefix!=null&&(c.formatter=u=>u==null?"":`${c.prefix} ${u}`,c.parser=u=>u.replace(`${c.prefix} `,"")),c.unit!=null&&(c.formatter=u=>u==null?"":`${u} ${c.unit}`,c.parser=u=>u.replace(` ${c.unit}`,"")),c.formatter&&(this.formatter=c.formatter),c.parser&&(this.parser=c.parser),this.width=typeof c.widgetWidth=="number"?`${c.widgetWidth}px`:c.widgetWidth??"90px"}_setValue(i){this.setValue(this.schema.type==="integer"?Math.floor(i):i),this.ui.change&&this.ui.change(this.value)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275cmp=H({type:e,selectors:[["sf-number"]],features:[K],decls:2,vars:22,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder","ngClass"]],template:function(n,o){n&1&&(z(0,"sf-item-wrap",0)(1,"nz-input-number",1),L("ngModelChange",function(a){return o._setValue(a)}),$()()),n&2&&(_("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),v(),ti("width",o.width),_("nzId",o.id)("ngModel",o.value)("nzDisabled",o.disabled)("nzSize",o.ui.size)("nzMin",o.min)("nzMax",o.max)("nzStep",o.step)("nzFormatter",o.formatter)("nzParser",o.parser)("nzPrecision",o.ui.precision)("nzPlaceHolder",o.ui.placeholder||"")("ngClass",Bs(20,A_,o.ui.hideStep)))},dependencies:[Ut,fe,pe,Ea,ie],encapsulation:2});let t=e;return t})();var W_=()=>[],L_=()=>({$implicit:!0});function H_(t,e){if(t&1&&(z(0,"div",4),Q(1),$()),t&2){let r=m(2);v(),Ht(r.title)}}function U_(t,e){if(t&1&&(z(0,"div",6),U(1,"sf-item",7),$()),t&2){let r=m().$implicit;_("nzSpan",r.grid.span)("nzOffset",r.grid.offset)("nzXs",r.grid.xs)("nzSm",r.grid.sm)("nzMd",r.grid.md)("nzLg",r.grid.lg)("nzXl",r.grid.xl)("nzXXl",r.grid.xxl),v(),_("formProperty",r.property)("fixed-label",r.spanLabelFixed)}}function B_(t,e){if(t&1&&S(0,U_,2,10,"div",6),t&2){let r=e.$implicit;T(r.property.visible&&r.show?0:-1)}}function K_(t,e){if(t&1&&(z(0,"div",5),Pe(1,B_,1,1,null,null,Te),$()),t&2){let r=m(2);_("nzGutter",r.grid.gutter),v(),Oe(r.list)}}function G_(t,e){if(t&1&&U(0,"sf-item",7),t&2){let r=m().$implicit;_("formProperty",r.property)("fixed-label",r.spanLabelFixed)}}function J_(t,e){if(t&1&&S(0,G_,1,2,"sf-item",7),t&2){let r=e.$implicit;T(r.property.visible&&r.show?0:-1)}}function X_(t,e){if(t&1&&Pe(0,J_,1,1,null,null,Te),t&2){let r=m(2);Oe(r.list)}}function Z_(t,e){if(t&1&&S(0,H_,2,1,"div",4)(1,K_,3,1,"div",5)(2,X_,2,0),t&2){let r=e.$implicit,i=m();T(!r&&i.title?0:-1),v(),T(i.grid?1:2)}}function Q_(t,e){if(t&1&&U(0,"i",11),t&2){let r=m(3);_("nzType",r.expand?"down":"up")}}function Y_(t,e){if(t&1&&U(0,"i",13),t&2){let r=m(4);_("nzTooltipTitle",r.oh.text)("nzTooltipPlacement",r.oh.placement)("nzTooltipTrigger",r.oh.trigger)("nzTooltipColor",r.oh.bgColor)("nzTooltipOverlayClassName",r.oh.overlayClassName)("nzTooltipOverlayStyle",r.oh.overlayStyle)("nzTooltipMouseEnterDelay",r.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",r.oh.mouseLeaveDelay)("nzType",r.oh.icon)}}function eg(t,e){if(t&1&&(z(0,"span",12),Q(1),S(2,Y_,1,9,"i",13),$()),t&2){let r=m(3);v(),se(" ",r.ui.optional," "),v(),T(r.oh?2:-1)}}function tg(t,e){if(t&1){let r=te();z(0,"div",10),L("click",function(){O(r);let n=m(2);return I(n.changeExpand())}),S(1,Q_,1,1,"i",11),Q(2),S(3,eg,3,2,"span",12),$()}if(t&2){let r=m(2);le("point",r.showExpand),v(),T(r.showExpand?1:-1),v(),se(" ",r.title," "),v(),T(r.ui.optional||r.oh?3:-1)}}function rg(t,e){}function ig(t,e){if(t&1&&(z(0,"nz-card",8),S(1,tg,4,5,"ng-template",null,1,we)(3,rg,0,0,"ng-template",9),$()),t&2){let r=de(2),i=m(),n=de(1);le("sf__object-card-fold",!i.expand),_("nzTitle",r)("nzExtra",i.ui.cardExtra)("nzSize",i.ui.cardSize||"small")("nzActions",i.ui.cardActions||dn(11,W_))("nzBodyStyle",i.ui.cardBodyStyle)("nzBordered",i.ui.cardBordered||!0)("nzBorderless",i.ui.cardBorderless||!1),v(3),_("ngTemplateOutlet",n)("ngTemplateOutletContext",dn(12,L_))}}function ng(t,e){}function og(t,e){if(t&1&&S(0,ng,0,0,"ng-template",3),t&2){m();let r=de(1);_("ngTemplateOutlet",r)}}var _s=(()=>{let e=class e extends Uu{constructor(){super(...arguments),this.type="default",this.list=[],this.showExpand=!0,this.expand=!0}ngOnInit(){let{formProperty:i,ui:n}=this,{grid:o,showTitle:s,type:a}=n;this.showExpand=me(n.showExpand,!0),this.expand=me(n.expand,!0),this.type=a??"default",(this.type==="card"||!i.isRoot()&&!(i.parent instanceof Qt)&&s===!0)&&(this.title=this.schema.title),this.grid=o;let l=[];for(let c of i.propertiesId){let u=i.properties[c],d={property:u,grid:u.ui.grid||o||{},spanLabelFixed:u.ui.spanLabelFixed,show:u.ui.hidden===!1};l.push(d)}this.list=l}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275cmp=H({type:e,selectors:[["sf-object"]],features:[K],decls:4,vars:1,consts:[["default",""],["cardTitleTpl",""],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless","sf__object-card-fold"],[3,"ngTemplateOutlet"],[1,"sf__title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],["nz-icon","",1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["s","","nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"]],template:function(n,o){n&1&&S(0,Z_,3,2,"ng-template",null,0,we)(2,ig,4,13,"nz-card",2)(3,og,1,1,null,3),n&2&&(v(2),T(o.type==="card"?2:3))},dependencies:[be,Ce,mi,Je,Ge,Ie,gt,pt,Br],encapsulation:2});let t=e;return t})();function sg(t,e){if(t&1&&(z(0,"label",2),U(1,"span",3),$()),t&2){let r=e.$implicit,i=m(2);_("nzValue",r.value)("nzDisabled",i.disabled||r.disabled),v(),_("innerHTML",r.label,We)}}function ag(t,e){if(t&1&&Pe(0,sg,2,3,"label",2,Te),t&2){let r=m();Oe(r.data)}}function lg(t,e){if(t&1&&(z(0,"label",4),U(1,"span",3),$()),t&2){let r=e.$implicit,i=m(2);_("nzValue",r.value)("nzDisabled",i.disabled||r.disabled),v(),_("innerHTML",r.label,We)}}function cg(t,e){if(t&1&&Pe(0,lg,2,3,"label",4,Te),t&2){let r=m();Oe(r.data)}}var gs=(()=>{let e=class e extends oe{constructor(){super(...arguments),this.data=[]}reset(i){this.styleType=(this.ui.styleType||"default")==="default",Xt(this.schema,this.ui,i).subscribe(n=>{this.data=n,this.detectChanges()})}_setValue(i){this.setValue(i),this.ui.change&&this.ui.change(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275cmp=H({type:e,selectors:[["sf-radio"]],features:[K],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzSize","nzName","ngModel","nzButtonStyle"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(n,o){n&1&&(z(0,"sf-item-wrap",0)(1,"nz-radio-group",1),L("ngModelChange",function(a){return o._setValue(a)}),S(2,ag,2,0)(3,cg,2,0),$()()),n&2&&(_("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),v(),_("nzSize",o.ui.size)("nzName",o.id)("ngModel",o.value)("nzButtonStyle",o.ui.buttonStyle||"outline"),v(),T(o.styleType?2:3))},dependencies:[fe,pe,ha,ma,ie],encapsulation:2});let t=e;return t})();function ug(t,e){if(t&1&&U(0,"nz-option",3),t&2){let r=e.$implicit;_("nzLabel",r.label)("nzValue",r.value)("nzHide",r.hide)("nzDisabled",r.disabled)}}function dg(t,e){if(t&1&&Pe(0,ug,1,4,"nz-option",3,Te),t&2){let r=m();Oe(r.data)}}function fg(t,e){if(t&1&&U(0,"nz-option",5),t&2){let r=e.$implicit;_("nzLabel",r.label)("nzValue",r.value)("nzDisabled",r.disabled)("nzHide",r.hide)}}function pg(t,e){if(t&1&&(z(0,"nz-option-group",4),Pe(1,fg,1,4,"nz-option",5,Te),$()),t&2){let r=e.$implicit;_("nzLabel",r.label),v(),Oe(r.children)}}function mg(t,e){if(t&1&&Pe(0,pg,3,1,"nz-option-group",4,Te),t&2){let r=m();Oe(r.data)}}function hg(t,e){if(t&1&&(z(0,"nz-option",2),U(1,"i",6),Q(2),$()),t&2){let r=m();v(2),se(" ",r.ui.searchLoadingText," ")}}var ys=(()=>{let e=class e extends oe{constructor(){super(...arguments),this.search$=new qt,this.data=[],this.hasGroup=!1,this.loading=!1}checkGroup(i){this.hasGroup=(i||[]).filter(n=>n.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:i,borderless:n,autoFocus:o,dropdownMatchSelectWidth:s,serverSearch:a,maxMultipleCount:l,mode:c,showSearch:u,tokenSeparators:d,maxTagCount:y,compareWith:g,optionHeightPx:h,optionOverflowSize:p,showArrow:w}=this.ui;this.i={autoClearSearchValue:me(i,!0),borderless:me(n,!1),autoFocus:me(o,!1),dropdownMatchSelectWidth:me(s,!0),serverSearch:me(a,!1),maxMultipleCount:l||1/0,mode:c||"default",showSearch:me(u,!0),tokenSeparators:d||[],maxTagCount:y||1/0,optionHeightPx:h||32,optionOverflowSize:p||8,showArrow:me(w,!0),compareWith:g||((E,M)=>E===M)};let f=this.ui.onSearch;f&&this.search$.pipe(mt(this.sfItemComp.destroy$),Xr(),Jr(this.ui.searchDebounceTime||300),Zr(E=>f(E)),Ps(()=>[])).subscribe(E=>{this.data=E,this.checkGroup(E),this.loading=!1,this.detectChanges()})}reset(i){let n=this.ui.onSearch;Xt(this.schema,this.ui,i).subscribe(o=>{this._value=i,n==null&&(this.data=o),this.checkGroup(o),this.detectChanges()}),i&&n!=null&&this.search$.next(i)}change(i){this.ui.change&&this.ui.change(i,this.getOrgData(i)),this.setValue(i??void 0)}getOrgData(i){let n=this.injector.get(Aa);return Array.isArray(i)?i.map(o=>n.findTree(this.data,s=>s.value===o)):n.findTree(this.data,o=>o.value===i)}openChange(i){this.ui.openChange&&this.ui.openChange(i)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(i){this.ui.onSearch&&(this.loading=!0,this.search$.next(i))}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275cmp=H({type:e,selectors:[["sf-select"]],features:[K],decls:5,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom","nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzBorderless","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize"],["nzDisabled","","nzCustomContent",""],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nz-icon","","nzType","loading"]],template:function(n,o){n&1&&(z(0,"sf-item-wrap",0)(1,"nz-select",1),Ue("ngModelChange",function(a){return He(o._value,a)||(o._value=a),a}),L("ngModelChange",function(a){return o.change(a)})("nzOpenChange",function(a){return o.openChange(a)})("nzOnSearch",function(a){return o.onSearch(a)})("nzScrollToBottom",function(){return o.scrollToBottom()}),S(2,dg,2,0)(3,mg,2,0)(4,hg,3,1,"nz-option",2),$()()),n&2&&(_("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),v(),_("nzId",o.id)("nzDisabled",o.disabled),Le("ngModel",o._value),_("nzSize",o.ui.size)("nzPlaceHolder",o.ui.placeholder)("nzNotFoundContent",o.ui.notFoundContent)("nzDropdownClassName",o.ui.dropdownClassName)("nzAllowClear",o.ui.allowClear)("nzDropdownStyle",o.ui.dropdownStyle)("nzCustomTemplate",o.ui.customTemplate)("nzSuffixIcon",o.ui.suffixIcon)("nzRemoveIcon",o.ui.removeIcon)("nzClearIcon",o.ui.clearIcon)("nzMenuItemSelectedIcon",o.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",o.ui.maxTagPlaceholder)("nzDropdownRender",o.ui.dropdownRender)("nzAutoClearSearchValue",o.i.autoClearSearchValue)("nzBorderless",o.i.borderless)("nzAutoFocus",o.i.autoFocus)("nzDropdownMatchSelectWidth",o.i.dropdownMatchSelectWidth)("nzServerSearch",o.i.serverSearch)("nzMaxMultipleCount",o.i.maxMultipleCount)("nzMode",o.i.mode)("nzShowSearch",o.i.showSearch)("nzShowArrow",o.i.showArrow)("nzTokenSeparators",o.i.tokenSeparators)("nzMaxTagCount",o.i.maxTagCount)("compareWith",o.i.compareWith)("nzOptionHeightPx",o.i.optionHeightPx)("nzOptionOverflowSize",o.i.optionOverflowSize),v(),T(!o.loading&&!o.hasGroup?2:-1),v(),T(!o.loading&&o.hasGroup?3:-1),v(),T(o.loading?4:-1))},dependencies:[fe,pe,Ce,Ie,va,wa,ya,ie],encapsulation:2});let t=e;return t})();function gg(t,e){if(t&1){let r=te();z(0,"input",4),L("ngModelChange",function(n){O(r);let o=m();return I(o.change(n))})("keyup.enter",function(n){O(r);let o=m();return I(o.enter(n))})("focus",function(n){O(r);let o=m();return I(o.focus(n))})("blur",function(n){O(r);let o=m();return I(o.blur(n))}),$()}if(t&2){let r=m();_("disabled",r.disabled)("nzSize",r.ui.size)("nzBorderless",r.ui.borderless)("ngModel",r.value),Ee("id",r.id)("disabled",r.disabled)("maxLength",r.schema.maxLength||null)("type",r.ui.type||"text")("placeholder",r.ui.placeholder)("autocomplete",r.ui.autocomplete)("autoFocus",r.ui.autofocus)}}function yg(t,e){}function vg(t,e){if(t&1&&(z(0,"nz-input-group",2),S(1,yg,0,0,"ng-template",3),$()),t&2){let r=m(),i=de(2);_("nzAddOnBefore",r.ui.addOnBefore)("nzAddOnAfter",r.ui.addOnAfter)("nzAddOnBeforeIcon",r.ui.addOnBeforeIcon)("nzAddOnAfterIcon",r.ui.addOnAfterIcon)("nzPrefix",r.ui.prefix)("nzPrefixIcon",r.ui.prefixIcon)("nzSuffix",r.ui.suffix)("nzSuffixIcon",r.ui.suffixIcon),v(),_("ngTemplateOutlet",i)}}function wg(t,e){}function bg(t,e){if(t&1&&S(0,wg,0,0,"ng-template",3),t&2){m();let r=de(2);_("ngTemplateOutlet",r)}}var sn=(()=>{let e=class e extends oe{constructor(){super(...arguments),this.change$=null}ngOnInit(){let{addOnAfter:i,addOnAfterIcon:n,addOnBefore:o,addOnBeforeIcon:s,prefix:a,prefixIcon:l,suffix:c,suffixIcon:u,autofocus:d}=this.ui;this.type=i||o||n||s||a||l||c||u?"addon":"",d===!0&&setTimeout(()=>{this.injector.get(Yr).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(i){!i&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let i=this.ui.changeDebounceTime,n=this.ui.change;if(i==null||i<=0||n==null)return;this.change$=new At(this.value);let o=this.change$.asObservable().pipe(Jr(i),mt(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(o=o.pipe(Zr(this.ui.changeMap))),o.subscribe(s=>n(s))}change(i){if(this.setValue(i),this.change$!=null){this.change$.next(i);return}this.ui.change&&this.ui.change(i)}focus(i){this.ui.focus&&this.ui.focus(i)}blur(i){this.ui.blur&&this.ui.blur(i)}enter(i){this.ui.enter&&this.ui.enter(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275cmp=H({type:e,selectors:[["sf-string"]],features:[K],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzAddOnBefore","nzAddOnAfter","nzAddOnBeforeIcon","nzAddOnAfterIcon","nzPrefix","nzPrefixIcon","nzSuffix","nzSuffixIcon"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","keyup.enter","focus","blur","disabled","nzSize","nzBorderless","ngModel"]],template:function(n,o){n&1&&(z(0,"sf-item-wrap",1),S(1,gg,1,11,"ng-template",null,0,we)(3,vg,2,9,"nz-input-group",2)(4,bg,1,1,null,3),$()),n&2&&(_("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),v(3),T(o.type==="addon"?3:4))},dependencies:[be,di,fe,pe,Ce,pi,za,Ca,ie],encapsulation:2});let t=e;return t})();function Cg(t,e){if(t&1&&U(0,"span",1),t&2){let r=m();_("innerHTML",r.text,We)}}function zg(t,e){if(t&1&&U(0,"span",2),t&2){let r=m();_("innerText",r.text)}}var vs=(()=>{let e=class e extends oe{constructor(){super(...arguments),this.text=""}ngOnInit(){this.ui._required=!1,this.ui.html=me(this.ui.html,!0)}reset(i){this.text=i||this.ui.defaultText||"-"}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275cmp=H({type:e,selectors:[["sf-text"]],features:[K],decls:3,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(n,o){n&1&&(z(0,"sf-item-wrap",0),S(1,Cg,1,1,"span",1)(2,zg,1,1,"span",2),$()),n&2&&(le("sf__text-html",o.ui.html),_("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),v(),T(o.ui.html?1:2))},dependencies:[ie],encapsulation:2});let t=e;return t})();function $g(t,e){if(t&1){let r=te();z(0,"textarea",4),L("ngModelChange",function(n){O(r);let o=m();return I(o.change(n))})("focus",function(n){O(r);let o=m();return I(o.focus(n))})("blur",function(n){O(r);let o=m();return I(o.blur(n))}),Q(1,"      "),$()}if(t&2){let r=m();_("disabled",r.disabled)("nzSize",r.ui.size)("ngModel",r.value)("nzAutosize",r.autosize)("nzBorderless",r.ui.borderless),Ee("id",r.id)("disabled",r.disabled)("maxLength",r.schema.maxLength||null)("placeholder",r.ui.placeholder)}}function Sg(t,e){if(t&1){let r=te();z(0,"nz-textarea-count",2)(1,"textarea",4),L("ngModelChange",function(n){O(r);let o=m();return I(o.change(n))})("focus",function(n){O(r);let o=m();return I(o.focus(n))})("blur",function(n){O(r);let o=m();return I(o.blur(n))}),Q(2,"        "),$()()}if(t&2){let r=m();_("nzMaxCharacterCount",r.ui.maxCharacterCount)("nzComputeCharacterCount",r.ui.computeCharacterCount),v(),_("disabled",r.disabled)("nzSize",r.ui.size)("ngModel",r.value)("nzAutosize",r.autosize)("nzBorderless",r.ui.borderless),Ee("id",r.id)("disabled",r.disabled)("maxLength",r.schema.maxLength||null)("placeholder",r.ui.placeholder)}}function xg(t,e){}function Eg(t,e){if(t&1&&S(0,xg,0,0,"ng-template",3),t&2){m();let r=de(2);_("ngTemplateOutlet",r)}}var ws=(()=>{let e=class e extends oe{constructor(){super(...arguments),this.autosize=!0}ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=i=>i.length)}change(i){this.setValue(i),this.ui.change&&this.ui.change(i)}focus(i){this.ui.focus&&this.ui.focus(i)}blur(i){this.ui.blur&&this.ui.blur(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=B(e)))(o||e)}})(),e.\u0275cmp=H({type:e,selectors:[["sf-textarea"]],features:[K],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","focus","blur","disabled","nzSize","ngModel","nzAutosize","nzBorderless"]],template:function(n,o){n&1&&(z(0,"sf-item-wrap",1),S(1,$g,2,9,"ng-template",null,0,we)(3,Sg,3,11,"nz-textarea-count",2)(4,Eg,1,1,null,3),$()),n&2&&(_("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),v(3),T(o.ui.maxCharacterCount?3:4))},dependencies:[be,di,fe,pe,Sa,pi,$a,ie],encapsulation:2});let t=e;return t})();var _r=class extends it{constructor(){super(),this.register("object",_s),this.register("array",ds),this.register("text",vs),this.register("string",sn),this.register("number",on),this.register("integer",on),this.register("date",hs),this.register("radio",gs),this.register("checkbox",ps),this.register("boolean",fs),this.register("textarea",ws),this.register("select",ys),this.register("custom",ms),this.setDefault(sn)}};var Tg=[ta,ja,pa,Va,Fa,Da,ea,xa,Ta,ra,_a,ba,qa,ga];var G1=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:jt,useClass:tn,deps:[Ke,_t]},{provide:it,useClass:_r}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ns({type:e}),e.\u0275inj=Is({imports:[Xs,ca,oa,Tg]});let t=e;return t})();function tC(t){let e=[{provide:jt,useClass:tn,deps:[Ke,_t]},{provide:it,useClass:_r}];return t?.widgets&&e.push({provide:ks,multi:!0,useValue:()=>{let r=W(it);t?.widgets?.forEach(i=>r.register(i.KEY,i.type))}}),Vs(e)}export{me as a,Ha as b,Xu as c,Xt as d,Gr as e,ie as f,p_ as g,oe as h,G1 as i,tC as j};
