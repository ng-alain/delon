import{a as Ii,b as As}from"./chunk-Z4C2Y2ZE.js";import{b as Pi,f as xs,g as zs,h as $s,i as Es,j as Ts,k as Ps,l as Xt,m as Rs,p as js,v as Ls}from"./chunk-N2QKXAJS.js";import{a as fs,b as ps,c as ms,d as hs,e as gs,f as ys,g as _s}from"./chunk-B4JGQHR5.js";import{a as Ws,b as qs}from"./chunk-TQDCXJM3.js";import{h as Ss,i as bs,o as ws,p as Cs,q as Qe,r as Ze,s as Ms}from"./chunk-T3EPN5ZP.js";import{E as St,G as vs,H as Fs,I as Fi,J as Is,K as Os,L as Ns,M as Vs,N as ks,O as Ds,d as Ti,g as pe,h as ls,k as cs,m as me,n as ds,v as us,z as Jt}from"./chunk-TA7EFEO7.js";import{$b as bi,A as zn,Ad as It,Bb as Ka,Bc as wi,Cb as Ga,Cc as Xe,Ch as Ei,Da as He,Db as Ja,Dc as Qa,Ed as dt,Eg as $i,Fd as Ya,Gd as Pn,H as Va,Hb as fe,Ia as f,Ib as Si,J as ka,Jb as se,Jc as xe,Jd as es,La as Wa,Lb as Be,M as Da,Mb as l,Md as ts,Na as qa,Nb as Gt,O as pi,Ob as le,P as Ma,Pa as La,Qa as H,Qb as Ke,Qc as Za,R as mi,Ra as Ua,Rb as Ge,Sa as ct,Sb as Je,Tb as $n,Ua as G,Ub as En,Vb as Er,Wa as Y,X as hi,Xa as Kt,Y as yt,Ya as vt,a as z,ac as Tn,b as X,c as Fa,cb as Ie,cg as Ne,d as C,da as $r,dc as Xa,dd as Ci,dg as rs,dh as ns,ea as Ra,eb as E,f as Ia,gb as T,ha as W,hb as Oe,hh as os,i as Lt,ia as ja,ib as Ha,ja as Aa,jb as be,kb as we,kc as Ce,kg as ze,l as Oa,la as F,lb as v,m as Ut,ma as I,mb as b,n as Ht,nb as w,ob as B,pa as gi,qg as xi,rb as Ba,sb as re,sg as zi,tg as is,v as Na,vb as U,wa as _t,xa as K,xb as g,xh as as,ya as yi,yb as _i,yh as ss,z as Bt,zb as vi}from"./chunk-R4G4X3NR.js";var Or=C(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.regexpCode=q.getEsmExportName=q.getProperty=q.safeStringify=q.stringify=q.strConcat=q.addCodeArg=q.str=q._=q.nil=q._Code=q.Name=q.IDENTIFIER=q._CodeOrName=void 0;var Fr=class{};q._CodeOrName=Fr;q.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Nt=class extends Fr{constructor(e){if(super(),!q.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};q.Name=Nt;var Ve=class extends Fr{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,i)=>`${r}${i}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,i)=>(i instanceof Nt&&(r[i.str]=(r[i.str]||0)+1),r),{})}};q._Code=Ve;q.nil=new Ve("");function Ks(t,...e){let r=[t[0]],i=0;for(;i<e.length;)Nn(r,e[i]),r.push(t[++i]);return new Ve(r)}q._=Ks;var On=new Ve("+");function Gs(t,...e){let r=[Ir(t[0])],i=0;for(;i<e.length;)r.push(On),Nn(r,e[i]),r.push(On,Ir(t[++i]));return Zd(r),new Ve(r)}q.str=Gs;function Nn(t,e){e instanceof Ve?t.push(...e._items):e instanceof Nt?t.push(e):t.push(tu(e))}q.addCodeArg=Nn;function Zd(t){let e=1;for(;e<t.length-1;){if(t[e]===On){let r=Yd(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function Yd(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof Nt||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof Nt))return`"${t}${e.slice(1)}`}function eu(t,e){return e.emptyStr()?t:t.emptyStr()?e:Gs`${t}${e}`}q.strConcat=eu;function tu(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Ir(Array.isArray(t)?t.join(","):t)}function ru(t){return new Ve(Ir(t))}q.stringify=ru;function Ir(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}q.safeStringify=Ir;function iu(t){return typeof t=="string"&&q.IDENTIFIER.test(t)?new Ve(`.${t}`):Ks`[${t}]`}q.getProperty=iu;function nu(t){if(typeof t=="string"&&q.IDENTIFIER.test(t))return new Ve(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}q.getEsmExportName=nu;function ou(t){return new Ve(t.toString())}q.regexpCode=ou});var Dn=C(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.ValueScope=Ee.ValueScopeName=Ee.Scope=Ee.varKinds=Ee.UsedValueState=void 0;var $e=Or(),Vn=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},ki=function(t){return t[t.Started=0]="Started",t[t.Completed=1]="Completed",t}(ki||(Ee.UsedValueState=ki={}));Ee.varKinds={const:new $e.Name("const"),let:new $e.Name("let"),var:new $e.Name("var")};var Di=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof $e.Name?e:this.name(e)}name(e){return new $e.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,i;if(!((i=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||i===void 0)&&i.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};Ee.Scope=Di;var Mi=class extends $e.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:i}){this.value=e,this.scopePath=(0,$e._)`.${new $e.Name(r)}[${i}]`}};Ee.ValueScopeName=Mi;var au=(0,$e._)`\n`,kn=class extends Di{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=X(z({},e),{_n:e.lines?au:$e.nil})}get(){return this._scope}name(e){return new Mi(e,this._newName(e))}value(e,r){var i;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(e),{prefix:o}=n,a=(i=r.key)!==null&&i!==void 0?i:r.ref,s=this._values[o];if(s){let d=s.get(a);if(d)return d}else s=this._values[o]=new Map;s.set(a,n);let c=this._scope[o]||(this._scope[o]=[]),u=c.length;return c[u]=r.ref,n.setValue(r,{property:o,itemIndex:u}),n}getValue(e,r){let i=this._values[e];if(i)return i.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,$e._)`${e}${i.scopePath}`})}scopeCode(e=this._values,r,i){return this._reduceValues(e,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},r,i)}_reduceValues(e,r,i={},n){let o=$e.nil;for(let a in e){let s=e[a];if(!s)continue;let c=i[a]=i[a]||new Map;s.forEach(u=>{if(c.has(u))return;c.set(u,ki.Started);let d=r(u);if(d){let m=this.opts.es5?Ee.varKinds.var:Ee.varKinds.const;o=(0,$e._)`${o}${m} ${u} = ${d};${this.opts._n}`}else if(d=n?.(u))o=(0,$e._)`${o}${d}${this.opts._n}`;else throw new Vn(u);c.set(u,ki.Completed)})}return o}};Ee.ValueScope=kn});var V=C(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.or=k.and=k.not=k.CodeGen=k.operators=k.varKinds=k.ValueScopeName=k.ValueScope=k.Scope=k.Name=k.regexpCode=k.stringify=k.getProperty=k.nil=k.strConcat=k.str=k._=void 0;var R=Or(),Re=Dn(),wt=Or();Object.defineProperty(k,"_",{enumerable:!0,get:function(){return wt._}});Object.defineProperty(k,"str",{enumerable:!0,get:function(){return wt.str}});Object.defineProperty(k,"strConcat",{enumerable:!0,get:function(){return wt.strConcat}});Object.defineProperty(k,"nil",{enumerable:!0,get:function(){return wt.nil}});Object.defineProperty(k,"getProperty",{enumerable:!0,get:function(){return wt.getProperty}});Object.defineProperty(k,"stringify",{enumerable:!0,get:function(){return wt.stringify}});Object.defineProperty(k,"regexpCode",{enumerable:!0,get:function(){return wt.regexpCode}});Object.defineProperty(k,"Name",{enumerable:!0,get:function(){return wt.Name}});var qi=Dn();Object.defineProperty(k,"Scope",{enumerable:!0,get:function(){return qi.Scope}});Object.defineProperty(k,"ValueScope",{enumerable:!0,get:function(){return qi.ValueScope}});Object.defineProperty(k,"ValueScopeName",{enumerable:!0,get:function(){return qi.ValueScopeName}});Object.defineProperty(k,"varKinds",{enumerable:!0,get:function(){return qi.varKinds}});k.operators={GT:new R._Code(">"),GTE:new R._Code(">="),LT:new R._Code("<"),LTE:new R._Code("<="),EQ:new R._Code("==="),NEQ:new R._Code("!=="),NOT:new R._Code("!"),OR:new R._Code("||"),AND:new R._Code("&&"),ADD:new R._Code("+")};var ut=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},Mn=class extends ut{constructor(e,r,i){super(),this.varKind=e,this.name=r,this.rhs=i}render({es5:e,_n:r}){let i=e?Re.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${n};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=ir(this.rhs,e,r)),this}get names(){return this.rhs instanceof R._CodeOrName?this.rhs.names:{}}},ji=class extends ut{constructor(e,r,i){super(),this.lhs=e,this.rhs=r,this.sideEffects=i}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof R.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=ir(this.rhs,e,r),this}get names(){let e=this.lhs instanceof R.Name?{}:z({},this.lhs.names);return Wi(e,this.rhs)}},Rn=class extends ji{constructor(e,r,i,n){super(e,i,n),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},jn=class extends ut{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},An=class extends ut{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},Wn=class extends ut{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},qn=class extends ut{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=ir(this.code,e,r),this}get names(){return this.code instanceof R._CodeOrName?this.code.names:{}}},Nr=class extends ut{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,i)=>r+i.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let i=e[r].optimizeNodes();Array.isArray(i)?e.splice(r,1,...i):i?e[r]=i:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:i}=this,n=i.length;for(;n--;){let o=i[n];o.optimizeNames(e,r)||(su(e,o.names),i.splice(n,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>Vt(e,r.names),{})}},ft=class extends Nr{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Ln=class extends Nr{},Un=(()=>{class t extends ft{}return t.kind="else",t})(),Ri=(()=>{class t extends ft{constructor(r,i){super(i),this.condition=r}render(r){let i=`if(${this.condition})`+super.render(r);return this.else&&(i+="else "+this.else.render(r)),i}optimizeNodes(){super.optimizeNodes();let r=this.condition;if(r===!0)return this.nodes;let i=this.else;if(i){let n=i.optimizeNodes();i=this.else=Array.isArray(n)?new Un(n):n}if(i)return r===!1?i instanceof t?i:i.nodes:this.nodes.length?this:new t(Ys(r),i instanceof t?[i]:i.nodes);if(!(r===!1||!this.nodes.length))return this}optimizeNames(r,i){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(r,i),!!(super.optimizeNames(r,i)||this.else))return this.condition=ir(this.condition,r,i),this}get names(){let r=super.names;return Wi(r,this.condition),this.else&&Vt(r,this.else.names),r}}return t.kind="if",t})(),Li=(()=>{class t extends ft{}return t.kind="for",t})(),Hn=class extends Li{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=ir(this.iteration,e,r),this}get names(){return Vt(super.names,this.iteration.names)}},Bn=class extends Li{constructor(e,r,i,n){super(),this.varKind=e,this.name=r,this.from=i,this.to=n}render(e){let r=e.es5?Re.varKinds.var:this.varKind,{name:i,from:n,to:o}=this;return`for(${r} ${i}=${n}; ${i}<${o}; ${i}++)`+super.render(e)}get names(){let e=Wi(super.names,this.from);return Wi(e,this.to)}},Ai=class extends Li{constructor(e,r,i,n){super(),this.loop=e,this.varKind=r,this.name=i,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=ir(this.iterable,e,r),this}get names(){return Vt(super.names,this.iterable.names)}},Js=(()=>{class t extends ft{constructor(r,i,n){super(),this.name=r,this.args=i,this.async=n}render(r){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(r)}}return t.kind="func",t})(),Xs=(()=>{class t extends Nr{render(r){return"return "+super.render(r)}}return t.kind="return",t})(),Kn=class extends ft{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var i,n;return super.optimizeNames(e,r),(i=this.catch)===null||i===void 0||i.optimizeNames(e,r),(n=this.finally)===null||n===void 0||n.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&Vt(e,this.catch.names),this.finally&&Vt(e,this.finally.names),e}},Qs=(()=>{class t extends ft{constructor(r){super(),this.error=r}render(r){return`catch(${this.error})`+super.render(r)}}return t.kind="catch",t})(),Zs=(()=>{class t extends ft{render(r){return"finally"+super.render(r)}}return t.kind="finally",t})(),Gn=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=X(z({},r),{_n:r.lines?`
`:""}),this._extScope=e,this._scope=new Re.Scope({parent:e}),this._nodes=[new Ln]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let i=this._extScope.value(e,r);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,i,n){let o=this._scope.toName(r);return i!==void 0&&n&&(this._constants[o.str]=i),this._leafNode(new Mn(e,o,i)),o}const(e,r,i){return this._def(Re.varKinds.const,e,r,i)}let(e,r,i){return this._def(Re.varKinds.let,e,r,i)}var(e,r,i){return this._def(Re.varKinds.var,e,r,i)}assign(e,r,i){return this._leafNode(new ji(e,r,i))}add(e,r){return this._leafNode(new Rn(e,k.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==R.nil&&this._leafNode(new qn(e)),this}object(...e){let r=["{"];for(let[i,n]of e)r.length>1&&r.push(","),r.push(i),(i!==n||this.opts.es5)&&(r.push(":"),(0,R.addCodeArg)(r,n));return r.push("}"),new R._Code(r)}if(e,r,i){if(this._blockNode(new Ri(e)),r&&i)this.code(r).else().code(i).endIf();else if(r)this.code(r).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Ri(e))}else(){return this._elseNode(new Un)}endIf(){return this._endBlockNode(Ri,Un)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new Hn(e),r)}forRange(e,r,i,n,o=this.opts.es5?Re.varKinds.var:Re.varKinds.let){let a=this._scope.toName(e);return this._for(new Bn(o,a,r,i),()=>n(a))}forOf(e,r,i,n=Re.varKinds.const){let o=this._scope.toName(e);if(this.opts.es5){let a=r instanceof R.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,R._)`${a}.length`,s=>{this.var(o,(0,R._)`${a}[${s}]`),i(o)})}return this._for(new Ai("of",n,o,r),()=>i(o))}forIn(e,r,i,n=this.opts.es5?Re.varKinds.var:Re.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,R._)`Object.keys(${r})`,i);let o=this._scope.toName(e);return this._for(new Ai("in",n,o,r),()=>i(o))}endFor(){return this._endBlockNode(Li)}label(e){return this._leafNode(new jn(e))}break(e){return this._leafNode(new An(e))}return(e){let r=new Xs;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Xs)}try(e,r,i){if(!r&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new Kn;if(this._blockNode(n),this.code(e),r){let o=this.name("e");this._currNode=n.catch=new Qs(o),r(o)}return i&&(this._currNode=n.finally=new Zs,this.code(i)),this._endBlockNode(Qs,Zs)}throw(e){return this._leafNode(new Wn(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-r;if(i<0||e!==void 0&&i!==e)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=R.nil,i,n){return this._blockNode(new Js(e,r,i)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(Js)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let i=this._currNode;if(i instanceof e||r&&i instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Ri))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};k.CodeGen=Gn;function Vt(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function Wi(t,e){return e instanceof R._CodeOrName?Vt(t,e.names):t}function ir(t,e,r){if(t instanceof R.Name)return i(t);if(!n(t))return t;return new R._Code(t._items.reduce((o,a)=>(a instanceof R.Name&&(a=i(a)),a instanceof R._Code?o.push(...a._items):o.push(a),o),[]));function i(o){let a=r[o.str];return a===void 0||e[o.str]!==1?o:(delete e[o.str],a)}function n(o){return o instanceof R._Code&&o._items.some(a=>a instanceof R.Name&&e[a.str]===1&&r[a.str]!==void 0)}}function su(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function Ys(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,R._)`!${Jn(t)}`}k.not=Ys;var lu=el(k.operators.AND);function cu(...t){return t.reduce(lu)}k.and=cu;var du=el(k.operators.OR);function uu(...t){return t.reduce(du)}k.or=uu;function el(t){return(e,r)=>e===R.nil?r:r===R.nil?e:(0,R._)`${Jn(e)} ${t} ${Jn(r)}`}function Jn(t){return t instanceof R.Name?t:(0,R._)`(${t})`}});var L=C(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.checkStrictMode=D.getErrorPath=D.Type=D.useFunc=D.setEvaluated=D.evaluatedPropsToName=D.mergeEvaluated=D.eachItem=D.unescapeJsonPointer=D.escapeJsonPointer=D.escapeFragment=D.unescapeFragment=D.schemaRefOrVal=D.schemaHasRulesButRef=D.schemaHasRules=D.checkUnknownRules=D.alwaysValidSchema=D.toHash=void 0;var Q=V(),fu=Or();function pu(t){let e={};for(let r of t)e[r]=!0;return e}D.toHash=pu;function mu(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(il(t,e),!nl(e,t.self.RULES.all))}D.alwaysValidSchema=mu;function il(t,e=t.schema){let{opts:r,self:i}=t;if(!r.strictSchema||typeof e=="boolean")return;let n=i.RULES.keywords;for(let o in e)n[o]||sl(t,`unknown keyword: "${o}"`)}D.checkUnknownRules=il;function nl(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}D.schemaHasRules=nl;function hu(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}D.schemaHasRulesButRef=hu;function gu({topSchemaRef:t,schemaPath:e},r,i,n){if(!n){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Q._)`${r}`}return(0,Q._)`${t}${e}${(0,Q.getProperty)(i)}`}D.schemaRefOrVal=gu;function yu(t){return ol(decodeURIComponent(t))}D.unescapeFragment=yu;function _u(t){return encodeURIComponent(Qn(t))}D.escapeFragment=_u;function Qn(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}D.escapeJsonPointer=Qn;function ol(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}D.unescapeJsonPointer=ol;function vu(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}D.eachItem=vu;function tl({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:i}){return(n,o,a,s)=>{let c=a===void 0?o:a instanceof Q.Name?(o instanceof Q.Name?t(n,o,a):e(n,o,a),a):o instanceof Q.Name?(e(n,a,o),o):r(o,a);return s===Q.Name&&!(c instanceof Q.Name)?i(n,c):c}}D.mergeEvaluated={props:tl({mergeNames:(t,e,r)=>t.if((0,Q._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,Q._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,Q._)`${r} || {}`).code((0,Q._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,Q._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,Q._)`${r} || {}`),Zn(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:z(z({},t),e),resultToName:al}),items:tl({mergeNames:(t,e,r)=>t.if((0,Q._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,Q._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,Q._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,Q._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function al(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,Q._)`{}`);return e!==void 0&&Zn(t,r,e),r}D.evaluatedPropsToName=al;function Zn(t,e,r){Object.keys(r).forEach(i=>t.assign((0,Q._)`${e}${(0,Q.getProperty)(i)}`,!0))}D.setEvaluated=Zn;var rl={};function Su(t,e){return t.scopeValue("func",{ref:e,code:rl[e.code]||(rl[e.code]=new fu._Code(e.code))})}D.useFunc=Su;var Xn=function(t){return t[t.Num=0]="Num",t[t.Str=1]="Str",t}(Xn||(D.Type=Xn={}));function bu(t,e,r){if(t instanceof Q.Name){let i=e===Xn.Num;return r?i?(0,Q._)`"[" + ${t} + "]"`:(0,Q._)`"['" + ${t} + "']"`:i?(0,Q._)`"/" + ${t}`:(0,Q._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Q.getProperty)(t).toString():"/"+Qn(t)}D.getErrorPath=bu;function sl(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}D.checkStrictMode=sl});var pt=C(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});var ge=V(),wu={data:new ge.Name("data"),valCxt:new ge.Name("valCxt"),instancePath:new ge.Name("instancePath"),parentData:new ge.Name("parentData"),parentDataProperty:new ge.Name("parentDataProperty"),rootData:new ge.Name("rootData"),dynamicAnchors:new ge.Name("dynamicAnchors"),vErrors:new ge.Name("vErrors"),errors:new ge.Name("errors"),this:new ge.Name("this"),self:new ge.Name("self"),scope:new ge.Name("scope"),json:new ge.Name("json"),jsonPos:new ge.Name("jsonPos"),jsonLen:new ge.Name("jsonLen"),jsonPart:new ge.Name("jsonPart")};Yn.default=wu});var Vr=C(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.extendErrors=ye.resetErrorsCount=ye.reportExtraError=ye.reportError=ye.keyword$DataError=ye.keywordError=void 0;var A=V(),Ui=L(),ve=pt();ye.keywordError={message:({keyword:t})=>(0,A.str)`must pass "${t}" keyword validation`};ye.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,A.str)`"${t}" keyword must be ${e} ($data)`:(0,A.str)`"${t}" keyword is invalid ($data)`};function Cu(t,e=ye.keywordError,r,i){let{it:n}=t,{gen:o,compositeRule:a,allErrors:s}=n,c=dl(t,e,r);i??(a||s)?ll(o,c):cl(n,(0,A._)`[${c}]`)}ye.reportError=Cu;function xu(t,e=ye.keywordError,r){let{it:i}=t,{gen:n,compositeRule:o,allErrors:a}=i,s=dl(t,e,r);ll(n,s),o||a||cl(i,ve.default.vErrors)}ye.reportExtraError=xu;function zu(t,e){t.assign(ve.default.errors,e),t.if((0,A._)`${ve.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,A._)`${ve.default.vErrors}.length`,e),()=>t.assign(ve.default.vErrors,null)))}ye.resetErrorsCount=zu;function $u({gen:t,keyword:e,schemaValue:r,data:i,errsCount:n,it:o}){if(n===void 0)throw new Error("ajv implementation error");let a=t.name("err");t.forRange("i",n,ve.default.errors,s=>{t.const(a,(0,A._)`${ve.default.vErrors}[${s}]`),t.if((0,A._)`${a}.instancePath === undefined`,()=>t.assign((0,A._)`${a}.instancePath`,(0,A.strConcat)(ve.default.instancePath,o.errorPath))),t.assign((0,A._)`${a}.schemaPath`,(0,A.str)`${o.errSchemaPath}/${e}`),o.opts.verbose&&(t.assign((0,A._)`${a}.schema`,r),t.assign((0,A._)`${a}.data`,i))})}ye.extendErrors=$u;function ll(t,e){let r=t.const("err",e);t.if((0,A._)`${ve.default.vErrors} === null`,()=>t.assign(ve.default.vErrors,(0,A._)`[${r}]`),(0,A._)`${ve.default.vErrors}.push(${r})`),t.code((0,A._)`${ve.default.errors}++`)}function cl(t,e){let{gen:r,validateName:i,schemaEnv:n}=t;n.$async?r.throw((0,A._)`new ${t.ValidationError}(${e})`):(r.assign((0,A._)`${i}.errors`,e),r.return(!1))}var kt={keyword:new A.Name("keyword"),schemaPath:new A.Name("schemaPath"),params:new A.Name("params"),propertyName:new A.Name("propertyName"),message:new A.Name("message"),schema:new A.Name("schema"),parentSchema:new A.Name("parentSchema")};function dl(t,e,r){let{createErrors:i}=t.it;return i===!1?(0,A._)`{}`:Eu(t,e,r)}function Eu(t,e,r={}){let{gen:i,it:n}=t,o=[Tu(n,r),Pu(t,r)];return Fu(t,e,o),i.object(...o)}function Tu({errorPath:t},{instancePath:e}){let r=e?(0,A.str)`${t}${(0,Ui.getErrorPath)(e,Ui.Type.Str)}`:t;return[ve.default.instancePath,(0,A.strConcat)(ve.default.instancePath,r)]}function Pu({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:i}){let n=i?e:(0,A.str)`${e}/${t}`;return r&&(n=(0,A.str)`${n}${(0,Ui.getErrorPath)(r,Ui.Type.Str)}`),[kt.schemaPath,n]}function Fu(t,{params:e,message:r},i){let{keyword:n,data:o,schemaValue:a,it:s}=t,{opts:c,propertyName:u,topSchemaRef:d,schemaPath:m}=s;i.push([kt.keyword,n],[kt.params,typeof e=="function"?e(t):e||(0,A._)`{}`]),c.messages&&i.push([kt.message,typeof r=="function"?r(t):r]),c.verbose&&i.push([kt.schema,a],[kt.parentSchema,(0,A._)`${d}${m}`],[ve.default.data,o]),u&&i.push([kt.propertyName,u])}});var fl=C(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.boolOrEmptySchema=nr.topBoolOrEmptySchema=void 0;var Iu=Vr(),Ou=V(),Nu=pt(),Vu={message:"boolean schema is false"};function ku(t){let{gen:e,schema:r,validateName:i}=t;r===!1?ul(t,!1):typeof r=="object"&&r.$async===!0?e.return(Nu.default.data):(e.assign((0,Ou._)`${i}.errors`,null),e.return(!0))}nr.topBoolOrEmptySchema=ku;function Du(t,e){let{gen:r,schema:i}=t;i===!1?(r.var(e,!1),ul(t)):r.var(e,!0)}nr.boolOrEmptySchema=Du;function ul(t,e){let{gen:r,data:i}=t,n={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Iu.reportError)(n,Vu,void 0,e)}});var eo=C(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.getRules=or.isJSONType=void 0;var Mu=["string","number","integer","boolean","null","object","array"],Ru=new Set(Mu);function ju(t){return typeof t=="string"&&Ru.has(t)}or.isJSONType=ju;function Au(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:X(z({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}or.getRules=Au});var to=C(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.shouldUseRule=Ct.shouldUseGroup=Ct.schemaHasRulesForType=void 0;function Wu({schema:t,self:e},r){let i=e.RULES.types[r];return i&&i!==!0&&pl(t,i)}Ct.schemaHasRulesForType=Wu;function pl(t,e){return e.rules.some(r=>ml(t,r))}Ct.shouldUseGroup=pl;function ml(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(i=>t[i]!==void 0))}Ct.shouldUseRule=ml});var kr=C(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.reportTypeError=_e.checkDataTypes=_e.checkDataType=_e.coerceAndCheckDataType=_e.getJSONTypes=_e.getSchemaTypes=_e.DataType=void 0;var qu=eo(),Lu=to(),Uu=Vr(),N=V(),hl=L(),ar=function(t){return t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong",t}(ar||(_e.DataType=ar={}));function Hu(t){let e=gl(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}_e.getSchemaTypes=Hu;function gl(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(qu.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}_e.getJSONTypes=gl;function Bu(t,e){let{gen:r,data:i,opts:n}=t,o=Ku(e,n.coerceTypes),a=e.length>0&&!(o.length===0&&e.length===1&&(0,Lu.schemaHasRulesForType)(t,e[0]));if(a){let s=io(e,i,n.strictNumbers,ar.Wrong);r.if(s,()=>{o.length?Gu(t,e,o):no(t)})}return a}_e.coerceAndCheckDataType=Bu;var yl=new Set(["string","number","integer","boolean","null"]);function Ku(t,e){return e?t.filter(r=>yl.has(r)||e==="array"&&r==="array"):[]}function Gu(t,e,r){let{gen:i,data:n,opts:o}=t,a=i.let("dataType",(0,N._)`typeof ${n}`),s=i.let("coerced",(0,N._)`undefined`);o.coerceTypes==="array"&&i.if((0,N._)`${a} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>i.assign(n,(0,N._)`${n}[0]`).assign(a,(0,N._)`typeof ${n}`).if(io(e,n,o.strictNumbers),()=>i.assign(s,n))),i.if((0,N._)`${s} !== undefined`);for(let u of r)(yl.has(u)||u==="array"&&o.coerceTypes==="array")&&c(u);i.else(),no(t),i.endIf(),i.if((0,N._)`${s} !== undefined`,()=>{i.assign(n,s),Ju(t,s)});function c(u){switch(u){case"string":i.elseIf((0,N._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,N._)`"" + ${n}`).elseIf((0,N._)`${n} === null`).assign(s,(0,N._)`""`);return;case"number":i.elseIf((0,N._)`${a} == "boolean" || ${n} === null
              || (${a} == "string" && ${n} && ${n} == +${n})`).assign(s,(0,N._)`+${n}`);return;case"integer":i.elseIf((0,N._)`${a} === "boolean" || ${n} === null
              || (${a} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(s,(0,N._)`+${n}`);return;case"boolean":i.elseIf((0,N._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(s,!1).elseIf((0,N._)`${n} === "true" || ${n} === 1`).assign(s,!0);return;case"null":i.elseIf((0,N._)`${n} === "" || ${n} === 0 || ${n} === false`),i.assign(s,null);return;case"array":i.elseIf((0,N._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${n} === null`).assign(s,(0,N._)`[${n}]`)}}}function Ju({gen:t,parentData:e,parentDataProperty:r},i){t.if((0,N._)`${e} !== undefined`,()=>t.assign((0,N._)`${e}[${r}]`,i))}function ro(t,e,r,i=ar.Correct){let n=i===ar.Correct?N.operators.EQ:N.operators.NEQ,o;switch(t){case"null":return(0,N._)`${e} ${n} null`;case"array":o=(0,N._)`Array.isArray(${e})`;break;case"object":o=(0,N._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":o=a((0,N._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":o=a();break;default:return(0,N._)`typeof ${e} ${n} ${t}`}return i===ar.Correct?o:(0,N.not)(o);function a(s=N.nil){return(0,N.and)((0,N._)`typeof ${e} == "number"`,s,r?(0,N._)`isFinite(${e})`:N.nil)}}_e.checkDataType=ro;function io(t,e,r,i){if(t.length===1)return ro(t[0],e,r,i);let n,o=(0,hl.toHash)(t);if(o.array&&o.object){let a=(0,N._)`typeof ${e} != "object"`;n=o.null?a:(0,N._)`!${e} || ${a}`,delete o.null,delete o.array,delete o.object}else n=N.nil;o.number&&delete o.integer;for(let a in o)n=(0,N.and)(n,ro(a,e,r,i));return n}_e.checkDataTypes=io;var Xu={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,N._)`{type: ${t}}`:(0,N._)`{type: ${e}}`};function no(t){let e=Qu(t);(0,Uu.reportError)(e,Xu)}_e.reportTypeError=no;function Qu(t){let{gen:e,data:r,schema:i}=t,n=(0,hl.schemaRefOrVal)(t,i,"type");return{gen:e,keyword:"type",data:r,schema:i.type,schemaCode:n,schemaValue:n,parentSchema:i,params:{},it:t}}});var vl=C(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.assignDefaults=void 0;var sr=V(),Zu=L();function Yu(t,e){let{properties:r,items:i}=t.schema;if(e==="object"&&r)for(let n in r)_l(t,n,r[n].default);else e==="array"&&Array.isArray(i)&&i.forEach((n,o)=>_l(t,o,n.default))}Hi.assignDefaults=Yu;function _l(t,e,r){let{gen:i,compositeRule:n,data:o,opts:a}=t;if(r===void 0)return;let s=(0,sr._)`${o}${(0,sr.getProperty)(e)}`;if(n){(0,Zu.checkStrictMode)(t,`default is ignored for: ${s}`);return}let c=(0,sr._)`${s} === undefined`;a.useDefaults==="empty"&&(c=(0,sr._)`${c} || ${s} === null || ${s} === ""`),i.if(c,(0,sr._)`${s} = ${(0,sr.stringify)(r)}`)}});var ke=C(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.validateUnion=J.validateArray=J.usePattern=J.callValidateCode=J.schemaProperties=J.allSchemaProperties=J.noPropertyInData=J.propertyInData=J.isOwnProperty=J.hasPropFunc=J.reportMissingProp=J.checkMissingProp=J.checkReportMissingProp=void 0;var ee=V(),oo=L(),xt=pt(),ef=L();function tf(t,e){let{gen:r,data:i,it:n}=t;r.if(so(r,i,e,n.opts.ownProperties),()=>{t.setParams({missingProperty:(0,ee._)`${e}`},!0),t.error()})}J.checkReportMissingProp=tf;function rf({gen:t,data:e,it:{opts:r}},i,n){return(0,ee.or)(...i.map(o=>(0,ee.and)(so(t,e,o,r.ownProperties),(0,ee._)`${n} = ${o}`)))}J.checkMissingProp=rf;function nf(t,e){t.setParams({missingProperty:e},!0),t.error()}J.reportMissingProp=nf;function Sl(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ee._)`Object.prototype.hasOwnProperty`})}J.hasPropFunc=Sl;function ao(t,e,r){return(0,ee._)`${Sl(t)}.call(${e}, ${r})`}J.isOwnProperty=ao;function of(t,e,r,i){let n=(0,ee._)`${e}${(0,ee.getProperty)(r)} !== undefined`;return i?(0,ee._)`${n} && ${ao(t,e,r)}`:n}J.propertyInData=of;function so(t,e,r,i){let n=(0,ee._)`${e}${(0,ee.getProperty)(r)} === undefined`;return i?(0,ee.or)(n,(0,ee.not)(ao(t,e,r))):n}J.noPropertyInData=so;function bl(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}J.allSchemaProperties=bl;function af(t,e){return bl(e).filter(r=>!(0,oo.alwaysValidSchema)(t,e[r]))}J.schemaProperties=af;function sf({schemaCode:t,data:e,it:{gen:r,topSchemaRef:i,schemaPath:n,errorPath:o},it:a},s,c,u){let d=u?(0,ee._)`${t}, ${e}, ${i}${n}`:e,m=[[xt.default.instancePath,(0,ee.strConcat)(xt.default.instancePath,o)],[xt.default.parentData,a.parentData],[xt.default.parentDataProperty,a.parentDataProperty],[xt.default.rootData,xt.default.rootData]];a.opts.dynamicRef&&m.push([xt.default.dynamicAnchors,xt.default.dynamicAnchors]);let S=(0,ee._)`${d}, ${r.object(...m)}`;return c!==ee.nil?(0,ee._)`${s}.call(${c}, ${S})`:(0,ee._)`${s}(${S})`}J.callValidateCode=sf;var lf=(0,ee._)`new RegExp`;function cf({gen:t,it:{opts:e}},r){let i=e.unicodeRegExp?"u":"",{regExp:n}=e.code,o=n(r,i);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,ee._)`${n.code==="new RegExp"?lf:(0,ef.useFunc)(t,n)}(${r}, ${i})`})}J.usePattern=cf;function df(t){let{gen:e,data:r,keyword:i,it:n}=t,o=e.name("valid");if(n.allErrors){let s=e.let("valid",!0);return a(()=>e.assign(s,!1)),s}return e.var(o,!0),a(()=>e.break()),o;function a(s){let c=e.const("len",(0,ee._)`${r}.length`);e.forRange("i",0,c,u=>{t.subschema({keyword:i,dataProp:u,dataPropType:oo.Type.Num},o),e.if((0,ee.not)(o),s)})}}J.validateArray=df;function uf(t){let{gen:e,schema:r,keyword:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,oo.alwaysValidSchema)(n,c))&&!n.opts.unevaluated)return;let a=e.let("valid",!1),s=e.name("_valid");e.block(()=>r.forEach((c,u)=>{let d=t.subschema({keyword:i,schemaProp:u,compositeRule:!0},s);e.assign(a,(0,ee._)`${a} || ${s}`),t.mergeValidEvaluated(d,s)||e.if((0,ee.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}J.validateUnion=uf});var xl=C(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.validateKeywordUsage=et.validSchemaType=et.funcKeywordCode=et.macroKeywordCode=void 0;var Se=V(),Dt=pt(),ff=ke(),pf=Vr();function mf(t,e){let{gen:r,keyword:i,schema:n,parentSchema:o,it:a}=t,s=e.macro.call(a.self,n,o,a),c=Cl(r,i,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);let u=r.name("valid");t.subschema({schema:s,schemaPath:Se.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:c,compositeRule:!0},u),t.pass(u,()=>t.error(!0))}et.macroKeywordCode=mf;function hf(t,e){var r;let{gen:i,keyword:n,schema:o,parentSchema:a,$data:s,it:c}=t;yf(c,e);let u=!s&&e.compile?e.compile.call(c.self,o,a,c):e.validate,d=Cl(i,n,u),m=i.let("valid");t.block$data(m,S),t.ok((r=e.valid)!==null&&r!==void 0?r:m);function S(){if(e.errors===!1)p(),e.modifying&&wl(t),_(()=>t.error());else{let x=e.async?h():y();e.modifying&&wl(t),_(()=>gf(t,x))}}function h(){let x=i.let("ruleErrs",null);return i.try(()=>p((0,Se._)`await `),j=>i.assign(m,!1).if((0,Se._)`${j} instanceof ${c.ValidationError}`,()=>i.assign(x,(0,Se._)`${j}.errors`),()=>i.throw(j))),x}function y(){let x=(0,Se._)`${d}.errors`;return i.assign(x,null),p(Se.nil),x}function p(x=e.async?(0,Se._)`await `:Se.nil){let j=c.opts.passContext?Dt.default.this:Dt.default.self,M=!("compile"in e&&!s||e.schema===!1);i.assign(m,(0,Se._)`${x}${(0,ff.callValidateCode)(t,d,j,M)}`,e.modifying)}function _(x){var j;i.if((0,Se.not)((j=e.valid)!==null&&j!==void 0?j:m),x)}}et.funcKeywordCode=hf;function wl(t){let{gen:e,data:r,it:i}=t;e.if(i.parentData,()=>e.assign(r,(0,Se._)`${i.parentData}[${i.parentDataProperty}]`))}function gf(t,e){let{gen:r}=t;r.if((0,Se._)`Array.isArray(${e})`,()=>{r.assign(Dt.default.vErrors,(0,Se._)`${Dt.default.vErrors} === null ? ${e} : ${Dt.default.vErrors}.concat(${e})`).assign(Dt.default.errors,(0,Se._)`${Dt.default.vErrors}.length`),(0,pf.extendErrors)(t)},()=>t.error())}function yf({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Cl(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Se.stringify)(r)})}function _f(t,e,r=!1){return!e.length||e.some(i=>i==="array"?Array.isArray(t):i==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==i||r&&typeof t>"u")}et.validSchemaType=_f;function vf({schema:t,opts:e,self:r,errSchemaPath:i},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");let a=n.dependencies;if(a?.some(s=>!Object.prototype.hasOwnProperty.call(t,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(n.validateSchema&&!n.validateSchema(t[o])){let c=`keyword "${o}" value is invalid at path "${i}": `+r.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}et.validateKeywordUsage=vf});var $l=C(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.extendSubschemaMode=zt.extendSubschemaData=zt.getSubschema=void 0;var tt=V(),zl=L();function Sf(t,{keyword:e,schemaProp:r,schema:i,schemaPath:n,errSchemaPath:o,topSchemaRef:a}){if(e!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let s=t.schema[e];return r===void 0?{schema:s,schemaPath:(0,tt._)`${t.schemaPath}${(0,tt.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:s[r],schemaPath:(0,tt._)`${t.schemaPath}${(0,tt.getProperty)(e)}${(0,tt.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,zl.escapeFragment)(r)}`}}if(i!==void 0){if(n===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}zt.getSubschema=Sf;function bf(t,e,{dataProp:r,dataPropType:i,data:n,dataTypes:o,propertyName:a}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:s}=e;if(r!==void 0){let{errorPath:u,dataPathArr:d,opts:m}=e,S=s.let("data",(0,tt._)`${e.data}${(0,tt.getProperty)(r)}`,!0);c(S),t.errorPath=(0,tt.str)`${u}${(0,zl.getErrorPath)(r,i,m.jsPropertySyntax)}`,t.parentDataProperty=(0,tt._)`${r}`,t.dataPathArr=[...d,t.parentDataProperty]}if(n!==void 0){let u=n instanceof tt.Name?n:s.let("data",n,!0);c(u),a!==void 0&&(t.propertyName=a)}o&&(t.dataTypes=o);function c(u){t.data=u,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,u]}}zt.extendSubschemaData=bf;function wf(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:i,createErrors:n,allErrors:o}){i!==void 0&&(t.compositeRule=i),n!==void 0&&(t.createErrors=n),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=e,t.jtdMetadata=r}zt.extendSubschemaMode=wf});var lo=C((W_,El)=>{"use strict";El.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var i,n,o;if(Array.isArray(e)){if(i=e.length,i!=r.length)return!1;for(n=i;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),i=o.length,i!==Object.keys(r).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=i;n--!==0;){var a=o[n];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r}});var Pl=C((q_,Tl)=>{"use strict";var $t=Tl.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var i=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};Bi(e,i,n,t,"",t)};$t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};$t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};$t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};$t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Bi(t,e,r,i,n,o,a,s,c,u){if(i&&typeof i=="object"&&!Array.isArray(i)){e(i,n,o,a,s,c,u);for(var d in i){var m=i[d];if(Array.isArray(m)){if(d in $t.arrayKeywords)for(var S=0;S<m.length;S++)Bi(t,e,r,m[S],n+"/"+d+"/"+S,o,n,d,i,S)}else if(d in $t.propsKeywords){if(m&&typeof m=="object")for(var h in m)Bi(t,e,r,m[h],n+"/"+d+"/"+Cf(h),o,n,d,i,h)}else(d in $t.keywords||t.allKeys&&!(d in $t.skipKeywords))&&Bi(t,e,r,m,n+"/"+d,o,n,d,i)}r(i,n,o,a,s,c,u)}}function Cf(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Dr=C(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.getSchemaRefs=Te.resolveUrl=Te.normalizeId=Te._getFullPath=Te.getFullPath=Te.inlineRef=void 0;var xf=L(),zf=lo(),$f=Pl(),Ef=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Tf(t,e=!0){return typeof t=="boolean"?!0:e===!0?!co(t):e?Fl(t)<=e:!1}Te.inlineRef=Tf;var Pf=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function co(t){for(let e in t){if(Pf.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(co)||typeof r=="object"&&co(r))return!0}return!1}function Fl(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!Ef.has(r)&&(typeof t[r]=="object"&&(0,xf.eachItem)(t[r],i=>e+=Fl(i)),e===1/0))return 1/0}return e}function Il(t,e="",r){r!==!1&&(e=lr(e));let i=t.parse(e);return Ol(t,i)}Te.getFullPath=Il;function Ol(t,e){return t.serialize(e).split("#")[0]+"#"}Te._getFullPath=Ol;var Ff=/#\/?$/;function lr(t){return t?t.replace(Ff,""):""}Te.normalizeId=lr;function If(t,e,r){return r=lr(r),t.resolve(e,r)}Te.resolveUrl=If;var Of=/^[a-z_][-a-z0-9._]*$/i;function Nf(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:i}=this.opts,n=lr(t[r]||e),o={"":n},a=Il(i,n,!1),s={},c=new Set;return $f(t,{allKeys:!0},(m,S,h,y)=>{if(y===void 0)return;let p=a+S,_=o[y];typeof m[r]=="string"&&(_=x.call(this,m[r])),j.call(this,m.$anchor),j.call(this,m.$dynamicAnchor),o[S]=_;function x(M){let Z=this.opts.uriResolver.resolve;if(M=lr(_?Z(_,M):M),c.has(M))throw d(M);c.add(M);let O=this.refs[M];return typeof O=="string"&&(O=this.refs[O]),typeof O=="object"?u(m,O.schema,M):M!==lr(p)&&(M[0]==="#"?(u(m,s[M],M),s[M]=m):this.refs[M]=p),M}function j(M){if(typeof M=="string"){if(!Of.test(M))throw new Error(`invalid anchor "${M}"`);x.call(this,`#${M}`)}}}),s;function u(m,S,h){if(S!==void 0&&!zf(m,S))throw d(h)}function d(m){return new Error(`reference "${m}" resolves to more than one schema`)}}Te.getSchemaRefs=Nf});var jr=C(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.getData=Et.KeywordCxt=Et.validateFunctionCode=void 0;var Ml=fl(),Nl=kr(),fo=to(),Ki=kr(),Vf=vl(),Rr=xl(),uo=$l(),$=V(),P=pt(),kf=Dr(),mt=L(),Mr=Vr();function Df(t){if(Al(t)&&(Wl(t),jl(t))){jf(t);return}Rl(t,()=>(0,Ml.topBoolOrEmptySchema)(t))}Et.validateFunctionCode=Df;function Rl({gen:t,validateName:e,schema:r,schemaEnv:i,opts:n},o){n.code.es5?t.func(e,(0,$._)`${P.default.data}, ${P.default.valCxt}`,i.$async,()=>{t.code((0,$._)`"use strict"; ${Vl(r,n)}`),Rf(t,n),t.code(o)}):t.func(e,(0,$._)`${P.default.data}, ${Mf(n)}`,i.$async,()=>t.code(Vl(r,n)).code(o))}function Mf(t){return(0,$._)`{${P.default.instancePath}="", ${P.default.parentData}, ${P.default.parentDataProperty}, ${P.default.rootData}=${P.default.data}${t.dynamicRef?(0,$._)`, ${P.default.dynamicAnchors}={}`:$.nil}}={}`}function Rf(t,e){t.if(P.default.valCxt,()=>{t.var(P.default.instancePath,(0,$._)`${P.default.valCxt}.${P.default.instancePath}`),t.var(P.default.parentData,(0,$._)`${P.default.valCxt}.${P.default.parentData}`),t.var(P.default.parentDataProperty,(0,$._)`${P.default.valCxt}.${P.default.parentDataProperty}`),t.var(P.default.rootData,(0,$._)`${P.default.valCxt}.${P.default.rootData}`),e.dynamicRef&&t.var(P.default.dynamicAnchors,(0,$._)`${P.default.valCxt}.${P.default.dynamicAnchors}`)},()=>{t.var(P.default.instancePath,(0,$._)`""`),t.var(P.default.parentData,(0,$._)`undefined`),t.var(P.default.parentDataProperty,(0,$._)`undefined`),t.var(P.default.rootData,P.default.data),e.dynamicRef&&t.var(P.default.dynamicAnchors,(0,$._)`{}`)})}function jf(t){let{schema:e,opts:r,gen:i}=t;Rl(t,()=>{r.$comment&&e.$comment&&Ll(t),Uf(t),i.let(P.default.vErrors,null),i.let(P.default.errors,0),r.unevaluated&&Af(t),ql(t),Kf(t)})}function Af(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,$._)`${r}.evaluated`),e.if((0,$._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,$._)`${t.evaluated}.props`,(0,$._)`undefined`)),e.if((0,$._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,$._)`${t.evaluated}.items`,(0,$._)`undefined`))}function Vl(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,$._)`/*# sourceURL=${r} */`:$.nil}function Wf(t,e){if(Al(t)&&(Wl(t),jl(t))){qf(t,e);return}(0,Ml.boolOrEmptySchema)(t,e)}function jl({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function Al(t){return typeof t.schema!="boolean"}function qf(t,e){let{schema:r,gen:i,opts:n}=t;n.$comment&&r.$comment&&Ll(t),Hf(t),Bf(t);let o=i.const("_errs",P.default.errors);ql(t,o),i.var(e,(0,$._)`${o} === ${P.default.errors}`)}function Wl(t){(0,mt.checkUnknownRules)(t),Lf(t)}function ql(t,e){if(t.opts.jtd)return kl(t,[],!1,e);let r=(0,Nl.getSchemaTypes)(t.schema),i=(0,Nl.coerceAndCheckDataType)(t,r);kl(t,r,!i,e)}function Lf(t){let{schema:e,errSchemaPath:r,opts:i,self:n}=t;e.$ref&&i.ignoreKeywordsWithRef&&(0,mt.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Uf(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,mt.checkStrictMode)(t,"default is ignored in the schema root")}function Hf(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,kf.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Bf(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Ll({gen:t,schemaEnv:e,schema:r,errSchemaPath:i,opts:n}){let o=r.$comment;if(n.$comment===!0)t.code((0,$._)`${P.default.self}.logger.log(${o})`);else if(typeof n.$comment=="function"){let a=(0,$.str)`${i}/$comment`,s=t.scopeValue("root",{ref:e.root});t.code((0,$._)`${P.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function Kf(t){let{gen:e,schemaEnv:r,validateName:i,ValidationError:n,opts:o}=t;r.$async?e.if((0,$._)`${P.default.errors} === 0`,()=>e.return(P.default.data),()=>e.throw((0,$._)`new ${n}(${P.default.vErrors})`)):(e.assign((0,$._)`${i}.errors`,P.default.vErrors),o.unevaluated&&Gf(t),e.return((0,$._)`${P.default.errors} === 0`))}function Gf({gen:t,evaluated:e,props:r,items:i}){r instanceof $.Name&&t.assign((0,$._)`${e}.props`,r),i instanceof $.Name&&t.assign((0,$._)`${e}.items`,i)}function kl(t,e,r,i){let{gen:n,schema:o,data:a,allErrors:s,opts:c,self:u}=t,{RULES:d}=u;if(o.$ref&&(c.ignoreKeywordsWithRef||!(0,mt.schemaHasRulesButRef)(o,d))){n.block(()=>Hl(t,"$ref",d.all.$ref.definition));return}c.jtd||Jf(t,e),n.block(()=>{for(let S of d.rules)m(S);m(d.post)});function m(S){(0,fo.shouldUseGroup)(o,S)&&(S.type?(n.if((0,Ki.checkDataType)(S.type,a,c.strictNumbers)),Dl(t,S),e.length===1&&e[0]===S.type&&r&&(n.else(),(0,Ki.reportTypeError)(t)),n.endIf()):Dl(t,S),s||n.if((0,$._)`${P.default.errors} === ${i||0}`))}}function Dl(t,e){let{gen:r,schema:i,opts:{useDefaults:n}}=t;n&&(0,Vf.assignDefaults)(t,e.type),r.block(()=>{for(let o of e.rules)(0,fo.shouldUseRule)(i,o)&&Hl(t,o.keyword,o.definition,e.type)})}function Jf(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Xf(t,e),t.opts.allowUnionTypes||Qf(t,e),Zf(t,t.dataTypes))}function Xf(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Ul(t.dataTypes,r)||po(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),ep(t,e)}}function Qf(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&po(t,"use allowUnionTypes to allow union type keyword")}function Zf(t,e){let r=t.self.RULES.all;for(let i in r){let n=r[i];if(typeof n=="object"&&(0,fo.shouldUseRule)(t.schema,n)){let{type:o}=n.definition;o.length&&!o.some(a=>Yf(e,a))&&po(t,`missing type "${o.join(",")}" for keyword "${i}"`)}}}function Yf(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Ul(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function ep(t,e){let r=[];for(let i of t.dataTypes)Ul(e,i)?r.push(i):e.includes("integer")&&i==="number"&&r.push("integer");t.dataTypes=r}function po(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,mt.checkStrictMode)(t,e,t.opts.strictTypes)}var Gi=class{constructor(e,r,i){if((0,Rr.validateKeywordUsage)(e,r,i),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=i,this.data=e.data,this.schema=e.schema[i],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,mt.schemaRefOrVal)(e,this.schema,i,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Bl(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Rr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",P.default.errors))}result(e,r,i){this.failResult((0,$.not)(e),r,i)}failResult(e,r,i){this.gen.if(e),i?i():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,$.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,$._)`${r} !== undefined && (${(0,$.or)(this.invalid$data(),e)})`)}error(e,r,i){if(r){this.setParams(r),this._error(e,i),this.setParams({});return}this._error(e,i)}_error(e,r){(e?Mr.reportExtraError:Mr.reportError)(this,this.def.error,r)}$dataError(){(0,Mr.reportError)(this,this.def.$dataError||Mr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Mr.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,i=$.nil){this.gen.block(()=>{this.check$data(e,i),r()})}check$data(e=$.nil,r=$.nil){if(!this.$data)return;let{gen:i,schemaCode:n,schemaType:o,def:a}=this;i.if((0,$.or)((0,$._)`${n} === undefined`,r)),e!==$.nil&&i.assign(e,!0),(o.length||a.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),e!==$.nil&&i.assign(e,!1)),i.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:i,def:n,it:o}=this;return(0,$.or)(a(),s());function a(){if(i.length){if(!(r instanceof $.Name))throw new Error("ajv implementation error");let c=Array.isArray(i)?i:[i];return(0,$._)`${(0,Ki.checkDataTypes)(c,r,o.opts.strictNumbers,Ki.DataType.Wrong)}`}return $.nil}function s(){if(n.validateSchema){let c=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,$._)`!${c}(${r})`}return $.nil}}subschema(e,r){let i=(0,uo.getSubschema)(this.it,e);(0,uo.extendSubschemaData)(i,this.it,e),(0,uo.extendSubschemaMode)(i,e);let n=X(z(z({},this.it),i),{items:void 0,props:void 0});return Wf(n,r),n}mergeEvaluated(e,r){let{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&e.props!==void 0&&(i.props=mt.mergeEvaluated.props(n,e.props,i.props,r)),i.items!==!0&&e.items!==void 0&&(i.items=mt.mergeEvaluated.items(n,e.items,i.items,r)))}mergeValidEvaluated(e,r){let{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(r,()=>this.mergeEvaluated(e,$.Name)),!0}};Et.KeywordCxt=Gi;function Hl(t,e,r,i){let n=new Gi(t,r,e);"code"in r?r.code(n,i):n.$data&&r.validate?(0,Rr.funcKeywordCode)(n,r):"macro"in r?(0,Rr.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,Rr.funcKeywordCode)(n,r)}var tp=/^\/(?:[^~]|~0|~1)*$/,rp=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Bl(t,{dataLevel:e,dataNames:r,dataPathArr:i}){let n,o;if(t==="")return P.default.rootData;if(t[0]==="/"){if(!tp.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);n=t,o=P.default.rootData}else{let u=rp.exec(t);if(!u)throw new Error(`Invalid JSON-pointer: ${t}`);let d=+u[1];if(n=u[2],n==="#"){if(d>=e)throw new Error(c("property/index",d));return i[e-d]}if(d>e)throw new Error(c("data",d));if(o=r[e-d],!n)return o}let a=o,s=n.split("/");for(let u of s)u&&(o=(0,$._)`${o}${(0,$.getProperty)((0,mt.unescapeJsonPointer)(u))}`,a=(0,$._)`${a} && ${o}`);return a;function c(u,d){return`Cannot access ${u} ${d} levels up, current level is ${e}`}}Et.getData=Bl});var Ji=C(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});var mo=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};ho.default=mo});var Ar=C(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});var go=Dr(),yo=class extends Error{constructor(e,r,i,n){super(n||`can't resolve reference ${i} from id ${r}`),this.missingRef=(0,go.resolveUrl)(e,r,i),this.missingSchema=(0,go.normalizeId)((0,go.getFullPath)(e,this.missingRef))}};_o.default=yo});var Qi=C(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.resolveSchema=De.getCompilingSchema=De.resolveRef=De.compileSchema=De.SchemaEnv=void 0;var je=V(),ip=Ji(),Mt=pt(),Ae=Dr(),Kl=L(),np=jr(),cr=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let i;typeof e.schema=="object"&&(i=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,Ae.normalizeId)(i?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=i?.$async,this.refs={}}};De.SchemaEnv=cr;function So(t){let e=Gl.call(this,t);if(e)return e;let r=(0,Ae.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:o}=this.opts,a=new je.CodeGen(this.scope,{es5:i,lines:n,ownProperties:o}),s;t.$async&&(s=a.scopeValue("Error",{ref:ip.default,code:(0,je._)`require("ajv/dist/runtime/validation_error").default`}));let c=a.scopeName("validate");t.validateName=c;let u={gen:a,allErrors:this.opts.allErrors,data:Mt.default.data,parentData:Mt.default.parentData,parentDataProperty:Mt.default.parentDataProperty,dataNames:[Mt.default.data],dataPathArr:[je.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,je.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:s,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:je.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,je._)`""`,opts:this.opts,self:this},d;try{this._compilations.add(t),(0,np.validateFunctionCode)(u),a.optimize(this.opts.code.optimize);let m=a.toString();d=`${a.scopeRefs(Mt.default.scope)}return ${m}`,this.opts.code.process&&(d=this.opts.code.process(d,t));let h=new Function(`${Mt.default.self}`,`${Mt.default.scope}`,d)(this,this.scope.get());if(this.scope.value(c,{ref:h}),h.errors=null,h.schema=t.schema,h.schemaEnv=t,t.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:c,validateCode:m,scopeValues:a._values}),this.opts.unevaluated){let{props:y,items:p}=u;h.evaluated={props:y instanceof je.Name?void 0:y,items:p instanceof je.Name?void 0:p,dynamicProps:y instanceof je.Name,dynamicItems:p instanceof je.Name},h.source&&(h.source.evaluated=(0,je.stringify)(h.evaluated))}return t.validate=h,t}catch(m){throw delete t.validate,delete t.validateName,d&&this.logger.error("Error compiling schema, function code:",d),m}finally{this._compilations.delete(t)}}De.compileSchema=So;function op(t,e,r){var i;r=(0,Ae.resolveUrl)(this.opts.uriResolver,e,r);let n=t.refs[r];if(n)return n;let o=lp.call(this,t,r);if(o===void 0){let a=(i=t.localRefs)===null||i===void 0?void 0:i[r],{schemaId:s}=this.opts;a&&(o=new cr({schema:a,schemaId:s,root:t,baseId:e}))}if(o!==void 0)return t.refs[r]=ap.call(this,o)}De.resolveRef=op;function ap(t){return(0,Ae.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:So.call(this,t)}function Gl(t){for(let e of this._compilations)if(sp(e,t))return e}De.getCompilingSchema=Gl;function sp(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function lp(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Xi.call(this,t,e)}function Xi(t,e){let r=this.opts.uriResolver.parse(e),i=(0,Ae._getFullPath)(this.opts.uriResolver,r),n=(0,Ae.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&i===n)return vo.call(this,r,t);let o=(0,Ae.normalizeId)(i),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){let s=Xi.call(this,t,a);return typeof s?.schema!="object"?void 0:vo.call(this,r,s)}if(typeof a?.schema=="object"){if(a.validate||So.call(this,a),o===(0,Ae.normalizeId)(e)){let{schema:s}=a,{schemaId:c}=this.opts,u=s[c];return u&&(n=(0,Ae.resolveUrl)(this.opts.uriResolver,n,u)),new cr({schema:s,schemaId:c,root:t,baseId:n})}return vo.call(this,r,a)}}De.resolveSchema=Xi;var cp=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function vo(t,{baseId:e,schema:r,root:i}){var n;if(((n=t.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let s of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,Kl.unescapeFragment)(s)];if(c===void 0)return;r=c;let u=typeof r=="object"&&r[this.opts.schemaId];!cp.has(s)&&u&&(e=(0,Ae.resolveUrl)(this.opts.uriResolver,e,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,Kl.schemaHasRulesButRef)(r,this.RULES)){let s=(0,Ae.resolveUrl)(this.opts.uriResolver,e,r.$ref);o=Xi.call(this,i,s)}let{schemaId:a}=this.opts;if(o=o||new cr({schema:r,schemaId:a,root:i,baseId:e}),o.schema!==o.root.schema)return o}});var Jl=C((J_,dp)=>{dp.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Ql=C((X_,Xl)=>{"use strict";var up={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Xl.exports={HEX:up}});var oc=C((Q_,nc)=>{"use strict";var{HEX:fp}=Ql(),pp=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function tc(t){if(ic(t,".")<3)return{host:t,isIPV4:!1};let e=t.match(pp)||[],[r]=e;return r?{host:hp(r,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function bo(t,e=!1){let r="",i=!0;for(let n of t){if(fp[n]===void 0)return;n!=="0"&&i===!0&&(i=!1),i||(r+=n)}return e&&r.length===0&&(r="0"),r}function mp(t){let e=0,r={error:!1,address:"",zone:""},i=[],n=[],o=!1,a=!1,s=!1;function c(){if(n.length){if(o===!1){let u=bo(n);if(u!==void 0)i.push(u);else return r.error=!0,!1}n.length=0}return!0}for(let u=0;u<t.length;u++){let d=t[u];if(!(d==="["||d==="]"))if(d===":"){if(a===!0&&(s=!0),!c())break;if(e++,i.push(":"),e>7){r.error=!0;break}u-1>=0&&t[u-1]===":"&&(a=!0);continue}else if(d==="%"){if(!c())break;o=!0}else{n.push(d);continue}}return n.length&&(o?r.zone=n.join(""):s?i.push(n.join("")):i.push(bo(n))),r.address=i.join(""),r}function rc(t){if(ic(t,":")<2)return{host:t,isIPV6:!1};let e=mp(t);if(e.error)return{host:t,isIPV6:!1};{let r=e.address,i=e.address;return e.zone&&(r+="%"+e.zone,i+="%25"+e.zone),{host:r,escapedHost:i,isIPV6:!0}}}function hp(t,e){let r="",i=!0,n=t.length;for(let o=0;o<n;o++){let a=t[o];a==="0"&&i?(o+1<=n&&t[o+1]===e||o+1===n)&&(r+=a,i=!1):(a===e?i=!0:i=!1,r+=a)}return r}function ic(t,e){let r=0;for(let i=0;i<t.length;i++)t[i]===e&&r++;return r}var Zl=/^\.\.?\//u,Yl=/^\/\.(?:\/|$)/u,ec=/^\/\.\.(?:\/|$)/u,gp=/^\/?(?:.|\n)*?(?=\/|$)/u;function yp(t){let e=[];for(;t.length;)if(t.match(Zl))t=t.replace(Zl,"");else if(t.match(Yl))t=t.replace(Yl,"/");else if(t.match(ec))t=t.replace(ec,"/"),e.pop();else if(t==="."||t==="..")t="";else{let r=t.match(gp);if(r){let i=r[0];t=t.slice(i.length),e.push(i)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function _p(t,e){let r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function vp(t){let e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let r=unescape(t.host),i=tc(r);if(i.isIPV4)r=i.host;else{let n=rc(i.host);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=t.host}e.push(r)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}nc.exports={recomposeAuthority:vp,normalizeComponentEncoding:_p,removeDotSegments:yp,normalizeIPv4:tc,normalizeIPv6:rc,stringArrayToHexStripped:bo}});var uc=C((Z_,dc)=>{"use strict";var Sp=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,bp=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function ac(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function sc(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function lc(t){let e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function wp(t){return t.secure=ac(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function Cp(t){if((t.port===(ac(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function xp(t,e){if(!t.path)return t.error="URN can not be parsed",t;let r=t.path.match(bp);if(r){let i=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];let n=`${i}:${e.nid||t.nid}`,o=wo[n];t.path=void 0,o&&(t=o.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function zp(t,e){let r=e.scheme||t.scheme||"urn",i=t.nid.toLowerCase(),n=`${r}:${e.nid||i}`,o=wo[n];o&&(t=o.serialize(t,e));let a=t,s=t.nss;return a.path=`${i||e.nid}:${s}`,e.skipEscape=!0,a}function $p(t,e){let r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!Sp.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Ep(t){let e=t;return e.nss=(t.uuid||"").toLowerCase(),e}var cc={scheme:"http",domainHost:!0,parse:sc,serialize:lc},Tp={scheme:"https",domainHost:cc.domainHost,parse:sc,serialize:lc},Zi={scheme:"ws",domainHost:!0,parse:wp,serialize:Cp},Pp={scheme:"wss",domainHost:Zi.domainHost,parse:Zi.parse,serialize:Zi.serialize},Fp={scheme:"urn",parse:xp,serialize:zp,skipNormalize:!0},Ip={scheme:"urn:uuid",parse:$p,serialize:Ep,skipNormalize:!0},wo={http:cc,https:Tp,ws:Zi,wss:Pp,urn:Fp,"urn:uuid":Ip};dc.exports=wo});var pc=C((Y_,en)=>{"use strict";var{normalizeIPv6:Op,normalizeIPv4:Np,removeDotSegments:Wr,recomposeAuthority:Vp,normalizeComponentEncoding:Yi}=oc(),Co=uc();function kp(t,e){return typeof t=="string"?t=rt(ht(t,e),e):typeof t=="object"&&(t=ht(rt(t,e),e)),t}function Dp(t,e,r){let i=Object.assign({scheme:"null"},r),n=fc(ht(t,i),ht(e,i),i,!0);return rt(n,X(z({},i),{skipEscape:!0}))}function fc(t,e,r,i){let n={};return i||(t=ht(rt(t,r),r),e=ht(rt(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(n.scheme=e.scheme,n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=Wr(e.path||""),n.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=Wr(e.path||""),n.query=e.query):(e.path?(e.path.charAt(0)==="/"?n.path=Wr(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?n.path="/"+e.path:t.path?n.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:n.path=e.path,n.path=Wr(n.path)),n.query=e.query):(n.path=t.path,e.query!==void 0?n.query=e.query:n.query=t.query),n.userinfo=t.userinfo,n.host=t.host,n.port=t.port),n.scheme=t.scheme),n.fragment=e.fragment,n}function Mp(t,e,r){return typeof t=="string"?(t=unescape(t),t=rt(Yi(ht(t,r),!0),X(z({},r),{skipEscape:!0}))):typeof t=="object"&&(t=rt(Yi(t,!0),X(z({},r),{skipEscape:!0}))),typeof e=="string"?(e=unescape(e),e=rt(Yi(ht(e,r),!0),X(z({},r),{skipEscape:!0}))):typeof e=="object"&&(e=rt(Yi(e,!0),X(z({},r),{skipEscape:!0}))),t.toLowerCase()===e.toLowerCase()}function rt(t,e){let r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},i=Object.assign({},e),n=[],o=Co[(i.scheme||r.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(r,i),r.path!==void 0&&(i.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),i.reference!=="suffix"&&r.scheme&&n.push(r.scheme,":");let a=Vp(r);if(a!==void 0&&(i.reference!=="suffix"&&n.push("//"),n.push(a),r.path&&r.path.charAt(0)!=="/"&&n.push("/")),r.path!==void 0){let s=r.path;!i.absolutePath&&(!o||!o.absolutePath)&&(s=Wr(s)),a===void 0&&(s=s.replace(/^\/\//u,"/%2F")),n.push(s)}return r.query!==void 0&&n.push("?",r.query),r.fragment!==void 0&&n.push("#",r.fragment),n.join("")}var Rp=Array.from({length:127},(t,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function jp(t){let e=0;for(let r=0,i=t.length;r<i;++r)if(e=t.charCodeAt(r),e>126||Rp[e])return!0;return!1}var Ap=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function ht(t,e){let r=Object.assign({},e),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},n=t.indexOf("%")!==-1,o=!1;r.reference==="suffix"&&(t=(r.scheme?r.scheme+":":"")+"//"+t);let a=t.match(Ap);if(a){if(i.scheme=a[1],i.userinfo=a[3],i.host=a[4],i.port=parseInt(a[5],10),i.path=a[6]||"",i.query=a[7],i.fragment=a[8],isNaN(i.port)&&(i.port=a[5]),i.host){let c=Np(i.host);if(c.isIPV4===!1){let u=Op(c.host);i.host=u.host.toLowerCase(),o=u.isIPV6}else i.host=c.host,o=!0}i.scheme===void 0&&i.userinfo===void 0&&i.host===void 0&&i.port===void 0&&i.query===void 0&&!i.path?i.reference="same-document":i.scheme===void 0?i.reference="relative":i.fragment===void 0?i.reference="absolute":i.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==i.reference&&(i.error=i.error||"URI is not a "+r.reference+" reference.");let s=Co[(r.scheme||i.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!s||!s.unicodeSupport)&&i.host&&(r.domainHost||s&&s.domainHost)&&o===!1&&jp(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(c){i.error=i.error||"Host's domain name can not be converted to ASCII: "+c}(!s||s&&!s.skipNormalize)&&(n&&i.scheme!==void 0&&(i.scheme=unescape(i.scheme)),n&&i.host!==void 0&&(i.host=unescape(i.host)),i.path&&(i.path=escape(unescape(i.path))),i.fragment&&(i.fragment=encodeURI(decodeURIComponent(i.fragment)))),s&&s.parse&&s.parse(i,r)}else i.error=i.error||"URI can not be parsed.";return i}var xo={SCHEMES:Co,normalize:kp,resolve:Dp,resolveComponents:fc,equal:Mp,serialize:rt,parse:ht};en.exports=xo;en.exports.default=xo;en.exports.fastUri=xo});var hc=C(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});var mc=pc();mc.code='require("ajv/dist/runtime/uri").default';zo.default=mc});var Cc=C(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.CodeGen=de.Name=de.nil=de.stringify=de.str=de._=de.KeywordCxt=void 0;var Wp=jr();Object.defineProperty(de,"KeywordCxt",{enumerable:!0,get:function(){return Wp.KeywordCxt}});var dr=V();Object.defineProperty(de,"_",{enumerable:!0,get:function(){return dr._}});Object.defineProperty(de,"str",{enumerable:!0,get:function(){return dr.str}});Object.defineProperty(de,"stringify",{enumerable:!0,get:function(){return dr.stringify}});Object.defineProperty(de,"nil",{enumerable:!0,get:function(){return dr.nil}});Object.defineProperty(de,"Name",{enumerable:!0,get:function(){return dr.Name}});Object.defineProperty(de,"CodeGen",{enumerable:!0,get:function(){return dr.CodeGen}});var qp=Ji(),Sc=Ar(),Lp=eo(),qr=Qi(),Up=V(),Lr=Dr(),tn=kr(),Eo=L(),gc=Jl(),Hp=hc(),bc=(t,e)=>new RegExp(t,e);bc.code="new RegExp";var Bp=["removeAdditional","useDefaults","coerceTypes"],Kp=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Gp={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Jp={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},yc=200;function Xp(t){var e,r,i,n,o,a,s,c,u,d,m,S,h,y,p,_,x,j,M,Z,O,Ue,lt,wn,Cn;let zr=t.strict,xn=(e=t.code)===null||e===void 0?void 0:e.optimize,Ta=xn===!0||xn===void 0?1:xn||0,Pa=(i=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&i!==void 0?i:bc,Kd=(n=t.uriResolver)!==null&&n!==void 0?n:Hp.default;return{strictSchema:(a=(o=t.strictSchema)!==null&&o!==void 0?o:zr)!==null&&a!==void 0?a:!0,strictNumbers:(c=(s=t.strictNumbers)!==null&&s!==void 0?s:zr)!==null&&c!==void 0?c:!0,strictTypes:(d=(u=t.strictTypes)!==null&&u!==void 0?u:zr)!==null&&d!==void 0?d:"log",strictTuples:(S=(m=t.strictTuples)!==null&&m!==void 0?m:zr)!==null&&S!==void 0?S:"log",strictRequired:(y=(h=t.strictRequired)!==null&&h!==void 0?h:zr)!==null&&y!==void 0?y:!1,code:t.code?X(z({},t.code),{optimize:Ta,regExp:Pa}):{optimize:Ta,regExp:Pa},loopRequired:(p=t.loopRequired)!==null&&p!==void 0?p:yc,loopEnum:(_=t.loopEnum)!==null&&_!==void 0?_:yc,meta:(x=t.meta)!==null&&x!==void 0?x:!0,messages:(j=t.messages)!==null&&j!==void 0?j:!0,inlineRefs:(M=t.inlineRefs)!==null&&M!==void 0?M:!0,schemaId:(Z=t.schemaId)!==null&&Z!==void 0?Z:"$id",addUsedSchema:(O=t.addUsedSchema)!==null&&O!==void 0?O:!0,validateSchema:(Ue=t.validateSchema)!==null&&Ue!==void 0?Ue:!0,validateFormats:(lt=t.validateFormats)!==null&&lt!==void 0?lt:!0,unicodeRegExp:(wn=t.unicodeRegExp)!==null&&wn!==void 0?wn:!0,int32range:(Cn=t.int32range)!==null&&Cn!==void 0?Cn:!0,uriResolver:Kd}}var Ur=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=z(z({},e),Xp(e));let{es5:r,lines:i}=this.opts.code;this.scope=new Up.ValueScope({scope:{},prefixes:Kp,es5:r,lines:i}),this.logger=rm(e.logger);let n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,Lp.getRules)(),_c.call(this,Gp,e,"NOT SUPPORTED"),_c.call(this,Jp,e,"DEPRECATED","warn"),this._metaOpts=em.call(this),e.formats&&Zp.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Yp.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Qp.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:i}=this.opts,n=gc;i==="id"&&(n=z({},gc),n.id=n.$id,delete n.$id),r&&e&&this.addMetaSchema(n,n[i],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let i;if(typeof e=="string"){if(i=this.getSchema(e),!i)throw new Error(`no schema with key or ref "${e}"`)}else i=this.compile(e);let n=i(r);return"$async"in i||(this.errors=i.errors),n}compile(e,r){let i=this._addSchema(e,r);return i.validate||this._compileSchemaEnv(i)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return n.call(this,e,r);function n(d,m){return Lt(this,null,function*(){yield o.call(this,d.$schema);let S=this._addSchema(d,m);return S.validate||a.call(this,S)})}function o(d){return Lt(this,null,function*(){d&&!this.getSchema(d)&&(yield n.call(this,{$ref:d},!0))})}function a(d){return Lt(this,null,function*(){try{return this._compileSchemaEnv(d)}catch(m){if(!(m instanceof Sc.default))throw m;return s.call(this,m),yield c.call(this,m.missingSchema),a.call(this,d)}})}function s({missingSchema:d,missingRef:m}){if(this.refs[d])throw new Error(`AnySchema ${d} is loaded but ${m} cannot be resolved`)}function c(d){return Lt(this,null,function*(){let m=yield u.call(this,d);this.refs[d]||(yield o.call(this,m.$schema)),this.refs[d]||this.addSchema(m,d,r)})}function u(d){return Lt(this,null,function*(){let m=this._loading[d];if(m)return m;try{return yield this._loading[d]=i(d)}finally{delete this._loading[d]}})}}addSchema(e,r,i,n=this.opts.validateSchema){if(Array.isArray(e)){for(let a of e)this.addSchema(a,void 0,i,n);return this}let o;if(typeof e=="object"){let{schemaId:a}=this.opts;if(o=e[a],o!==void 0&&typeof o!="string")throw new Error(`schema ${a} must be string`)}return r=(0,Lr.normalizeId)(r||o),this._checkUnique(r),this.schemas[r]=this._addSchema(e,i,r,n,!0),this}addMetaSchema(e,r,i=this.opts.validateSchema){return this.addSchema(e,r,!0,i),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let i;if(i=e.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(i,e);if(!n&&r){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return n}getSchema(e){let r;for(;typeof(r=vc.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:i}=this.opts,n=new qr.SchemaEnv({schema:{},schemaId:i});if(r=qr.resolveSchema.call(this,n,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=vc.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let i=e[this.opts.schemaId];return i&&(i=(0,Lr.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let i;if(typeof e=="string")i=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=i);else if(typeof e=="object"&&r===void 0){if(r=e,i=r.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(nm.call(this,i,r),!r)return(0,Eo.eachItem)(i,o=>$o.call(this,o)),this;am.call(this,r);let n=X(z({},r),{type:(0,tn.getJSONTypes)(r.type),schemaType:(0,tn.getJSONTypes)(r.schemaType)});return(0,Eo.eachItem)(i,n.type.length===0?o=>$o.call(this,o,n):o=>n.type.forEach(a=>$o.call(this,o,n,a))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let i of r.rules){let n=i.rules.findIndex(o=>o.keyword===e);n>=0&&i.rules.splice(n,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:i="data"}={}){return!e||e.length===0?"No errors":e.map(n=>`${i}${n.instancePath} ${n.message}`).reduce((n,o)=>n+r+o)}$dataMetaSchema(e,r){let i=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let n of r){let o=n.split("/").slice(1),a=e;for(let s of o)a=a[s];for(let s in i){let c=i[s];if(typeof c!="object")continue;let{$data:u}=c.definition,d=a[s];u&&d&&(a[s]=wc(d))}}return e}_removeAllSchemas(e,r){for(let i in e){let n=e[i];(!r||r.test(i))&&(typeof n=="string"?delete e[i]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[i]))}}_addSchema(e,r,i,n=this.opts.validateSchema,o=this.opts.addUsedSchema){let a,{schemaId:s}=this.opts;if(typeof e=="object")a=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;i=(0,Lr.normalizeId)(a||i);let u=Lr.getSchemaRefs.call(this,e,i);return c=new qr.SchemaEnv({schema:e,schemaId:s,meta:r,baseId:i,localRefs:u}),this._cache.set(c.schema,c),o&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=c),n&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):qr.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{qr.compileSchema.call(this,e)}finally{this.opts=r}}};Ur.ValidationError=qp.default;Ur.MissingRefError=Sc.default;de.default=Ur;function _c(t,e,r,i="error"){for(let n in t){let o=n;o in e&&this.logger[i](`${r}: option ${n}. ${t[o]}`)}}function vc(t){return t=(0,Lr.normalizeId)(t),this.schemas[t]||this.refs[t]}function Qp(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function Zp(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function Yp(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function em(){let t=z({},this.opts);for(let e of Bp)delete t[e];return t}var tm={log(){},warn(){},error(){}};function rm(t){if(t===!1)return tm;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var im=/^[a-z_$][a-z0-9_$:-]*$/i;function nm(t,e){let{RULES:r}=this;if((0,Eo.eachItem)(t,i=>{if(r.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!im.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function $o(t,e,r){var i;let n=e?.post;if(r&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,a=n?o.post:o.rules.find(({type:c})=>c===r);if(a||(a={type:r,rules:[]},o.rules.push(a)),o.keywords[t]=!0,!e)return;let s={keyword:t,definition:X(z({},e),{type:(0,tn.getJSONTypes)(e.type),schemaType:(0,tn.getJSONTypes)(e.schemaType)})};e.before?om.call(this,a,s,e.before):a.rules.push(s),o.all[t]=s,(i=e.implements)===null||i===void 0||i.forEach(c=>this.addKeyword(c))}function om(t,e,r){let i=t.rules.findIndex(n=>n.keyword===r);i>=0?t.rules.splice(i,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function am(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=wc(e)),t.validateSchema=this.compile(e,!0))}var sm={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function wc(t){return{anyOf:[t,sm]}}});var xc=C(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});var lm={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};To.default=lm});var Tc=C(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.callRef=Rt.getValidate=void 0;var cm=Ar(),zc=ke(),Pe=V(),ur=pt(),$c=Qi(),rn=L(),dm={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:i}=t,{baseId:n,schemaEnv:o,validateName:a,opts:s,self:c}=i,{root:u}=o;if((r==="#"||r==="#/")&&n===u.baseId)return m();let d=$c.resolveRef.call(c,u,n,r);if(d===void 0)throw new cm.default(i.opts.uriResolver,n,r);if(d instanceof $c.SchemaEnv)return S(d);return h(d);function m(){if(o===u)return nn(t,a,o,o.$async);let y=e.scopeValue("root",{ref:u});return nn(t,(0,Pe._)`${y}.validate`,u,u.$async)}function S(y){let p=Ec(t,y);nn(t,p,y,y.$async)}function h(y){let p=e.scopeValue("schema",s.code.source===!0?{ref:y,code:(0,Pe.stringify)(y)}:{ref:y}),_=e.name("valid"),x=t.subschema({schema:y,dataTypes:[],schemaPath:Pe.nil,topSchemaRef:p,errSchemaPath:r},_);t.mergeEvaluated(x),t.ok(_)}}};function Ec(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Pe._)`${r.scopeValue("wrapper",{ref:e})}.validate`}Rt.getValidate=Ec;function nn(t,e,r,i){let{gen:n,it:o}=t,{allErrors:a,schemaEnv:s,opts:c}=o,u=c.passContext?ur.default.this:Pe.nil;i?d():m();function d(){if(!s.$async)throw new Error("async schema referenced by sync schema");let y=n.let("valid");n.try(()=>{n.code((0,Pe._)`await ${(0,zc.callValidateCode)(t,e,u)}`),h(e),a||n.assign(y,!0)},p=>{n.if((0,Pe._)`!(${p} instanceof ${o.ValidationError})`,()=>n.throw(p)),S(p),a||n.assign(y,!1)}),t.ok(y)}function m(){t.result((0,zc.callValidateCode)(t,e,u),()=>h(e),()=>S(e))}function S(y){let p=(0,Pe._)`${y}.errors`;n.assign(ur.default.vErrors,(0,Pe._)`${ur.default.vErrors} === null ? ${p} : ${ur.default.vErrors}.concat(${p})`),n.assign(ur.default.errors,(0,Pe._)`${ur.default.vErrors}.length`)}function h(y){var p;if(!o.opts.unevaluated)return;let _=(p=r?.validate)===null||p===void 0?void 0:p.evaluated;if(o.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(o.props=rn.mergeEvaluated.props(n,_.props,o.props));else{let x=n.var("props",(0,Pe._)`${y}.evaluated.props`);o.props=rn.mergeEvaluated.props(n,x,o.props,Pe.Name)}if(o.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(o.items=rn.mergeEvaluated.items(n,_.items,o.items));else{let x=n.var("items",(0,Pe._)`${y}.evaluated.items`);o.items=rn.mergeEvaluated.items(n,x,o.items,Pe.Name)}}}Rt.callRef=nn;Rt.default=dm});var Pc=C(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});var um=xc(),fm=Tc(),pm=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",um.default,fm.default];Po.default=pm});var Fc=C(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});var on=V(),Tt=on.operators,an={maximum:{okStr:"<=",ok:Tt.LTE,fail:Tt.GT},minimum:{okStr:">=",ok:Tt.GTE,fail:Tt.LT},exclusiveMaximum:{okStr:"<",ok:Tt.LT,fail:Tt.GTE},exclusiveMinimum:{okStr:">",ok:Tt.GT,fail:Tt.LTE}},mm={message:({keyword:t,schemaCode:e})=>(0,on.str)`must be ${an[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,on._)`{comparison: ${an[t].okStr}, limit: ${e}}`},hm={keyword:Object.keys(an),type:"number",schemaType:"number",$data:!0,error:mm,code(t){let{keyword:e,data:r,schemaCode:i}=t;t.fail$data((0,on._)`${r} ${an[e].fail} ${i} || isNaN(${r})`)}};Fo.default=hm});var Ic=C(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var Hr=V(),gm={message:({schemaCode:t})=>(0,Hr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Hr._)`{multipleOf: ${t}}`},ym={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:gm,code(t){let{gen:e,data:r,schemaCode:i,it:n}=t,o=n.opts.multipleOfPrecision,a=e.let("res"),s=o?(0,Hr._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,Hr._)`${a} !== parseInt(${a})`;t.fail$data((0,Hr._)`(${i} === 0 || (${a} = ${r}/${i}, ${s}))`)}};Io.default=ym});var Nc=C(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});function Oc(t){let e=t.length,r=0,i=0,n;for(;i<e;)r++,n=t.charCodeAt(i++),n>=55296&&n<=56319&&i<e&&(n=t.charCodeAt(i),(n&64512)===56320&&i++);return r}Oo.default=Oc;Oc.code='require("ajv/dist/runtime/ucs2length").default'});var Vc=C(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});var jt=V(),_m=L(),vm=Nc(),Sm={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,jt.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,jt._)`{limit: ${t}}`},bm={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Sm,code(t){let{keyword:e,data:r,schemaCode:i,it:n}=t,o=e==="maxLength"?jt.operators.GT:jt.operators.LT,a=n.opts.unicode===!1?(0,jt._)`${r}.length`:(0,jt._)`${(0,_m.useFunc)(t.gen,vm.default)}(${r})`;t.fail$data((0,jt._)`${a} ${o} ${i}`)}};No.default=bm});var kc=C(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});var wm=ke(),sn=V(),Cm={message:({schemaCode:t})=>(0,sn.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,sn._)`{pattern: ${t}}`},xm={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Cm,code(t){let{data:e,$data:r,schema:i,schemaCode:n,it:o}=t,a=o.opts.unicodeRegExp?"u":"",s=r?(0,sn._)`(new RegExp(${n}, ${a}))`:(0,wm.usePattern)(t,i);t.fail$data((0,sn._)`!${s}.test(${e})`)}};Vo.default=xm});var Dc=C(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});var Br=V(),zm={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,Br.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Br._)`{limit: ${t}}`},$m={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:zm,code(t){let{keyword:e,data:r,schemaCode:i}=t,n=e==="maxProperties"?Br.operators.GT:Br.operators.LT;t.fail$data((0,Br._)`Object.keys(${r}).length ${n} ${i}`)}};ko.default=$m});var Mc=C(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var Kr=ke(),Gr=V(),Em=L(),Tm={message:({params:{missingProperty:t}})=>(0,Gr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Gr._)`{missingProperty: ${t}}`},Pm={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Tm,code(t){let{gen:e,schema:r,schemaCode:i,data:n,$data:o,it:a}=t,{opts:s}=a;if(!o&&r.length===0)return;let c=r.length>=s.loopRequired;if(a.allErrors?u():d(),s.strictRequired){let h=t.parentSchema.properties,{definedProperties:y}=t.it;for(let p of r)if(h?.[p]===void 0&&!y.has(p)){let _=a.schemaEnv.baseId+a.errSchemaPath,x=`required property "${p}" is not defined at "${_}" (strictRequired)`;(0,Em.checkStrictMode)(a,x,a.opts.strictRequired)}}function u(){if(c||o)t.block$data(Gr.nil,m);else for(let h of r)(0,Kr.checkReportMissingProp)(t,h)}function d(){let h=e.let("missing");if(c||o){let y=e.let("valid",!0);t.block$data(y,()=>S(h,y)),t.ok(y)}else e.if((0,Kr.checkMissingProp)(t,r,h)),(0,Kr.reportMissingProp)(t,h),e.else()}function m(){e.forOf("prop",i,h=>{t.setParams({missingProperty:h}),e.if((0,Kr.noPropertyInData)(e,n,h,s.ownProperties),()=>t.error())})}function S(h,y){t.setParams({missingProperty:h}),e.forOf(h,i,()=>{e.assign(y,(0,Kr.propertyInData)(e,n,h,s.ownProperties)),e.if((0,Gr.not)(y),()=>{t.error(),e.break()})},Gr.nil)}}};Do.default=Pm});var Rc=C(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});var Jr=V(),Fm={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,Jr.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Jr._)`{limit: ${t}}`},Im={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Fm,code(t){let{keyword:e,data:r,schemaCode:i}=t,n=e==="maxItems"?Jr.operators.GT:Jr.operators.LT;t.fail$data((0,Jr._)`${r}.length ${n} ${i}`)}};Mo.default=Im});var ln=C(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});var jc=lo();jc.code='require("ajv/dist/runtime/equal").default';Ro.default=jc});var Ac=C(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var jo=kr(),ue=V(),Om=L(),Nm=ln(),Vm={message:({params:{i:t,j:e}})=>(0,ue.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,ue._)`{i: ${t}, j: ${e}}`},km={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Vm,code(t){let{gen:e,data:r,$data:i,schema:n,parentSchema:o,schemaCode:a,it:s}=t;if(!i&&!n)return;let c=e.let("valid"),u=o.items?(0,jo.getSchemaTypes)(o.items):[];t.block$data(c,d,(0,ue._)`${a} === false`),t.ok(c);function d(){let y=e.let("i",(0,ue._)`${r}.length`),p=e.let("j");t.setParams({i:y,j:p}),e.assign(c,!0),e.if((0,ue._)`${y} > 1`,()=>(m()?S:h)(y,p))}function m(){return u.length>0&&!u.some(y=>y==="object"||y==="array")}function S(y,p){let _=e.name("item"),x=(0,jo.checkDataTypes)(u,_,s.opts.strictNumbers,jo.DataType.Wrong),j=e.const("indices",(0,ue._)`{}`);e.for((0,ue._)`;${y}--;`,()=>{e.let(_,(0,ue._)`${r}[${y}]`),e.if(x,(0,ue._)`continue`),u.length>1&&e.if((0,ue._)`typeof ${_} == "string"`,(0,ue._)`${_} += "_"`),e.if((0,ue._)`typeof ${j}[${_}] == "number"`,()=>{e.assign(p,(0,ue._)`${j}[${_}]`),t.error(),e.assign(c,!1).break()}).code((0,ue._)`${j}[${_}] = ${y}`)})}function h(y,p){let _=(0,Om.useFunc)(e,Nm.default),x=e.name("outer");e.label(x).for((0,ue._)`;${y}--;`,()=>e.for((0,ue._)`${p} = ${y}; ${p}--;`,()=>e.if((0,ue._)`${_}(${r}[${y}], ${r}[${p}])`,()=>{t.error(),e.assign(c,!1).break(x)})))}}};Ao.default=km});var Wc=C(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});var Wo=V(),Dm=L(),Mm=ln(),Rm={message:"must be equal to constant",params:({schemaCode:t})=>(0,Wo._)`{allowedValue: ${t}}`},jm={keyword:"const",$data:!0,error:Rm,code(t){let{gen:e,data:r,$data:i,schemaCode:n,schema:o}=t;i||o&&typeof o=="object"?t.fail$data((0,Wo._)`!${(0,Dm.useFunc)(e,Mm.default)}(${r}, ${n})`):t.fail((0,Wo._)`${o} !== ${r}`)}};qo.default=jm});var qc=C(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});var Xr=V(),Am=L(),Wm=ln(),qm={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Xr._)`{allowedValues: ${t}}`},Lm={keyword:"enum",schemaType:"array",$data:!0,error:qm,code(t){let{gen:e,data:r,$data:i,schema:n,schemaCode:o,it:a}=t;if(!i&&n.length===0)throw new Error("enum must have non-empty array");let s=n.length>=a.opts.loopEnum,c,u=()=>c??(c=(0,Am.useFunc)(e,Wm.default)),d;if(s||i)d=e.let("valid"),t.block$data(d,m);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let h=e.const("vSchema",o);d=(0,Xr.or)(...n.map((y,p)=>S(h,p)))}t.pass(d);function m(){e.assign(d,!1),e.forOf("v",o,h=>e.if((0,Xr._)`${u()}(${r}, ${h})`,()=>e.assign(d,!0).break()))}function S(h,y){let p=n[y];return typeof p=="object"&&p!==null?(0,Xr._)`${u()}(${r}, ${h}[${y}])`:(0,Xr._)`${r} === ${p}`}}};Lo.default=Lm});var Lc=C(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});var Um=Fc(),Hm=Ic(),Bm=Vc(),Km=kc(),Gm=Dc(),Jm=Mc(),Xm=Rc(),Qm=Ac(),Zm=Wc(),Ym=qc(),eh=[Um.default,Hm.default,Bm.default,Km.default,Gm.default,Jm.default,Xm.default,Qm.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Zm.default,Ym.default];Uo.default=eh});var Bo=C(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.validateAdditionalItems=void 0;var At=V(),Ho=L(),th={message:({params:{len:t}})=>(0,At.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,At._)`{limit: ${t}}`},rh={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:th,code(t){let{parentSchema:e,it:r}=t,{items:i}=e;if(!Array.isArray(i)){(0,Ho.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Uc(t,i)}};function Uc(t,e){let{gen:r,schema:i,data:n,keyword:o,it:a}=t;a.items=!0;let s=r.const("len",(0,At._)`${n}.length`);if(i===!1)t.setParams({len:e.length}),t.pass((0,At._)`${s} <= ${e.length}`);else if(typeof i=="object"&&!(0,Ho.alwaysValidSchema)(a,i)){let u=r.var("valid",(0,At._)`${s} <= ${e.length}`);r.if((0,At.not)(u),()=>c(u)),t.ok(u)}function c(u){r.forRange("i",e.length,s,d=>{t.subschema({keyword:o,dataProp:d,dataPropType:Ho.Type.Num},u),a.allErrors||r.if((0,At.not)(u),()=>r.break())})}}Qr.validateAdditionalItems=Uc;Qr.default=rh});var Ko=C(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.validateTuple=void 0;var Hc=V(),cn=L(),ih=ke(),nh={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return Bc(t,"additionalItems",e);r.items=!0,!(0,cn.alwaysValidSchema)(r,e)&&t.ok((0,ih.validateArray)(t))}};function Bc(t,e,r=t.schema){let{gen:i,parentSchema:n,data:o,keyword:a,it:s}=t;d(n),s.opts.unevaluated&&r.length&&s.items!==!0&&(s.items=cn.mergeEvaluated.items(i,r.length,s.items));let c=i.name("valid"),u=i.const("len",(0,Hc._)`${o}.length`);r.forEach((m,S)=>{(0,cn.alwaysValidSchema)(s,m)||(i.if((0,Hc._)`${u} > ${S}`,()=>t.subschema({keyword:a,schemaProp:S,dataProp:S},c)),t.ok(c))});function d(m){let{opts:S,errSchemaPath:h}=s,y=r.length,p=y===m.minItems&&(y===m.maxItems||m[e]===!1);if(S.strictTuples&&!p){let _=`"${a}" is ${y}-tuple, but minItems or maxItems/${e} are not specified or different at path "${h}"`;(0,cn.checkStrictMode)(s,_,S.strictTuples)}}}Zr.validateTuple=Bc;Zr.default=nh});var Kc=C(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});var oh=Ko(),ah={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,oh.validateTuple)(t,"items")};Go.default=ah});var Jc=C(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});var Gc=V(),sh=L(),lh=ke(),ch=Bo(),dh={message:({params:{len:t}})=>(0,Gc.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Gc._)`{limit: ${t}}`},uh={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:dh,code(t){let{schema:e,parentSchema:r,it:i}=t,{prefixItems:n}=r;i.items=!0,!(0,sh.alwaysValidSchema)(i,e)&&(n?(0,ch.validateAdditionalItems)(t,n):t.ok((0,lh.validateArray)(t)))}};Jo.default=uh});var Xc=C(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});var Me=V(),dn=L(),fh={message:({params:{min:t,max:e}})=>e===void 0?(0,Me.str)`must contain at least ${t} valid item(s)`:(0,Me.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Me._)`{minContains: ${t}}`:(0,Me._)`{minContains: ${t}, maxContains: ${e}}`},ph={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:fh,code(t){let{gen:e,schema:r,parentSchema:i,data:n,it:o}=t,a,s,{minContains:c,maxContains:u}=i;o.opts.next?(a=c===void 0?1:c,s=u):a=1;let d=e.const("len",(0,Me._)`${n}.length`);if(t.setParams({min:a,max:s}),s===void 0&&a===0){(0,dn.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,dn.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,dn.alwaysValidSchema)(o,r)){let p=(0,Me._)`${d} >= ${a}`;s!==void 0&&(p=(0,Me._)`${p} && ${d} <= ${s}`),t.pass(p);return}o.items=!0;let m=e.name("valid");s===void 0&&a===1?h(m,()=>e.if(m,()=>e.break())):a===0?(e.let(m,!0),s!==void 0&&e.if((0,Me._)`${n}.length > 0`,S)):(e.let(m,!1),S()),t.result(m,()=>t.reset());function S(){let p=e.name("_valid"),_=e.let("count",0);h(p,()=>e.if(p,()=>y(_)))}function h(p,_){e.forRange("i",0,d,x=>{t.subschema({keyword:"contains",dataProp:x,dataPropType:dn.Type.Num,compositeRule:!0},p),_()})}function y(p){e.code((0,Me._)`${p}++`),s===void 0?e.if((0,Me._)`${p} >= ${a}`,()=>e.assign(m,!0).break()):(e.if((0,Me._)`${p} > ${s}`,()=>e.assign(m,!1).break()),a===1?e.assign(m,!0):e.if((0,Me._)`${p} >= ${a}`,()=>e.assign(m,!0)))}}};Xo.default=ph});var Yc=C(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.validateSchemaDeps=it.validatePropertyDeps=it.error=void 0;var Qo=V(),mh=L(),Yr=ke();it.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let i=e===1?"property":"properties";return(0,Qo.str)`must have ${i} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:i}})=>(0,Qo._)`{property: ${t},
    missingProperty: ${i},
    depsCount: ${e},
    deps: ${r}}`};var hh={keyword:"dependencies",type:"object",schemaType:"object",error:it.error,code(t){let[e,r]=gh(t);Qc(t,e),Zc(t,r)}};function gh({schema:t}){let e={},r={};for(let i in t){if(i==="__proto__")continue;let n=Array.isArray(t[i])?e:r;n[i]=t[i]}return[e,r]}function Qc(t,e=t.schema){let{gen:r,data:i,it:n}=t;if(Object.keys(e).length===0)return;let o=r.let("missing");for(let a in e){let s=e[a];if(s.length===0)continue;let c=(0,Yr.propertyInData)(r,i,a,n.opts.ownProperties);t.setParams({property:a,depsCount:s.length,deps:s.join(", ")}),n.allErrors?r.if(c,()=>{for(let u of s)(0,Yr.checkReportMissingProp)(t,u)}):(r.if((0,Qo._)`${c} && (${(0,Yr.checkMissingProp)(t,s,o)})`),(0,Yr.reportMissingProp)(t,o),r.else())}}it.validatePropertyDeps=Qc;function Zc(t,e=t.schema){let{gen:r,data:i,keyword:n,it:o}=t,a=r.name("valid");for(let s in e)(0,mh.alwaysValidSchema)(o,e[s])||(r.if((0,Yr.propertyInData)(r,i,s,o.opts.ownProperties),()=>{let c=t.subschema({keyword:n,schemaProp:s},a);t.mergeValidEvaluated(c,a)},()=>r.var(a,!0)),t.ok(a))}it.validateSchemaDeps=Zc;it.default=hh});var td=C(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});var ed=V(),yh=L(),_h={message:"property name must be valid",params:({params:t})=>(0,ed._)`{propertyName: ${t.propertyName}}`},vh={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:_h,code(t){let{gen:e,schema:r,data:i,it:n}=t;if((0,yh.alwaysValidSchema)(n,r))return;let o=e.name("valid");e.forIn("key",i,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),e.if((0,ed.not)(o),()=>{t.error(!0),n.allErrors||e.break()})}),t.ok(o)}};Zo.default=vh});var ea=C(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});var un=ke(),We=V(),Sh=pt(),fn=L(),bh={message:"must NOT have additional properties",params:({params:t})=>(0,We._)`{additionalProperty: ${t.additionalProperty}}`},wh={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:bh,code(t){let{gen:e,schema:r,parentSchema:i,data:n,errsCount:o,it:a}=t;if(!o)throw new Error("ajv implementation error");let{allErrors:s,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,fn.alwaysValidSchema)(a,r))return;let u=(0,un.allSchemaProperties)(i.properties),d=(0,un.allSchemaProperties)(i.patternProperties);m(),t.ok((0,We._)`${o} === ${Sh.default.errors}`);function m(){e.forIn("key",n,_=>{!u.length&&!d.length?y(_):e.if(S(_),()=>y(_))})}function S(_){let x;if(u.length>8){let j=(0,fn.schemaRefOrVal)(a,i.properties,"properties");x=(0,un.isOwnProperty)(e,j,_)}else u.length?x=(0,We.or)(...u.map(j=>(0,We._)`${_} === ${j}`)):x=We.nil;return d.length&&(x=(0,We.or)(x,...d.map(j=>(0,We._)`${(0,un.usePattern)(t,j)}.test(${_})`))),(0,We.not)(x)}function h(_){e.code((0,We._)`delete ${n}[${_}]`)}function y(_){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){h(_);return}if(r===!1){t.setParams({additionalProperty:_}),t.error(),s||e.break();return}if(typeof r=="object"&&!(0,fn.alwaysValidSchema)(a,r)){let x=e.name("valid");c.removeAdditional==="failing"?(p(_,x,!1),e.if((0,We.not)(x),()=>{t.reset(),h(_)})):(p(_,x),s||e.if((0,We.not)(x),()=>e.break()))}}function p(_,x,j){let M={keyword:"additionalProperties",dataProp:_,dataPropType:fn.Type.Str};j===!1&&Object.assign(M,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(M,x)}}};Yo.default=wh});var nd=C(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});var Ch=jr(),rd=ke(),ta=L(),id=ea(),xh={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:i,data:n,it:o}=t;o.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&id.default.code(new Ch.KeywordCxt(o,id.default,"additionalProperties"));let a=(0,rd.allSchemaProperties)(r);for(let m of a)o.definedProperties.add(m);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=ta.mergeEvaluated.props(e,(0,ta.toHash)(a),o.props));let s=a.filter(m=>!(0,ta.alwaysValidSchema)(o,r[m]));if(s.length===0)return;let c=e.name("valid");for(let m of s)u(m)?d(m):(e.if((0,rd.propertyInData)(e,n,m,o.opts.ownProperties)),d(m),o.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(m),t.ok(c);function u(m){return o.opts.useDefaults&&!o.compositeRule&&r[m].default!==void 0}function d(m){t.subschema({keyword:"properties",schemaProp:m,dataProp:m},c)}}};ra.default=xh});var ld=C(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});var od=ke(),pn=V(),ad=L(),sd=L(),zh={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:i,parentSchema:n,it:o}=t,{opts:a}=o,s=(0,od.allSchemaProperties)(r),c=s.filter(p=>(0,ad.alwaysValidSchema)(o,r[p]));if(s.length===0||c.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;let u=a.strictSchema&&!a.allowMatchingProperties&&n.properties,d=e.name("valid");o.props!==!0&&!(o.props instanceof pn.Name)&&(o.props=(0,sd.evaluatedPropsToName)(e,o.props));let{props:m}=o;S();function S(){for(let p of s)u&&h(p),o.allErrors?y(p):(e.var(d,!0),y(p),e.if(d))}function h(p){for(let _ in u)new RegExp(p).test(_)&&(0,ad.checkStrictMode)(o,`property ${_} matches pattern ${p} (use allowMatchingProperties)`)}function y(p){e.forIn("key",i,_=>{e.if((0,pn._)`${(0,od.usePattern)(t,p)}.test(${_})`,()=>{let x=c.includes(p);x||t.subschema({keyword:"patternProperties",schemaProp:p,dataProp:_,dataPropType:sd.Type.Str},d),o.opts.unevaluated&&m!==!0?e.assign((0,pn._)`${m}[${_}]`,!0):!x&&!o.allErrors&&e.if((0,pn.not)(d),()=>e.break())})})}}};ia.default=zh});var cd=C(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});var $h=L(),Eh={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:i}=t;if((0,$h.alwaysValidSchema)(i,r)){t.fail();return}let n=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.failResult(n,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};na.default=Eh});var dd=C(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});var Th=ke(),Ph={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Th.validateUnion,error:{message:"must match a schema in anyOf"}};oa.default=Ph});var ud=C(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});var mn=V(),Fh=L(),Ih={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,mn._)`{passingSchemas: ${t.passing}}`},Oh={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ih,code(t){let{gen:e,schema:r,parentSchema:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;let o=r,a=e.let("valid",!1),s=e.let("passing",null),c=e.name("_valid");t.setParams({passing:s}),e.block(u),t.result(a,()=>t.reset(),()=>t.error(!0));function u(){o.forEach((d,m)=>{let S;(0,Fh.alwaysValidSchema)(n,d)?e.var(c,!0):S=t.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},c),m>0&&e.if((0,mn._)`${c} && ${a}`).assign(a,!1).assign(s,(0,mn._)`[${s}, ${m}]`).else(),e.if(c,()=>{e.assign(a,!0),e.assign(s,m),S&&t.mergeEvaluated(S,mn.Name)})})}}};aa.default=Oh});var fd=C(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});var Nh=L(),Vh={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let n=e.name("valid");r.forEach((o,a)=>{if((0,Nh.alwaysValidSchema)(i,o))return;let s=t.subschema({keyword:"allOf",schemaProp:a},n);t.ok(n),t.mergeEvaluated(s)})}};sa.default=Vh});var hd=C(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});var hn=V(),md=L(),kh={message:({params:t})=>(0,hn.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,hn._)`{failingKeyword: ${t.ifClause}}`},Dh={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:kh,code(t){let{gen:e,parentSchema:r,it:i}=t;r.then===void 0&&r.else===void 0&&(0,md.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let n=pd(i,"then"),o=pd(i,"else");if(!n&&!o)return;let a=e.let("valid",!0),s=e.name("_valid");if(c(),t.reset(),n&&o){let d=e.let("ifClause");t.setParams({ifClause:d}),e.if(s,u("then",d),u("else",d))}else n?e.if(s,u("then")):e.if((0,hn.not)(s),u("else"));t.pass(a,()=>t.error(!0));function c(){let d=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);t.mergeEvaluated(d)}function u(d,m){return()=>{let S=t.subschema({keyword:d},s);e.assign(a,s),t.mergeValidEvaluated(S,a),m?e.assign(m,(0,hn._)`${d}`):t.setParams({ifClause:d})}}}};function pd(t,e){let r=t.schema[e];return r!==void 0&&!(0,md.alwaysValidSchema)(t,r)}la.default=Dh});var gd=C(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});var Mh=L(),Rh={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Mh.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};ca.default=Rh});var yd=C(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});var jh=Bo(),Ah=Kc(),Wh=Ko(),qh=Jc(),Lh=Xc(),Uh=Yc(),Hh=td(),Bh=ea(),Kh=nd(),Gh=ld(),Jh=cd(),Xh=dd(),Qh=ud(),Zh=fd(),Yh=hd(),e0=gd();function t0(t=!1){let e=[Jh.default,Xh.default,Qh.default,Zh.default,Yh.default,e0.default,Hh.default,Bh.default,Uh.default,Kh.default,Gh.default];return t?e.push(Ah.default,qh.default):e.push(jh.default,Wh.default),e.push(Lh.default),e}da.default=t0});var _d=C(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});var oe=V(),r0={message:({schemaCode:t})=>(0,oe.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,oe._)`{format: ${t}}`},i0={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r0,code(t,e){let{gen:r,data:i,$data:n,schema:o,schemaCode:a,it:s}=t,{opts:c,errSchemaPath:u,schemaEnv:d,self:m}=s;if(!c.validateFormats)return;n?S():h();function S(){let y=r.scopeValue("formats",{ref:m.formats,code:c.code.formats}),p=r.const("fDef",(0,oe._)`${y}[${a}]`),_=r.let("fType"),x=r.let("format");r.if((0,oe._)`typeof ${p} == "object" && !(${p} instanceof RegExp)`,()=>r.assign(_,(0,oe._)`${p}.type || "string"`).assign(x,(0,oe._)`${p}.validate`),()=>r.assign(_,(0,oe._)`"string"`).assign(x,p)),t.fail$data((0,oe.or)(j(),M()));function j(){return c.strictSchema===!1?oe.nil:(0,oe._)`${a} && !${x}`}function M(){let Z=d.$async?(0,oe._)`(${p}.async ? await ${x}(${i}) : ${x}(${i}))`:(0,oe._)`${x}(${i})`,O=(0,oe._)`(typeof ${x} == "function" ? ${Z} : ${x}.test(${i}))`;return(0,oe._)`${x} && ${x} !== true && ${_} === ${e} && !${O}`}}function h(){let y=m.formats[o];if(!y){j();return}if(y===!0)return;let[p,_,x]=M(y);p===e&&t.pass(Z());function j(){if(c.strictSchema===!1){m.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function M(O){let Ue=O instanceof RegExp?(0,oe.regexpCode)(O):c.code.formats?(0,oe._)`${c.code.formats}${(0,oe.getProperty)(o)}`:void 0,lt=r.scopeValue("formats",{key:o,ref:O,code:Ue});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,oe._)`${lt}.validate`]:["string",O,lt]}function Z(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!d.$async)throw new Error("async format in sync schema");return(0,oe._)`await ${x}(${i})`}return typeof _=="function"?(0,oe._)`${x}(${i})`:(0,oe._)`${x}.test(${i})`}}}};ua.default=i0});var vd=C(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});var n0=_d(),o0=[n0.default];fa.default=o0});var Sd=C(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.contentVocabulary=fr.metadataVocabulary=void 0;fr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];fr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var wd=C(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var a0=Pc(),s0=Lc(),l0=yd(),c0=vd(),bd=Sd(),d0=[a0.default,s0.default,(0,l0.default)(),c0.default,bd.metadataVocabulary,bd.contentVocabulary];pa.default=d0});var xd=C(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.DiscrError=void 0;var Cd=function(t){return t.Tag="tag",t.Mapping="mapping",t}(Cd||(gn.DiscrError=Cd={}))});var $d=C(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});var pr=V(),ma=xd(),zd=Qi(),u0=Ar(),f0=L(),p0={message:({params:{discrError:t,tagName:e}})=>t===ma.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,pr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},m0={keyword:"discriminator",type:"object",schemaType:"object",error:p0,code(t){let{gen:e,data:r,schema:i,parentSchema:n,it:o}=t,{oneOf:a}=n;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let s=i.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),u=e.const("tag",(0,pr._)`${r}${(0,pr.getProperty)(s)}`);e.if((0,pr._)`typeof ${u} == "string"`,()=>d(),()=>t.error(!1,{discrError:ma.DiscrError.Tag,tag:u,tagName:s})),t.ok(c);function d(){let h=S();e.if(!1);for(let y in h)e.elseIf((0,pr._)`${u} === ${y}`),e.assign(c,m(h[y]));e.else(),t.error(!1,{discrError:ma.DiscrError.Mapping,tag:u,tagName:s}),e.endIf()}function m(h){let y=e.name("valid"),p=t.subschema({keyword:"oneOf",schemaProp:h},y);return t.mergeEvaluated(p,pr.Name),y}function S(){var h;let y={},p=x(n),_=!0;for(let Z=0;Z<a.length;Z++){let O=a[Z];if(O?.$ref&&!(0,f0.schemaHasRulesButRef)(O,o.self.RULES)){let lt=O.$ref;if(O=zd.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,lt),O instanceof zd.SchemaEnv&&(O=O.schema),O===void 0)throw new u0.default(o.opts.uriResolver,o.baseId,lt)}let Ue=(h=O?.properties)===null||h===void 0?void 0:h[s];if(typeof Ue!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);_=_&&(p||x(O)),j(Ue,Z)}if(!_)throw new Error(`discriminator: "${s}" must be required`);return y;function x({required:Z}){return Array.isArray(Z)&&Z.includes(s)}function j(Z,O){if(Z.const)M(Z.const,O);else if(Z.enum)for(let Ue of Z.enum)M(Ue,O);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function M(Z,O){if(typeof Z!="string"||Z in y)throw new Error(`discriminator: "${s}" values must be unique strings`);y[Z]=O}}}};ha.default=m0});var Ed=C((Lv,h0)=>{h0.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var ya=C((te,ga)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.MissingRefError=te.ValidationError=te.CodeGen=te.Name=te.nil=te.stringify=te.str=te._=te.KeywordCxt=te.Ajv=void 0;var g0=Cc(),y0=wd(),_0=$d(),Td=Ed(),v0=["/properties"],yn="http://json-schema.org/draft-07/schema",mr=class extends g0.default{_addVocabularies(){super._addVocabularies(),y0.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(_0.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Td,v0):Td;this.addMetaSchema(e,yn,!1),this.refs["http://json-schema.org/schema"]=yn}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(yn)?yn:void 0)}};te.Ajv=mr;ga.exports=te=mr;ga.exports.Ajv=mr;Object.defineProperty(te,"__esModule",{value:!0});te.default=mr;var S0=jr();Object.defineProperty(te,"KeywordCxt",{enumerable:!0,get:function(){return S0.KeywordCxt}});var hr=V();Object.defineProperty(te,"_",{enumerable:!0,get:function(){return hr._}});Object.defineProperty(te,"str",{enumerable:!0,get:function(){return hr.str}});Object.defineProperty(te,"stringify",{enumerable:!0,get:function(){return hr.stringify}});Object.defineProperty(te,"nil",{enumerable:!0,get:function(){return hr.nil}});Object.defineProperty(te,"Name",{enumerable:!0,get:function(){return hr.Name}});Object.defineProperty(te,"CodeGen",{enumerable:!0,get:function(){return hr.CodeGen}});var b0=Ji();Object.defineProperty(te,"ValidationError",{enumerable:!0,get:function(){return b0.default}});var w0=Ar();Object.defineProperty(te,"MissingRefError",{enumerable:!0,get:function(){return w0.default}})});var Dd=C(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.formatNames=ot.fastFormats=ot.fullFormats=void 0;function nt(t,e){return{validate:t,compare:e}}ot.fullFormats={date:nt(Od,ba),time:nt(va(!0),wa),"date-time":nt(Pd(!0),Vd),"iso-time":nt(va(),Nd),"iso-date-time":nt(Pd(),kd),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:T0,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:k0,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:P0,int32:{type:"number",validate:O0},int64:{type:"number",validate:N0},float:{type:"number",validate:Id},double:{type:"number",validate:Id},password:!0,binary:!0};ot.fastFormats=X(z({},ot.fullFormats),{date:nt(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,ba),time:nt(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,wa),"date-time":nt(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Vd),"iso-time":nt(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Nd),"iso-date-time":nt(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,kd),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});ot.formatNames=Object.keys(ot.fullFormats);function C0(t){return t%4===0&&(t%100!==0||t%400===0)}var x0=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,z0=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Od(t){let e=x0.exec(t);if(!e)return!1;let r=+e[1],i=+e[2],n=+e[3];return i>=1&&i<=12&&n>=1&&n<=(i===2&&C0(r)?29:z0[i])}function ba(t,e){if(t&&e)return t>e?1:t<e?-1:0}var _a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function va(t){return function(r){let i=_a.exec(r);if(!i)return!1;let n=+i[1],o=+i[2],a=+i[3],s=i[4],c=i[5]==="-"?-1:1,u=+(i[6]||0),d=+(i[7]||0);if(u>23||d>59||t&&!s)return!1;if(n<=23&&o<=59&&a<60)return!0;let m=o-d*c,S=n-u*c-(m<0?1:0);return(S===23||S===-1)&&(m===59||m===-1)&&a<61}}function wa(t,e){if(!(t&&e))return;let r=new Date("2020-01-01T"+t).valueOf(),i=new Date("2020-01-01T"+e).valueOf();if(r&&i)return r-i}function Nd(t,e){if(!(t&&e))return;let r=_a.exec(t),i=_a.exec(e);if(r&&i)return t=r[1]+r[2]+r[3],e=i[1]+i[2]+i[3],t>e?1:t<e?-1:0}var Sa=/t|\s/i;function Pd(t){let e=va(t);return function(i){let n=i.split(Sa);return n.length===2&&Od(n[0])&&e(n[1])}}function Vd(t,e){if(!(t&&e))return;let r=new Date(t).valueOf(),i=new Date(e).valueOf();if(r&&i)return r-i}function kd(t,e){if(!(t&&e))return;let[r,i]=t.split(Sa),[n,o]=e.split(Sa),a=ba(r,n);if(a!==void 0)return a||wa(i,o)}var $0=/\/|:/,E0=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function T0(t){return $0.test(t)&&E0.test(t)}var Fd=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function P0(t){return Fd.lastIndex=0,Fd.test(t)}var F0=-(2**31),I0=2**31-1;function O0(t){return Number.isInteger(t)&&t<=I0&&t>=F0}function N0(t){return Number.isInteger(t)}function Id(){return!0}var V0=/[^\\]\\Z/;function k0(t){if(V0.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var Md=C(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.formatLimitDefinition=void 0;var D0=ya(),qe=V(),Pt=qe.operators,_n={formatMaximum:{okStr:"<=",ok:Pt.LTE,fail:Pt.GT},formatMinimum:{okStr:">=",ok:Pt.GTE,fail:Pt.LT},formatExclusiveMaximum:{okStr:"<",ok:Pt.LT,fail:Pt.GTE},formatExclusiveMinimum:{okStr:">",ok:Pt.GT,fail:Pt.LTE}},M0={message:({keyword:t,schemaCode:e})=>(0,qe.str)`should be ${_n[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,qe._)`{comparison: ${_n[t].okStr}, limit: ${e}}`};gr.formatLimitDefinition={keyword:Object.keys(_n),type:"string",schemaType:"string",$data:!0,error:M0,code(t){let{gen:e,data:r,schemaCode:i,keyword:n,it:o}=t,{opts:a,self:s}=o;if(!a.validateFormats)return;let c=new D0.KeywordCxt(o,s.RULES.all.format.definition,"format");c.$data?u():d();function u(){let S=e.scopeValue("formats",{ref:s.formats,code:a.code.formats}),h=e.const("fmt",(0,qe._)`${S}[${c.schemaCode}]`);t.fail$data((0,qe.or)((0,qe._)`typeof ${h} != "object"`,(0,qe._)`${h} instanceof RegExp`,(0,qe._)`typeof ${h}.compare != "function"`,m(h)))}function d(){let S=c.schema,h=s.formats[S];if(!h||h===!0)return;if(typeof h!="object"||h instanceof RegExp||typeof h.compare!="function")throw new Error(`"${n}": format "${S}" does not define "compare" function`);let y=e.scopeValue("formats",{key:S,ref:h,code:a.code.formats?(0,qe._)`${a.code.formats}${(0,qe.getProperty)(S)}`:void 0});t.fail$data(m(y))}function m(S){return(0,qe._)`${S}.compare(${r}, ${i}) ${_n[n].fail} 0`}},dependencies:["format"]};var R0=t=>(t.addKeyword(gr.formatLimitDefinition),t);gr.default=R0});var Wd=C((ei,Ad)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var yr=Dd(),j0=Md(),Ca=V(),Rd=new Ca.Name("fullFormats"),A0=new Ca.Name("fastFormats"),xa=(t,e={keywords:!0})=>{if(Array.isArray(e))return jd(t,e,yr.fullFormats,Rd),t;let[r,i]=e.mode==="fast"?[yr.fastFormats,A0]:[yr.fullFormats,Rd],n=e.formats||yr.formatNames;return jd(t,n,r,i),e.keywords&&(0,j0.default)(t),t};xa.get=(t,e="full")=>{let i=(e==="fast"?yr.fastFormats:yr.fullFormats)[t];if(!i)throw new Error(`Unknown format "${t}"`);return i};function jd(t,e,r,i){var n,o;(n=(o=t.opts.code).formats)!==null&&n!==void 0||(o.formats=(0,Ca._)`require("ajv-formats/dist/formats").${i}`);for(let a of e)t.addFormat(a,r[a])}Ad.exports=ei=xa;Object.defineProperty(ei,"__esModule",{value:!0});ei.default=xa});var Gd={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ingoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function Qt(t){return t.merge("sf",Gd)}var ce="/";function In(t){return t==null}function he(t,e){return t==null?e:`${t}`!="false"}function Zt(t,...e){}function Jd(t,e){let r=/^#\/definitions\/(.*)$/.exec(t);if(r&&r[1]){let i=r[1].split(ce),n=e;for(let o of i)if(o=o.replace(/~1/g,ce).replace(/~0/g,"~"),Object.prototype.hasOwnProperty.call(n,o))n=n[o];else throw new Error(`Could not find a definition for ${t}.`);return n}throw new Error(`Could not find a definition for ${t}.`)}function Tr(t,e={}){if(Object.prototype.hasOwnProperty.call(t,"$ref")){let i=Jd(t.$ref,e),r=t,{$ref:n}=r,o=Fa(r,["$ref"]);return Tr(z(z({},i),o),e)}return t}function Hs(t,e){let r=(i,n)=>{Xd(i,n),Object.keys(i.properties).forEach(o=>{let a=i.properties[o],s=`$${o}`;a.items&&r(a.items,n[s].$items),a.properties&&r(a,n[s])})};r(t,e)}function Xd(t,e){if(!(Object.prototype.hasOwnProperty.call(t,"if")&&Object.prototype.hasOwnProperty.call(t,"then")))return null;if(!t.if.properties)throw new Error("if: does not contain 'properties'");let r=Object.keys(t.properties),i=Object.keys(t.if.properties);Fn(r,i),Fn(r,t.then.required),t.required=t.required.concat(t.then.required);let n=Object.prototype.hasOwnProperty.call(t,"else");n&&(Fn(r,t.else.required),t.required=t.required.concat(t.else.required));let o={},a={};return i.forEach(s=>{let c=t.if.properties[s].enum;o[s]=c,n&&(a[s]=u=>!c.includes(u))}),t.then.required.forEach(s=>e[`$${s}`].visibleIf=o),n&&t.else.required.forEach(s=>e[`$${s}`].visibleIf=a),t}function Fn(t,e){e.forEach(r=>{if(!t.includes(r))throw new Error(`if: properties does not contain '${r}'`)})}function Bs(t,e){if(!Array.isArray(e))return t;let r=d=>d.reduce((m,S)=>(m[S]=!0,m),{}),i=d=>`property [${d.join("', '")}]`,n=r(t),o=r(e),a=e.filter(d=>d!=="*"&&!n[d]);if(a.length)throw new Error(`ui schema order list contains extraneous ${i(a)}`);let s=t.filter(d=>!o[d]),c=e.indexOf("*");if(c===-1){if(s.length)throw new Error(`ui schema order list does not contain ${i(s)}`);return e}if(c!==e.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let u=[...e];return u.splice(c,1,...s),u}function Qd(t,e,r){return In(t)||!Array.isArray(t)||t.length===0?[]:(typeof t[0]!="object"&&(t=t.map(i=>({label:i,value:i}))),e&&(Array.isArray(e)||(e=[e]),t.forEach(i=>{~e.indexOf(i.value)&&(i.checked=!0)})),r&&t.forEach(i=>i.disabled=!0),t)}function Us(t,e,r){return Qd(It(t||[]),e,r)}function Yt(t,e,r,i){return typeof e.asyncData=="function"?e.asyncData(i).pipe(Bt(n=>Us(n,r,t.readOnly))):Na(Us(t.enum,r,t.readOnly))}var Pr=class{constructor(e,r,i,n,o,a,s,c){this.injector=e;this._options=c;this.schema=i,this.ui=n,this.schemaValidator=r.createValidatorFn(i,{ingoreKeywords:this.ui.ingoreKeywords,debug:n.debug}),this.formData=o||i.default,this._parent=a,a?this._root=a.root:this._root=this,this.path=s}_errors=null;_valueChanges=new Ht({path:null,pathValue:null,value:null});_errorsChanges=new Ht(null);_visible=!0;_visibilityChanges=new Ht(!0);_root;_parent;_objErrors={};schemaValidator;schema;ui;formData;_value=null;widget;path;propertyId;get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(e=!1){this.widget?.detectChanges(e)}updateValueAndValidity(e){e=z({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updatePath:"",updateValue:null},e),this._updateValue(),e.emitValueEvent&&(e.updatePath=e.updatePath||this.path,e.updateValue=e.updateValue==null?this.value:e.updateValue,this.valueChanges.next({value:this.value,path:e.updatePath,pathValue:e.updateValue})),e.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!e.onlySelf&&this.parent.updateValueAndValidity(X(z({},e),{emitValidator:!1}))}searchProperty(e){let r=this,i=null,n=null;if(e[0]===ce)i=this.findRoot(),n=i.getProperty(e.substring(1));else for(;n===null&&r.parent!==null;)r=i=r.parent,n=i.getProperty(e);return n}findRoot(){let e=this;for(;e.parent!==null;)e=e.parent;return e}isEmptyData(e){if(In(e))return!0;switch(this.type){case"string":return`${e}`.length===0}return!1}_runValidation(){let e,r=this.isEmptyData(this._value);r&&this.ui._required?e=[{keyword:"required"}]:r?e=[]:e=this.schemaValidator(this._value)||[];let i=this.ui.validator;if(typeof i=="function"){let n=i(this.value,this,this.findRoot());if(n instanceof Oa){n.subscribe(o=>{this.setCustomErrors(e,o),this.cd(!1)});return}this.setCustomErrors(e,n);return}this._errors=e,this.setErrors(this._errors)}setCustomErrors(e,r){let i=Array.isArray(r)&&r.length>0;i&&r.forEach(n=>{if(!n.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");n.keyword=null}),this._errors=i?e.concat(...r):e,this.setErrors(this._errors)}setErrors(e=[],r=!0){let i=Array.isArray(e)?e:[e];if(r&&i&&!this.ui.onlyVisual){let n=this.widget&&this.widget.l.error||{};i=i.map(o=>{let a=o.keyword==null&&o.message?o.message:(this.ui.errors||{})[o.keyword]||this._options.errors[o.keyword]||n[o.keyword]||"";return a&&typeof a=="function"&&(a=a(o)),a&&(~a.indexOf("{")&&o.params&&(a=a.replace(/{([.a-zA-Z0-9]+)}/g,(s,c)=>o.params[c]||"")),o.message=a),o})}this._errors=i,this._errorsChanges.next(i),this._parent&&this._parent.setParentAndPlatErrors(i,this.path)}setParentAndPlatErrors(e,r){this._objErrors[r]=e;let i=[];Object.keys(this._objErrors).forEach(n=>{let o=this.searchProperty(n);o&&!o.visible||i.push(...this._objErrors[n])}),this.setErrors(i,!1)}setVisible(e){return this._visible=e,this._visibilityChanges.next(e),e&&this.injector.get(vt).onStable.pipe(Ma(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let e=this.ui.visibleIf;if(typeof e=="object"&&Object.keys(e).length===0)this.setVisible(!1);else if(e!=null){let r=[];for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)){let n=this.searchProperty(i);if(n){let o=n.valueChanges.pipe(Bt(c=>{let u=e[i];if(typeof u=="function"){let d=u(c.value,n);if(typeof d=="object"){let m=z({show:!1,required:!1},d),S=this.parent?.schema.required;if(S&&this.propertyId){let h=S.findIndex(y=>y===this.propertyId);m.required?h===-1&&S.push(this.propertyId):h!==-1&&S.splice(h,1),this.ui._required=m.required}return m.show}return d}return u.indexOf("$ANY$")!==-1?c.value&&c.value.length>0:u.indexOf(c.value)!==-1})),a=n._visibilityChanges,s=zn([o,a]).pipe(Bt(c=>c[0]&&c[1]));r.push(s)}}zn(r).pipe(Bt(i=>this.ui.visibleIfLogical==="and"?i.every(n=>n):i.some(n=>n)),mi()).subscribe(i=>this.setVisible(i))}}updateFeedback(e=""){this.ui.feedback=e,this.widget?.injector.get(Jt).formStatusChanges.next({status:e,hasFeedback:!!e}),this.cd(!0)}},Ye=class t extends Pr{properties=null;getProperty(e){let r=e.indexOf(ce),i=r!==-1?e.substring(0,r):e,n=this.properties[i];if(n!==null&&r!==-1&&n instanceof t){let o=e.substring(r+1);n=n.getProperty(o)}return n}forEachChild(e){for(let r in this.properties)if(Object.prototype.hasOwnProperty.call(this.properties,r)){let i=this.properties[r];e(i,r)}}forEachChildRecursive(e){this.forEachChild(r=>{e(r),r instanceof t&&r.forEachChildRecursive(e)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(e=>{e._bindVisibility()})}isRoot(){return this===this.root}};var er=class extends Ye{constructor(r,i,n,o,a,s,c,u,d){super(r,n,o,a,s,c,u,d);this.formPropertyFactory=i;this.createProperties()}_propertiesId=[];get propertiesId(){return this._propertiesId}createProperties(){this.properties={},this._propertiesId=[];let r;try{r=Bs(Object.keys(this.schema.properties),this.ui.order)}catch(i){console.error(`Invalid ${this.schema.title||"root"} object field configuration:`,i)}r.forEach(i=>{this.properties[i]=this.formPropertyFactory.createProperty(this.schema.properties[i],this.ui[`$${i}`],(this.formData||{})[i],this,i),this._propertiesId.push(i)})}setValue(r,i){let n=this.properties;for(let o in r)Object.prototype.hasOwnProperty.call(r,o)&&n[o]&&n[o].setValue(r[o],!0);this.cd(i),this.updateValueAndValidity({onlySelf:i,emitValueEvent:!0})}resetValue(r,i){r=r||this.schema.default||{};let n=this.properties;for(let o in this.schema.properties)Object.prototype.hasOwnProperty.call(this.schema.properties,o)&&n[o].resetValue(r[o],!0);this.cd(i),this.updateValueAndValidity({onlySelf:i,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let r={};this.forEachChild((i,n)=>{i.visible&&i._hasValue()&&(r[n]=i.value)}),this._value=r}};var tr=class extends Ye{constructor(r,i,n,o,a,s,c,u,d){super(r,n,o,a,s,c,u,d);this.formPropertyFactory=i;this.properties=[]}getProperty(r){let i=r.indexOf(ce),n=+(i!==-1?r.substring(0,i):r),o=this.properties;if(isNaN(n)||n>=o.length)return;let a=r.substring(i+1);return o[n].getProperty(a)}setValue(r,i){this.properties=[],this.clearErrors(),this.resetProperties(r),this.cd(i),this.updateValueAndValidity({onlySelf:i,emitValueEvent:!0})}resetValue(r,i){this._value=r||this.schema.default||[],this.setValue(this._value,i)}_hasValue(){return!0}_updateValue(){let r=[];this.forEachChild(i=>{i.visible&&r.push(z(z({},this.widget?.cleanValue?null:i.formData),i.value))}),this._value=r}addProperty(r){let i=this.formPropertyFactory.createProperty(It(this.schema.items),It(this.ui.$items),r,this);return this.properties.push(i),i}resetProperties(r){for(let i of r)this.addProperty(i).resetValue(i,!0)}clearErrors(r){(r||this)._objErrors={}}add(r){let i=this.addProperty(r);return i.resetValue(r,!1),i}remove(r){let i=this.properties;this.clearErrors(),i.splice(r,1),i.forEach((n,o)=>{n.path=[n.parent.path,o].join(ce),this.clearErrors(n),n instanceof er&&n.forEachChild(a=>{a.updateValueAndValidity({emitValueEvent:!1})})}),i.length===0&&this.updateValueAndValidity()}};var bt=class extends Pr{setValue(e,r){this._value=e,this.cd(r),this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0})}resetValue(e,r){e==null&&(e=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=e,this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0}),this.widget&&(this.widget.reset(e),this.cd(r))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}};var Oi=class extends bt{fallbackValue(){return null}};var Ni=class extends bt{fallbackValue(){return null}setValue(e,r){typeof e=="string"&&(e.length?e=e.indexOf(".")>-1?parseFloat(e):parseInt(e,10):e=void 0),this._value=e,this.cd(r),this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0})}};var Vi=class extends bt{fallbackValue(){return null}setValue(e,r){this._value=e??"",this.cd(r),this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0})}};var rr=class{constructor(e,r,i){this.injector=e;this.schemaValidatorFactory=r;this.options=Qt(i)}options;createProperty(e,r,i,n=null,o){let a=null,s="";if(n)switch(s+=n.path,n.parent!==null&&(s+=ce),n.type){case"object":s+=o;break;case"array":s+=n.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${n.type}`)}else s=ce;if(e.$ref){let c=Tr(e,n.root.schema.definitions);a=this.createProperty(c,r,i,n,s)}else switch((o&&n.schema.required.indexOf(o.split(ce).pop())!==-1||r.showRequired===!0)&&(r._required=!0),e.title==null&&(e.title=o),(e.type==="string"||e.type==="number")&&!e.format&&!r.format?r.widget==="date"?r._format=e.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:r.widget==="time"&&(r._format=e.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):r._format=r.format,e.type){case"integer":case"number":a=new Ni(this.injector,this.schemaValidatorFactory,e,r,i,n,s,this.options);break;case"string":a=new Vi(this.injector,this.schemaValidatorFactory,e,r,i,n,s,this.options);break;case"boolean":a=new Oi(this.injector,this.schemaValidatorFactory,e,r,i,n,s,this.options);break;case"object":a=new er(this.injector,this,this.schemaValidatorFactory,e,r,i,n,s,this.options);break;case"array":a=new tr(this.injector,this,this.schemaValidatorFactory,e,r,i,n,s,this.options);break;default:throw new TypeError(`Undefined type ${e.type}`)}return a.propertyId=o,a instanceof Ye&&this.initializeRoot(a),a}initializeRoot(e){e._bindVisibility()}};var Ot=class{onDestroy;constructor(){this.onDestroy=new Ut}destroy(){this.onDestroy.next(!0)}};var qd=Ia(ya()),Ld=Ia(Wd());var gt=class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$r({token:t,factory:t.\u0275fac})},_r=class t extends gt{ngZone=W(vt);cogSrv=W(dt);ajv;options;constructor(){if(super(),!(typeof document=="object"&&document))return;this.options=Qt(this.cogSrv);let e=this.options.ajv||{};this.ngZone.runOutsideAngular(()=>{this.ajv=new qd.default(X(z({allErrors:!0,loopEnum:50},e),{formats:z({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:Pi.color,mobile:Pi.mobile,"id-card":Pi.idCard},e.formats)})),(0,Ld.default)(this.ajv)})}createValidatorFn(e,r){let i=[...this.options.ingoreKeywords,...r.ingoreKeywords||[]];return n=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(e,n))}catch{}let o=this.ajv.errors;return this.options&&i&&o&&(o=o.filter(a=>i.indexOf(a.keyword)===-1)),o}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$r({token:t,factory:t.\u0275fac})};var at=class{_widgets={};defaultWidget;get widgets(){return this._widgets}setDefault(e){this.defaultWidget=e}register(e,r){this._widgets[e]=r}has(e){return Object.prototype.hasOwnProperty.call(this._widgets,e)}getType(e){return this.has(e)?this._widgets[e]:this.defaultWidget}},vr=class t{registry=W(at);createWidget(e,r){this.registry.has(r);let i=this.registry.getType(r);return e.createComponent(i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$r({token:t,factory:t.\u0275fac})};var W0=["target"];function q0(t,e){}function L0(t,e){t&1&&Ba(0)}var U0=0,Le=class t{widgetFactory=W(vr);terminator=W(Ot);ref;destroy$=new Ut;widget=null;formProperty;footer=null;container;onWidgetInstanciated(e){this.widget=e;let r=`_sf-${U0++}`,i=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=i,this.widget.id=r,this.formProperty.widget=e}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let e=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,e.ui.widget||e.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:e}=this;e.next(),e.complete(),this.ref.destroy()}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=H({type:t,selectors:[["sf-item"]],viewQuery:function(r,i){if(r&1&&Ka(W0,7,La),r&2){let n;Ga(n=Ja())&&(i.container=n.first)}},hostVars:2,hostBindings:function(r,i){r&2&&se("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],standalone:!1,features:[bi([Jt]),_t],decls:6,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(r,i){r&1&&(l(0,`
    `),Y(1,q0,0,0,"ng-template",null,0,Ce),l(3,`
    `),Y(4,L0,1,0,"ng-container",1),l(5,`
  `)),r&2&&(f(4),v("ngTemplateOutlet",i.footer))},dependencies:[xe],encapsulation:2})};var Wt=class t{el=W(yi).nativeElement;render=W(qa);_inited=!1;num;init(){if(!this._inited||this.num==null||this.num<=0)return;let e=this.el,r=e.querySelector(".ant-row")||e;this.render.addClass(r,"sf__fixed");let i=r.querySelector(".ant-form-item-label"),n=r.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),o=`${this.num}px`;i?(this.render.setStyle(i,"flex",`0 0 ${o}`),this.render.setStyle(n,"max-width",`calc(100% - ${o})`)):this.render.setStyle(n,"margin-left",o)}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ct({type:t,selectors:[["","fixed-label",""]],inputs:{num:[2,"fixed-label","num",e=>Qa(e,0)]},standalone:!1,features:[_t]})};var K0=["*"];function G0(t,e){t&1&&(l(0,`
  `),vi(1),l(2,`
`))}function J0(t,e){if(t&1&&(l(0,`
                    `),B(1,"nz-icon",8),l(2,`
                  `)),t&2){let r=g(5);f(),v("nzType",r._btn.submit_icon.type)("nzTheme",r._btn.submit_icon.theme)("nzTwotoneColor",r._btn.submit_icon.twoToneColor)("nzIconfont",r._btn.submit_icon.iconfont)}}function X0(t,e){if(t&1&&(l(0,`
                      `),B(1,"nz-icon",8),l(2,`
                    `)),t&2){g();let r=Er(3);f(),v("nzType",r.type)("nzTheme",r.theme)("nzTwotoneColor",r.twoToneColor)("nzIconfont",r.iconfont)}}function Q0(t,e){if(t&1){let r=re();l(0,`
                  `),b(1,"button",9),U("click",function(){F(r);let n=g(5);return I(n.reset(!0))}),l(2,`
                    `),$n(3),l(4,`
                    `),E(5,X0,3,4),l(6),w(),l(7,`
                `)}if(t&2){g(3);let r=Er(1),i=g(2);f(),v("nzType",i._btn.reset_type)("nzSize",r.size)("disabled",i.loading),f(2);let n=En(i._btn.reset_icon);f(2),T(n?5:-1),f(),le(`
                    `,i._btn.reset,`
                  `)}}function Z0(t,e){if(t&1&&(l(0,`
                `),b(1,"button",7),l(2,`
                  `),E(3,J0,3,4),l(4),w(),l(5,`
                `),E(6,Q0,8,6)),t&2){g(2);let r=Er(1),i=g(2);f(),v("nzType",i._btn.submit_type)("nzSize",r.size)("nzLoading",i.loading)("disabled",i.liveValidate&&!i.valid),f(2),T(i._btn.submit_icon?3:-1),f(),le(`
                  `,i._btn.submit,`
                `),f(2),T(i._btn.reset?6:-1)}}function Y0(t,e){}function eg(t,e){if(t&1&&(l(0,`
                `),Y(1,Y0,0,0,"ng-template",10),l(2,`
              `)),t&2){g(4);let r=fe(1);f(),v("ngTemplateOutlet",r)}}function tg(t,e){if(t&1&&(l(0,`
      `),b(1,"nz-form-item",3),l(2,`
        `),b(3,"div",4),l(4,`
          `),b(5,"div",5),l(6,`
            `),b(7,"div",6),l(8,`
              `),E(9,Z0,7,7)(10,eg,3,1),w(),l(11,`
          `),w(),l(12,`
        `),w(),l(13,`
      `),w(),l(14,`
    `)),t&2){g();let r=Er(1),i=g(2);f(),Be(r.class),v("fixed-label",r.spanLabelFixed),f(2),v("nzSpan",i.btnGrid.span)("nzOffset",i.btnGrid.offset)("nzXs",i.btnGrid.xs)("nzSm",i.btnGrid.sm)("nzMd",i.btnGrid.md)("nzLg",i.btnGrid.lg)("nzXl",i.btnGrid.xl)("nzXXl",i.btnGrid.xxl),f(6),T(i.button?9:10)}}function rg(t,e){if(t&1&&(l(0,`
    `),$n(1),l(2,`
    `),E(3,tg,15,12)),t&2){f();let r=En(g(2)._btn.render);f(2),T(r?3:-1)}}function ig(t,e){}function ng(t,e){if(t&1&&(l(0,`
    `),Y(1,ig,0,0,"ng-template",10),l(2,`
  `)),t&2){g(2);let r=fe(1);f(),v("ngTemplateOutlet",r)}}function og(t,e){if(t&1&&(l(0,`
  `),E(1,rg,4,2)(2,ng,3,1)),t&2){let r=g();f(),T(r.button!=="none"?1:2)}}function ag(t,e){if(t&1&&(l(0,`
    `),B(1,"sf-item",11),l(2,`
  `)),t&2){let r=g(),i=fe(4);f(),v("formProperty",r.rootProperty)("footer",i)}}function sg(t,e,r){return new rr(t,e,r)}var qt=class t{formPropertyFactory=W(rr);terminator=W(Ot);dom=W(Ci);cdr=W(wi);localeSrv=W(as);aclSrv=W(Ya);i18nSrv=W(es);platform=W(ts);cogSrv=W(dt);_renders=new Map;_item;_valid=!0;_defUi;options;_inited=!1;locale={};rootProperty=null;_formData;_btn;_schema;_ui;get btnGrid(){return this._btn.render.grid}layout="horizontal";schema;ui;formData;button={};liveValidate=!0;autocomplete;firstVisual=!0;onlyVisual=!1;compact=!1;set mode(e){switch(e){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=e}get mode(){return this._mode}_mode;loading=!1;disabled=!1;noColon=!1;cleanValue=!1;delay=!1;formValueChange=new Kt;formChange=new Kt;formSubmit=new Kt;formReset=new Kt;formError=new Kt;get valid(){return this._valid}get value(){return this._item}getProperty(e){return this.rootProperty?.searchProperty(e)}getValue(e){return this.getProperty(e)?.value}setValue(e,r){let i=this.getProperty(e);if(!i)throw new Error(`Invalid path: ${e}`);return i.resetValue(r,!1),this}setDisabled(e,r){let i=this.getProperty(e);if(!i)throw new Error(`Invalid path: ${e}`);return i.schema.readOnly=r,i.widget.detectChanges(),this}setRequired(e,r){let i=this.getProperty(e);if(!i)throw new Error(`Invalid path: ${e}`);let n=e.split(ce).pop(),o=i.parent?.schema.required||[],a=o.findIndex(s=>s===n);return r?a===-1&&o.push(n):a!==-1&&o.splice(a,1),i.parent.schema.required=o,i.ui._required=r,i.widget.detectChanges(),this.validator({onlyRoot:!1}),this}updateFeedback(e,r=""){return this.getProperty(e)?.updateFeedback(r),this}onSubmit(e){e.preventDefault(),e.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(){this.options=Qt(this.cogSrv),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(Pn()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())}),Va(this.aclSrv.change,this.i18nSrv.change).pipe(ka(()=>this._inited),Pn()).subscribe(()=>this.refreshSchema())}fanyi(e){return this.i18nSrv.fanyi(e)||e}inheritUI(e){["optionalHelp"].filter(r=>!!this._defUi[r]).forEach(r=>e[r]=z(z({},this._defUi[r]),e[r]))}coverProperty(){let e=this.layout==="horizontal",r=It(this.schema),{definitions:i}=r,n=(o,a,s,c,u)=>{Array.isArray(o.required)||(o.required=[]),Object.keys(o.properties).forEach(d=>{let m="$",S=m+d,h=Tr(o.properties[d],i),y=z(z({},h.ui),s[S]),p=z(z(z(z(X(z(z({},this._defUi),c),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:h.type}),h.format&&this.options.formatMap[h.format]),typeof h.ui=="string"?{widget:h.ui}:null),!h.format&&!h.ui&&Array.isArray(h.enum)&&h.enum.length>0?{widget:"select"}:null),y);if(Object.keys(p).filter(_=>_.startsWith(m)).forEach(_=>delete p[_]),e?c.spanLabelFixed?y.spanLabelFixed||(p.spanLabelFixed=c.spanLabelFixed):(p.spanLabel||(p.spanLabel=typeof c.spanLabel>"u"?5:c.spanLabel),p.spanControl||(p.spanControl=typeof c.spanControl>"u"?19:c.spanControl),p.offsetControl||(p.offsetControl=typeof c.offsetControl>"u"?null:c.offsetControl)):(p.spanLabel=null,p.spanControl=null,p.offsetControl=null),this.layout==="inline"&&delete p.grid,this.layout!=="horizontal"&&(p.spanLabelFixed=null),p.spanLabelFixed!=null&&p.spanLabelFixed>0&&(p.spanLabel=null,p.spanControl=null),p.widget==="date"&&p.end!=null){let _=o.properties[p.end];_?_.ui=X(z({},_.ui),{widget:p.widget,hidden:!0}):p.end=null}if(this.inheritUI(p),p.optionalHelp){typeof p.optionalHelp=="string"&&(p.optionalHelp={text:p.optionalHelp});let _=p.optionalHelp=z({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},p.optionalHelp);_.i18n&&(_.text=this.fanyi(_.i18n)),_.text||(p.optionalHelp=void 0)}if(p.i18n&&(h.title=this.fanyi(p.i18n)),p.descriptionI18n&&(h.description=this.fanyi(p.descriptionI18n)),h.description&&(p._description=this.dom.bypassSecurityTrustHtml(h.description)),p.hidden=typeof p.hidden=="boolean"?p.hidden:!1,p.hidden===!1&&p.acl&&this.aclSrv&&!this.aclSrv.can(p.acl)&&(p.hidden=!0),u[S]=p,delete h.ui,p.hidden===!0){let _=o.required.indexOf(d);_!==-1&&o.required.splice(_,1)}h.items&&(p.$items=z(z(z({},h.items.ui),s[S]),p.$items),n(h.items,h.items,s[S]?.$items??{},p.$items,p.$items),delete h.items.ui),h.properties&&Object.keys(h.properties).length&&n(h,o,s[S]||{},p,p)})};this.ui==null&&(this.ui={}),this._defUi=z(z(z({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),r.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=z({},this._defUi),n(r,r,this.ui,this.ui,this._ui),Hs(r,this._ui),this._schema=r,delete r.ui,Zt(this._ui,"cover schema & ui",this._ui,r)}coverButtonProperty(){this._btn=z(z(z({render:{size:"default"}},this.locale),this.options.button),this.button);let e=Object.keys(this._ui).find(i=>i.startsWith("$")),r=this._btn.render;if(this.layout==="horizontal"){let i=e?this._ui[e]:this._defUi;r.grid||(r.grid={offset:i.spanLabel,span:i.spanControl}),r.spanLabelFixed==null&&(r.spanLabelFixed=i.spanLabelFixed),!r.class&&typeof i.spanLabelFixed=="number"&&i.spanLabelFixed>0&&(r.class="text-center")}else r.grid={};this._mode&&(this.mode=this._mode),Zt(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(e){if(!this.platform.isBrowser)return;let r=["disabled","loading"];if(Object.keys(e).every(i=>r.includes(i))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(e,r){this._inited&&(this._renders.has(e)||(this._renders.set(e,r),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((e,r)=>{let i=this.rootProperty?.searchProperty(r);i!=null&&(i.ui._render=e)})}validator(e={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let r=n=>{n._runValidation(),!(!(n instanceof Ye)||!n.properties)&&(Array.isArray(n.properties)?n.properties.forEach(o=>r(o)):Object.keys(n.properties).forEach(o=>r(n.properties[o])))};e.onlyRoot?this.rootProperty._runValidation():r(this.rootProperty);let i=this.rootProperty.errors;return this._valid=!(i&&i.length),e.emitError&&!this._valid&&this.formError.emit(i),this.cdr.detectChanges(),this._valid}refreshSchema(e,r){if(!this.platform.isBrowser)return this;if(e&&(this.schema=e),r&&(this.ui=r),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=z({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let i=!0;return this.rootProperty.valueChanges.subscribe(n=>{if(this._item=z(z({},this.cleanValue?null:this.formData),n.value),i){i=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:n.path,pathValue:n.pathValue})}),this.rootProperty.errorsChanges.subscribe(n=>{this._valid=!(n&&n.length),this.formError.emit(n),this.cdr.detectChanges()}),this}reset(e=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),e&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=H({type:t,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(r,i){r&2&&se("sf",!0)("sf__inline",i.layout==="inline")("sf__horizontal",i.layout==="horizontal")("sf__search",i.mode==="search")("sf__edit",i.mode==="edit")("sf__no-error",i.onlyVisual)("sf__no-colon",i.noColon)("sf__compact",i.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:[2,"liveValidate","liveValidate",Xe],autocomplete:"autocomplete",firstVisual:[2,"firstVisual","firstVisual",Xe],onlyVisual:[2,"onlyVisual","onlyVisual",Xe],compact:[2,"compact","compact",Xe],mode:"mode",loading:[2,"loading","loading",Xe],disabled:[2,"disabled","disabled",Xe],noColon:[2,"noColon","noColon",Xe],cleanValue:[2,"cleanValue","cleanValue",Xe],delay:[2,"delay","delay",Xe]},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],standalone:!1,features:[bi([vr,{provide:rr,useFactory:sg,deps:[gi,gt,dt]},Ot]),_t],ngContentSelectors:K0,decls:10,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"submit","nzLayout"],[1,"sf-btns",3,"fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],[3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"click","nzType","nzSize","disabled"],[3,"ngTemplateOutlet"],[3,"formProperty","footer"]],template:function(r,i){if(r&1){let n=re();_i(),Y(0,G0,3,0,"ng-template",null,0,Ce),l(2,`
`),Y(3,og,3,1,"ng-template",null,1,Ce),l(5,`
`),b(6,"form",2),U("submit",function(a){return F(n),I(i.onSubmit(a))}),l(7,`
  `),E(8,ag,3,2),w(),l(9,`
`)}r&2&&(f(6),v("nzLayout",i.layout),Ie("autocomplete",i.autocomplete),f(2),T(i.rootProperty?8:-1))},dependencies:[xe,ds,ls,cs,zi,ze,xi,Ze,Qe,Rs,Xt,Ne,Le,Wt],encapsulation:2,changeDetection:0})};var lg=["*"];function cg(t,e){if(t&1&&(l(0,`
                `),B(1,"nz-icon",6),l(2,`
              `)),t&2){let r=g(4);f(),v("nzTooltipTitle",r.oh.text)("nzTooltipPlacement",r.oh.placement)("nzTooltipTrigger",r.oh.trigger)("nzTooltipColor",r.oh.bgColor)("nzTooltipOverlayClassName",r.oh.overlayClassName)("nzTooltipOverlayStyle",r.oh.overlayStyle)("nzTooltipMouseEnterDelay",r.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",r.oh.mouseLeaveDelay)("nzType",r.oh.icon)}}function dg(t,e){if(t&1&&(l(0,`
            `),b(1,"span",5),l(2),E(3,cg,3,9),w(),l(4,`
          `)),t&2){let r=g(3);f(2),le(`
              `,r.ui.optional,`
              `),f(),T(r.oh?3:-1)}}function ug(t,e){if(t&1&&(l(0,`
        `),b(1,"label"),l(2,`
          `),b(3,"span",4),l(4),w(),l(5,`
          `),E(6,dg,5,2),w(),l(7,`
      `)),t&2){let r=g(2);f(),se("ant-form-item-required",r.ui._required),Ie("for",r.id),f(3),Gt(r.t),f(2),T(r.ui.optional||r.oh?6:-1)}}function fg(t,e){if(t&1&&(l(0,`
    `),b(1,"div",3),l(2,`
      `),E(3,ug,8,5),w(),l(4,`
  `)),t&2){let r=g();f(),v("nzSpan",r.ui.spanLabel),f(2),T(r.t?3:-1)}}function pg(t,e){if(t&1&&(l(0,`
      `),b(1,"div",7),l(2,`
        `),b(3,"div",8),l(4),w(),l(5,`
      `),w(),l(6,`
    `)),t&2){let r=g();f(),v("@helpMotion",void 0),f(3),le(`
          `,r.error,`
        `)}}function mg(t,e){if(t&1&&(l(0,`
      `),B(1,"div",9),l(2,`
    `)),t&2){let r=g();f(),v("innerHTML",r.ui._description,He)}}var ie=class t{statusSrv=W(Jt);_showTitle=!1;id;schema;ui;showError;error;set showTitle(e){this._showTitle=!!e}title=null;get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}ngOnChanges(){let e=!!this.error;this.statusSrv.formStatusChanges.next({status:e?"error":"",hasFeedback:!!this.ui.feedback})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=H({type:t,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},standalone:!1,features:[_t],ngContentSelectors:lg,decls:17,vars:21,consts:[["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["nz-col","",1,"ant-form-item-label",3,"nzSpan"],[1,"sf__label-text"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],["role","alert",1,"ant-form-item-explain-error"],[1,"ant-form-item-extra",3,"innerHTML"]],template:function(r,i){r&1&&(_i(),b(0,"nz-form-item"),l(1,`
  `),E(2,fg,5,2),b(3,"div",0),l(4,`
    `),b(5,"div",1),l(6,`
      `),b(7,"div",2),l(8,`
        `),vi(9),l(10,`
      `),w(),l(11,`
    `),w(),l(12,`
    `),E(13,pg,7,2),E(14,mg,3,1),w(),l(15,`
`),w(),l(16,`
`)),r&2&&(Si("width",i.ui.width,"px"),se("ant-form-item-has-error",i.showError)("ant-form-item-with-help",i.showError)("ant-form-item-has-success",i.ui.feedback==="success")("ant-form-item-has-warning",i.ui.feedback==="warning")("ant-form-item-has-error",i.ui.feedback==="error")("ant-form-item-is-validating",i.ui.feedback==="validating")("ant-form-item-has-feedback",i.ui.feedback),f(2),T(i._showTitle?2:-1),f(),v("nzSpan",i.ui.spanControl)("nzOffset",i.ui.offsetControl),f(10),T(!i.ui.onlyVisual&&i.showError?13:-1),f(),T(i.schema.description?14:-1))},dependencies:[ze,Ze,Qe,Xt,Ne,St],encapsulation:2,data:{animation:[os]}})};var Ea=class t{table=W(qt);templateRef=W(Wa);path;ngOnInit(){this.table._addTpl(this.path.startsWith(ce)?this.path:ce+this.path,this.templateRef)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ct({type:t,selectors:[["","sf-template",""]],inputs:{path:[0,"sf-template","path"]},standalone:!1})};var ri=class t{cd=W(wi);injector=W(gi);sfItemComp=W(Le);sfComp=W(qt);formProperty;error;showError=!1;id="";schema;ui;get cls(){return this.ui.class||""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(Ci)}get cleanValue(){return this.sfComp.cleanValue}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(yt(this.sfItemComp.destroy$)).subscribe(e=>{if(e==null)return;Zt(this.ui,"errorsChanges",this.formProperty.path,e);let r=this.sfComp?.firstVisual;(r||!r&&this.sfComp?._inited)&&(this.showError=e.length>0,this.error=this.showError?e[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(e){this.formProperty.setValue(e,!1),Zt(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(e=!1){e?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ct({type:t,hostVars:2,hostBindings:function(r,i){r&2&&Be(i.cls)}})};var ne=class t extends ri{reset(e){}afterViewInit(){}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275dir=ct({type:t,features:[G]})},Sn=class t extends ri{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(yt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275dir=ct({type:t,features:[G]})},bn=class t extends ri{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(yt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275dir=ct({type:t,features:[G]})};function gg(t,e){if(t&1&&(l(0,`
              `),B(1,"nz-icon",7),l(2,`
            `)),t&2){let r=g(2);f(),v("nzTooltipTitle",r.oh.text)("nzTooltipPlacement",r.oh.placement)("nzTooltipTrigger",r.oh.trigger)("nzTooltipOverlayClassName",r.oh.overlayClassName)("nzTooltipOverlayStyle",r.oh.overlayStyle)("nzTooltipMouseEnterDelay",r.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",r.oh.mouseLeaveDelay)("nzType",r.oh.icon)}}function yg(t,e){if(t&1){let r=re();l(0,`
      `),b(1,"div",3),l(2,`
        `),b(3,"label"),l(4),b(5,"span",4),l(6),E(7,gg,3,8),w(),l(8,`
        `),w(),l(9,`
        `),b(10,"div",5),l(11,`
          `),b(12,"button",6),U("click",function(){F(r);let n=g();return I(n.addItem())}),w(),l(13,`
        `),w(),l(14,`
      `),w(),l(15,`
    `)}if(t&2){let r=g();f(),v("nzSpan",r.ui.spanLabel),f(2),se("ant-form-item-required",r.ui.required),f(),le(`
          `,r.schema.title,`
          `),f(2),le(`
            `,r.ui.optional,`
            `),f(),T(r.oh?7:-1),f(5),v("nzType",r.addType)("disabled",r.addDisabled)("innerHTML",r.addTitle,He)}}function _g(t,e){if(t&1){let r=re();l(0,`
                    `),b(1,"span",10),U("click",function(){F(r);let n=g(2).$index,o=g();return I(o.removeItem(n))}),l(2,`
                      `),B(3,"nz-icon",11),l(4,`
                    `),w(),l(5,`
                  `)}if(t&2){let r=g(3);f(),Ie("title",r.removeTitle)}}function vg(t,e){if(t&1&&(l(0,`
              `),b(1,"div",8),l(2,`
                `),b(3,"nz-card"),l(4,`
                  `),B(5,"sf-item",9),l(6,`
                  `),E(7,_g,6,1),w(),l(8,`
              `),w(),l(9,`
            `)),t&2){let r=g(),i=r.$implicit,n=r.$index,o=g();f(),v("nzSpan",o.arraySpan),Ie("data-index",n),f(4),v("formProperty",i),f(2),T(o.showRemove?7:-1)}}function Sg(t,e){if(t&1&&(l(0,`
            `),E(1,vg,10,4)),t&2){let r=e.$implicit;f(),T(r.visible&&!r.ui.hidden?1:-1)}}function bg(t,e){if(t&1&&(l(0,`
          `),b(1,"div",12),l(2),w(),l(3,`
        `)),t&2){let r=g();f(2),Gt(r.error)}}function wg(t,e){if(t&1&&(l(0,`
          `),B(1,"div",13),l(2,`
        `)),t&2){let r=g();f(),v("innerHTML",r.ui._description,He)}}var ii=class t extends Sn{addTitle;addType;removeTitle;arraySpan=8;get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:e,addTitle:r,addType:i,removable:n,removeTitle:o}=this.ui;e&&e.arraySpan&&(this.arraySpan=e.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(r||this.l.addText),this.addType=i||"dashed",this.removeTitle=n===!1?null:o||this.l.removeText}reValid(e){this.formProperty.updateValueAndValidity(z({onlySelf:!1,emitValueEvent:!1,emitValidator:!0},e))}addItem(){let e=this.formProperty.add({});this.reValid(),this.ui.add?.(e)}removeItem(e){let r=this.formProperty.properties[e].path;this.formProperty.remove(e),this.reValid({updatePath:r,emitValueEvent:!0}),this.ui.remove?.(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275cmp=H({type:t,selectors:[["sf-array"]],hostVars:2,hostBindings:function(r,i){r&2&&se("sf__array",!0)},standalone:!1,features:[G],decls:16,vars:9,consts:[["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],["nz-col","",1,"ant-form-item-label",3,"nzSpan"],[1,"sf__optional"],[1,"sf__array-add"],["type","button","nz-button","",3,"click","nzType","disabled","innerHTML"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],[1,"sf__array-remove",3,"click"],["nzType","delete"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"]],template:function(r,i){r&1&&(b(0,"nz-form-item"),l(1,`
    `),E(2,yg,16,9),b(3,"div",0),l(4,`
      `),b(5,"div",1),l(6,`
        `),b(7,"div",2),l(8,`
          `),be(9,Sg,2,1,null,null,Ha),w(),l(11,`
        `),E(12,bg,4,1),E(13,wg,3,1),w(),l(14,`
    `),w(),l(15,`
  `),w()),r&2&&(se("ant-form-item-with-help",i.showError),f(2),T(i.schema.title?2:-1),f(),v("nzSpan",i.ui.spanControl)("nzOffset",i.ui.offsetControl),f(2),se("has-error",i.showError),f(4),we(i.formProperty.properties),f(3),T(!i.ui.onlyVisual&&i.showError?12:-1),f(),T(i.schema.description?13:-1))},dependencies:[zi,ze,xi,Ii,Ze,Qe,Xt,Ne,St,Le],encapsulation:2})};var ni=class t extends ne{static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275cmp=H({type:t,selectors:[["sf-boolean"]],standalone:!1,features:[G],decls:4,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading"]],template:function(r,i){r&1&&(b(0,"sf-item-wrap",0),l(1,`
    `),b(2,"nz-switch",1),U("ngModelChange",function(o){return i.setValue(o)}),w(),l(3,`
  `),w()),r&2&&(v("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),v("ngModel",i.value)("nzDisabled",i.disabled)("nzSize",i.ui.size)("nzCheckedChildren",i.ui.checkedChildren)("nzUnCheckedChildren",i.ui.unCheckedChildren)("nzLoading",i.ui.loading))},dependencies:[pe,me,Ws,ie],encapsulation:2})};function Cg(t,e){if(t&1){let r=re();l(0,`
        `),b(1,"label",2),Je("ngModelChange",function(n){F(r);let o=g(2);return Ge(o.allChecked,n)||(o.allChecked=n),I(n)}),U("ngModelChange",function(){F(r);let n=g(2);return I(n.onAllChecked())}),l(2),w(),l(3,`
      `)}if(t&2){let r=g(2);f(),Ke("ngModel",r.allChecked),v("nzIndeterminate",r.indeterminate),f(),le(`
          `,r.ui.checkAllText||r.l.checkAllText,`
        `)}}function xg(t,e){if(t&1&&(l(0,`
      `),E(1,Cg,4,3)),t&2){let r=g();f(),T(r.ui.checkAll?1:-1)}}function zg(t,e){if(t&1&&(l(0,`
                `),B(1,"nz-icon",5),l(2,`
              `)),t&2){let r=g(3);f(),v("nzTooltipTitle",r.oh.text)("nzTooltipPlacement",r.oh.placement)("nzTooltipTrigger",r.oh.trigger)("nzTooltipOverlayClassName",r.oh.overlayClassName)("nzTooltipOverlayStyle",r.oh.overlayStyle)("nzTooltipMouseEnterDelay",r.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",r.oh.mouseLeaveDelay)("nzType",r.oh.icon)}}function $g(t,e){if(t&1){let r=re();l(0,`
          `),b(1,"label",3),U("ngModelChange",function(n){F(r);let o=g(2);return I(o._setValue(n))}),l(2),b(3,"span",4),l(4),E(5,zg,3,8),w(),l(6,`
          `),w(),l(7,`
        `)}if(t&2){let r=g(2);f(),v("nzDisabled",r.disabled)("ngModel",r.value),f(),le(`
            `,r.schema.title,`
            `),f(2),le(`
              `,r.ui.optional,`
              `),f(),T(r.oh?5:-1)}}function Eg(t,e){}function Tg(t,e){if(t&1){let r=re();l(0,`
            `),Y(1,Eg,0,0,"ng-template",6),l(2,`
            `),b(3,"nz-checkbox-group",7),U("ngModelChange",function(n){F(r);let o=g(3);return I(o.groupInGridChange(n))}),w(),l(4,`
          `)}if(t&2){let r=g(3),i=fe(1);f(),v("ngTemplateOutlet",i),f(2),v("ngModel",r.value)("nzOptions",r.data)}}function Pg(t,e){}function Fg(t,e){if(t&1&&(l(0,`
                  `),b(1,"div",10),l(2,`
                    `),Y(3,Pg,0,0,"ng-template",6),l(4,`
                  `),w(),l(5,`
                `)),t&2){let r=g(4),i=fe(1);f(),v("nzSpan",r.grid_span),f(2),v("ngTemplateOutlet",i)}}function Ig(t,e){if(t&1&&(l(0,`
                  `),b(1,"div",10),l(2,`
                    `),b(3,"label",11),l(4),w(),l(5,`
                  `),w(),l(6,`
                `)),t&2){let r=e.$implicit,i=g(4);f(),v("nzSpan",i.grid_span),f(2),v("nzValue",r.value)("ngModel",r.checked)("nzDisabled",r.disabled),f(),le(`
                      `,r.label,`
                    `)}}function Og(t,e){if(t&1){let r=re();l(0,`
            `),b(1,"nz-checkbox-wrapper",8),U("nzOnChange",function(n){F(r);let o=g(3);return I(o.groupInGridChange(n))}),l(2,`
              `),b(3,"div",9),l(4,`
                `),E(5,Fg,6,2),be(6,Ig,7,5,null,null,Oe),w(),l(8,`
            `),w(),l(9,`
          `)}if(t&2){let r=g(3);f(5),T(r.ui.checkAll?5:-1),f(),we(r.data)}}function Ng(t,e){if(t&1&&(l(0,`
          `),E(1,Tg,5,3)(2,Og,10,1)),t&2){let r=g(2);f(),T(r.grid_span===0?1:2)}}function Vg(t,e){if(t&1&&(l(0,`
        `),E(1,$g,8,5)(2,Ng,3,1)),t&2){let r=g();f(),T(r.data.length===0?1:2)}}var oi=class t extends ne{data=[];allChecked=!1;indeterminate=!1;grid_span;labelTitle="";inited=!1;reset(e){this.inited=!1,Yt(this.schema,this.ui,e).subscribe(r=>{this.data=r,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=r.length===0?"":this.schema.title;let{span:i}=this.ui;this.grid_span=i&&i>0?i:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(e){this.setValue(e),this.detectChanges(),this.notifyChange(e)}notifySet(){let e=this.data.filter(r=>r.checked);this.updateAllChecked().setValue(e.map(r=>r.value)),this.notifyChange(e)}groupInGridChange(e){this.data.forEach(r=>r.checked=e.indexOf(r.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(e=>e.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(e=>e.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(e=>e.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(e){this.ui.change&&this.ui.change(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275cmp=H({type:t,selectors:[["sf-checkbox"]],standalone:!1,features:[G],decls:6,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModelChange","ngModel","nzIndeterminate"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[3,"ngTemplateOutlet"],[3,"ngModelChange","ngModel","nzOptions"],[1,"sf__checkbox-list",3,"nzOnChange"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(r,i){r&1&&(Y(0,xg,2,1,"ng-template",null,0,Ce),l(2,`
    `),b(3,"sf-item-wrap",1),l(4,`
      `),E(5,Vg,3,1),w()),r&2&&(f(3),v("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",!0)("title",i.labelTitle),f(2),T(i.inited?5:-1))},dependencies:[xe,pe,me,ze,ps,ms,fs,Ze,Qe,Ne,St,ie],encapsulation:2})};var kg=(t,e,r)=>({$implicit:t,schema:e,ui:r});function Dg(t,e){}var ai=class t extends ne{static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275cmp=H({type:t,selectors:[["sf-custom"]],standalone:!1,features:[G],decls:6,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){r&1&&(l(0,`
    `),b(1,"sf-item-wrap",0),l(2,`
      `),Y(3,Dg,0,0,"ng-template",1),l(4,`
    `),w(),l(5,`
  `)),r&2&&(f(),v("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),v("ngTemplateOutlet",i.ui._render)("ngTemplateOutletContext",Xa(8,kg,i,i.schema,i.ui)))},dependencies:[xe,ie],encapsulation:2})};function Mg(t,e){if(t&1){let r=re();l(0,`
        `),b(1,"nz-year-picker",1),Je("ngModelChange",function(n){F(r);let o=g();return Ge(o.displayValue,n)||(o.displayValue=n),I(n)}),U("ngModelChange",function(n){F(r);let o=g();return I(o._change(n))})("nzOnOpenChange",function(n){F(r);let o=g();return I(o._openChange(n))}),w(),l(2,`
      `)}if(t&2){let r=g();f(),Be(r.ui.className),v("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Ke("ngModel",r.displayValue),v("nzAllowClear",r.i.allowClear)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzRenderExtraFooter",r.ui.renderExtraFooter)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}function Rg(t,e){if(t&1){let r=re();l(0,`
        `),b(1,"nz-month-picker",1),Je("ngModelChange",function(n){F(r);let o=g();return Ge(o.displayValue,n)||(o.displayValue=n),I(n)}),U("ngModelChange",function(n){F(r);let o=g();return I(o._change(n))})("nzOnOpenChange",function(n){F(r);let o=g();return I(o._openChange(n))}),w(),l(2,`
      `)}if(t&2){let r=g();f(),Be(r.ui.className),v("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Ke("ngModel",r.displayValue),v("nzAllowClear",r.i.allowClear)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzRenderExtraFooter",r.ui.renderExtraFooter)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}function jg(t,e){if(t&1){let r=re();l(0,`
        `),b(1,"nz-week-picker",2),Je("ngModelChange",function(n){F(r);let o=g();return Ge(o.displayValue,n)||(o.displayValue=n),I(n)}),U("ngModelChange",function(n){F(r);let o=g();return I(o._change(n))})("nzOnOpenChange",function(n){F(r);let o=g();return I(o._openChange(n))}),w(),l(2,`
      `)}if(t&2){let r=g();f(),Be(r.ui.className),v("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Ke("ngModel",r.displayValue),v("nzAllowClear",r.i.allowClear)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}function Ag(t,e){if(t&1){let r=re();l(0,`
        `),b(1,"nz-range-picker",3),Je("ngModelChange",function(n){F(r);let o=g();return Ge(o.displayValue,n)||(o.displayValue=n),I(n)}),U("ngModelChange",function(n){F(r);let o=g();return I(o._change(n))})("nzOnOpenChange",function(n){F(r);let o=g();return I(o._openChange(n))})("nzOnOk",function(n){F(r);let o=g();return I(o._ok(n))}),w(),l(2,`
      `)}if(t&2){let r=g();f(),Be(r.ui.className),v("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Ke("ngModel",r.displayValue),v("nzAllowClear",r.i.allowClear)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzDisabledTime",r.ui.disabledTime)("nzRenderExtraFooter",r.ui.renderExtraFooter)("nzRanges",r.ui.ranges)("nzShowTime",r.ui.showTime)("nzSeparator",r.ui.separator)("nzShowWeekNumber",r.ui.showWeekNumber||!1)("nzMode",r.ui.rangeMode)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}function Wg(t,e){if(t&1){let r=re();l(0,`
        `),b(1,"nz-date-picker",4),Je("ngModelChange",function(n){F(r);let o=g();return Ge(o.displayValue,n)||(o.displayValue=n),I(n)}),U("ngModelChange",function(n){F(r);let o=g();return I(o._change(n))})("nzOnOpenChange",function(n){F(r);let o=g();return I(o._openChange(n))})("nzOnOk",function(n){F(r);let o=g();return I(o._ok(n))}),w(),l(2,`
      `)}if(t&2){let r=g();f(),Be(r.ui.className),v("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Ke("ngModel",r.displayValue),v("nzAllowClear",r.i.allowClear)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzDisabledTime",r.ui.disabledTime)("nzRenderExtraFooter",r.ui.renderExtraFooter)("nzShowTime",r.ui.showTime)("nzShowToday",r.i.showToday)("nzShowWeekNumber",r.ui.showWeekNumber||!1)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}var si=class t extends ne{startFormat;endFormat;flatRange=!1;mode;displayValue=null;displayFormat;i;ngOnInit(){let{mode:e,end:r,displayFormat:i,allowClear:n,showToday:o}=this.ui;if(this.mode=e||"date",this.flatRange=r!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let a=this.endProperty.ui;this.endFormat=a.format?a._format:this.startFormat}if(i)this.displayFormat=i;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:he(n,!0),showToday:he(o,!0)}}reset(e){let r={formatString:this.startFormat,defaultValue:null};if(Array.isArray(e)?e=e.map(i=>Ei(i,r)):e=Ei(e,r),this.flatRange){let i=Ei(this.endProperty.formData,{formatString:this.endFormat||this.startFormat,defaultValue:null});this.displayValue=e==null||i==null?[]:[e,i]}else this.displayValue=e;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(e,r=!0){if(r&&this.ui.change&&this.ui.change(e),e==null||Array.isArray(e)&&e.length<2){this.setValue(null),this.setEnd(null);return}let i=Array.isArray(e)?[$i(e[0],this.startFormat),$i(e[1],this.endFormat||this.startFormat)]:$i(e,this.startFormat);this.flatRange?(this.setValue(i[0]),this.setEnd(i[1])):this.setValue(i)}_openChange(e){this.ui.onOpenChange&&this.ui.onOpenChange(e)}_ok(e){this.ui.onOk&&this.ui.onOk(e)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(e){this.flatRange&&(this.endProperty.setValue(e,!0),this.endProperty.updateValueAndValidity())}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275cmp=H({type:t,selectors:[["sf-date"]],standalone:!1,features:[G],decls:8,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"]],template:function(r,i){if(r&1&&(b(0,"sf-item-wrap",0),l(1,`
    `),E(2,Mg,3,16)(3,Rg,3,16)(4,jg,3,15)(5,Ag,3,22)(6,Wg,3,20),l(7,`
  `),w()),r&2){let n;v("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),T((n=i.mode)==="year"?2:n==="month"?3:n==="week"?4:n==="range"?5:6)}},dependencies:[pe,me,xs,$s,zs,Ts,Es,ie],encapsulation:2})};var wr=class t extends ne{min;max;step;formatter=e=>e.toString();parser=e=>+e;width="";ngOnInit(){let{minimum:e,exclusiveMinimum:r,maximum:i,exclusiveMaximum:n,multipleOf:o,type:a}=this.schema;this.step=o||1,typeof e<"u"&&(this.min=r?e+this.step:e),typeof i<"u"&&(this.max=n?i-this.step:i),a==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let s=this.ui;s.prefix!=null&&(s.formatter=c=>c==null?"":`${s.prefix} ${c}`,s.parser=c=>+c.replace(`${s.prefix} `,"")),s.unit!=null&&(s.formatter=c=>c==null?"":`${c} ${s.unit}`,s.parser=c=>+c.replace(` ${s.unit}`,"")),s.formatter&&(this.formatter=s.formatter),s.parser&&(this.parser=s.parser),this.width=typeof s.widgetWidth=="number"?`${s.widgetWidth}px`:s.widgetWidth??"90px"}_setValue(e){this.setValue(this.schema.type==="integer"?Math.floor(e):e),this.ui.change?.(this.value)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275cmp=H({type:t,selectors:[["sf-number"]],standalone:!1,features:[G],decls:4,vars:21,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder"]],template:function(r,i){r&1&&(b(0,"sf-item-wrap",0),l(1,`
    `),b(2,"nz-input-number",1),U("ngModelChange",function(o){return i._setValue(o)}),w(),l(3,`
  `),w()),r&2&&(v("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),Si("width",i.width),se("ant-input-number__hide-step",i.ui.hideStep),v("nzId",i.id)("ngModel",i.value)("nzDisabled",i.disabled)("nzSize",i.ui.size)("nzMin",i.min)("nzMax",i.max)("nzStep",i.step)("nzFormatter",i.formatter)("nzParser",i.parser)("nzPrecision",i.ui.precision||null)("nzPlaceHolder",i.ui.placeholder||""))},dependencies:[pe,me,ks,ie],encapsulation:2})};var qg=()=>[],Lg=()=>({$implicit:!0});function Ug(t,e){if(t&1&&(l(0,`
        `),b(1,"div",2),l(2),w(),l(3,`
      `)),t&2){let r=g(2);f(2),Gt(r.title)}}function Hg(t,e){if(t&1&&(l(0,`
              `),b(1,"div",4),l(2,`
                `),B(3,"sf-item",5),l(4,`
              `),w(),l(5,`
            `)),t&2){let r=g().$implicit;f(),v("nzSpan",r.grid.span)("nzOffset",r.grid.offset)("nzXs",r.grid.xs)("nzSm",r.grid.sm)("nzMd",r.grid.md)("nzLg",r.grid.lg)("nzXl",r.grid.xl)("nzXXl",r.grid.xxl),f(2),v("formProperty",r.property)("fixed-label",r.spanLabelFixed)}}function Bg(t,e){if(t&1&&(l(0,`
            `),E(1,Hg,6,10)),t&2){let r=e.$implicit;f(),T(r.property.visible&&r.show?1:-1)}}function Kg(t,e){if(t&1&&(l(0,`
        `),b(1,"div",3),l(2,`
          `),be(3,Bg,2,1,null,null,Oe),w(),l(5,`
      `)),t&2){let r=g(2);f(),v("nzGutter",r.grid.gutter),f(2),we(r.list)}}function Gg(t,e){if(t&1&&(l(0,`
            `),B(1,"sf-item",5),l(2,`
          `)),t&2){let r=g().$implicit;f(),v("formProperty",r.property)("fixed-label",r.spanLabelFixed)}}function Jg(t,e){if(t&1&&(l(0,`
          `),E(1,Gg,3,2)),t&2){let r=e.$implicit;f(),T(r.property.visible&&r.show?1:-1)}}function Xg(t,e){if(t&1&&(l(0,`
        `),be(1,Jg,2,1,null,null,Oe)),t&2){let r=g(2);f(),we(r.list)}}function Qg(t,e){if(t&1&&(l(0,`
      `),E(1,Ug,4,1),E(2,Kg,6,1)(3,Xg,3,0)),t&2){let r=e.$implicit,i=g();f(),T(!r&&i.title?1:-1),f(),T(i.grid?2:3)}}function Zg(t,e){if(t&1&&(l(0,`
              `),B(1,"nz-icon",9),l(2,`
            `)),t&2){let r=g(3);f(),v("nzType",r.expand?"down":"up")}}function Yg(t,e){if(t&1&&(l(0,`
                  `),B(1,"nz-icon",11),l(2,`
                `)),t&2){let r=g(4);f(),v("nzTooltipTitle",r.oh.text)("nzTooltipPlacement",r.oh.placement)("nzTooltipTrigger",r.oh.trigger)("nzTooltipColor",r.oh.bgColor)("nzTooltipOverlayClassName",r.oh.overlayClassName)("nzTooltipOverlayStyle",r.oh.overlayStyle)("nzTooltipMouseEnterDelay",r.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",r.oh.mouseLeaveDelay)("nzType",r.oh.icon)}}function ey(t,e){if(t&1&&(l(0,`
              `),b(1,"span",10),l(2),E(3,Yg,3,9),w(),l(4,`
            `)),t&2){let r=g(3);f(2),le(`
                `,r.ui.optional,`
                `),f(),T(r.oh?3:-1)}}function ty(t,e){if(t&1){let r=re();l(0,`
          `),b(1,"div",8),U("click",function(){F(r);let n=g(2);return I(n.changeExpand())}),l(2,`
            `),E(3,Zg,3,1),l(4),E(5,ey,5,2),w(),l(6,`
        `)}if(t&2){let r=g(2);f(),se("point",r.showExpand),f(2),T(r.showExpand?3:-1),f(),le(`
            `,r.title,`
            `),f(),T(r.ui.optional||r.oh?5:-1)}}function ry(t,e){}function iy(t,e){if(t&1&&(l(0,`
      `),b(1,"nz-card",6),l(2,`
        `),Y(3,ty,7,5,"ng-template",null,1,Ce),l(5,`
        `),Y(6,ry,0,0,"ng-template",7),l(7,`
      `),w(),l(8,`
    `)),t&2){let r=fe(4),i=g(),n=fe(1);f(),se("sf__object-card-fold",!i.expand),v("nzTitle",r)("nzExtra",i.ui.cardExtra)("nzSize",i.ui.cardSize||"small")("nzActions",i.ui.cardActions||Tn(10,qg))("nzBodyStyle",i.ui.cardBodyStyle)("nzBordered",i.ui.cardBordered||!0),f(5),v("ngTemplateOutlet",n)("ngTemplateOutletContext",Tn(11,Lg))}}function ny(t,e){}function oy(t,e){if(t&1&&(l(0,`
      `),Y(1,ny,0,0,"ng-template",12),l(2,`
    `)),t&2){g();let r=fe(1);f(),v("ngTemplateOutlet",r)}}var li=class t extends bn{grid;type="default";list=[];title;showExpand=!0;expand=!0;ngOnInit(){let{formProperty:e,ui:r}=this,{grid:i,showTitle:n,type:o}=r;this.showExpand=he(r.showExpand,!0),this.expand=he(r.expand,!0),this.type=o??"default",(this.type==="card"||!e.isRoot()&&!(e.parent instanceof tr)&&n===!0)&&(this.title=this.schema.title),this.grid=i;let a=[];for(let s of e.propertiesId){let c=e.properties[s],u={property:c,grid:c.ui.grid||i||{},spanLabelFixed:c.ui.spanLabelFixed,show:c.ui.hidden===!1};a.push(u)}this.list=a}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275cmp=H({type:t,selectors:[["sf-object"]],standalone:!1,features:[G],decls:5,vars:1,consts:[["default",""],["cardTitleTpl",""],[1,"sf__title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],[1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[3,"ngTemplateOutlet"]],template:function(r,i){r&1&&(Y(0,Qg,4,2,"ng-template",null,0,Ce),l(2,`
    `),E(3,iy,9,12)(4,oy,3,1)),r&2&&(f(3),T(i.type==="card"?3:4))},dependencies:[xe,ze,Ii,Ze,Qe,Ne,St,Le,Wt],encapsulation:2})};function ay(t,e){if(t&1&&(l(0,`
          `),b(1,"label",2),l(2,`
            `),B(3,"span",3),l(4,`
          `),w(),l(5,`
        `)),t&2){let r=e.$implicit,i=g(2);f(),v("nzValue",r.value)("nzDisabled",i.disabled||r.disabled),f(2),v("innerHTML",r.label,He)}}function sy(t,e){if(t&1&&(l(0,`
        `),be(1,ay,6,3,null,null,Oe)),t&2){let r=g();f(),we(r.data)}}function ly(t,e){if(t&1&&(l(0,`
          `),b(1,"label",4),l(2,`
            `),B(3,"span",3),l(4,`
          `),w(),l(5,`
        `)),t&2){let r=e.$implicit,i=g(2);f(),v("nzValue",r.value)("nzDisabled",i.disabled||r.disabled),f(2),v("innerHTML",r.label,He)}}function cy(t,e){if(t&1&&(l(0,`
        `),be(1,ly,6,3,null,null,Oe)),t&2){let r=g();f(),we(r.data)}}var ci=class t extends ne{data=[];styleType;reset(e){this.styleType=(this.ui.styleType||"default")==="default",Yt(this.schema,this.ui,e).subscribe(r=>{this.data=r,this.detectChanges()})}_setValue(e){this.setValue(e),this.ui.change&&this.ui.change(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275cmp=H({type:t,selectors:[["sf-radio"]],standalone:!1,features:[G],decls:7,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzSize","nzName","ngModel","nzButtonStyle"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(r,i){r&1&&(b(0,"sf-item-wrap",0),l(1,`
    `),b(2,"nz-radio-group",1),U("ngModelChange",function(o){return i._setValue(o)}),l(3,`
      `),E(4,sy,3,0)(5,cy,3,0),w(),l(6,`
  `),w()),r&2&&(v("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),v("nzSize",i.ui.size)("nzName",i.id)("ngModel",i.value)("nzButtonStyle",i.ui.buttonStyle||"outline"),f(2),T(i.styleType?4:5))},dependencies:[pe,me,ys,gs,ie],encapsulation:2})};function dy(t,e){if(t&1&&(l(0,`
          `),B(1,"nz-option",2),l(2,`
        `)),t&2){let r=e.$implicit;f(),v("nzLabel",r.label)("nzValue",r.value)("nzHide",r.hide)("nzDisabled",r.disabled)}}function uy(t,e){if(t&1&&(l(0,`
        `),be(1,dy,3,4,null,null,Oe)),t&2){let r=g();f(),we(r.data)}}function fy(t,e){if(t&1&&(l(0,`
              `),B(1,"nz-option",4),l(2,`
            `)),t&2){let r=e.$implicit;f(),v("nzLabel",r.label)("nzValue",r.value)("nzDisabled",r.disabled)("nzHide",r.hide)}}function py(t,e){if(t&1&&(l(0,`
          `),b(1,"nz-option-group",3),l(2,`
            `),be(3,fy,3,4,null,null,Oe),w(),l(5,`
        `)),t&2){let r=e.$implicit;f(),v("nzLabel",r.label),f(2),we(r.children)}}function my(t,e){if(t&1&&(l(0,`
        `),be(1,py,6,1,null,null,Oe)),t&2){let r=g();f(),we(r.data)}}function hy(t,e){if(t&1&&(l(0,`
        `),b(1,"nz-option",5),l(2,`
          `),B(3,"nz-icon",6),l(4),w(),l(5,`
      `)),t&2){let r=g();f(4),le(`
          `,r.ui.searchLoadingText,`
        `)}}var di=class t extends ne{search$=new Ut;i;data=[];_value;hasGroup=!1;loading=!1;checkGroup(e){this.hasGroup=(e||[]).filter(r=>r.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:e,borderless:r,autoFocus:i,dropdownMatchSelectWidth:n,serverSearch:o,maxMultipleCount:a,mode:s,showSearch:c,tokenSeparators:u,maxTagCount:d,compareWith:m,optionHeightPx:S,optionOverflowSize:h,showArrow:y}=this.ui;this.i={autoClearSearchValue:he(e,!0),borderless:he(r,!1),autoFocus:he(i,!1),dropdownMatchSelectWidth:he(n,!0),serverSearch:he(o,!1),maxMultipleCount:a||1/0,mode:s||"default",showSearch:he(c,!0),tokenSeparators:u||[],maxTagCount:d||1/0,optionHeightPx:S||32,optionOverflowSize:h||8,showArrow:he(y,!0),compareWith:m||((_,x)=>_===x)};let p=this.ui.onSearch;p&&this.search$.pipe(yt(this.sfItemComp.destroy$),mi(),pi(this.ui.searchDebounceTime||300),hi(_=>p(_)),Da(()=>[])).subscribe(_=>{this.data=_,this.checkGroup(_),this.loading=!1,this.detectChanges()})}reset(e){let r=this.ui.onSearch;Yt(this.schema,this.ui,e).subscribe(i=>{this._value=e,r==null&&(this.data=i),this.checkGroup(i),this.detectChanges()}),e&&r!=null&&this.search$.next(e)}change(e){this.ui.change&&this.ui.change(e,this.getOrgData(e)),this.setValue(e??this.ui.clearValue)}getOrgData(e){let r=this.injector.get(Ls);return Array.isArray(e)?e.map(i=>r.findTree(this.data,n=>n.value===i)):r.findTree(this.data,i=>i.value===e)}openChange(e){this.ui.openChange&&this.ui.openChange(e)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(e){this.ui.onSearch&&(this.loading=!0,this.search$.next(e))}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275cmp=H({type:t,selectors:[["sf-select"]],standalone:!1,features:[G],decls:8,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom","nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzBorderless","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize"],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nzDisabled","","nzCustomContent",""],["nzType","loading"]],template:function(r,i){r&1&&(b(0,"sf-item-wrap",0),l(1,`
    `),b(2,"nz-select",1),Je("ngModelChange",function(o){return Ge(i._value,o)||(i._value=o),o}),U("ngModelChange",function(o){return i.change(o)})("nzOpenChange",function(o){return i.openChange(o)})("nzOnSearch",function(o){return i.onSearch(o)})("nzScrollToBottom",function(){return i.scrollToBottom()}),l(3,`
      `),E(4,uy,3,0),E(5,my,3,0),E(6,hy,6,1),w(),l(7,`
  `),w()),r&2&&(v("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),v("nzId",i.id)("nzDisabled",i.disabled),Ke("ngModel",i._value),v("nzSize",i.ui.size)("nzPlaceHolder",i.ui.placeholder)("nzNotFoundContent",i.ui.notFoundContent)("nzDropdownClassName",i.ui.dropdownClassName)("nzAllowClear",i.ui.allowClear)("nzDropdownStyle",i.ui.dropdownStyle)("nzCustomTemplate",i.ui.customTemplate)("nzSuffixIcon",i.ui.suffixIcon)("nzRemoveIcon",i.ui.removeIcon)("nzClearIcon",i.ui.clearIcon)("nzMenuItemSelectedIcon",i.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",i.ui.maxTagPlaceholder)("nzDropdownRender",i.ui.dropdownRender)("nzAutoClearSearchValue",i.i.autoClearSearchValue)("nzBorderless",i.i.borderless)("nzAutoFocus",i.i.autoFocus)("nzDropdownMatchSelectWidth",i.i.dropdownMatchSelectWidth)("nzServerSearch",i.i.serverSearch)("nzMaxMultipleCount",i.i.maxMultipleCount)("nzMode",i.i.mode)("nzShowSearch",i.i.showSearch)("nzShowArrow",i.i.showArrow)("nzTokenSeparators",i.i.tokenSeparators)("nzMaxTagCount",i.i.maxTagCount)("compareWith",i.i.compareWith)("nzOptionHeightPx",i.i.optionHeightPx)("nzOptionOverflowSize",i.i.optionOverflowSize),f(2),T(!i.loading&&!i.hasGroup?4:-1),f(),T(!i.loading&&i.hasGroup?5:-1),f(),T(i.loading?6:-1))},dependencies:[pe,me,ze,Ne,bs,ws,Ss,ie],encapsulation:2})};function yy(t,e){if(t&1){let r=re();l(0,`
      `),b(1,"input",2),U("ngModelChange",function(n){F(r);let o=g();return I(o.change(n))})("keyup.enter",function(n){F(r);let o=g();return I(o.enter(n))})("focus",function(n){F(r);let o=g();return I(o.focus(n))})("blur",function(n){F(r);let o=g();return I(o.blur(n))}),w(),l(2,`
    `)}if(t&2){let r=g();f(),v("disabled",r.disabled)("nzSize",r.ui.size)("nzBorderless",r.ui.borderless)("ngModel",r.value),Ie("id",r.id)("disabled",r.disabled)("maxLength",r.schema.maxLength||null)("type",r.ui.type||"text")("placeholder",r.ui.placeholder)("autocomplete",r.ui.autocomplete)("autoFocus",r.ui.autofocus)}}function _y(t,e){}function vy(t,e){if(t&1&&(l(0,`
      `),b(1,"nz-input-group",3),l(2,`
        `),Y(3,_y,0,0,"ng-template",4),l(4,`
      `),w(),l(5,`
    `)),t&2){let r=g(),i=fe(3);f(),v("nzAddOnBefore",r.ui.addOnBefore)("nzAddOnAfter",r.ui.addOnAfter)("nzAddOnBeforeIcon",r.ui.addOnBeforeIcon)("nzAddOnAfterIcon",r.ui.addOnAfterIcon)("nzPrefix",r.ui.prefix)("nzPrefixIcon",r.ui.prefixIcon)("nzSuffix",r.ui.suffix)("nzSuffixIcon",r.ui.suffixIcon),f(2),v("ngTemplateOutlet",i)}}function Sy(t,e){}function by(t,e){if(t&1&&(l(0,`
      `),Y(1,Sy,0,0,"ng-template",4),l(2,`
    `)),t&2){g();let r=fe(3);f(),v("ngTemplateOutlet",r)}}var Cr=class t extends ne{type;change$=null;ngOnInit(){let{addOnAfter:e,addOnAfterIcon:r,addOnBefore:i,addOnBeforeIcon:n,prefix:o,prefixIcon:a,suffix:s,suffixIcon:c,autofocus:u}=this.ui;this.type=e||i||r||n||o||a||s||c?"addon":"",u===!0&&setTimeout(()=>{this.injector.get(yi).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(e){!e&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let e=this.ui.changeDebounceTime,r=this.ui.change;if(e==null||e<=0||r==null)return;this.change$=new Ht(this.value);let i=this.change$.asObservable().pipe(pi(e),yt(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(i=i.pipe(hi(this.ui.changeMap))),i.subscribe(n=>r(n))}change(e){if(this.setValue(e),this.change$!=null){this.change$.next(e);return}this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}enter(e){this.ui.enter&&this.ui.enter(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275cmp=H({type:t,selectors:[["sf-string"]],standalone:!1,features:[G],decls:7,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],["nz-input","",3,"ngModelChange","keyup.enter","focus","blur","disabled","nzSize","nzBorderless","ngModel"],[3,"nzAddOnBefore","nzAddOnAfter","nzAddOnBeforeIcon","nzAddOnAfterIcon","nzPrefix","nzPrefixIcon","nzSuffix","nzSuffixIcon"],[3,"ngTemplateOutlet"]],template:function(r,i){r&1&&(b(0,"sf-item-wrap",1),l(1,`
    `),Y(2,yy,3,11,"ng-template",null,0,Ce),l(4,`

    `),E(5,vy,6,9)(6,by,3,1),w()),r&2&&(v("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(5),T(i.type==="addon"?5:6))},dependencies:[xe,Ti,pe,me,ze,Fi,Os,Is,ie],encapsulation:2})};function wy(t,e){if(t&1&&(l(0,`
      `),B(1,"span",1),l(2,`
    `)),t&2){let r=g();f(),v("innerHTML",r.text,He)}}function Cy(t,e){if(t&1&&(l(0,`
      `),B(1,"span",2),l(2,`
    `)),t&2){let r=g();f(),v("innerText",r.text)}}var ui=class t extends ne{text="";ngOnInit(){this.ui._required=!1,this.ui.html=he(this.ui.html,!0)}reset(e){this.text=e||this.ui.defaultText||"-"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275cmp=H({type:t,selectors:[["sf-text"]],standalone:!1,features:[G],decls:4,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(r,i){r&1&&(b(0,"sf-item-wrap",0),l(1,`
    `),E(2,wy,3,1)(3,Cy,3,1),w()),r&2&&(se("sf__text-html",i.ui.html),v("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),T(i.ui.html?2:3))},dependencies:[ie],encapsulation:2})};function xy(t,e){if(t&1){let r=re();l(0,`
      `),b(1,"textarea",2),U("ngModelChange",function(n){F(r);let o=g();return I(o.change(n))})("focus",function(n){F(r);let o=g();return I(o.focus(n))})("blur",function(n){F(r);let o=g();return I(o.blur(n))}),l(2,"      "),w(),l(3,`
    `)}if(t&2){let r=g();f(),v("disabled",r.disabled)("nzSize",r.ui.size)("ngModel",r.value)("nzAutosize",r.autosize)("nzBorderless",r.ui.borderless),Ie("id",r.id)("disabled",r.disabled)("maxLength",r.schema.maxLength||null)("placeholder",r.ui.placeholder)}}function zy(t,e){if(t&1){let r=re();l(0,`
      `),b(1,"nz-textarea-count",3),l(2,`
        `),b(3,"textarea",2),U("ngModelChange",function(n){F(r);let o=g();return I(o.change(n))})("focus",function(n){F(r);let o=g();return I(o.focus(n))})("blur",function(n){F(r);let o=g();return I(o.blur(n))}),l(4,"        "),w(),l(5,`
      `),w(),l(6,`
    `)}if(t&2){let r=g();f(),v("nzMaxCharacterCount",r.ui.maxCharacterCount)("nzComputeCharacterCount",r.ui.computeCharacterCount),f(2),v("disabled",r.disabled)("nzSize",r.ui.size)("ngModel",r.value)("nzAutosize",r.autosize)("nzBorderless",r.ui.borderless),Ie("id",r.id)("disabled",r.disabled)("maxLength",r.schema.maxLength||null)("placeholder",r.ui.placeholder)}}function $y(t,e){}function Ey(t,e){if(t&1&&(l(0,`
      `),Y(1,$y,0,0,"ng-template",4),l(2,`
    `)),t&2){g();let r=fe(3);f(),v("ngTemplateOutlet",r)}}var fi=class t extends ne{autosize=!0;ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=e=>e.length)}change(e){this.setValue(e),this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(t)))(i||t)}})();static \u0275cmp=H({type:t,selectors:[["sf-textarea"]],standalone:!1,features:[G],decls:7,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],["nz-input","",3,"ngModelChange","focus","blur","disabled","nzSize","ngModel","nzAutosize","nzBorderless"],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],[3,"ngTemplateOutlet"]],template:function(r,i){r&1&&(b(0,"sf-item-wrap",1),l(1,`
    `),Y(2,xy,4,9,"ng-template",null,0,Ce),l(4,`

    `),E(5,zy,7,11)(6,Ey,3,1),w()),r&2&&(v("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(5),T(i.ui.maxCharacterCount?5:6))},dependencies:[xe,Ti,pe,me,Ns,Fi,Fs,ie],encapsulation:2})};var xr=class extends at{constructor(){super(),this.register("object",li),this.register("array",ii),this.register("text",ui),this.register("string",Cr),this.register("number",wr),this.register("integer",wr),this.register("date",si),this.register("radio",ci),this.register("checkbox",oi),this.register("boolean",ni),this.register("textarea",fi),this.register("select",di),this.register("custom",ai),this.setDefault(Cr)}};var Ty=[is,As,hs,Ps,js,Ms,rs,Vs,Ds,ns,_s,Cs,qs,vs];var Bd=class t{static forRoot(){return{ngModule:t,providers:[{provide:gt,useClass:_r,deps:[dt,vt]},{provide:at,useClass:xr}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ua({type:t});static \u0275inj=Ra({imports:[Za,us,ss,Ty]})};function FC(t){let e=[{provide:gt,useClass:_r,deps:[dt,vt]},{provide:at,useClass:xr}];return t?.widgets&&e.push(Aa(()=>{let r=W(at);t?.widgets?.forEach(i=>r.register(i.KEY,i.type))})),ja(e)}export{he as a,Qd as b,Us as c,Yt as d,qt as e,ie as f,Ea as g,ne as h,Bd as i,FC as j};
