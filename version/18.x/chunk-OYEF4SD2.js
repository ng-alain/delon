import{a as mi,b as ja}from"./chunk-NZN5T5JT.js";import{b as fi,f as Pa,g as Oa,h as Ia,i as ka,j as Na,k as Va,l as Kt,m as Ma,p as Fa,u as Aa}from"./chunk-ZSEM3CGD.js";import{a as ua,b as da,c as fa,d as pa,e as ma,f as ha,g as _a}from"./chunk-VX6U3N3S.js";import{a as Ra,b as qa}from"./chunk-YFEQWCQD.js";import{h as ya,i as va,o as wa,p as ba,q as Ge,r as Je,s as Da}from"./chunk-TDHOL7D5.js";import{F as gt,H as ga,I as pi,J as Ca,K as za,L as $a,M as Sa,N as xa,O as Ea,P as Ta,d as di,g as fe,h as sa,k as aa,m as pe,n as la,v as ca,z as Bt}from"./chunk-GTVNFQLK.js";import{Aa as Yr,Ab as Hs,Bb as Us,Cb as de,Db as Q,Eb as Ht,F as Es,Fa as We,Fb as se,H as Ts,Hb as Le,Ib as He,J as Ps,Ja as v,Jb as Ue,Ka as Ds,Kb as ni,Kg as ra,L as Jr,La as Ms,M as Os,Mb as dn,Na as Fs,Nb as Bs,Nc as si,Oa as js,Og as ia,P as Xr,Pb as Ks,Qa as K,Ra as ei,Sa as S,Ua as Ee,Va as h,W as Zr,Wa as ti,Wb as we,X as mt,Xa as le,Xf as Ie,Yf as ea,Za as Rs,Zf as Ce,a as C,b as J,ba as yr,c as zs,ca as Is,cb as E,cc as oi,ch as na,d as b,db as Te,dc as Be,dg as ai,dh as oa,ec as Gs,f as $s,fa as W,fb as Pe,fg as li,g as Rt,ga as ks,gb as Oe,ha as H,hb as z,hd as Tt,hg as ta,hh as ui,ia as Ns,ib as $,j as Ss,ja as st,jb as U,k as qt,kb as qs,l as At,la as Vs,lb as As,ld as Ke,mb as Ws,md as Zs,nb as te,nc as Ut,nd as fn,oc as Js,pa as ht,pd as Qs,qa as P,qb as L,ra as O,rc as be,s as xs,sb as m,sd as Ys,tb as ri,ua as B,ub as ii,ug as ci,va as Qr,w as Wt,x as un,xa as Lt,ya as _t,yc as Xs,zb as Ls}from"./chunk-PQ76J5IX.js";var zr=b(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.regexpCode=q.getEsmExportName=q.getProperty=q.safeStringify=q.stringify=q.strConcat=q.addCodeArg=q.str=q._=q.nil=q._Code=q.Name=q.IDENTIFIER=q._CodeOrName=void 0;var br=class{};q._CodeOrName=br;q.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Ot=class extends br{constructor(r){if(super(),!q.IDENTIFIER.test(r))throw new Error("CodeGen: name must be a valid identifier");this.str=r}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};q.Name=Ot;var ke=class extends br{constructor(r){super(),this._items=typeof r=="string"?[r]:r}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let r=this._items[0];return r===""||r==='""'}get str(){var r;return(r=this._str)!==null&&r!==void 0?r:this._str=this._items.reduce((e,i)=>`${e}${i}`,"")}get names(){var r;return(r=this._names)!==null&&r!==void 0?r:this._names=this._items.reduce((e,i)=>(i instanceof Ot&&(e[i.str]=(e[i.str]||0)+1),e),{})}};q._Code=ke;q.nil=new ke("");function Ua(t,...r){let e=[t[0]],i=0;for(;i<r.length;)_n(e,r[i]),e.push(t[++i]);return new ke(e)}q._=Ua;var hn=new ke("+");function Ba(t,...r){let e=[Cr(t[0])],i=0;for(;i<r.length;)e.push(hn),_n(e,r[i]),e.push(hn,Cr(t[++i]));return Zu(e),new ke(e)}q.str=Ba;function _n(t,r){r instanceof ke?t.push(...r._items):r instanceof Ot?t.push(r):t.push(ed(r))}q.addCodeArg=_n;function Zu(t){let r=1;for(;r<t.length-1;){if(t[r]===hn){let e=Qu(t[r-1],t[r+1]);if(e!==void 0){t.splice(r-1,3,e);continue}t[r++]="+"}r++}}function Qu(t,r){if(r==='""')return t;if(t==='""')return r;if(typeof t=="string")return r instanceof Ot||t[t.length-1]!=='"'?void 0:typeof r!="string"?`${t.slice(0,-1)}${r}"`:r[0]==='"'?t.slice(0,-1)+r.slice(1):void 0;if(typeof r=="string"&&r[0]==='"'&&!(t instanceof Ot))return`"${t}${r.slice(1)}`}function Yu(t,r){return r.emptyStr()?t:t.emptyStr()?r:Ba`${t}${r}`}q.strConcat=Yu;function ed(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Cr(Array.isArray(t)?t.join(","):t)}function td(t){return new ke(Cr(t))}q.stringify=td;function Cr(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}q.safeStringify=Cr;function rd(t){return typeof t=="string"&&q.IDENTIFIER.test(t)?new ke(`.${t}`):Ua`[${t}]`}q.getProperty=rd;function id(t){if(typeof t=="string"&&q.IDENTIFIER.test(t))return new ke(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}q.getEsmExportName=id;function nd(t){return new ke(t.toString())}q.regexpCode=nd});var vn=b($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.ValueScope=$e.ValueScopeName=$e.Scope=$e.varKinds=$e.UsedValueState=void 0;var ze=zr(),gn=class extends Error{constructor(r){super(`CodeGen: "code" for ${r} not defined`),this.value=r.value}},yi=function(t){return t[t.Started=0]="Started",t[t.Completed=1]="Completed",t}(yi||($e.UsedValueState=yi={}));$e.varKinds={const:new ze.Name("const"),let:new ze.Name("let"),var:new ze.Name("var")};var vi=class{constructor({prefixes:r,parent:e}={}){this._names={},this._prefixes=r,this._parent=e}toName(r){return r instanceof ze.Name?r:this.name(r)}name(r){return new ze.Name(this._newName(r))}_newName(r){let e=this._names[r]||this._nameGroup(r);return`${r}${e.index++}`}_nameGroup(r){var e,i;if(!((i=(e=this._parent)===null||e===void 0?void 0:e._prefixes)===null||i===void 0)&&i.has(r)||this._prefixes&&!this._prefixes.has(r))throw new Error(`CodeGen: prefix "${r}" is not allowed in this scope`);return this._names[r]={prefix:r,index:0}}};$e.Scope=vi;var wi=class extends ze.Name{constructor(r,e){super(e),this.prefix=r}setValue(r,{property:e,itemIndex:i}){this.value=r,this.scopePath=(0,ze._)`.${new ze.Name(e)}[${i}]`}};$e.ValueScopeName=wi;var od=(0,ze._)`\n`,yn=class extends vi{constructor(r){super(r),this._values={},this._scope=r.scope,this.opts=J(C({},r),{_n:r.lines?od:ze.nil})}get(){return this._scope}name(r){return new wi(r,this._newName(r))}value(r,e){var i;if(e.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(r),{prefix:o}=n,s=(i=e.key)!==null&&i!==void 0?i:e.ref,a=this._values[o];if(a){let u=a.get(s);if(u)return u}else a=this._values[o]=new Map;a.set(s,n);let l=this._scope[o]||(this._scope[o]=[]),c=l.length;return l[c]=e.ref,n.setValue(e,{property:o,itemIndex:c}),n}getValue(r,e){let i=this._values[r];if(i)return i.get(e)}scopeRefs(r,e=this._values){return this._reduceValues(e,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,ze._)`${r}${i.scopePath}`})}scopeCode(r=this._values,e,i){return this._reduceValues(r,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},e,i)}_reduceValues(r,e,i={},n){let o=ze.nil;for(let s in r){let a=r[s];if(!a)continue;let l=i[s]=i[s]||new Map;a.forEach(c=>{if(l.has(c))return;l.set(c,yi.Started);let u=e(c);if(u){let d=this.opts.es5?$e.varKinds.var:$e.varKinds.const;o=(0,ze._)`${o}${d} ${c} = ${u};${this.opts._n}`}else if(u=n?.(c))o=(0,ze._)`${o}${u}${this.opts._n}`;else throw new gn(c);l.set(c,yi.Completed)})}return o}};$e.ValueScope=yn});var N=b(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.or=V.and=V.not=V.CodeGen=V.operators=V.varKinds=V.ValueScopeName=V.ValueScope=V.Scope=V.Name=V.regexpCode=V.stringify=V.getProperty=V.nil=V.strConcat=V.str=V._=void 0;var j=zr(),Me=vn(),vt=zr();Object.defineProperty(V,"_",{enumerable:!0,get:function(){return vt._}});Object.defineProperty(V,"str",{enumerable:!0,get:function(){return vt.str}});Object.defineProperty(V,"strConcat",{enumerable:!0,get:function(){return vt.strConcat}});Object.defineProperty(V,"nil",{enumerable:!0,get:function(){return vt.nil}});Object.defineProperty(V,"getProperty",{enumerable:!0,get:function(){return vt.getProperty}});Object.defineProperty(V,"stringify",{enumerable:!0,get:function(){return vt.stringify}});Object.defineProperty(V,"regexpCode",{enumerable:!0,get:function(){return vt.regexpCode}});Object.defineProperty(V,"Name",{enumerable:!0,get:function(){return vt.Name}});var Si=vn();Object.defineProperty(V,"Scope",{enumerable:!0,get:function(){return Si.Scope}});Object.defineProperty(V,"ValueScope",{enumerable:!0,get:function(){return Si.ValueScope}});Object.defineProperty(V,"ValueScopeName",{enumerable:!0,get:function(){return Si.ValueScopeName}});Object.defineProperty(V,"varKinds",{enumerable:!0,get:function(){return Si.varKinds}});V.operators={GT:new j._Code(">"),GTE:new j._Code(">="),LT:new j._Code("<"),LTE:new j._Code("<="),EQ:new j._Code("==="),NEQ:new j._Code("!=="),NOT:new j._Code("!"),OR:new j._Code("||"),AND:new j._Code("&&"),ADD:new j._Code("+")};var at=class{optimizeNodes(){return this}optimizeNames(r,e){return this}},wn=class extends at{constructor(r,e,i){super(),this.varKind=r,this.name=e,this.rhs=i}render({es5:r,_n:e}){let i=r?Me.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${n};`+e}optimizeNames(r,e){if(r[this.name.str])return this.rhs&&(this.rhs=er(this.rhs,r,e)),this}get names(){return this.rhs instanceof j._CodeOrName?this.rhs.names:{}}},Ci=class extends at{constructor(r,e,i){super(),this.lhs=r,this.rhs=e,this.sideEffects=i}render({_n:r}){return`${this.lhs} = ${this.rhs};`+r}optimizeNames(r,e){if(!(this.lhs instanceof j.Name&&!r[this.lhs.str]&&!this.sideEffects))return this.rhs=er(this.rhs,r,e),this}get names(){let r=this.lhs instanceof j.Name?{}:C({},this.lhs.names);return $i(r,this.rhs)}},bn=class extends Ci{constructor(r,e,i,n){super(r,i,n),this.op=e}render({_n:r}){return`${this.lhs} ${this.op}= ${this.rhs};`+r}},Cn=class extends at{constructor(r){super(),this.label=r,this.names={}}render({_n:r}){return`${this.label}:`+r}},zn=class extends at{constructor(r){super(),this.label=r,this.names={}}render({_n:r}){return`break${this.label?` ${this.label}`:""};`+r}},$n=class extends at{constructor(r){super(),this.error=r}render({_n:r}){return`throw ${this.error};`+r}get names(){return this.error.names}},Sn=class extends at{constructor(r){super(),this.code=r}render({_n:r}){return`${this.code};`+r}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(r,e){return this.code=er(this.code,r,e),this}get names(){return this.code instanceof j._CodeOrName?this.code.names:{}}},$r=class extends at{constructor(r=[]){super(),this.nodes=r}render(r){return this.nodes.reduce((e,i)=>e+i.render(r),"")}optimizeNodes(){let{nodes:r}=this,e=r.length;for(;e--;){let i=r[e].optimizeNodes();Array.isArray(i)?r.splice(e,1,...i):i?r[e]=i:r.splice(e,1)}return r.length>0?this:void 0}optimizeNames(r,e){let{nodes:i}=this,n=i.length;for(;n--;){let o=i[n];o.optimizeNames(r,e)||(sd(r,o.names),i.splice(n,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((r,e)=>It(r,e.names),{})}},lt=class extends $r{render(r){return"{"+r._n+super.render(r)+"}"+r._n}},xn=class extends $r{},En=(()=>{class t extends lt{}return t.kind="else",t})(),bi=(()=>{class t extends lt{constructor(e,i){super(i),this.condition=e}render(e){let i=`if(${this.condition})`+super.render(e);return this.else&&(i+="else "+this.else.render(e)),i}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let i=this.else;if(i){let n=i.optimizeNodes();i=this.else=Array.isArray(n)?new En(n):n}if(i)return e===!1?i instanceof t?i:i.nodes:this.nodes.length?this:new t(Za(e),i instanceof t?[i]:i.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,i){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,i),!!(super.optimizeNames(e,i)||this.else))return this.condition=er(this.condition,e,i),this}get names(){let e=super.names;return $i(e,this.condition),this.else&&It(e,this.else.names),e}}return t.kind="if",t})(),xi=(()=>{class t extends lt{}return t.kind="for",t})(),Tn=class extends xi{constructor(r){super(),this.iteration=r}render(r){return`for(${this.iteration})`+super.render(r)}optimizeNames(r,e){if(super.optimizeNames(r,e))return this.iteration=er(this.iteration,r,e),this}get names(){return It(super.names,this.iteration.names)}},Pn=class extends xi{constructor(r,e,i,n){super(),this.varKind=r,this.name=e,this.from=i,this.to=n}render(r){let e=r.es5?Me.varKinds.var:this.varKind,{name:i,from:n,to:o}=this;return`for(${e} ${i}=${n}; ${i}<${o}; ${i}++)`+super.render(r)}get names(){let r=$i(super.names,this.from);return $i(r,this.to)}},zi=class extends xi{constructor(r,e,i,n){super(),this.loop=r,this.varKind=e,this.name=i,this.iterable=n}render(r){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(r)}optimizeNames(r,e){if(super.optimizeNames(r,e))return this.iterable=er(this.iterable,r,e),this}get names(){return It(super.names,this.iterable.names)}},Ka=(()=>{class t extends lt{constructor(e,i,n){super(),this.name=e,this.args=i,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}return t.kind="func",t})(),Ga=(()=>{class t extends $r{render(e){return"return "+super.render(e)}}return t.kind="return",t})(),On=class extends lt{render(r){let e="try"+super.render(r);return this.catch&&(e+=this.catch.render(r)),this.finally&&(e+=this.finally.render(r)),e}optimizeNodes(){var r,e;return super.optimizeNodes(),(r=this.catch)===null||r===void 0||r.optimizeNodes(),(e=this.finally)===null||e===void 0||e.optimizeNodes(),this}optimizeNames(r,e){var i,n;return super.optimizeNames(r,e),(i=this.catch)===null||i===void 0||i.optimizeNames(r,e),(n=this.finally)===null||n===void 0||n.optimizeNames(r,e),this}get names(){let r=super.names;return this.catch&&It(r,this.catch.names),this.finally&&It(r,this.finally.names),r}},Ja=(()=>{class t extends lt{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}return t.kind="catch",t})(),Xa=(()=>{class t extends lt{render(e){return"finally"+super.render(e)}}return t.kind="finally",t})(),In=class{constructor(r,e={}){this._values={},this._blockStarts=[],this._constants={},this.opts=J(C({},e),{_n:e.lines?`
`:""}),this._extScope=r,this._scope=new Me.Scope({parent:r}),this._nodes=[new xn]}toString(){return this._root.render(this.opts)}name(r){return this._scope.name(r)}scopeName(r){return this._extScope.name(r)}scopeValue(r,e){let i=this._extScope.value(r,e);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(r,e){return this._extScope.getValue(r,e)}scopeRefs(r){return this._extScope.scopeRefs(r,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(r,e,i,n){let o=this._scope.toName(e);return i!==void 0&&n&&(this._constants[o.str]=i),this._leafNode(new wn(r,o,i)),o}const(r,e,i){return this._def(Me.varKinds.const,r,e,i)}let(r,e,i){return this._def(Me.varKinds.let,r,e,i)}var(r,e,i){return this._def(Me.varKinds.var,r,e,i)}assign(r,e,i){return this._leafNode(new Ci(r,e,i))}add(r,e){return this._leafNode(new bn(r,V.operators.ADD,e))}code(r){return typeof r=="function"?r():r!==j.nil&&this._leafNode(new Sn(r)),this}object(...r){let e=["{"];for(let[i,n]of r)e.length>1&&e.push(","),e.push(i),(i!==n||this.opts.es5)&&(e.push(":"),(0,j.addCodeArg)(e,n));return e.push("}"),new j._Code(e)}if(r,e,i){if(this._blockNode(new bi(r)),e&&i)this.code(e).else().code(i).endIf();else if(e)this.code(e).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(r){return this._elseNode(new bi(r))}else(){return this._elseNode(new En)}endIf(){return this._endBlockNode(bi,En)}_for(r,e){return this._blockNode(r),e&&this.code(e).endFor(),this}for(r,e){return this._for(new Tn(r),e)}forRange(r,e,i,n,o=this.opts.es5?Me.varKinds.var:Me.varKinds.let){let s=this._scope.toName(r);return this._for(new Pn(o,s,e,i),()=>n(s))}forOf(r,e,i,n=Me.varKinds.const){let o=this._scope.toName(r);if(this.opts.es5){let s=e instanceof j.Name?e:this.var("_arr",e);return this.forRange("_i",0,(0,j._)`${s}.length`,a=>{this.var(o,(0,j._)`${s}[${a}]`),i(o)})}return this._for(new zi("of",n,o,e),()=>i(o))}forIn(r,e,i,n=this.opts.es5?Me.varKinds.var:Me.varKinds.const){if(this.opts.ownProperties)return this.forOf(r,(0,j._)`Object.keys(${e})`,i);let o=this._scope.toName(r);return this._for(new zi("in",n,o,e),()=>i(o))}endFor(){return this._endBlockNode(xi)}label(r){return this._leafNode(new Cn(r))}break(r){return this._leafNode(new zn(r))}return(r){let e=new Ga;if(this._blockNode(e),this.code(r),e.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Ga)}try(r,e,i){if(!e&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new On;if(this._blockNode(n),this.code(r),e){let o=this.name("e");this._currNode=n.catch=new Ja(o),e(o)}return i&&(this._currNode=n.finally=new Xa,this.code(i)),this._endBlockNode(Ja,Xa)}throw(r){return this._leafNode(new $n(r))}block(r,e){return this._blockStarts.push(this._nodes.length),r&&this.code(r).endBlock(e),this}endBlock(r){let e=this._blockStarts.pop();if(e===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-e;if(i<0||r!==void 0&&i!==r)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${r} expected`);return this._nodes.length=e,this}func(r,e=j.nil,i,n){return this._blockNode(new Ka(r,e,i)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(Ka)}optimize(r=1){for(;r-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(r){return this._currNode.nodes.push(r),this}_blockNode(r){this._currNode.nodes.push(r),this._nodes.push(r)}_endBlockNode(r,e){let i=this._currNode;if(i instanceof r||e&&i instanceof e)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${e?`${r.kind}/${e.kind}`:r.kind}"`)}_elseNode(r){let e=this._currNode;if(!(e instanceof bi))throw new Error('CodeGen: "else" without "if"');return this._currNode=e.else=r,this}get _root(){return this._nodes[0]}get _currNode(){let r=this._nodes;return r[r.length-1]}set _currNode(r){let e=this._nodes;e[e.length-1]=r}};V.CodeGen=In;function It(t,r){for(let e in r)t[e]=(t[e]||0)+(r[e]||0);return t}function $i(t,r){return r instanceof j._CodeOrName?It(t,r.names):t}function er(t,r,e){if(t instanceof j.Name)return i(t);if(!n(t))return t;return new j._Code(t._items.reduce((o,s)=>(s instanceof j.Name&&(s=i(s)),s instanceof j._Code?o.push(...s._items):o.push(s),o),[]));function i(o){let s=e[o.str];return s===void 0||r[o.str]!==1?o:(delete r[o.str],s)}function n(o){return o instanceof j._Code&&o._items.some(s=>s instanceof j.Name&&r[s.str]===1&&e[s.str]!==void 0)}}function sd(t,r){for(let e in r)t[e]=(t[e]||0)-(r[e]||0)}function Za(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,j._)`!${kn(t)}`}V.not=Za;var ad=Qa(V.operators.AND);function ld(...t){return t.reduce(ad)}V.and=ld;var cd=Qa(V.operators.OR);function ud(...t){return t.reduce(cd)}V.or=ud;function Qa(t){return(r,e)=>r===j.nil?e:e===j.nil?r:(0,j._)`${kn(r)} ${t} ${kn(e)}`}function kn(t){return t instanceof j.Name?t:(0,j._)`(${t})`}});var A=b(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.checkStrictMode=D.getErrorPath=D.Type=D.useFunc=D.setEvaluated=D.evaluatedPropsToName=D.mergeEvaluated=D.eachItem=D.unescapeJsonPointer=D.escapeJsonPointer=D.escapeFragment=D.unescapeFragment=D.schemaRefOrVal=D.schemaHasRulesButRef=D.schemaHasRules=D.checkUnknownRules=D.alwaysValidSchema=D.toHash=void 0;var X=N(),dd=zr();function fd(t){let r={};for(let e of t)r[e]=!0;return r}D.toHash=fd;function pd(t,r){return typeof r=="boolean"?r:Object.keys(r).length===0?!0:(tl(t,r),!rl(r,t.self.RULES.all))}D.alwaysValidSchema=pd;function tl(t,r=t.schema){let{opts:e,self:i}=t;if(!e.strictSchema||typeof r=="boolean")return;let n=i.RULES.keywords;for(let o in r)n[o]||ol(t,`unknown keyword: "${o}"`)}D.checkUnknownRules=tl;function rl(t,r){if(typeof t=="boolean")return!t;for(let e in t)if(r[e])return!0;return!1}D.schemaHasRules=rl;function md(t,r){if(typeof t=="boolean")return!t;for(let e in t)if(e!=="$ref"&&r.all[e])return!0;return!1}D.schemaHasRulesButRef=md;function hd({topSchemaRef:t,schemaPath:r},e,i,n){if(!n){if(typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="string")return(0,X._)`${e}`}return(0,X._)`${t}${r}${(0,X.getProperty)(i)}`}D.schemaRefOrVal=hd;function _d(t){return il(decodeURIComponent(t))}D.unescapeFragment=_d;function gd(t){return encodeURIComponent(Vn(t))}D.escapeFragment=gd;function Vn(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}D.escapeJsonPointer=Vn;function il(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}D.unescapeJsonPointer=il;function yd(t,r){if(Array.isArray(t))for(let e of t)r(e);else r(t)}D.eachItem=yd;function Ya({mergeNames:t,mergeToName:r,mergeValues:e,resultToName:i}){return(n,o,s,a)=>{let l=s===void 0?o:s instanceof X.Name?(o instanceof X.Name?t(n,o,s):r(n,o,s),s):o instanceof X.Name?(r(n,s,o),o):e(o,s);return a===X.Name&&!(l instanceof X.Name)?i(n,l):l}}D.mergeEvaluated={props:Ya({mergeNames:(t,r,e)=>t.if((0,X._)`${e} !== true && ${r} !== undefined`,()=>{t.if((0,X._)`${r} === true`,()=>t.assign(e,!0),()=>t.assign(e,(0,X._)`${e} || {}`).code((0,X._)`Object.assign(${e}, ${r})`))}),mergeToName:(t,r,e)=>t.if((0,X._)`${e} !== true`,()=>{r===!0?t.assign(e,!0):(t.assign(e,(0,X._)`${e} || {}`),Dn(t,e,r))}),mergeValues:(t,r)=>t===!0?!0:C(C({},t),r),resultToName:nl}),items:Ya({mergeNames:(t,r,e)=>t.if((0,X._)`${e} !== true && ${r} !== undefined`,()=>t.assign(e,(0,X._)`${r} === true ? true : ${e} > ${r} ? ${e} : ${r}`)),mergeToName:(t,r,e)=>t.if((0,X._)`${e} !== true`,()=>t.assign(e,r===!0?!0:(0,X._)`${e} > ${r} ? ${e} : ${r}`)),mergeValues:(t,r)=>t===!0?!0:Math.max(t,r),resultToName:(t,r)=>t.var("items",r)})};function nl(t,r){if(r===!0)return t.var("props",!0);let e=t.var("props",(0,X._)`{}`);return r!==void 0&&Dn(t,e,r),e}D.evaluatedPropsToName=nl;function Dn(t,r,e){Object.keys(e).forEach(i=>t.assign((0,X._)`${r}${(0,X.getProperty)(i)}`,!0))}D.setEvaluated=Dn;var el={};function vd(t,r){return t.scopeValue("func",{ref:r,code:el[r.code]||(el[r.code]=new dd._Code(r.code))})}D.useFunc=vd;var Nn=function(t){return t[t.Num=0]="Num",t[t.Str=1]="Str",t}(Nn||(D.Type=Nn={}));function wd(t,r,e){if(t instanceof X.Name){let i=r===Nn.Num;return e?i?(0,X._)`"[" + ${t} + "]"`:(0,X._)`"['" + ${t} + "']"`:i?(0,X._)`"/" + ${t}`:(0,X._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return e?(0,X.getProperty)(t).toString():"/"+Vn(t)}D.getErrorPath=wd;function ol(t,r,e=t.opts.strictSchema){if(e){if(r=`strict mode: ${r}`,e===!0)throw new Error(r);t.self.logger.warn(r)}}D.checkStrictMode=ol});var ct=b(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});var he=N(),bd={data:new he.Name("data"),valCxt:new he.Name("valCxt"),instancePath:new he.Name("instancePath"),parentData:new he.Name("parentData"),parentDataProperty:new he.Name("parentDataProperty"),rootData:new he.Name("rootData"),dynamicAnchors:new he.Name("dynamicAnchors"),vErrors:new he.Name("vErrors"),errors:new he.Name("errors"),this:new he.Name("this"),self:new he.Name("self"),scope:new he.Name("scope"),json:new he.Name("json"),jsonPos:new he.Name("jsonPos"),jsonLen:new he.Name("jsonLen"),jsonPart:new he.Name("jsonPart")};Mn.default=bd});var Sr=b(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.extendErrors=_e.resetErrorsCount=_e.reportExtraError=_e.reportError=_e.keyword$DataError=_e.keywordError=void 0;var R=N(),Ei=A(),ye=ct();_e.keywordError={message:({keyword:t})=>(0,R.str)`must pass "${t}" keyword validation`};_e.keyword$DataError={message:({keyword:t,schemaType:r})=>r?(0,R.str)`"${t}" keyword must be ${r} ($data)`:(0,R.str)`"${t}" keyword is invalid ($data)`};function Cd(t,r=_e.keywordError,e,i){let{it:n}=t,{gen:o,compositeRule:s,allErrors:a}=n,l=ll(t,r,e);i??(s||a)?sl(o,l):al(n,(0,R._)`[${l}]`)}_e.reportError=Cd;function zd(t,r=_e.keywordError,e){let{it:i}=t,{gen:n,compositeRule:o,allErrors:s}=i,a=ll(t,r,e);sl(n,a),o||s||al(i,ye.default.vErrors)}_e.reportExtraError=zd;function $d(t,r){t.assign(ye.default.errors,r),t.if((0,R._)`${ye.default.vErrors} !== null`,()=>t.if(r,()=>t.assign((0,R._)`${ye.default.vErrors}.length`,r),()=>t.assign(ye.default.vErrors,null)))}_e.resetErrorsCount=$d;function Sd({gen:t,keyword:r,schemaValue:e,data:i,errsCount:n,it:o}){if(n===void 0)throw new Error("ajv implementation error");let s=t.name("err");t.forRange("i",n,ye.default.errors,a=>{t.const(s,(0,R._)`${ye.default.vErrors}[${a}]`),t.if((0,R._)`${s}.instancePath === undefined`,()=>t.assign((0,R._)`${s}.instancePath`,(0,R.strConcat)(ye.default.instancePath,o.errorPath))),t.assign((0,R._)`${s}.schemaPath`,(0,R.str)`${o.errSchemaPath}/${r}`),o.opts.verbose&&(t.assign((0,R._)`${s}.schema`,e),t.assign((0,R._)`${s}.data`,i))})}_e.extendErrors=Sd;function sl(t,r){let e=t.const("err",r);t.if((0,R._)`${ye.default.vErrors} === null`,()=>t.assign(ye.default.vErrors,(0,R._)`[${e}]`),(0,R._)`${ye.default.vErrors}.push(${e})`),t.code((0,R._)`${ye.default.errors}++`)}function al(t,r){let{gen:e,validateName:i,schemaEnv:n}=t;n.$async?e.throw((0,R._)`new ${t.ValidationError}(${r})`):(e.assign((0,R._)`${i}.errors`,r),e.return(!1))}var kt={keyword:new R.Name("keyword"),schemaPath:new R.Name("schemaPath"),params:new R.Name("params"),propertyName:new R.Name("propertyName"),message:new R.Name("message"),schema:new R.Name("schema"),parentSchema:new R.Name("parentSchema")};function ll(t,r,e){let{createErrors:i}=t.it;return i===!1?(0,R._)`{}`:xd(t,r,e)}function xd(t,r,e={}){let{gen:i,it:n}=t,o=[Ed(n,e),Td(t,e)];return Pd(t,r,o),i.object(...o)}function Ed({errorPath:t},{instancePath:r}){let e=r?(0,R.str)`${t}${(0,Ei.getErrorPath)(r,Ei.Type.Str)}`:t;return[ye.default.instancePath,(0,R.strConcat)(ye.default.instancePath,e)]}function Td({keyword:t,it:{errSchemaPath:r}},{schemaPath:e,parentSchema:i}){let n=i?r:(0,R.str)`${r}/${t}`;return e&&(n=(0,R.str)`${n}${(0,Ei.getErrorPath)(e,Ei.Type.Str)}`),[kt.schemaPath,n]}function Pd(t,{params:r,message:e},i){let{keyword:n,data:o,schemaValue:s,it:a}=t,{opts:l,propertyName:c,topSchemaRef:u,schemaPath:d}=a;i.push([kt.keyword,n],[kt.params,typeof r=="function"?r(t):r||(0,R._)`{}`]),l.messages&&i.push([kt.message,typeof e=="function"?e(t):e]),l.verbose&&i.push([kt.schema,s],[kt.parentSchema,(0,R._)`${u}${d}`],[ye.default.data,o]),c&&i.push([kt.propertyName,c])}});var ul=b(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.boolOrEmptySchema=tr.topBoolOrEmptySchema=void 0;var Od=Sr(),Id=N(),kd=ct(),Nd={message:"boolean schema is false"};function Vd(t){let{gen:r,schema:e,validateName:i}=t;e===!1?cl(t,!1):typeof e=="object"&&e.$async===!0?r.return(kd.default.data):(r.assign((0,Id._)`${i}.errors`,null),r.return(!0))}tr.topBoolOrEmptySchema=Vd;function Dd(t,r){let{gen:e,schema:i}=t;i===!1?(e.var(r,!1),cl(t)):e.var(r,!0)}tr.boolOrEmptySchema=Dd;function cl(t,r){let{gen:e,data:i}=t,n={gen:e,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Od.reportError)(n,Nd,void 0,r)}});var Fn=b(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.getRules=rr.isJSONType=void 0;var Md=["string","number","integer","boolean","null","object","array"],Fd=new Set(Md);function jd(t){return typeof t=="string"&&Fd.has(t)}rr.isJSONType=jd;function Rd(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:J(C({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}rr.getRules=Rd});var jn=b(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.shouldUseRule=wt.shouldUseGroup=wt.schemaHasRulesForType=void 0;function qd({schema:t,self:r},e){let i=r.RULES.types[e];return i&&i!==!0&&dl(t,i)}wt.schemaHasRulesForType=qd;function dl(t,r){return r.rules.some(e=>fl(t,e))}wt.shouldUseGroup=dl;function fl(t,r){var e;return t[r.keyword]!==void 0||((e=r.definition.implements)===null||e===void 0?void 0:e.some(i=>t[i]!==void 0))}wt.shouldUseRule=fl});var xr=b(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.reportTypeError=ge.checkDataTypes=ge.checkDataType=ge.coerceAndCheckDataType=ge.getJSONTypes=ge.getSchemaTypes=ge.DataType=void 0;var Ad=Fn(),Wd=jn(),Ld=Sr(),k=N(),pl=A(),ir=function(t){return t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong",t}(ir||(ge.DataType=ir={}));function Hd(t){let r=ml(t.type);if(r.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!r.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&r.push("null")}return r}ge.getSchemaTypes=Hd;function ml(t){let r=Array.isArray(t)?t:t?[t]:[];if(r.every(Ad.isJSONType))return r;throw new Error("type must be JSONType or JSONType[]: "+r.join(","))}ge.getJSONTypes=ml;function Ud(t,r){let{gen:e,data:i,opts:n}=t,o=Bd(r,n.coerceTypes),s=r.length>0&&!(o.length===0&&r.length===1&&(0,Wd.schemaHasRulesForType)(t,r[0]));if(s){let a=qn(r,i,n.strictNumbers,ir.Wrong);e.if(a,()=>{o.length?Kd(t,r,o):An(t)})}return s}ge.coerceAndCheckDataType=Ud;var hl=new Set(["string","number","integer","boolean","null"]);function Bd(t,r){return r?t.filter(e=>hl.has(e)||r==="array"&&e==="array"):[]}function Kd(t,r,e){let{gen:i,data:n,opts:o}=t,s=i.let("dataType",(0,k._)`typeof ${n}`),a=i.let("coerced",(0,k._)`undefined`);o.coerceTypes==="array"&&i.if((0,k._)`${s} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>i.assign(n,(0,k._)`${n}[0]`).assign(s,(0,k._)`typeof ${n}`).if(qn(r,n,o.strictNumbers),()=>i.assign(a,n))),i.if((0,k._)`${a} !== undefined`);for(let c of e)(hl.has(c)||c==="array"&&o.coerceTypes==="array")&&l(c);i.else(),An(t),i.endIf(),i.if((0,k._)`${a} !== undefined`,()=>{i.assign(n,a),Gd(t,a)});function l(c){switch(c){case"string":i.elseIf((0,k._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,k._)`"" + ${n}`).elseIf((0,k._)`${n} === null`).assign(a,(0,k._)`""`);return;case"number":i.elseIf((0,k._)`${s} == "boolean" || ${n} === null
              || (${s} == "string" && ${n} && ${n} == +${n})`).assign(a,(0,k._)`+${n}`);return;case"integer":i.elseIf((0,k._)`${s} === "boolean" || ${n} === null
              || (${s} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(a,(0,k._)`+${n}`);return;case"boolean":i.elseIf((0,k._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(a,!1).elseIf((0,k._)`${n} === "true" || ${n} === 1`).assign(a,!0);return;case"null":i.elseIf((0,k._)`${n} === "" || ${n} === 0 || ${n} === false`),i.assign(a,null);return;case"array":i.elseIf((0,k._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${n} === null`).assign(a,(0,k._)`[${n}]`)}}}function Gd({gen:t,parentData:r,parentDataProperty:e},i){t.if((0,k._)`${r} !== undefined`,()=>t.assign((0,k._)`${r}[${e}]`,i))}function Rn(t,r,e,i=ir.Correct){let n=i===ir.Correct?k.operators.EQ:k.operators.NEQ,o;switch(t){case"null":return(0,k._)`${r} ${n} null`;case"array":o=(0,k._)`Array.isArray(${r})`;break;case"object":o=(0,k._)`${r} && typeof ${r} == "object" && !Array.isArray(${r})`;break;case"integer":o=s((0,k._)`!(${r} % 1) && !isNaN(${r})`);break;case"number":o=s();break;default:return(0,k._)`typeof ${r} ${n} ${t}`}return i===ir.Correct?o:(0,k.not)(o);function s(a=k.nil){return(0,k.and)((0,k._)`typeof ${r} == "number"`,a,e?(0,k._)`isFinite(${r})`:k.nil)}}ge.checkDataType=Rn;function qn(t,r,e,i){if(t.length===1)return Rn(t[0],r,e,i);let n,o=(0,pl.toHash)(t);if(o.array&&o.object){let s=(0,k._)`typeof ${r} != "object"`;n=o.null?s:(0,k._)`!${r} || ${s}`,delete o.null,delete o.array,delete o.object}else n=k.nil;o.number&&delete o.integer;for(let s in o)n=(0,k.and)(n,Rn(s,r,e,i));return n}ge.checkDataTypes=qn;var Jd={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:r})=>typeof t=="string"?(0,k._)`{type: ${t}}`:(0,k._)`{type: ${r}}`};function An(t){let r=Xd(t);(0,Ld.reportError)(r,Jd)}ge.reportTypeError=An;function Xd(t){let{gen:r,data:e,schema:i}=t,n=(0,pl.schemaRefOrVal)(t,i,"type");return{gen:r,keyword:"type",data:e,schema:i.type,schemaCode:n,schemaValue:n,parentSchema:i,params:{},it:t}}});var gl=b(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.assignDefaults=void 0;var nr=N(),Zd=A();function Qd(t,r){let{properties:e,items:i}=t.schema;if(r==="object"&&e)for(let n in e)_l(t,n,e[n].default);else r==="array"&&Array.isArray(i)&&i.forEach((n,o)=>_l(t,o,n.default))}Ti.assignDefaults=Qd;function _l(t,r,e){let{gen:i,compositeRule:n,data:o,opts:s}=t;if(e===void 0)return;let a=(0,nr._)`${o}${(0,nr.getProperty)(r)}`;if(n){(0,Zd.checkStrictMode)(t,`default is ignored for: ${a}`);return}let l=(0,nr._)`${a} === undefined`;s.useDefaults==="empty"&&(l=(0,nr._)`${l} || ${a} === null || ${a} === ""`),i.if(l,(0,nr._)`${a} = ${(0,nr.stringify)(e)}`)}});var Ne=b(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.validateUnion=G.validateArray=G.usePattern=G.callValidateCode=G.schemaProperties=G.allSchemaProperties=G.noPropertyInData=G.propertyInData=G.isOwnProperty=G.hasPropFunc=G.reportMissingProp=G.checkMissingProp=G.checkReportMissingProp=void 0;var Y=N(),Wn=A(),bt=ct(),Yd=A();function ef(t,r){let{gen:e,data:i,it:n}=t;e.if(Hn(e,i,r,n.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Y._)`${r}`},!0),t.error()})}G.checkReportMissingProp=ef;function tf({gen:t,data:r,it:{opts:e}},i,n){return(0,Y.or)(...i.map(o=>(0,Y.and)(Hn(t,r,o,e.ownProperties),(0,Y._)`${n} = ${o}`)))}G.checkMissingProp=tf;function rf(t,r){t.setParams({missingProperty:r},!0),t.error()}G.reportMissingProp=rf;function yl(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Y._)`Object.prototype.hasOwnProperty`})}G.hasPropFunc=yl;function Ln(t,r,e){return(0,Y._)`${yl(t)}.call(${r}, ${e})`}G.isOwnProperty=Ln;function nf(t,r,e,i){let n=(0,Y._)`${r}${(0,Y.getProperty)(e)} !== undefined`;return i?(0,Y._)`${n} && ${Ln(t,r,e)}`:n}G.propertyInData=nf;function Hn(t,r,e,i){let n=(0,Y._)`${r}${(0,Y.getProperty)(e)} === undefined`;return i?(0,Y.or)(n,(0,Y.not)(Ln(t,r,e))):n}G.noPropertyInData=Hn;function vl(t){return t?Object.keys(t).filter(r=>r!=="__proto__"):[]}G.allSchemaProperties=vl;function of(t,r){return vl(r).filter(e=>!(0,Wn.alwaysValidSchema)(t,r[e]))}G.schemaProperties=of;function sf({schemaCode:t,data:r,it:{gen:e,topSchemaRef:i,schemaPath:n,errorPath:o},it:s},a,l,c){let u=c?(0,Y._)`${t}, ${r}, ${i}${n}`:r,d=[[bt.default.instancePath,(0,Y.strConcat)(bt.default.instancePath,o)],[bt.default.parentData,s.parentData],[bt.default.parentDataProperty,s.parentDataProperty],[bt.default.rootData,bt.default.rootData]];s.opts.dynamicRef&&d.push([bt.default.dynamicAnchors,bt.default.dynamicAnchors]);let y=(0,Y._)`${u}, ${e.object(...d)}`;return l!==Y.nil?(0,Y._)`${a}.call(${l}, ${y})`:(0,Y._)`${a}(${y})`}G.callValidateCode=sf;var af=(0,Y._)`new RegExp`;function lf({gen:t,it:{opts:r}},e){let i=r.unicodeRegExp?"u":"",{regExp:n}=r.code,o=n(e,i);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Y._)`${n.code==="new RegExp"?af:(0,Yd.useFunc)(t,n)}(${e}, ${i})`})}G.usePattern=lf;function cf(t){let{gen:r,data:e,keyword:i,it:n}=t,o=r.name("valid");if(n.allErrors){let a=r.let("valid",!0);return s(()=>r.assign(a,!1)),a}return r.var(o,!0),s(()=>r.break()),o;function s(a){let l=r.const("len",(0,Y._)`${e}.length`);r.forRange("i",0,l,c=>{t.subschema({keyword:i,dataProp:c,dataPropType:Wn.Type.Num},o),r.if((0,Y.not)(o),a)})}}G.validateArray=cf;function uf(t){let{gen:r,schema:e,keyword:i,it:n}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");if(e.some(l=>(0,Wn.alwaysValidSchema)(n,l))&&!n.opts.unevaluated)return;let s=r.let("valid",!1),a=r.name("_valid");r.block(()=>e.forEach((l,c)=>{let u=t.subschema({keyword:i,schemaProp:c,compositeRule:!0},a);r.assign(s,(0,Y._)`${s} || ${a}`),t.mergeValidEvaluated(u,a)||r.if((0,Y.not)(s))})),t.result(s,()=>t.reset(),()=>t.error(!0))}G.validateUnion=uf});var Cl=b(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.validateKeywordUsage=Ze.validSchemaType=Ze.funcKeywordCode=Ze.macroKeywordCode=void 0;var ve=N(),Nt=ct(),df=Ne(),ff=Sr();function pf(t,r){let{gen:e,keyword:i,schema:n,parentSchema:o,it:s}=t,a=r.macro.call(s.self,n,o,s),l=bl(e,i,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);let c=e.name("valid");t.subschema({schema:a,schemaPath:ve.nil,errSchemaPath:`${s.errSchemaPath}/${i}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}Ze.macroKeywordCode=pf;function mf(t,r){var e;let{gen:i,keyword:n,schema:o,parentSchema:s,$data:a,it:l}=t;_f(l,r);let c=!a&&r.compile?r.compile.call(l.self,o,s,l):r.validate,u=bl(i,n,c),d=i.let("valid");t.block$data(d,y),t.ok((e=r.valid)!==null&&e!==void 0?e:d);function y(){if(r.errors===!1)g(),r.modifying&&wl(t),f(()=>t.error());else{let w=r.async?_():p();r.modifying&&wl(t),f(()=>hf(t,w))}}function _(){let w=i.let("ruleErrs",null);return i.try(()=>g((0,ve._)`await `),M=>i.assign(d,!1).if((0,ve._)`${M} instanceof ${l.ValidationError}`,()=>i.assign(w,(0,ve._)`${M}.errors`),()=>i.throw(M))),w}function p(){let w=(0,ve._)`${u}.errors`;return i.assign(w,null),g(ve.nil),w}function g(w=r.async?(0,ve._)`await `:ve.nil){let M=l.opts.passContext?Nt.default.this:Nt.default.self,F=!("compile"in r&&!a||r.schema===!1);i.assign(d,(0,ve._)`${w}${(0,df.callValidateCode)(t,u,M,F)}`,r.modifying)}function f(w){var M;i.if((0,ve.not)((M=r.valid)!==null&&M!==void 0?M:d),w)}}Ze.funcKeywordCode=mf;function wl(t){let{gen:r,data:e,it:i}=t;r.if(i.parentData,()=>r.assign(e,(0,ve._)`${i.parentData}[${i.parentDataProperty}]`))}function hf(t,r){let{gen:e}=t;e.if((0,ve._)`Array.isArray(${r})`,()=>{e.assign(Nt.default.vErrors,(0,ve._)`${Nt.default.vErrors} === null ? ${r} : ${Nt.default.vErrors}.concat(${r})`).assign(Nt.default.errors,(0,ve._)`${Nt.default.vErrors}.length`),(0,ff.extendErrors)(t)},()=>t.error())}function _f({schemaEnv:t},r){if(r.async&&!t.$async)throw new Error("async keyword in sync schema")}function bl(t,r,e){if(e===void 0)throw new Error(`keyword "${r}" failed to compile`);return t.scopeValue("keyword",typeof e=="function"?{ref:e}:{ref:e,code:(0,ve.stringify)(e)})}function gf(t,r,e=!1){return!r.length||r.some(i=>i==="array"?Array.isArray(t):i==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==i||e&&typeof t>"u")}Ze.validSchemaType=gf;function yf({schema:t,opts:r,self:e,errSchemaPath:i},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");let s=n.dependencies;if(s?.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(n.validateSchema&&!n.validateSchema(t[o])){let l=`keyword "${o}" value is invalid at path "${i}": `+e.errorsText(n.validateSchema.errors);if(r.validateSchema==="log")e.logger.error(l);else throw new Error(l)}}Ze.validateKeywordUsage=yf});var $l=b(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.extendSubschemaMode=Ct.extendSubschemaData=Ct.getSubschema=void 0;var Qe=N(),zl=A();function vf(t,{keyword:r,schemaProp:e,schema:i,schemaPath:n,errSchemaPath:o,topSchemaRef:s}){if(r!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(r!==void 0){let a=t.schema[r];return e===void 0?{schema:a,schemaPath:(0,Qe._)`${t.schemaPath}${(0,Qe.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${r}`}:{schema:a[e],schemaPath:(0,Qe._)`${t.schemaPath}${(0,Qe.getProperty)(r)}${(0,Qe.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${r}/${(0,zl.escapeFragment)(e)}`}}if(i!==void 0){if(n===void 0||o===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Ct.getSubschema=vf;function wf(t,r,{dataProp:e,dataPropType:i,data:n,dataTypes:o,propertyName:s}){if(n!==void 0&&e!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=r;if(e!==void 0){let{errorPath:c,dataPathArr:u,opts:d}=r,y=a.let("data",(0,Qe._)`${r.data}${(0,Qe.getProperty)(e)}`,!0);l(y),t.errorPath=(0,Qe.str)`${c}${(0,zl.getErrorPath)(e,i,d.jsPropertySyntax)}`,t.parentDataProperty=(0,Qe._)`${e}`,t.dataPathArr=[...u,t.parentDataProperty]}if(n!==void 0){let c=n instanceof Qe.Name?n:a.let("data",n,!0);l(c),s!==void 0&&(t.propertyName=s)}o&&(t.dataTypes=o);function l(c){t.data=c,t.dataLevel=r.dataLevel+1,t.dataTypes=[],r.definedProperties=new Set,t.parentData=r.data,t.dataNames=[...r.dataNames,c]}}Ct.extendSubschemaData=wf;function bf(t,{jtdDiscriminator:r,jtdMetadata:e,compositeRule:i,createErrors:n,allErrors:o}){i!==void 0&&(t.compositeRule=i),n!==void 0&&(t.createErrors=n),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=r,t.jtdMetadata=e}Ct.extendSubschemaMode=bf});var Un=b((My,Sl)=>{"use strict";Sl.exports=function t(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){if(r.constructor!==e.constructor)return!1;var i,n,o;if(Array.isArray(r)){if(i=r.length,i!=e.length)return!1;for(n=i;n--!==0;)if(!t(r[n],e[n]))return!1;return!0}if(r.constructor===RegExp)return r.source===e.source&&r.flags===e.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===e.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===e.toString();if(o=Object.keys(r),i=o.length,i!==Object.keys(e).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[n]))return!1;for(n=i;n--!==0;){var s=o[n];if(!t(r[s],e[s]))return!1}return!0}return r!==r&&e!==e}});var El=b((Fy,xl)=>{"use strict";var zt=xl.exports=function(t,r,e){typeof r=="function"&&(e=r,r={}),e=r.cb||e;var i=typeof e=="function"?e:e.pre||function(){},n=e.post||function(){};Pi(r,i,n,t,"",t)};zt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};zt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};zt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};zt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Pi(t,r,e,i,n,o,s,a,l,c){if(i&&typeof i=="object"&&!Array.isArray(i)){r(i,n,o,s,a,l,c);for(var u in i){var d=i[u];if(Array.isArray(d)){if(u in zt.arrayKeywords)for(var y=0;y<d.length;y++)Pi(t,r,e,d[y],n+"/"+u+"/"+y,o,n,u,i,y)}else if(u in zt.propsKeywords){if(d&&typeof d=="object")for(var _ in d)Pi(t,r,e,d[_],n+"/"+u+"/"+Cf(_),o,n,u,i,_)}else(u in zt.keywords||t.allKeys&&!(u in zt.skipKeywords))&&Pi(t,r,e,d,n+"/"+u,o,n,u,i)}e(i,n,o,s,a,l,c)}}function Cf(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Er=b(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.getSchemaRefs=Se.resolveUrl=Se.normalizeId=Se._getFullPath=Se.getFullPath=Se.inlineRef=void 0;var zf=A(),$f=Un(),Sf=El(),xf=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ef(t,r=!0){return typeof t=="boolean"?!0:r===!0?!Bn(t):r?Tl(t)<=r:!1}Se.inlineRef=Ef;var Tf=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Bn(t){for(let r in t){if(Tf.has(r))return!0;let e=t[r];if(Array.isArray(e)&&e.some(Bn)||typeof e=="object"&&Bn(e))return!0}return!1}function Tl(t){let r=0;for(let e in t){if(e==="$ref")return 1/0;if(r++,!xf.has(e)&&(typeof t[e]=="object"&&(0,zf.eachItem)(t[e],i=>r+=Tl(i)),r===1/0))return 1/0}return r}function Pl(t,r="",e){e!==!1&&(r=or(r));let i=t.parse(r);return Ol(t,i)}Se.getFullPath=Pl;function Ol(t,r){return t.serialize(r).split("#")[0]+"#"}Se._getFullPath=Ol;var Pf=/#\/?$/;function or(t){return t?t.replace(Pf,""):""}Se.normalizeId=or;function Of(t,r,e){return e=or(e),t.resolve(r,e)}Se.resolveUrl=Of;var If=/^[a-z_][-a-z0-9._]*$/i;function kf(t,r){if(typeof t=="boolean")return{};let{schemaId:e,uriResolver:i}=this.opts,n=or(t[e]||r),o={"":n},s=Pl(i,n,!1),a={},l=new Set;return Sf(t,{allKeys:!0},(d,y,_,p)=>{if(p===void 0)return;let g=s+y,f=o[p];typeof d[e]=="string"&&(f=w.call(this,d[e])),M.call(this,d.$anchor),M.call(this,d.$dynamicAnchor),o[y]=f;function w(F){let Z=this.opts.uriResolver.resolve;if(F=or(f?Z(f,F):F),l.has(F))throw u(F);l.add(F);let I=this.refs[F];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?c(d,I.schema,F):F!==or(g)&&(F[0]==="#"?(c(d,a[F],F),a[F]=d):this.refs[F]=g),F}function M(F){if(typeof F=="string"){if(!If.test(F))throw new Error(`invalid anchor "${F}"`);w.call(this,`#${F}`)}}}),a;function c(d,y,_){if(y!==void 0&&!$f(d,y))throw u(_)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Se.getSchemaRefs=kf});var Or=b($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.getData=$t.KeywordCxt=$t.validateFunctionCode=void 0;var Dl=ul(),Il=xr(),Gn=jn(),Oi=xr(),Nf=gl(),Pr=Cl(),Kn=$l(),x=N(),T=ct(),Vf=Er(),ut=A(),Tr=Sr();function Df(t){if(jl(t)&&(Rl(t),Fl(t))){jf(t);return}Ml(t,()=>(0,Dl.topBoolOrEmptySchema)(t))}$t.validateFunctionCode=Df;function Ml({gen:t,validateName:r,schema:e,schemaEnv:i,opts:n},o){n.code.es5?t.func(r,(0,x._)`${T.default.data}, ${T.default.valCxt}`,i.$async,()=>{t.code((0,x._)`"use strict"; ${kl(e,n)}`),Ff(t,n),t.code(o)}):t.func(r,(0,x._)`${T.default.data}, ${Mf(n)}`,i.$async,()=>t.code(kl(e,n)).code(o))}function Mf(t){return(0,x._)`{${T.default.instancePath}="", ${T.default.parentData}, ${T.default.parentDataProperty}, ${T.default.rootData}=${T.default.data}${t.dynamicRef?(0,x._)`, ${T.default.dynamicAnchors}={}`:x.nil}}={}`}function Ff(t,r){t.if(T.default.valCxt,()=>{t.var(T.default.instancePath,(0,x._)`${T.default.valCxt}.${T.default.instancePath}`),t.var(T.default.parentData,(0,x._)`${T.default.valCxt}.${T.default.parentData}`),t.var(T.default.parentDataProperty,(0,x._)`${T.default.valCxt}.${T.default.parentDataProperty}`),t.var(T.default.rootData,(0,x._)`${T.default.valCxt}.${T.default.rootData}`),r.dynamicRef&&t.var(T.default.dynamicAnchors,(0,x._)`${T.default.valCxt}.${T.default.dynamicAnchors}`)},()=>{t.var(T.default.instancePath,(0,x._)`""`),t.var(T.default.parentData,(0,x._)`undefined`),t.var(T.default.parentDataProperty,(0,x._)`undefined`),t.var(T.default.rootData,T.default.data),r.dynamicRef&&t.var(T.default.dynamicAnchors,(0,x._)`{}`)})}function jf(t){let{schema:r,opts:e,gen:i}=t;Ml(t,()=>{e.$comment&&r.$comment&&Al(t),Lf(t),i.let(T.default.vErrors,null),i.let(T.default.errors,0),e.unevaluated&&Rf(t),ql(t),Bf(t)})}function Rf(t){let{gen:r,validateName:e}=t;t.evaluated=r.const("evaluated",(0,x._)`${e}.evaluated`),r.if((0,x._)`${t.evaluated}.dynamicProps`,()=>r.assign((0,x._)`${t.evaluated}.props`,(0,x._)`undefined`)),r.if((0,x._)`${t.evaluated}.dynamicItems`,()=>r.assign((0,x._)`${t.evaluated}.items`,(0,x._)`undefined`))}function kl(t,r){let e=typeof t=="object"&&t[r.schemaId];return e&&(r.code.source||r.code.process)?(0,x._)`/*# sourceURL=${e} */`:x.nil}function qf(t,r){if(jl(t)&&(Rl(t),Fl(t))){Af(t,r);return}(0,Dl.boolOrEmptySchema)(t,r)}function Fl({schema:t,self:r}){if(typeof t=="boolean")return!t;for(let e in t)if(r.RULES.all[e])return!0;return!1}function jl(t){return typeof t.schema!="boolean"}function Af(t,r){let{schema:e,gen:i,opts:n}=t;n.$comment&&e.$comment&&Al(t),Hf(t),Uf(t);let o=i.const("_errs",T.default.errors);ql(t,o),i.var(r,(0,x._)`${o} === ${T.default.errors}`)}function Rl(t){(0,ut.checkUnknownRules)(t),Wf(t)}function ql(t,r){if(t.opts.jtd)return Nl(t,[],!1,r);let e=(0,Il.getSchemaTypes)(t.schema),i=(0,Il.coerceAndCheckDataType)(t,e);Nl(t,e,!i,r)}function Wf(t){let{schema:r,errSchemaPath:e,opts:i,self:n}=t;r.$ref&&i.ignoreKeywordsWithRef&&(0,ut.schemaHasRulesButRef)(r,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${e}"`)}function Lf(t){let{schema:r,opts:e}=t;r.default!==void 0&&e.useDefaults&&e.strictSchema&&(0,ut.checkStrictMode)(t,"default is ignored in the schema root")}function Hf(t){let r=t.schema[t.opts.schemaId];r&&(t.baseId=(0,Vf.resolveUrl)(t.opts.uriResolver,t.baseId,r))}function Uf(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Al({gen:t,schemaEnv:r,schema:e,errSchemaPath:i,opts:n}){let o=e.$comment;if(n.$comment===!0)t.code((0,x._)`${T.default.self}.logger.log(${o})`);else if(typeof n.$comment=="function"){let s=(0,x.str)`${i}/$comment`,a=t.scopeValue("root",{ref:r.root});t.code((0,x._)`${T.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`)}}function Bf(t){let{gen:r,schemaEnv:e,validateName:i,ValidationError:n,opts:o}=t;e.$async?r.if((0,x._)`${T.default.errors} === 0`,()=>r.return(T.default.data),()=>r.throw((0,x._)`new ${n}(${T.default.vErrors})`)):(r.assign((0,x._)`${i}.errors`,T.default.vErrors),o.unevaluated&&Kf(t),r.return((0,x._)`${T.default.errors} === 0`))}function Kf({gen:t,evaluated:r,props:e,items:i}){e instanceof x.Name&&t.assign((0,x._)`${r}.props`,e),i instanceof x.Name&&t.assign((0,x._)`${r}.items`,i)}function Nl(t,r,e,i){let{gen:n,schema:o,data:s,allErrors:a,opts:l,self:c}=t,{RULES:u}=c;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,ut.schemaHasRulesButRef)(o,u))){n.block(()=>Ll(t,"$ref",u.all.$ref.definition));return}l.jtd||Gf(t,r),n.block(()=>{for(let y of u.rules)d(y);d(u.post)});function d(y){(0,Gn.shouldUseGroup)(o,y)&&(y.type?(n.if((0,Oi.checkDataType)(y.type,s,l.strictNumbers)),Vl(t,y),r.length===1&&r[0]===y.type&&e&&(n.else(),(0,Oi.reportTypeError)(t)),n.endIf()):Vl(t,y),a||n.if((0,x._)`${T.default.errors} === ${i||0}`))}}function Vl(t,r){let{gen:e,schema:i,opts:{useDefaults:n}}=t;n&&(0,Nf.assignDefaults)(t,r.type),e.block(()=>{for(let o of r.rules)(0,Gn.shouldUseRule)(i,o)&&Ll(t,o.keyword,o.definition,r.type)})}function Gf(t,r){t.schemaEnv.meta||!t.opts.strictTypes||(Jf(t,r),t.opts.allowUnionTypes||Xf(t,r),Zf(t,t.dataTypes))}function Jf(t,r){if(r.length){if(!t.dataTypes.length){t.dataTypes=r;return}r.forEach(e=>{Wl(t.dataTypes,e)||Jn(t,`type "${e}" not allowed by context "${t.dataTypes.join(",")}"`)}),Yf(t,r)}}function Xf(t,r){r.length>1&&!(r.length===2&&r.includes("null"))&&Jn(t,"use allowUnionTypes to allow union type keyword")}function Zf(t,r){let e=t.self.RULES.all;for(let i in e){let n=e[i];if(typeof n=="object"&&(0,Gn.shouldUseRule)(t.schema,n)){let{type:o}=n.definition;o.length&&!o.some(s=>Qf(r,s))&&Jn(t,`missing type "${o.join(",")}" for keyword "${i}"`)}}}function Qf(t,r){return t.includes(r)||r==="number"&&t.includes("integer")}function Wl(t,r){return t.includes(r)||r==="integer"&&t.includes("number")}function Yf(t,r){let e=[];for(let i of t.dataTypes)Wl(r,i)?e.push(i):r.includes("integer")&&i==="number"&&e.push("integer");t.dataTypes=e}function Jn(t,r){let e=t.schemaEnv.baseId+t.errSchemaPath;r+=` at "${e}" (strictTypes)`,(0,ut.checkStrictMode)(t,r,t.opts.strictTypes)}var Ii=class{constructor(r,e,i){if((0,Pr.validateKeywordUsage)(r,e,i),this.gen=r.gen,this.allErrors=r.allErrors,this.keyword=i,this.data=r.data,this.schema=r.schema[i],this.$data=e.$data&&r.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ut.schemaRefOrVal)(r,this.schema,i,this.$data),this.schemaType=e.schemaType,this.parentSchema=r.schema,this.params={},this.it=r,this.def=e,this.$data)this.schemaCode=r.gen.const("vSchema",Hl(this.$data,r));else if(this.schemaCode=this.schemaValue,!(0,Pr.validSchemaType)(this.schema,e.schemaType,e.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(e.schemaType)}`);("code"in e?e.trackErrors:e.errors!==!1)&&(this.errsCount=r.gen.const("_errs",T.default.errors))}result(r,e,i){this.failResult((0,x.not)(r),e,i)}failResult(r,e,i){this.gen.if(r),i?i():this.error(),e?(this.gen.else(),e(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(r,e){this.failResult((0,x.not)(r),void 0,e)}fail(r){if(r===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(r),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(r){if(!this.$data)return this.fail(r);let{schemaCode:e}=this;this.fail((0,x._)`${e} !== undefined && (${(0,x.or)(this.invalid$data(),r)})`)}error(r,e,i){if(e){this.setParams(e),this._error(r,i),this.setParams({});return}this._error(r,i)}_error(r,e){(r?Tr.reportExtraError:Tr.reportError)(this,this.def.error,e)}$dataError(){(0,Tr.reportError)(this,this.def.$dataError||Tr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Tr.resetErrorsCount)(this.gen,this.errsCount)}ok(r){this.allErrors||this.gen.if(r)}setParams(r,e){e?Object.assign(this.params,r):this.params=r}block$data(r,e,i=x.nil){this.gen.block(()=>{this.check$data(r,i),e()})}check$data(r=x.nil,e=x.nil){if(!this.$data)return;let{gen:i,schemaCode:n,schemaType:o,def:s}=this;i.if((0,x.or)((0,x._)`${n} === undefined`,e)),r!==x.nil&&i.assign(r,!0),(o.length||s.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),r!==x.nil&&i.assign(r,!1)),i.else()}invalid$data(){let{gen:r,schemaCode:e,schemaType:i,def:n,it:o}=this;return(0,x.or)(s(),a());function s(){if(i.length){if(!(e instanceof x.Name))throw new Error("ajv implementation error");let l=Array.isArray(i)?i:[i];return(0,x._)`${(0,Oi.checkDataTypes)(l,e,o.opts.strictNumbers,Oi.DataType.Wrong)}`}return x.nil}function a(){if(n.validateSchema){let l=r.scopeValue("validate$data",{ref:n.validateSchema});return(0,x._)`!${l}(${e})`}return x.nil}}subschema(r,e){let i=(0,Kn.getSubschema)(this.it,r);(0,Kn.extendSubschemaData)(i,this.it,r),(0,Kn.extendSubschemaMode)(i,r);let n=J(C(C({},this.it),i),{items:void 0,props:void 0});return qf(n,e),n}mergeEvaluated(r,e){let{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&r.props!==void 0&&(i.props=ut.mergeEvaluated.props(n,r.props,i.props,e)),i.items!==!0&&r.items!==void 0&&(i.items=ut.mergeEvaluated.items(n,r.items,i.items,e)))}mergeValidEvaluated(r,e){let{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(e,()=>this.mergeEvaluated(r,x.Name)),!0}};$t.KeywordCxt=Ii;function Ll(t,r,e,i){let n=new Ii(t,e,r);"code"in e?e.code(n,i):n.$data&&e.validate?(0,Pr.funcKeywordCode)(n,e):"macro"in e?(0,Pr.macroKeywordCode)(n,e):(e.compile||e.validate)&&(0,Pr.funcKeywordCode)(n,e)}var ep=/^\/(?:[^~]|~0|~1)*$/,tp=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Hl(t,{dataLevel:r,dataNames:e,dataPathArr:i}){let n,o;if(t==="")return T.default.rootData;if(t[0]==="/"){if(!ep.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);n=t,o=T.default.rootData}else{let c=tp.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);let u=+c[1];if(n=c[2],n==="#"){if(u>=r)throw new Error(l("property/index",u));return i[r-u]}if(u>r)throw new Error(l("data",u));if(o=e[r-u],!n)return o}let s=o,a=n.split("/");for(let c of a)c&&(o=(0,x._)`${o}${(0,x.getProperty)((0,ut.unescapeJsonPointer)(c))}`,s=(0,x._)`${s} && ${o}`);return s;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${r}`}}$t.getData=Hl});var ki=b(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});var Xn=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};Zn.default=Xn});var Ir=b(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});var Qn=Er(),Yn=class extends Error{constructor(r,e,i,n){super(n||`can't resolve reference ${i} from id ${e}`),this.missingRef=(0,Qn.resolveUrl)(r,e,i),this.missingSchema=(0,Qn.normalizeId)((0,Qn.getFullPath)(r,this.missingRef))}};eo.default=Yn});var Vi=b(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.resolveSchema=Ve.getCompilingSchema=Ve.resolveRef=Ve.compileSchema=Ve.SchemaEnv=void 0;var Fe=N(),rp=ki(),Vt=ct(),je=Er(),Ul=A(),ip=Or(),sr=class{constructor(r){var e;this.refs={},this.dynamicAnchors={};let i;typeof r.schema=="object"&&(i=r.schema),this.schema=r.schema,this.schemaId=r.schemaId,this.root=r.root||this,this.baseId=(e=r.baseId)!==null&&e!==void 0?e:(0,je.normalizeId)(i?.[r.schemaId||"$id"]),this.schemaPath=r.schemaPath,this.localRefs=r.localRefs,this.meta=r.meta,this.$async=i?.$async,this.refs={}}};Ve.SchemaEnv=sr;function ro(t){let r=Bl.call(this,t);if(r)return r;let e=(0,je.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:o}=this.opts,s=new Fe.CodeGen(this.scope,{es5:i,lines:n,ownProperties:o}),a;t.$async&&(a=s.scopeValue("Error",{ref:rp.default,code:(0,Fe._)`require("ajv/dist/runtime/validation_error").default`}));let l=s.scopeName("validate");t.validateName=l;let c={gen:s,allErrors:this.opts.allErrors,data:Vt.default.data,parentData:Vt.default.parentData,parentDataProperty:Vt.default.parentDataProperty,dataNames:[Vt.default.data],dataPathArr:[Fe.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Fe.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:e,baseId:t.baseId||e,schemaPath:Fe.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Fe._)`""`,opts:this.opts,self:this},u;try{this._compilations.add(t),(0,ip.validateFunctionCode)(c),s.optimize(this.opts.code.optimize);let d=s.toString();u=`${s.scopeRefs(Vt.default.scope)}return ${d}`,this.opts.code.process&&(u=this.opts.code.process(u,t));let _=new Function(`${Vt.default.self}`,`${Vt.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:_}),_.errors=null,_.schema=t.schema,_.schemaEnv=t,t.$async&&(_.$async=!0),this.opts.code.source===!0&&(_.source={validateName:l,validateCode:d,scopeValues:s._values}),this.opts.unevaluated){let{props:p,items:g}=c;_.evaluated={props:p instanceof Fe.Name?void 0:p,items:g instanceof Fe.Name?void 0:g,dynamicProps:p instanceof Fe.Name,dynamicItems:g instanceof Fe.Name},_.source&&(_.source.evaluated=(0,Fe.stringify)(_.evaluated))}return t.validate=_,t}catch(d){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),d}finally{this._compilations.delete(t)}}Ve.compileSchema=ro;function np(t,r,e){var i;e=(0,je.resolveUrl)(this.opts.uriResolver,r,e);let n=t.refs[e];if(n)return n;let o=ap.call(this,t,e);if(o===void 0){let s=(i=t.localRefs)===null||i===void 0?void 0:i[e],{schemaId:a}=this.opts;s&&(o=new sr({schema:s,schemaId:a,root:t,baseId:r}))}if(o!==void 0)return t.refs[e]=op.call(this,o)}Ve.resolveRef=np;function op(t){return(0,je.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:ro.call(this,t)}function Bl(t){for(let r of this._compilations)if(sp(r,t))return r}Ve.getCompilingSchema=Bl;function sp(t,r){return t.schema===r.schema&&t.root===r.root&&t.baseId===r.baseId}function ap(t,r){let e;for(;typeof(e=this.refs[r])=="string";)r=e;return e||this.schemas[r]||Ni.call(this,t,r)}function Ni(t,r){let e=this.opts.uriResolver.parse(r),i=(0,je._getFullPath)(this.opts.uriResolver,e),n=(0,je.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&i===n)return to.call(this,e,t);let o=(0,je.normalizeId)(i),s=this.refs[o]||this.schemas[o];if(typeof s=="string"){let a=Ni.call(this,t,s);return typeof a?.schema!="object"?void 0:to.call(this,e,a)}if(typeof s?.schema=="object"){if(s.validate||ro.call(this,s),o===(0,je.normalizeId)(r)){let{schema:a}=s,{schemaId:l}=this.opts,c=a[l];return c&&(n=(0,je.resolveUrl)(this.opts.uriResolver,n,c)),new sr({schema:a,schemaId:l,root:t,baseId:n})}return to.call(this,e,s)}}Ve.resolveSchema=Ni;var lp=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function to(t,{baseId:r,schema:e,root:i}){var n;if(((n=t.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof e=="boolean")return;let l=e[(0,Ul.unescapeFragment)(a)];if(l===void 0)return;e=l;let c=typeof e=="object"&&e[this.opts.schemaId];!lp.has(a)&&c&&(r=(0,je.resolveUrl)(this.opts.uriResolver,r,c))}let o;if(typeof e!="boolean"&&e.$ref&&!(0,Ul.schemaHasRulesButRef)(e,this.RULES)){let a=(0,je.resolveUrl)(this.opts.uriResolver,r,e.$ref);o=Ni.call(this,i,a)}let{schemaId:s}=this.opts;if(o=o||new sr({schema:e,schemaId:s,root:i,baseId:r}),o.schema!==o.root.schema)return o}});var Kl=b((Hy,cp)=>{cp.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Jl=b((Uy,Gl)=>{"use strict";var up={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Gl.exports={HEX:up}});var ic=b((By,rc)=>{"use strict";var{HEX:dp}=Jl();function Yl(t){if(tc(t,".")<3)return{host:t,isIPV4:!1};let r=t.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[e]=r;return e?{host:pp(e,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function io(t,r=!1){let e="",i=!0;for(let n of t){if(dp[n]===void 0)return;n!=="0"&&i===!0&&(i=!1),i||(e+=n)}return r&&e.length===0&&(e="0"),e}function fp(t){let r=0,e={error:!1,address:"",zone:""},i=[],n=[],o=!1,s=!1,a=!1;function l(){if(n.length){if(o===!1){let c=io(n);if(c!==void 0)i.push(c);else return e.error=!0,!1}n.length=0}return!0}for(let c=0;c<t.length;c++){let u=t[c];if(!(u==="["||u==="]"))if(u===":"){if(s===!0&&(a=!0),!l())break;if(r++,i.push(":"),r>7){e.error=!0;break}c-1>=0&&t[c-1]===":"&&(s=!0);continue}else if(u==="%"){if(!l())break;o=!0}else{n.push(u);continue}}return n.length&&(o?e.zone=n.join(""):a?i.push(n.join("")):i.push(io(n))),e.address=i.join(""),e}function ec(t,r={}){if(tc(t,":")<2)return{host:t,isIPV6:!1};let e=fp(t);if(e.error)return{host:t,isIPV6:!1};{let i=e.address,n=e.address;return e.zone&&(i+="%"+e.zone,n+="%25"+e.zone),{host:i,escapedHost:n,isIPV6:!0}}}function pp(t,r){let e="",i=!0,n=t.length;for(let o=0;o<n;o++){let s=t[o];s==="0"&&i?(o+1<=n&&t[o+1]===r||o+1===n)&&(e+=s,i=!1):(s===r?i=!0:i=!1,e+=s)}return e}function tc(t,r){let e=0;for(let i=0;i<t.length;i++)t[i]===r&&e++;return e}var Xl=/^\.\.?\//u,Zl=/^\/\.(?:\/|$)/u,Ql=/^\/\.\.(?:\/|$)/u,mp=/^\/?(?:.|\n)*?(?=\/|$)/u;function hp(t){let r=[];for(;t.length;)if(t.match(Xl))t=t.replace(Xl,"");else if(t.match(Zl))t=t.replace(Zl,"/");else if(t.match(Ql))t=t.replace(Ql,"/"),r.pop();else if(t==="."||t==="..")t="";else{let e=t.match(mp);if(e){let i=e[0];t=t.slice(i.length),r.push(i)}else throw new Error("Unexpected dot segment condition")}return r.join("")}function _p(t,r){let e=r!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=e(t.scheme)),t.userinfo!==void 0&&(t.userinfo=e(t.userinfo)),t.host!==void 0&&(t.host=e(t.host)),t.path!==void 0&&(t.path=e(t.path)),t.query!==void 0&&(t.query=e(t.query)),t.fragment!==void 0&&(t.fragment=e(t.fragment)),t}function gp(t,r){let e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let i=unescape(t.host),n=Yl(i);if(n.isIPV4)i=n.host;else{let o=ec(n.host,{isIPV4:!1});o.isIPV6===!0?i=`[${o.escapedHost}]`:i=t.host}e.push(i)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}rc.exports={recomposeAuthority:gp,normalizeComponentEncoding:_p,removeDotSegments:hp,normalizeIPv4:Yl,normalizeIPv6:ec,stringArrayToHexStripped:io}});var cc=b((Ky,lc)=>{"use strict";var yp=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,vp=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function nc(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function oc(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function sc(t){let r=String(t.scheme).toLowerCase()==="https";return(t.port===(r?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function wp(t){return t.secure=nc(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function bp(t){if((t.port===(nc(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[r,e]=t.resourceName.split("?");t.path=r&&r!=="/"?r:void 0,t.query=e,t.resourceName=void 0}return t.fragment=void 0,t}function Cp(t,r){if(!t.path)return t.error="URN can not be parsed",t;let e=t.path.match(vp);if(e){let i=r.scheme||t.scheme||"urn";t.nid=e[1].toLowerCase(),t.nss=e[2];let n=`${i}:${r.nid||t.nid}`,o=no[n];t.path=void 0,o&&(t=o.parse(t,r))}else t.error=t.error||"URN can not be parsed.";return t}function zp(t,r){let e=r.scheme||t.scheme||"urn",i=t.nid.toLowerCase(),n=`${e}:${r.nid||i}`,o=no[n];o&&(t=o.serialize(t,r));let s=t,a=t.nss;return s.path=`${i||r.nid}:${a}`,r.skipEscape=!0,s}function $p(t,r){let e=t;return e.uuid=e.nss,e.nss=void 0,!r.tolerant&&(!e.uuid||!yp.test(e.uuid))&&(e.error=e.error||"UUID is not valid."),e}function Sp(t){let r=t;return r.nss=(t.uuid||"").toLowerCase(),r}var ac={scheme:"http",domainHost:!0,parse:oc,serialize:sc},xp={scheme:"https",domainHost:ac.domainHost,parse:oc,serialize:sc},Di={scheme:"ws",domainHost:!0,parse:wp,serialize:bp},Ep={scheme:"wss",domainHost:Di.domainHost,parse:Di.parse,serialize:Di.serialize},Tp={scheme:"urn",parse:Cp,serialize:zp,skipNormalize:!0},Pp={scheme:"urn:uuid",parse:$p,serialize:Sp,skipNormalize:!0},no={http:ac,https:xp,ws:Di,wss:Ep,urn:Tp,"urn:uuid":Pp};lc.exports=no});var dc=b((Gy,Fi)=>{"use strict";var{normalizeIPv6:Op,normalizeIPv4:Ip,removeDotSegments:kr,recomposeAuthority:kp,normalizeComponentEncoding:Mi}=ic(),oo=cc();function Np(t,r){return typeof t=="string"?t=Ye(dt(t,r),r):typeof t=="object"&&(t=dt(Ye(t,r),r)),t}function Vp(t,r,e){let i=Object.assign({scheme:"null"},e),n=uc(dt(t,i),dt(r,i),i,!0);return Ye(n,J(C({},i),{skipEscape:!0}))}function uc(t,r,e,i){let n={};return i||(t=dt(Ye(t,e),e),r=dt(Ye(r,e),e)),e=e||{},!e.tolerant&&r.scheme?(n.scheme=r.scheme,n.userinfo=r.userinfo,n.host=r.host,n.port=r.port,n.path=kr(r.path||""),n.query=r.query):(r.userinfo!==void 0||r.host!==void 0||r.port!==void 0?(n.userinfo=r.userinfo,n.host=r.host,n.port=r.port,n.path=kr(r.path||""),n.query=r.query):(r.path?(r.path.charAt(0)==="/"?n.path=kr(r.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?n.path="/"+r.path:t.path?n.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+r.path:n.path=r.path,n.path=kr(n.path)),n.query=r.query):(n.path=t.path,r.query!==void 0?n.query=r.query:n.query=t.query),n.userinfo=t.userinfo,n.host=t.host,n.port=t.port),n.scheme=t.scheme),n.fragment=r.fragment,n}function Dp(t,r,e){return typeof t=="string"?(t=unescape(t),t=Ye(Mi(dt(t,e),!0),J(C({},e),{skipEscape:!0}))):typeof t=="object"&&(t=Ye(Mi(t,!0),J(C({},e),{skipEscape:!0}))),typeof r=="string"?(r=unescape(r),r=Ye(Mi(dt(r,e),!0),J(C({},e),{skipEscape:!0}))):typeof r=="object"&&(r=Ye(Mi(r,!0),J(C({},e),{skipEscape:!0}))),t.toLowerCase()===r.toLowerCase()}function Ye(t,r){let e={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},i=Object.assign({},r),n=[],o=oo[(i.scheme||e.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(e,i),e.path!==void 0&&(i.skipEscape?e.path=unescape(e.path):(e.path=escape(e.path),e.scheme!==void 0&&(e.path=e.path.split("%3A").join(":")))),i.reference!=="suffix"&&e.scheme&&n.push(e.scheme,":");let s=kp(e,i);if(s!==void 0&&(i.reference!=="suffix"&&n.push("//"),n.push(s),e.path&&e.path.charAt(0)!=="/"&&n.push("/")),e.path!==void 0){let a=e.path;!i.absolutePath&&(!o||!o.absolutePath)&&(a=kr(a)),s===void 0&&(a=a.replace(/^\/\//u,"/%2F")),n.push(a)}return e.query!==void 0&&n.push("?",e.query),e.fragment!==void 0&&n.push("#",e.fragment),n.join("")}var Mp=Array.from({length:127},(t,r)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(r)));function Fp(t){let r=0;for(let e=0,i=t.length;e<i;++e)if(r=t.charCodeAt(e),r>126||Mp[r])return!0;return!1}var jp=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function dt(t,r){let e=Object.assign({},r),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},n=t.indexOf("%")!==-1,o=!1;e.reference==="suffix"&&(t=(e.scheme?e.scheme+":":"")+"//"+t);let s=t.match(jp);if(s){if(i.scheme=s[1],i.userinfo=s[3],i.host=s[4],i.port=parseInt(s[5],10),i.path=s[6]||"",i.query=s[7],i.fragment=s[8],isNaN(i.port)&&(i.port=s[5]),i.host){let l=Ip(i.host);if(l.isIPV4===!1){let c=Op(l.host,{isIPV4:!1});i.host=c.host.toLowerCase(),o=c.isIPV6}else i.host=l.host,o=!0}i.scheme===void 0&&i.userinfo===void 0&&i.host===void 0&&i.port===void 0&&!i.path&&i.query===void 0?i.reference="same-document":i.scheme===void 0?i.reference="relative":i.fragment===void 0?i.reference="absolute":i.reference="uri",e.reference&&e.reference!=="suffix"&&e.reference!==i.reference&&(i.error=i.error||"URI is not a "+e.reference+" reference.");let a=oo[(e.scheme||i.scheme||"").toLowerCase()];if(!e.unicodeSupport&&(!a||!a.unicodeSupport)&&i.host&&(e.domainHost||a&&a.domainHost)&&o===!1&&Fp(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(l){i.error=i.error||"Host's domain name can not be converted to ASCII: "+l}(!a||a&&!a.skipNormalize)&&(n&&i.scheme!==void 0&&(i.scheme=unescape(i.scheme)),n&&i.host!==void 0&&(i.host=unescape(i.host)),i.path!==void 0&&i.path.length&&(i.path=escape(unescape(i.path))),i.fragment!==void 0&&i.fragment.length&&(i.fragment=encodeURI(decodeURIComponent(i.fragment)))),a&&a.parse&&a.parse(i,e)}else i.error=i.error||"URI can not be parsed.";return i}var so={SCHEMES:oo,normalize:Np,resolve:Vp,resolveComponents:uc,equal:Dp,serialize:Ye,parse:dt};Fi.exports=so;Fi.exports.default=so;Fi.exports.fastUri=so});var pc=b(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});var fc=dc();fc.code='require("ajv/dist/runtime/uri").default';ao.default=fc});var bc=b(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.CodeGen=ce.Name=ce.nil=ce.stringify=ce.str=ce._=ce.KeywordCxt=void 0;var Rp=Or();Object.defineProperty(ce,"KeywordCxt",{enumerable:!0,get:function(){return Rp.KeywordCxt}});var ar=N();Object.defineProperty(ce,"_",{enumerable:!0,get:function(){return ar._}});Object.defineProperty(ce,"str",{enumerable:!0,get:function(){return ar.str}});Object.defineProperty(ce,"stringify",{enumerable:!0,get:function(){return ar.stringify}});Object.defineProperty(ce,"nil",{enumerable:!0,get:function(){return ar.nil}});Object.defineProperty(ce,"Name",{enumerable:!0,get:function(){return ar.Name}});Object.defineProperty(ce,"CodeGen",{enumerable:!0,get:function(){return ar.CodeGen}});var qp=ki(),yc=Ir(),Ap=Fn(),Nr=Vi(),Wp=N(),Vr=Er(),ji=xr(),co=A(),mc=Kl(),Lp=pc(),vc=(t,r)=>new RegExp(t,r);vc.code="new RegExp";var Hp=["removeAdditional","useDefaults","coerceTypes"],Up=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Bp={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Kp={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},hc=200;function Gp(t){var r,e,i,n,o,s,a,l,c,u,d,y,_,p,g,f,w,M,F,Z,I,Ae,ot,an,ln;let gr=t.strict,cn=(r=t.code)===null||r===void 0?void 0:r.optimize,bs=cn===!0||cn===void 0?1:cn||0,Cs=(i=(e=t.code)===null||e===void 0?void 0:e.regExp)!==null&&i!==void 0?i:vc,Bu=(n=t.uriResolver)!==null&&n!==void 0?n:Lp.default;return{strictSchema:(s=(o=t.strictSchema)!==null&&o!==void 0?o:gr)!==null&&s!==void 0?s:!0,strictNumbers:(l=(a=t.strictNumbers)!==null&&a!==void 0?a:gr)!==null&&l!==void 0?l:!0,strictTypes:(u=(c=t.strictTypes)!==null&&c!==void 0?c:gr)!==null&&u!==void 0?u:"log",strictTuples:(y=(d=t.strictTuples)!==null&&d!==void 0?d:gr)!==null&&y!==void 0?y:"log",strictRequired:(p=(_=t.strictRequired)!==null&&_!==void 0?_:gr)!==null&&p!==void 0?p:!1,code:t.code?J(C({},t.code),{optimize:bs,regExp:Cs}):{optimize:bs,regExp:Cs},loopRequired:(g=t.loopRequired)!==null&&g!==void 0?g:hc,loopEnum:(f=t.loopEnum)!==null&&f!==void 0?f:hc,meta:(w=t.meta)!==null&&w!==void 0?w:!0,messages:(M=t.messages)!==null&&M!==void 0?M:!0,inlineRefs:(F=t.inlineRefs)!==null&&F!==void 0?F:!0,schemaId:(Z=t.schemaId)!==null&&Z!==void 0?Z:"$id",addUsedSchema:(I=t.addUsedSchema)!==null&&I!==void 0?I:!0,validateSchema:(Ae=t.validateSchema)!==null&&Ae!==void 0?Ae:!0,validateFormats:(ot=t.validateFormats)!==null&&ot!==void 0?ot:!0,unicodeRegExp:(an=t.unicodeRegExp)!==null&&an!==void 0?an:!0,int32range:(ln=t.int32range)!==null&&ln!==void 0?ln:!0,uriResolver:Bu}}var Dr=class{constructor(r={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,r=this.opts=C(C({},r),Gp(r));let{es5:e,lines:i}=this.opts.code;this.scope=new Wp.ValueScope({scope:{},prefixes:Up,es5:e,lines:i}),this.logger=em(r.logger);let n=r.validateFormats;r.validateFormats=!1,this.RULES=(0,Ap.getRules)(),_c.call(this,Bp,r,"NOT SUPPORTED"),_c.call(this,Kp,r,"DEPRECATED","warn"),this._metaOpts=Qp.call(this),r.formats&&Xp.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),r.keywords&&Zp.call(this,r.keywords),typeof r.meta=="object"&&this.addMetaSchema(r.meta),Jp.call(this),r.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:r,meta:e,schemaId:i}=this.opts,n=mc;i==="id"&&(n=C({},mc),n.id=n.$id,delete n.$id),e&&r&&this.addMetaSchema(n,n[i],!1)}defaultMeta(){let{meta:r,schemaId:e}=this.opts;return this.opts.defaultMeta=typeof r=="object"?r[e]||r:void 0}validate(r,e){let i;if(typeof r=="string"){if(i=this.getSchema(r),!i)throw new Error(`no schema with key or ref "${r}"`)}else i=this.compile(r);let n=i(e);return"$async"in i||(this.errors=i.errors),n}compile(r,e){let i=this._addSchema(r,e);return i.validate||this._compileSchemaEnv(i)}compileAsync(r,e){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return n.call(this,r,e);function n(u,d){return Rt(this,null,function*(){yield o.call(this,u.$schema);let y=this._addSchema(u,d);return y.validate||s.call(this,y)})}function o(u){return Rt(this,null,function*(){u&&!this.getSchema(u)&&(yield n.call(this,{$ref:u},!0))})}function s(u){return Rt(this,null,function*(){try{return this._compileSchemaEnv(u)}catch(d){if(!(d instanceof yc.default))throw d;return a.call(this,d),yield l.call(this,d.missingSchema),s.call(this,u)}})}function a({missingSchema:u,missingRef:d}){if(this.refs[u])throw new Error(`AnySchema ${u} is loaded but ${d} cannot be resolved`)}function l(u){return Rt(this,null,function*(){let d=yield c.call(this,u);this.refs[u]||(yield o.call(this,d.$schema)),this.refs[u]||this.addSchema(d,u,e)})}function c(u){return Rt(this,null,function*(){let d=this._loading[u];if(d)return d;try{return yield this._loading[u]=i(u)}finally{delete this._loading[u]}})}}addSchema(r,e,i,n=this.opts.validateSchema){if(Array.isArray(r)){for(let s of r)this.addSchema(s,void 0,i,n);return this}let o;if(typeof r=="object"){let{schemaId:s}=this.opts;if(o=r[s],o!==void 0&&typeof o!="string")throw new Error(`schema ${s} must be string`)}return e=(0,Vr.normalizeId)(e||o),this._checkUnique(e),this.schemas[e]=this._addSchema(r,i,e,n,!0),this}addMetaSchema(r,e,i=this.opts.validateSchema){return this.addSchema(r,e,!0,i),this}validateSchema(r,e){if(typeof r=="boolean")return!0;let i;if(i=r.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(i,r);if(!n&&e){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return n}getSchema(r){let e;for(;typeof(e=gc.call(this,r))=="string";)r=e;if(e===void 0){let{schemaId:i}=this.opts,n=new Nr.SchemaEnv({schema:{},schemaId:i});if(e=Nr.resolveSchema.call(this,n,r),!e)return;this.refs[r]=e}return e.validate||this._compileSchemaEnv(e)}removeSchema(r){if(r instanceof RegExp)return this._removeAllSchemas(this.schemas,r),this._removeAllSchemas(this.refs,r),this;switch(typeof r){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let e=gc.call(this,r);return typeof e=="object"&&this._cache.delete(e.schema),delete this.schemas[r],delete this.refs[r],this}case"object":{let e=r;this._cache.delete(e);let i=r[this.opts.schemaId];return i&&(i=(0,Vr.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(r){for(let e of r)this.addKeyword(e);return this}addKeyword(r,e){let i;if(typeof r=="string")i=r,typeof e=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),e.keyword=i);else if(typeof r=="object"&&e===void 0){if(e=r,i=e.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(rm.call(this,i,e),!e)return(0,co.eachItem)(i,o=>lo.call(this,o)),this;nm.call(this,e);let n=J(C({},e),{type:(0,ji.getJSONTypes)(e.type),schemaType:(0,ji.getJSONTypes)(e.schemaType)});return(0,co.eachItem)(i,n.type.length===0?o=>lo.call(this,o,n):o=>n.type.forEach(s=>lo.call(this,o,n,s))),this}getKeyword(r){let e=this.RULES.all[r];return typeof e=="object"?e.definition:!!e}removeKeyword(r){let{RULES:e}=this;delete e.keywords[r],delete e.all[r];for(let i of e.rules){let n=i.rules.findIndex(o=>o.keyword===r);n>=0&&i.rules.splice(n,1)}return this}addFormat(r,e){return typeof e=="string"&&(e=new RegExp(e)),this.formats[r]=e,this}errorsText(r=this.errors,{separator:e=", ",dataVar:i="data"}={}){return!r||r.length===0?"No errors":r.map(n=>`${i}${n.instancePath} ${n.message}`).reduce((n,o)=>n+e+o)}$dataMetaSchema(r,e){let i=this.RULES.all;r=JSON.parse(JSON.stringify(r));for(let n of e){let o=n.split("/").slice(1),s=r;for(let a of o)s=s[a];for(let a in i){let l=i[a];if(typeof l!="object")continue;let{$data:c}=l.definition,u=s[a];c&&u&&(s[a]=wc(u))}}return r}_removeAllSchemas(r,e){for(let i in r){let n=r[i];(!e||e.test(i))&&(typeof n=="string"?delete r[i]:n&&!n.meta&&(this._cache.delete(n.schema),delete r[i]))}}_addSchema(r,e,i,n=this.opts.validateSchema,o=this.opts.addUsedSchema){let s,{schemaId:a}=this.opts;if(typeof r=="object")s=r[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof r!="boolean")throw new Error("schema must be object or boolean")}let l=this._cache.get(r);if(l!==void 0)return l;i=(0,Vr.normalizeId)(s||i);let c=Vr.getSchemaRefs.call(this,r,i);return l=new Nr.SchemaEnv({schema:r,schemaId:a,meta:e,baseId:i,localRefs:c}),this._cache.set(l.schema,l),o&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=l),n&&this.validateSchema(r,!0),l}_checkUnique(r){if(this.schemas[r]||this.refs[r])throw new Error(`schema with key or id "${r}" already exists`)}_compileSchemaEnv(r){if(r.meta?this._compileMetaSchema(r):Nr.compileSchema.call(this,r),!r.validate)throw new Error("ajv implementation error");return r.validate}_compileMetaSchema(r){let e=this.opts;this.opts=this._metaOpts;try{Nr.compileSchema.call(this,r)}finally{this.opts=e}}};Dr.ValidationError=qp.default;Dr.MissingRefError=yc.default;ce.default=Dr;function _c(t,r,e,i="error"){for(let n in t){let o=n;o in r&&this.logger[i](`${e}: option ${n}. ${t[o]}`)}}function gc(t){return t=(0,Vr.normalizeId)(t),this.schemas[t]||this.refs[t]}function Jp(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let r in t)this.addSchema(t[r],r)}function Xp(){for(let t in this.opts.formats){let r=this.opts.formats[t];r&&this.addFormat(t,r)}}function Zp(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let r in t){let e=t[r];e.keyword||(e.keyword=r),this.addKeyword(e)}}function Qp(){let t=C({},this.opts);for(let r of Hp)delete t[r];return t}var Yp={log(){},warn(){},error(){}};function em(t){if(t===!1)return Yp;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var tm=/^[a-z_$][a-z0-9_$:-]*$/i;function rm(t,r){let{RULES:e}=this;if((0,co.eachItem)(t,i=>{if(e.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!tm.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!r&&r.$data&&!("code"in r||"validate"in r))throw new Error('$data keyword must have "code" or "validate" function')}function lo(t,r,e){var i;let n=r?.post;if(e&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,s=n?o.post:o.rules.find(({type:l})=>l===e);if(s||(s={type:e,rules:[]},o.rules.push(s)),o.keywords[t]=!0,!r)return;let a={keyword:t,definition:J(C({},r),{type:(0,ji.getJSONTypes)(r.type),schemaType:(0,ji.getJSONTypes)(r.schemaType)})};r.before?im.call(this,s,a,r.before):s.rules.push(a),o.all[t]=a,(i=r.implements)===null||i===void 0||i.forEach(l=>this.addKeyword(l))}function im(t,r,e){let i=t.rules.findIndex(n=>n.keyword===e);i>=0?t.rules.splice(i,0,r):(t.rules.push(r),this.logger.warn(`rule ${e} is not defined`))}function nm(t){let{metaSchema:r}=t;r!==void 0&&(t.$data&&this.opts.$data&&(r=wc(r)),t.validateSchema=this.compile(r,!0))}var om={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function wc(t){return{anyOf:[t,om]}}});var Cc=b(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});var sm={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};uo.default=sm});var xc=b(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.callRef=Dt.getValidate=void 0;var am=Ir(),zc=Ne(),xe=N(),lr=ct(),$c=Vi(),Ri=A(),lm={keyword:"$ref",schemaType:"string",code(t){let{gen:r,schema:e,it:i}=t,{baseId:n,schemaEnv:o,validateName:s,opts:a,self:l}=i,{root:c}=o;if((e==="#"||e==="#/")&&n===c.baseId)return d();let u=$c.resolveRef.call(l,c,n,e);if(u===void 0)throw new am.default(i.opts.uriResolver,n,e);if(u instanceof $c.SchemaEnv)return y(u);return _(u);function d(){if(o===c)return qi(t,s,o,o.$async);let p=r.scopeValue("root",{ref:c});return qi(t,(0,xe._)`${p}.validate`,c,c.$async)}function y(p){let g=Sc(t,p);qi(t,g,p,p.$async)}function _(p){let g=r.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,xe.stringify)(p)}:{ref:p}),f=r.name("valid"),w=t.subschema({schema:p,dataTypes:[],schemaPath:xe.nil,topSchemaRef:g,errSchemaPath:e},f);t.mergeEvaluated(w),t.ok(f)}}};function Sc(t,r){let{gen:e}=t;return r.validate?e.scopeValue("validate",{ref:r.validate}):(0,xe._)`${e.scopeValue("wrapper",{ref:r})}.validate`}Dt.getValidate=Sc;function qi(t,r,e,i){let{gen:n,it:o}=t,{allErrors:s,schemaEnv:a,opts:l}=o,c=l.passContext?lr.default.this:xe.nil;i?u():d();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");let p=n.let("valid");n.try(()=>{n.code((0,xe._)`await ${(0,zc.callValidateCode)(t,r,c)}`),_(r),s||n.assign(p,!0)},g=>{n.if((0,xe._)`!(${g} instanceof ${o.ValidationError})`,()=>n.throw(g)),y(g),s||n.assign(p,!1)}),t.ok(p)}function d(){t.result((0,zc.callValidateCode)(t,r,c),()=>_(r),()=>y(r))}function y(p){let g=(0,xe._)`${p}.errors`;n.assign(lr.default.vErrors,(0,xe._)`${lr.default.vErrors} === null ? ${g} : ${lr.default.vErrors}.concat(${g})`),n.assign(lr.default.errors,(0,xe._)`${lr.default.vErrors}.length`)}function _(p){var g;if(!o.opts.unevaluated)return;let f=(g=e?.validate)===null||g===void 0?void 0:g.evaluated;if(o.props!==!0)if(f&&!f.dynamicProps)f.props!==void 0&&(o.props=Ri.mergeEvaluated.props(n,f.props,o.props));else{let w=n.var("props",(0,xe._)`${p}.evaluated.props`);o.props=Ri.mergeEvaluated.props(n,w,o.props,xe.Name)}if(o.items!==!0)if(f&&!f.dynamicItems)f.items!==void 0&&(o.items=Ri.mergeEvaluated.items(n,f.items,o.items));else{let w=n.var("items",(0,xe._)`${p}.evaluated.items`);o.items=Ri.mergeEvaluated.items(n,w,o.items,xe.Name)}}}Dt.callRef=qi;Dt.default=lm});var Ec=b(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});var cm=Cc(),um=xc(),dm=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",cm.default,um.default];fo.default=dm});var Tc=b(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});var Ai=N(),St=Ai.operators,Wi={maximum:{okStr:"<=",ok:St.LTE,fail:St.GT},minimum:{okStr:">=",ok:St.GTE,fail:St.LT},exclusiveMaximum:{okStr:"<",ok:St.LT,fail:St.GTE},exclusiveMinimum:{okStr:">",ok:St.GT,fail:St.LTE}},fm={message:({keyword:t,schemaCode:r})=>(0,Ai.str)`must be ${Wi[t].okStr} ${r}`,params:({keyword:t,schemaCode:r})=>(0,Ai._)`{comparison: ${Wi[t].okStr}, limit: ${r}}`},pm={keyword:Object.keys(Wi),type:"number",schemaType:"number",$data:!0,error:fm,code(t){let{keyword:r,data:e,schemaCode:i}=t;t.fail$data((0,Ai._)`${e} ${Wi[r].fail} ${i} || isNaN(${e})`)}};po.default=pm});var Pc=b(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});var Mr=N(),mm={message:({schemaCode:t})=>(0,Mr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Mr._)`{multipleOf: ${t}}`},hm={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:mm,code(t){let{gen:r,data:e,schemaCode:i,it:n}=t,o=n.opts.multipleOfPrecision,s=r.let("res"),a=o?(0,Mr._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,Mr._)`${s} !== parseInt(${s})`;t.fail$data((0,Mr._)`(${i} === 0 || (${s} = ${e}/${i}, ${a}))`)}};mo.default=hm});var Ic=b(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});function Oc(t){let r=t.length,e=0,i=0,n;for(;i<r;)e++,n=t.charCodeAt(i++),n>=55296&&n<=56319&&i<r&&(n=t.charCodeAt(i),(n&64512)===56320&&i++);return e}ho.default=Oc;Oc.code='require("ajv/dist/runtime/ucs2length").default'});var kc=b(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});var Mt=N(),_m=A(),gm=Ic(),ym={message({keyword:t,schemaCode:r}){let e=t==="maxLength"?"more":"fewer";return(0,Mt.str)`must NOT have ${e} than ${r} characters`},params:({schemaCode:t})=>(0,Mt._)`{limit: ${t}}`},vm={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:ym,code(t){let{keyword:r,data:e,schemaCode:i,it:n}=t,o=r==="maxLength"?Mt.operators.GT:Mt.operators.LT,s=n.opts.unicode===!1?(0,Mt._)`${e}.length`:(0,Mt._)`${(0,_m.useFunc)(t.gen,gm.default)}(${e})`;t.fail$data((0,Mt._)`${s} ${o} ${i}`)}};_o.default=vm});var Nc=b(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});var wm=Ne(),Li=N(),bm={message:({schemaCode:t})=>(0,Li.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Li._)`{pattern: ${t}}`},Cm={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:bm,code(t){let{data:r,$data:e,schema:i,schemaCode:n,it:o}=t,s=o.opts.unicodeRegExp?"u":"",a=e?(0,Li._)`(new RegExp(${n}, ${s}))`:(0,wm.usePattern)(t,i);t.fail$data((0,Li._)`!${a}.test(${r})`)}};go.default=Cm});var Vc=b(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});var Fr=N(),zm={message({keyword:t,schemaCode:r}){let e=t==="maxProperties"?"more":"fewer";return(0,Fr.str)`must NOT have ${e} than ${r} properties`},params:({schemaCode:t})=>(0,Fr._)`{limit: ${t}}`},$m={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:zm,code(t){let{keyword:r,data:e,schemaCode:i}=t,n=r==="maxProperties"?Fr.operators.GT:Fr.operators.LT;t.fail$data((0,Fr._)`Object.keys(${e}).length ${n} ${i}`)}};yo.default=$m});var Dc=b(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});var jr=Ne(),Rr=N(),Sm=A(),xm={message:({params:{missingProperty:t}})=>(0,Rr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Rr._)`{missingProperty: ${t}}`},Em={keyword:"required",type:"object",schemaType:"array",$data:!0,error:xm,code(t){let{gen:r,schema:e,schemaCode:i,data:n,$data:o,it:s}=t,{opts:a}=s;if(!o&&e.length===0)return;let l=e.length>=a.loopRequired;if(s.allErrors?c():u(),a.strictRequired){let _=t.parentSchema.properties,{definedProperties:p}=t.it;for(let g of e)if(_?.[g]===void 0&&!p.has(g)){let f=s.schemaEnv.baseId+s.errSchemaPath,w=`required property "${g}" is not defined at "${f}" (strictRequired)`;(0,Sm.checkStrictMode)(s,w,s.opts.strictRequired)}}function c(){if(l||o)t.block$data(Rr.nil,d);else for(let _ of e)(0,jr.checkReportMissingProp)(t,_)}function u(){let _=r.let("missing");if(l||o){let p=r.let("valid",!0);t.block$data(p,()=>y(_,p)),t.ok(p)}else r.if((0,jr.checkMissingProp)(t,e,_)),(0,jr.reportMissingProp)(t,_),r.else()}function d(){r.forOf("prop",i,_=>{t.setParams({missingProperty:_}),r.if((0,jr.noPropertyInData)(r,n,_,a.ownProperties),()=>t.error())})}function y(_,p){t.setParams({missingProperty:_}),r.forOf(_,i,()=>{r.assign(p,(0,jr.propertyInData)(r,n,_,a.ownProperties)),r.if((0,Rr.not)(p),()=>{t.error(),r.break()})},Rr.nil)}}};vo.default=Em});var Mc=b(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});var qr=N(),Tm={message({keyword:t,schemaCode:r}){let e=t==="maxItems"?"more":"fewer";return(0,qr.str)`must NOT have ${e} than ${r} items`},params:({schemaCode:t})=>(0,qr._)`{limit: ${t}}`},Pm={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Tm,code(t){let{keyword:r,data:e,schemaCode:i}=t,n=r==="maxItems"?qr.operators.GT:qr.operators.LT;t.fail$data((0,qr._)`${e}.length ${n} ${i}`)}};wo.default=Pm});var Hi=b(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});var Fc=Un();Fc.code='require("ajv/dist/runtime/equal").default';bo.default=Fc});var jc=b(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});var Co=xr(),ue=N(),Om=A(),Im=Hi(),km={message:({params:{i:t,j:r}})=>(0,ue.str)`must NOT have duplicate items (items ## ${r} and ${t} are identical)`,params:({params:{i:t,j:r}})=>(0,ue._)`{i: ${t}, j: ${r}}`},Nm={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:km,code(t){let{gen:r,data:e,$data:i,schema:n,parentSchema:o,schemaCode:s,it:a}=t;if(!i&&!n)return;let l=r.let("valid"),c=o.items?(0,Co.getSchemaTypes)(o.items):[];t.block$data(l,u,(0,ue._)`${s} === false`),t.ok(l);function u(){let p=r.let("i",(0,ue._)`${e}.length`),g=r.let("j");t.setParams({i:p,j:g}),r.assign(l,!0),r.if((0,ue._)`${p} > 1`,()=>(d()?y:_)(p,g))}function d(){return c.length>0&&!c.some(p=>p==="object"||p==="array")}function y(p,g){let f=r.name("item"),w=(0,Co.checkDataTypes)(c,f,a.opts.strictNumbers,Co.DataType.Wrong),M=r.const("indices",(0,ue._)`{}`);r.for((0,ue._)`;${p}--;`,()=>{r.let(f,(0,ue._)`${e}[${p}]`),r.if(w,(0,ue._)`continue`),c.length>1&&r.if((0,ue._)`typeof ${f} == "string"`,(0,ue._)`${f} += "_"`),r.if((0,ue._)`typeof ${M}[${f}] == "number"`,()=>{r.assign(g,(0,ue._)`${M}[${f}]`),t.error(),r.assign(l,!1).break()}).code((0,ue._)`${M}[${f}] = ${p}`)})}function _(p,g){let f=(0,Om.useFunc)(r,Im.default),w=r.name("outer");r.label(w).for((0,ue._)`;${p}--;`,()=>r.for((0,ue._)`${g} = ${p}; ${g}--;`,()=>r.if((0,ue._)`${f}(${e}[${p}], ${e}[${g}])`,()=>{t.error(),r.assign(l,!1).break(w)})))}}};zo.default=Nm});var Rc=b(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});var $o=N(),Vm=A(),Dm=Hi(),Mm={message:"must be equal to constant",params:({schemaCode:t})=>(0,$o._)`{allowedValue: ${t}}`},Fm={keyword:"const",$data:!0,error:Mm,code(t){let{gen:r,data:e,$data:i,schemaCode:n,schema:o}=t;i||o&&typeof o=="object"?t.fail$data((0,$o._)`!${(0,Vm.useFunc)(r,Dm.default)}(${e}, ${n})`):t.fail((0,$o._)`${o} !== ${e}`)}};So.default=Fm});var qc=b(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});var Ar=N(),jm=A(),Rm=Hi(),qm={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Ar._)`{allowedValues: ${t}}`},Am={keyword:"enum",schemaType:"array",$data:!0,error:qm,code(t){let{gen:r,data:e,$data:i,schema:n,schemaCode:o,it:s}=t;if(!i&&n.length===0)throw new Error("enum must have non-empty array");let a=n.length>=s.opts.loopEnum,l,c=()=>l??(l=(0,jm.useFunc)(r,Rm.default)),u;if(a||i)u=r.let("valid"),t.block$data(u,d);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let _=r.const("vSchema",o);u=(0,Ar.or)(...n.map((p,g)=>y(_,g)))}t.pass(u);function d(){r.assign(u,!1),r.forOf("v",o,_=>r.if((0,Ar._)`${c()}(${e}, ${_})`,()=>r.assign(u,!0).break()))}function y(_,p){let g=n[p];return typeof g=="object"&&g!==null?(0,Ar._)`${c()}(${e}, ${_}[${p}])`:(0,Ar._)`${e} === ${g}`}}};xo.default=Am});var Ac=b(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});var Wm=Tc(),Lm=Pc(),Hm=kc(),Um=Nc(),Bm=Vc(),Km=Dc(),Gm=Mc(),Jm=jc(),Xm=Rc(),Zm=qc(),Qm=[Wm.default,Lm.default,Hm.default,Um.default,Bm.default,Km.default,Gm.default,Jm.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Xm.default,Zm.default];Eo.default=Qm});var Po=b(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.validateAdditionalItems=void 0;var Ft=N(),To=A(),Ym={message:({params:{len:t}})=>(0,Ft.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Ft._)`{limit: ${t}}`},eh={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Ym,code(t){let{parentSchema:r,it:e}=t,{items:i}=r;if(!Array.isArray(i)){(0,To.checkStrictMode)(e,'"additionalItems" is ignored when "items" is not an array of schemas');return}Wc(t,i)}};function Wc(t,r){let{gen:e,schema:i,data:n,keyword:o,it:s}=t;s.items=!0;let a=e.const("len",(0,Ft._)`${n}.length`);if(i===!1)t.setParams({len:r.length}),t.pass((0,Ft._)`${a} <= ${r.length}`);else if(typeof i=="object"&&!(0,To.alwaysValidSchema)(s,i)){let c=e.var("valid",(0,Ft._)`${a} <= ${r.length}`);e.if((0,Ft.not)(c),()=>l(c)),t.ok(c)}function l(c){e.forRange("i",r.length,a,u=>{t.subschema({keyword:o,dataProp:u,dataPropType:To.Type.Num},c),s.allErrors||e.if((0,Ft.not)(c),()=>e.break())})}}Wr.validateAdditionalItems=Wc;Wr.default=eh});var Oo=b(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.validateTuple=void 0;var Lc=N(),Ui=A(),th=Ne(),rh={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:r,it:e}=t;if(Array.isArray(r))return Hc(t,"additionalItems",r);e.items=!0,!(0,Ui.alwaysValidSchema)(e,r)&&t.ok((0,th.validateArray)(t))}};function Hc(t,r,e=t.schema){let{gen:i,parentSchema:n,data:o,keyword:s,it:a}=t;u(n),a.opts.unevaluated&&e.length&&a.items!==!0&&(a.items=Ui.mergeEvaluated.items(i,e.length,a.items));let l=i.name("valid"),c=i.const("len",(0,Lc._)`${o}.length`);e.forEach((d,y)=>{(0,Ui.alwaysValidSchema)(a,d)||(i.if((0,Lc._)`${c} > ${y}`,()=>t.subschema({keyword:s,schemaProp:y,dataProp:y},l)),t.ok(l))});function u(d){let{opts:y,errSchemaPath:_}=a,p=e.length,g=p===d.minItems&&(p===d.maxItems||d[r]===!1);if(y.strictTuples&&!g){let f=`"${s}" is ${p}-tuple, but minItems or maxItems/${r} are not specified or different at path "${_}"`;(0,Ui.checkStrictMode)(a,f,y.strictTuples)}}}Lr.validateTuple=Hc;Lr.default=rh});var Uc=b(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var ih=Oo(),nh={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,ih.validateTuple)(t,"items")};Io.default=nh});var Kc=b(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});var Bc=N(),oh=A(),sh=Ne(),ah=Po(),lh={message:({params:{len:t}})=>(0,Bc.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Bc._)`{limit: ${t}}`},ch={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:lh,code(t){let{schema:r,parentSchema:e,it:i}=t,{prefixItems:n}=e;i.items=!0,!(0,oh.alwaysValidSchema)(i,r)&&(n?(0,ah.validateAdditionalItems)(t,n):t.ok((0,sh.validateArray)(t)))}};ko.default=ch});var Gc=b(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});var De=N(),Bi=A(),uh={message:({params:{min:t,max:r}})=>r===void 0?(0,De.str)`must contain at least ${t} valid item(s)`:(0,De.str)`must contain at least ${t} and no more than ${r} valid item(s)`,params:({params:{min:t,max:r}})=>r===void 0?(0,De._)`{minContains: ${t}}`:(0,De._)`{minContains: ${t}, maxContains: ${r}}`},dh={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:uh,code(t){let{gen:r,schema:e,parentSchema:i,data:n,it:o}=t,s,a,{minContains:l,maxContains:c}=i;o.opts.next?(s=l===void 0?1:l,a=c):s=1;let u=r.const("len",(0,De._)`${n}.length`);if(t.setParams({min:s,max:a}),a===void 0&&s===0){(0,Bi.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,Bi.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Bi.alwaysValidSchema)(o,e)){let g=(0,De._)`${u} >= ${s}`;a!==void 0&&(g=(0,De._)`${g} && ${u} <= ${a}`),t.pass(g);return}o.items=!0;let d=r.name("valid");a===void 0&&s===1?_(d,()=>r.if(d,()=>r.break())):s===0?(r.let(d,!0),a!==void 0&&r.if((0,De._)`${n}.length > 0`,y)):(r.let(d,!1),y()),t.result(d,()=>t.reset());function y(){let g=r.name("_valid"),f=r.let("count",0);_(g,()=>r.if(g,()=>p(f)))}function _(g,f){r.forRange("i",0,u,w=>{t.subschema({keyword:"contains",dataProp:w,dataPropType:Bi.Type.Num,compositeRule:!0},g),f()})}function p(g){r.code((0,De._)`${g}++`),a===void 0?r.if((0,De._)`${g} >= ${s}`,()=>r.assign(d,!0).break()):(r.if((0,De._)`${g} > ${a}`,()=>r.assign(d,!1).break()),s===1?r.assign(d,!0):r.if((0,De._)`${g} >= ${s}`,()=>r.assign(d,!0)))}}};No.default=dh});var Zc=b(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.validateSchemaDeps=et.validatePropertyDeps=et.error=void 0;var Vo=N(),fh=A(),Hr=Ne();et.error={message:({params:{property:t,depsCount:r,deps:e}})=>{let i=r===1?"property":"properties";return(0,Vo.str)`must have ${i} ${e} when property ${t} is present`},params:({params:{property:t,depsCount:r,deps:e,missingProperty:i}})=>(0,Vo._)`{property: ${t},
    missingProperty: ${i},
    depsCount: ${r},
    deps: ${e}}`};var ph={keyword:"dependencies",type:"object",schemaType:"object",error:et.error,code(t){let[r,e]=mh(t);Jc(t,r),Xc(t,e)}};function mh({schema:t}){let r={},e={};for(let i in t){if(i==="__proto__")continue;let n=Array.isArray(t[i])?r:e;n[i]=t[i]}return[r,e]}function Jc(t,r=t.schema){let{gen:e,data:i,it:n}=t;if(Object.keys(r).length===0)return;let o=e.let("missing");for(let s in r){let a=r[s];if(a.length===0)continue;let l=(0,Hr.propertyInData)(e,i,s,n.opts.ownProperties);t.setParams({property:s,depsCount:a.length,deps:a.join(", ")}),n.allErrors?e.if(l,()=>{for(let c of a)(0,Hr.checkReportMissingProp)(t,c)}):(e.if((0,Vo._)`${l} && (${(0,Hr.checkMissingProp)(t,a,o)})`),(0,Hr.reportMissingProp)(t,o),e.else())}}et.validatePropertyDeps=Jc;function Xc(t,r=t.schema){let{gen:e,data:i,keyword:n,it:o}=t,s=e.name("valid");for(let a in r)(0,fh.alwaysValidSchema)(o,r[a])||(e.if((0,Hr.propertyInData)(e,i,a,o.opts.ownProperties),()=>{let l=t.subschema({keyword:n,schemaProp:a},s);t.mergeValidEvaluated(l,s)},()=>e.var(s,!0)),t.ok(s))}et.validateSchemaDeps=Xc;et.default=ph});var Yc=b(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var Qc=N(),hh=A(),_h={message:"property name must be valid",params:({params:t})=>(0,Qc._)`{propertyName: ${t.propertyName}}`},gh={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:_h,code(t){let{gen:r,schema:e,data:i,it:n}=t;if((0,hh.alwaysValidSchema)(n,e))return;let o=r.name("valid");r.forIn("key",i,s=>{t.setParams({propertyName:s}),t.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),r.if((0,Qc.not)(o),()=>{t.error(!0),n.allErrors||r.break()})}),t.ok(o)}};Do.default=gh});var Fo=b(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});var Ki=Ne(),Re=N(),yh=ct(),Gi=A(),vh={message:"must NOT have additional properties",params:({params:t})=>(0,Re._)`{additionalProperty: ${t.additionalProperty}}`},wh={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:vh,code(t){let{gen:r,schema:e,parentSchema:i,data:n,errsCount:o,it:s}=t;if(!o)throw new Error("ajv implementation error");let{allErrors:a,opts:l}=s;if(s.props=!0,l.removeAdditional!=="all"&&(0,Gi.alwaysValidSchema)(s,e))return;let c=(0,Ki.allSchemaProperties)(i.properties),u=(0,Ki.allSchemaProperties)(i.patternProperties);d(),t.ok((0,Re._)`${o} === ${yh.default.errors}`);function d(){r.forIn("key",n,f=>{!c.length&&!u.length?p(f):r.if(y(f),()=>p(f))})}function y(f){let w;if(c.length>8){let M=(0,Gi.schemaRefOrVal)(s,i.properties,"properties");w=(0,Ki.isOwnProperty)(r,M,f)}else c.length?w=(0,Re.or)(...c.map(M=>(0,Re._)`${f} === ${M}`)):w=Re.nil;return u.length&&(w=(0,Re.or)(w,...u.map(M=>(0,Re._)`${(0,Ki.usePattern)(t,M)}.test(${f})`))),(0,Re.not)(w)}function _(f){r.code((0,Re._)`delete ${n}[${f}]`)}function p(f){if(l.removeAdditional==="all"||l.removeAdditional&&e===!1){_(f);return}if(e===!1){t.setParams({additionalProperty:f}),t.error(),a||r.break();return}if(typeof e=="object"&&!(0,Gi.alwaysValidSchema)(s,e)){let w=r.name("valid");l.removeAdditional==="failing"?(g(f,w,!1),r.if((0,Re.not)(w),()=>{t.reset(),_(f)})):(g(f,w),a||r.if((0,Re.not)(w),()=>r.break()))}}function g(f,w,M){let F={keyword:"additionalProperties",dataProp:f,dataPropType:Gi.Type.Str};M===!1&&Object.assign(F,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(F,w)}}};Mo.default=wh});var ru=b(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});var bh=Or(),eu=Ne(),jo=A(),tu=Fo(),Ch={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:r,schema:e,parentSchema:i,data:n,it:o}=t;o.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&tu.default.code(new bh.KeywordCxt(o,tu.default,"additionalProperties"));let s=(0,eu.allSchemaProperties)(e);for(let d of s)o.definedProperties.add(d);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=jo.mergeEvaluated.props(r,(0,jo.toHash)(s),o.props));let a=s.filter(d=>!(0,jo.alwaysValidSchema)(o,e[d]));if(a.length===0)return;let l=r.name("valid");for(let d of a)c(d)?u(d):(r.if((0,eu.propertyInData)(r,n,d,o.opts.ownProperties)),u(d),o.allErrors||r.else().var(l,!0),r.endIf()),t.it.definedProperties.add(d),t.ok(l);function c(d){return o.opts.useDefaults&&!o.compositeRule&&e[d].default!==void 0}function u(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};Ro.default=Ch});var su=b(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});var iu=Ne(),Ji=N(),nu=A(),ou=A(),zh={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:r,schema:e,data:i,parentSchema:n,it:o}=t,{opts:s}=o,a=(0,iu.allSchemaProperties)(e),l=a.filter(g=>(0,nu.alwaysValidSchema)(o,e[g]));if(a.length===0||l.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;let c=s.strictSchema&&!s.allowMatchingProperties&&n.properties,u=r.name("valid");o.props!==!0&&!(o.props instanceof Ji.Name)&&(o.props=(0,ou.evaluatedPropsToName)(r,o.props));let{props:d}=o;y();function y(){for(let g of a)c&&_(g),o.allErrors?p(g):(r.var(u,!0),p(g),r.if(u))}function _(g){for(let f in c)new RegExp(g).test(f)&&(0,nu.checkStrictMode)(o,`property ${f} matches pattern ${g} (use allowMatchingProperties)`)}function p(g){r.forIn("key",i,f=>{r.if((0,Ji._)`${(0,iu.usePattern)(t,g)}.test(${f})`,()=>{let w=l.includes(g);w||t.subschema({keyword:"patternProperties",schemaProp:g,dataProp:f,dataPropType:ou.Type.Str},u),o.opts.unevaluated&&d!==!0?r.assign((0,Ji._)`${d}[${f}]`,!0):!w&&!o.allErrors&&r.if((0,Ji.not)(u),()=>r.break())})})}}};qo.default=zh});var au=b(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var $h=A(),Sh={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:r,schema:e,it:i}=t;if((0,$h.alwaysValidSchema)(i,e)){t.fail();return}let n=r.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.failResult(n,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Ao.default=Sh});var lu=b(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});var xh=Ne(),Eh={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:xh.validateUnion,error:{message:"must match a schema in anyOf"}};Wo.default=Eh});var cu=b(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});var Xi=N(),Th=A(),Ph={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Xi._)`{passingSchemas: ${t.passing}}`},Oh={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ph,code(t){let{gen:r,schema:e,parentSchema:i,it:n}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;let o=e,s=r.let("valid",!1),a=r.let("passing",null),l=r.name("_valid");t.setParams({passing:a}),r.block(c),t.result(s,()=>t.reset(),()=>t.error(!0));function c(){o.forEach((u,d)=>{let y;(0,Th.alwaysValidSchema)(n,u)?r.var(l,!0):y=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&r.if((0,Xi._)`${l} && ${s}`).assign(s,!1).assign(a,(0,Xi._)`[${a}, ${d}]`).else(),r.if(l,()=>{r.assign(s,!0),r.assign(a,d),y&&t.mergeEvaluated(y,Xi.Name)})})}}};Lo.default=Oh});var uu=b(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});var Ih=A(),kh={keyword:"allOf",schemaType:"array",code(t){let{gen:r,schema:e,it:i}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");let n=r.name("valid");e.forEach((o,s)=>{if((0,Ih.alwaysValidSchema)(i,o))return;let a=t.subschema({keyword:"allOf",schemaProp:s},n);t.ok(n),t.mergeEvaluated(a)})}};Ho.default=kh});var pu=b(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});var Zi=N(),fu=A(),Nh={message:({params:t})=>(0,Zi.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Zi._)`{failingKeyword: ${t.ifClause}}`},Vh={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Nh,code(t){let{gen:r,parentSchema:e,it:i}=t;e.then===void 0&&e.else===void 0&&(0,fu.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let n=du(i,"then"),o=du(i,"else");if(!n&&!o)return;let s=r.let("valid",!0),a=r.name("_valid");if(l(),t.reset(),n&&o){let u=r.let("ifClause");t.setParams({ifClause:u}),r.if(a,c("then",u),c("else",u))}else n?r.if(a,c("then")):r.if((0,Zi.not)(a),c("else"));t.pass(s,()=>t.error(!0));function l(){let u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(u)}function c(u,d){return()=>{let y=t.subschema({keyword:u},a);r.assign(s,a),t.mergeValidEvaluated(y,s),d?r.assign(d,(0,Zi._)`${u}`):t.setParams({ifClause:u})}}}};function du(t,r){let e=t.schema[r];return e!==void 0&&!(0,fu.alwaysValidSchema)(t,e)}Uo.default=Vh});var mu=b(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});var Dh=A(),Mh={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:r,it:e}){r.if===void 0&&(0,Dh.checkStrictMode)(e,`"${t}" without "if" is ignored`)}};Bo.default=Mh});var hu=b(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});var Fh=Po(),jh=Uc(),Rh=Oo(),qh=Kc(),Ah=Gc(),Wh=Zc(),Lh=Yc(),Hh=Fo(),Uh=ru(),Bh=su(),Kh=au(),Gh=lu(),Jh=cu(),Xh=uu(),Zh=pu(),Qh=mu();function Yh(t=!1){let r=[Kh.default,Gh.default,Jh.default,Xh.default,Zh.default,Qh.default,Lh.default,Hh.default,Wh.default,Uh.default,Bh.default];return t?r.push(jh.default,qh.default):r.push(Fh.default,Rh.default),r.push(Ah.default),r}Ko.default=Yh});var _u=b(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});var re=N(),e_={message:({schemaCode:t})=>(0,re.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,re._)`{format: ${t}}`},t_={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:e_,code(t,r){let{gen:e,data:i,$data:n,schema:o,schemaCode:s,it:a}=t,{opts:l,errSchemaPath:c,schemaEnv:u,self:d}=a;if(!l.validateFormats)return;n?y():_();function y(){let p=e.scopeValue("formats",{ref:d.formats,code:l.code.formats}),g=e.const("fDef",(0,re._)`${p}[${s}]`),f=e.let("fType"),w=e.let("format");e.if((0,re._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>e.assign(f,(0,re._)`${g}.type || "string"`).assign(w,(0,re._)`${g}.validate`),()=>e.assign(f,(0,re._)`"string"`).assign(w,g)),t.fail$data((0,re.or)(M(),F()));function M(){return l.strictSchema===!1?re.nil:(0,re._)`${s} && !${w}`}function F(){let Z=u.$async?(0,re._)`(${g}.async ? await ${w}(${i}) : ${w}(${i}))`:(0,re._)`${w}(${i})`,I=(0,re._)`(typeof ${w} == "function" ? ${Z} : ${w}.test(${i}))`;return(0,re._)`${w} && ${w} !== true && ${f} === ${r} && !${I}`}}function _(){let p=d.formats[o];if(!p){M();return}if(p===!0)return;let[g,f,w]=F(p);g===r&&t.pass(Z());function M(){if(l.strictSchema===!1){d.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${o}" ignored in schema at path "${c}"`}}function F(I){let Ae=I instanceof RegExp?(0,re.regexpCode)(I):l.code.formats?(0,re._)`${l.code.formats}${(0,re.getProperty)(o)}`:void 0,ot=e.scopeValue("formats",{key:o,ref:I,code:Ae});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,re._)`${ot}.validate`]:["string",I,ot]}function Z(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!u.$async)throw new Error("async format in sync schema");return(0,re._)`await ${w}(${i})`}return typeof f=="function"?(0,re._)`${w}(${i})`:(0,re._)`${w}.test(${i})`}}}};Go.default=t_});var gu=b(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});var r_=_u(),i_=[r_.default];Jo.default=i_});var yu=b(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.contentVocabulary=cr.metadataVocabulary=void 0;cr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];cr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var wu=b(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});var n_=Ec(),o_=Ac(),s_=hu(),a_=gu(),vu=yu(),l_=[n_.default,o_.default,(0,s_.default)(),a_.default,vu.metadataVocabulary,vu.contentVocabulary];Xo.default=l_});var Cu=b(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.DiscrError=void 0;var bu=function(t){return t.Tag="tag",t.Mapping="mapping",t}(bu||(Qi.DiscrError=bu={}))});var $u=b(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});var ur=N(),Zo=Cu(),zu=Vi(),c_=Ir(),u_=A(),d_={message:({params:{discrError:t,tagName:r}})=>t===Zo.DiscrError.Tag?`tag "${r}" must be string`:`value of tag "${r}" must be in oneOf`,params:({params:{discrError:t,tag:r,tagName:e}})=>(0,ur._)`{error: ${t}, tag: ${e}, tagValue: ${r}}`},f_={keyword:"discriminator",type:"object",schemaType:"object",error:d_,code(t){let{gen:r,data:e,schema:i,parentSchema:n,it:o}=t,{oneOf:s}=n;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=i.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");let l=r.let("valid",!1),c=r.const("tag",(0,ur._)`${e}${(0,ur.getProperty)(a)}`);r.if((0,ur._)`typeof ${c} == "string"`,()=>u(),()=>t.error(!1,{discrError:Zo.DiscrError.Tag,tag:c,tagName:a})),t.ok(l);function u(){let _=y();r.if(!1);for(let p in _)r.elseIf((0,ur._)`${c} === ${p}`),r.assign(l,d(_[p]));r.else(),t.error(!1,{discrError:Zo.DiscrError.Mapping,tag:c,tagName:a}),r.endIf()}function d(_){let p=r.name("valid"),g=t.subschema({keyword:"oneOf",schemaProp:_},p);return t.mergeEvaluated(g,ur.Name),p}function y(){var _;let p={},g=w(n),f=!0;for(let Z=0;Z<s.length;Z++){let I=s[Z];if(I?.$ref&&!(0,u_.schemaHasRulesButRef)(I,o.self.RULES)){let ot=I.$ref;if(I=zu.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,ot),I instanceof zu.SchemaEnv&&(I=I.schema),I===void 0)throw new c_.default(o.opts.uriResolver,o.baseId,ot)}let Ae=(_=I?.properties)===null||_===void 0?void 0:_[a];if(typeof Ae!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);f=f&&(g||w(I)),M(Ae,Z)}if(!f)throw new Error(`discriminator: "${a}" must be required`);return p;function w({required:Z}){return Array.isArray(Z)&&Z.includes(a)}function M(Z,I){if(Z.const)F(Z.const,I);else if(Z.enum)for(let Ae of Z.enum)F(Ae,I);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function F(Z,I){if(typeof Z!="string"||Z in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[Z]=I}}}};Qo.default=f_});var Su=b((jv,p_)=>{p_.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var es=b((ee,Yo)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.MissingRefError=ee.ValidationError=ee.CodeGen=ee.Name=ee.nil=ee.stringify=ee.str=ee._=ee.KeywordCxt=ee.Ajv=void 0;var m_=bc(),h_=wu(),__=$u(),xu=Su(),g_=["/properties"],Yi="http://json-schema.org/draft-07/schema",dr=class extends m_.default{_addVocabularies(){super._addVocabularies(),h_.default.forEach(r=>this.addVocabulary(r)),this.opts.discriminator&&this.addKeyword(__.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let r=this.opts.$data?this.$dataMetaSchema(xu,g_):xu;this.addMetaSchema(r,Yi,!1),this.refs["http://json-schema.org/schema"]=Yi}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Yi)?Yi:void 0)}};ee.Ajv=dr;Yo.exports=ee=dr;Yo.exports.Ajv=dr;Object.defineProperty(ee,"__esModule",{value:!0});ee.default=dr;var y_=Or();Object.defineProperty(ee,"KeywordCxt",{enumerable:!0,get:function(){return y_.KeywordCxt}});var fr=N();Object.defineProperty(ee,"_",{enumerable:!0,get:function(){return fr._}});Object.defineProperty(ee,"str",{enumerable:!0,get:function(){return fr.str}});Object.defineProperty(ee,"stringify",{enumerable:!0,get:function(){return fr.stringify}});Object.defineProperty(ee,"nil",{enumerable:!0,get:function(){return fr.nil}});Object.defineProperty(ee,"Name",{enumerable:!0,get:function(){return fr.Name}});Object.defineProperty(ee,"CodeGen",{enumerable:!0,get:function(){return fr.CodeGen}});var v_=ki();Object.defineProperty(ee,"ValidationError",{enumerable:!0,get:function(){return v_.default}});var w_=Ir();Object.defineProperty(ee,"MissingRefError",{enumerable:!0,get:function(){return w_.default}})});var Vu=b(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.formatNames=rt.fastFormats=rt.fullFormats=void 0;function tt(t,r){return{validate:t,compare:r}}rt.fullFormats={date:tt(Ou,ns),time:tt(rs(!0),os),"date-time":tt(Eu(!0),ku),"iso-time":tt(rs(),Iu),"iso-date-time":tt(Eu(),Nu),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:x_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:N_,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:E_,int32:{type:"number",validate:O_},int64:{type:"number",validate:I_},float:{type:"number",validate:Pu},double:{type:"number",validate:Pu},password:!0,binary:!0};rt.fastFormats=J(C({},rt.fullFormats),{date:tt(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,ns),time:tt(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,os),"date-time":tt(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,ku),"iso-time":tt(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Iu),"iso-date-time":tt(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Nu),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});rt.formatNames=Object.keys(rt.fullFormats);function b_(t){return t%4===0&&(t%100!==0||t%400===0)}var C_=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,z_=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Ou(t){let r=C_.exec(t);if(!r)return!1;let e=+r[1],i=+r[2],n=+r[3];return i>=1&&i<=12&&n>=1&&n<=(i===2&&b_(e)?29:z_[i])}function ns(t,r){if(t&&r)return t>r?1:t<r?-1:0}var ts=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function rs(t){return function(e){let i=ts.exec(e);if(!i)return!1;let n=+i[1],o=+i[2],s=+i[3],a=i[4],l=i[5]==="-"?-1:1,c=+(i[6]||0),u=+(i[7]||0);if(c>23||u>59||t&&!a)return!1;if(n<=23&&o<=59&&s<60)return!0;let d=o-u*l,y=n-c*l-(d<0?1:0);return(y===23||y===-1)&&(d===59||d===-1)&&s<61}}function os(t,r){if(!(t&&r))return;let e=new Date("2020-01-01T"+t).valueOf(),i=new Date("2020-01-01T"+r).valueOf();if(e&&i)return e-i}function Iu(t,r){if(!(t&&r))return;let e=ts.exec(t),i=ts.exec(r);if(e&&i)return t=e[1]+e[2]+e[3],r=i[1]+i[2]+i[3],t>r?1:t<r?-1:0}var is=/t|\s/i;function Eu(t){let r=rs(t);return function(i){let n=i.split(is);return n.length===2&&Ou(n[0])&&r(n[1])}}function ku(t,r){if(!(t&&r))return;let e=new Date(t).valueOf(),i=new Date(r).valueOf();if(e&&i)return e-i}function Nu(t,r){if(!(t&&r))return;let[e,i]=t.split(is),[n,o]=r.split(is),s=ns(e,n);if(s!==void 0)return s||os(i,o)}var $_=/\/|:/,S_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function x_(t){return $_.test(t)&&S_.test(t)}var Tu=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function E_(t){return Tu.lastIndex=0,Tu.test(t)}var T_=-(2**31),P_=2**31-1;function O_(t){return Number.isInteger(t)&&t<=P_&&t>=T_}function I_(t){return Number.isInteger(t)}function Pu(){return!0}var k_=/[^\\]\\Z/;function N_(t){if(k_.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var Du=b(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.formatLimitDefinition=void 0;var V_=es(),qe=N(),xt=qe.operators,en={formatMaximum:{okStr:"<=",ok:xt.LTE,fail:xt.GT},formatMinimum:{okStr:">=",ok:xt.GTE,fail:xt.LT},formatExclusiveMaximum:{okStr:"<",ok:xt.LT,fail:xt.GTE},formatExclusiveMinimum:{okStr:">",ok:xt.GT,fail:xt.LTE}},D_={message:({keyword:t,schemaCode:r})=>(0,qe.str)`should be ${en[t].okStr} ${r}`,params:({keyword:t,schemaCode:r})=>(0,qe._)`{comparison: ${en[t].okStr}, limit: ${r}}`};pr.formatLimitDefinition={keyword:Object.keys(en),type:"string",schemaType:"string",$data:!0,error:D_,code(t){let{gen:r,data:e,schemaCode:i,keyword:n,it:o}=t,{opts:s,self:a}=o;if(!s.validateFormats)return;let l=new V_.KeywordCxt(o,a.RULES.all.format.definition,"format");l.$data?c():u();function c(){let y=r.scopeValue("formats",{ref:a.formats,code:s.code.formats}),_=r.const("fmt",(0,qe._)`${y}[${l.schemaCode}]`);t.fail$data((0,qe.or)((0,qe._)`typeof ${_} != "object"`,(0,qe._)`${_} instanceof RegExp`,(0,qe._)`typeof ${_}.compare != "function"`,d(_)))}function u(){let y=l.schema,_=a.formats[y];if(!_||_===!0)return;if(typeof _!="object"||_ instanceof RegExp||typeof _.compare!="function")throw new Error(`"${n}": format "${y}" does not define "compare" function`);let p=r.scopeValue("formats",{key:y,ref:_,code:s.code.formats?(0,qe._)`${s.code.formats}${(0,qe.getProperty)(y)}`:void 0});t.fail$data(d(p))}function d(y){return(0,qe._)`${y}.compare(${e}, ${i}) ${en[n].fail} 0`}},dependencies:["format"]};var M_=t=>(t.addKeyword(pr.formatLimitDefinition),t);pr.default=M_});var Ru=b((Ur,ju)=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});var mr=Vu(),F_=Du(),ss=N(),Mu=new ss.Name("fullFormats"),j_=new ss.Name("fastFormats"),as=(t,r={keywords:!0})=>{if(Array.isArray(r))return Fu(t,r,mr.fullFormats,Mu),t;let[e,i]=r.mode==="fast"?[mr.fastFormats,j_]:[mr.fullFormats,Mu],n=r.formats||mr.formatNames;return Fu(t,n,e,i),r.keywords&&(0,F_.default)(t),t};as.get=(t,r="full")=>{let i=(r==="fast"?mr.fastFormats:mr.fullFormats)[t];if(!i)throw new Error(`Unknown format "${t}"`);return i};function Fu(t,r,e,i){var n,o;(n=(o=t.opts.code).formats)!==null&&n!==void 0||(o.formats=(0,ss._)`require("ajv-formats/dist/formats").${i}`);for(let s of r)t.addFormat(s,e[s])}ju.exports=Ur=as;Object.defineProperty(Ur,"__esModule",{value:!0});Ur.default=as});var Ku={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ingoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function Gt(t){return t.merge("sf",Ku)}var ae="/";function mn(t){return t==null}function me(t,r){return t==null?r:`${t}`!="false"}function Jt(t,...r){}function Gu(t,r){let e=/^#\/definitions\/(.*)$/.exec(t);if(e&&e[1]){let i=e[1].split(ae),n=r;for(let o of i)if(o=o.replace(/~1/g,ae).replace(/~0/g,"~"),n.hasOwnProperty(o))n=n[o];else throw new Error(`Could not find a definition for ${t}.`);return n}throw new Error(`Could not find a definition for ${t}.`)}function vr(t,r={}){if(t.hasOwnProperty("$ref")){let i=Gu(t.$ref,r),e=t,{$ref:n}=e,o=zs(e,["$ref"]);return vr(C(C({},i),o),r)}return t}function Wa(t,r){let e=(i,n)=>{Ju(i,n),Object.keys(i.properties).forEach(o=>{let s=i.properties[o],a=`$${o}`;s.items&&e(s.items,n[a].$items),s.properties&&e(s,n[a])})};e(t,r)}function Ju(t,r){if(!(t.hasOwnProperty("if")&&t.hasOwnProperty("then")))return null;if(!t.if.properties)throw new Error("if: does not contain 'properties'");let e=Object.keys(t.properties),i=Object.keys(t.if.properties);pn(e,i),pn(e,t.then.required),t.required=t.required.concat(t.then.required);let n=t.hasOwnProperty("else");n&&(pn(e,t.else.required),t.required=t.required.concat(t.else.required));let o={},s={};return i.forEach(a=>{let l=t.if.properties[a].enum;o[a]=l,n&&(s[a]=c=>!l.includes(c))}),t.then.required.forEach(a=>r[`$${a}`].visibleIf=o),n&&t.else.required.forEach(a=>r[`$${a}`].visibleIf=s),t}function pn(t,r){r.forEach(e=>{if(!t.includes(e))throw new Error(`if: properties does not contain '${e}'`)})}function La(t,r){if(!Array.isArray(r))return t;let e=u=>u.reduce((d,y)=>(d[y]=!0,d),{}),i=u=>`property [${u.join("', '")}]`,n=e(t),o=e(r),s=r.filter(u=>u!=="*"&&!n[u]);if(s.length)throw new Error(`ui schema order list contains extraneous ${i(s)}`);let a=t.filter(u=>!o[u]),l=r.indexOf("*");if(l===-1){if(a.length)throw new Error(`ui schema order list does not contain ${i(a)}`);return r}if(l!==r.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let c=[...r];return c.splice(l,1,...a),c}function Ha(t,r,e){return mn(t)||!Array.isArray(t)||t.length===0?[]:(typeof t[0]!="object"&&(t=t.map(i=>({label:i,value:i}))),r&&(Array.isArray(r)||(r=[r]),t.forEach(i=>{~r.indexOf(i.value)&&(i.checked=!0)})),e&&t.forEach(i=>i.disabled=!0),t)}function Xu(t,r,e){return Ha(Tt(t||[]),r,e)}function Xt(t,r,e,i){return typeof r.asyncData=="function"?r.asyncData(i).pipe(Wt(n=>Ha(n,e,t.readOnly))):xs(Xu(t.enum,e,t.readOnly))}var wr=class{constructor(r,e,i,n,o,s,a,l){this.injector=r,this._options=l,this._errors=null,this._valueChanges=new At({path:null,pathValue:null,value:null}),this._errorsChanges=new At(null),this._visible=!0,this._visibilityChanges=new At(!0),this._objErrors={},this._value=null,this.schema=i,this.ui=n,this.schemaValidator=e.createValidatorFn(i,{ingoreKeywords:this.ui.ingoreKeywords,debug:n.debug}),this.formData=o||i.default,this._parent=s,s?this._root=s.root:this._root=this,this.path=a}get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(r=!1){this.widget?.detectChanges(r)}updateValueAndValidity(r){r=C({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updatePath:"",updateValue:null},r),this._updateValue(),r.emitValueEvent&&(r.updatePath=r.updatePath||this.path,r.updateValue=r.updateValue==null?this.value:r.updateValue,this.valueChanges.next({value:this.value,path:r.updatePath,pathValue:r.updateValue})),r.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!r.onlySelf&&this.parent.updateValueAndValidity(J(C({},r),{emitValidator:!1}))}searchProperty(r){let e=this,i=null,n=null;if(r[0]===ae)i=this.findRoot(),n=i.getProperty(r.substring(1));else for(;n===null&&e.parent!==null;)e=i=e.parent,n=i.getProperty(r);return n}findRoot(){let r=this;for(;r.parent!==null;)r=r.parent;return r}isEmptyData(r){if(mn(r))return!0;switch(this.type){case"string":return`${r}`.length===0}return!1}_runValidation(){let r,e=this.isEmptyData(this._value);e&&this.ui._required?r=[{keyword:"required"}]:e?r=[]:r=this.schemaValidator(this._value)||[];let i=this.ui.validator;if(typeof i=="function"){let n=i(this.value,this,this.findRoot());if(n instanceof Ss){n.subscribe(o=>{this.setCustomErrors(r,o),this.cd(!1)});return}this.setCustomErrors(r,n);return}this._errors=r,this.setErrors(this._errors)}setCustomErrors(r,e){let i=Array.isArray(e)&&e.length>0;i&&e.forEach(n=>{if(!n.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");n.keyword=null}),this._errors=i?r.concat(...e):r,this.setErrors(this._errors)}setErrors(r=[],e=!0){let i=Array.isArray(r)?r:[r];if(e&&i&&!this.ui.onlyVisual){let n=this.widget&&this.widget.l.error||{};i=i.map(o=>{let s=o.keyword==null&&o.message?o.message:(this.ui.errors||{})[o.keyword]||this._options.errors[o.keyword]||n[o.keyword]||"";return s&&typeof s=="function"&&(s=s(o)),s&&(~s.indexOf("{")&&o.params&&(s=s.replace(/{([\.a-zA-Z0-9]+)}/g,(a,l)=>o.params[l]||"")),o.message=s),o})}this._errors=i,this._errorsChanges.next(i),this._parent&&this._parent.setParentAndPlatErrors(i,this.path)}setParentAndPlatErrors(r,e){this._objErrors[e]=r;let i=[];Object.keys(this._objErrors).forEach(n=>{let o=this.searchProperty(n);o&&!o.visible||i.push(...this._objErrors[n])}),this.setErrors(i,!1)}setVisible(r){return this._visible=r,this._visibilityChanges.next(r),r&&this.injector.get(_t).onStable.pipe(Os(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let r=this.ui.visibleIf;if(typeof r=="object"&&Object.keys(r).length===0)this.setVisible(!1);else if(r!=null){let e=[];for(let i in r)if(r.hasOwnProperty(i)){let n=this.searchProperty(i);if(n){let o=n.valueChanges.pipe(Wt(l=>{let c=r[i];if(typeof c=="function"){let u=c(l.value,n);if(typeof u=="object"){let d=C({show:!1,required:!1},u),y=this.parent?.schema.required;if(y&&this.propertyId){let _=y.findIndex(p=>p===this.propertyId);d.required?_===-1&&y.push(this.propertyId):_!==-1&&y.splice(_,1),this.ui._required=d.required}return d.show}return u}return c.indexOf("$ANY$")!==-1?l.value&&l.value.length>0:c.indexOf(l.value)!==-1})),s=n._visibilityChanges,a=un([o,s]).pipe(Wt(l=>l[0]&&l[1]));e.push(a)}}un(e).pipe(Wt(i=>this.ui.visibleIfLogical==="and"?i.every(n=>n):i.some(n=>n)),Xr()).subscribe(i=>this.setVisible(i))}}updateFeedback(r=""){this.ui.feedback=r,this.widget?.injector.get(Bt).formStatusChanges.next({status:r,hasFeedback:!!r}),this.cd(!0)}},Xe=class t extends wr{constructor(){super(...arguments),this.properties=null}getProperty(r){let e=r.indexOf(ae),i=e!==-1?r.substring(0,e):r,n=this.properties[i];if(n!==null&&e!==-1&&n instanceof t){let o=r.substring(e+1);n=n.getProperty(o)}return n}forEachChild(r){for(let e in this.properties)if(this.properties.hasOwnProperty(e)){let i=this.properties[e];r(i,e)}}forEachChildRecursive(r){this.forEachChild(e=>{r(e),e instanceof t&&e.forEachChildRecursive(r)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(r=>{r._bindVisibility()})}isRoot(){return this===this.root}};var Zt=class extends Xe{get propertiesId(){return this._propertiesId}constructor(r,e,i,n,o,s,a,l,c){super(r,i,n,o,s,a,l,c),this.formPropertyFactory=e,this._propertiesId=[],this.createProperties()}createProperties(){this.properties={},this._propertiesId=[];let r;try{r=La(Object.keys(this.schema.properties),this.ui.order)}catch(e){console.error(`Invalid ${this.schema.title||"root"} object field configuration:`,e)}r.forEach(e=>{this.properties[e]=this.formPropertyFactory.createProperty(this.schema.properties[e],this.ui[`$${e}`],(this.formData||{})[e],this,e),this._propertiesId.push(e)})}setValue(r,e){let i=this.properties;for(let n in r)r.hasOwnProperty(n)&&i[n]&&i[n].setValue(r[n],!0);this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(r,e){r=r||this.schema.default||{};let i=this.properties;for(let n in this.schema.properties)this.schema.properties.hasOwnProperty(n)&&i[n].resetValue(r[n],!0);this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let r={};this.forEachChild((e,i)=>{e.visible&&e._hasValue()&&(r[i]=e.value)}),this._value=r}};var Qt=class extends Xe{constructor(r,e,i,n,o,s,a,l,c){super(r,i,n,o,s,a,l,c),this.formPropertyFactory=e,this.properties=[]}getProperty(r){let e=r.indexOf(ae),i=+(e!==-1?r.substring(0,e):r),n=this.properties;if(isNaN(i)||i>=n.length)return;let o=r.substring(e+1);return n[i].getProperty(o)}setValue(r,e){this.properties=[],this.clearErrors(),this.resetProperties(r),this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(r,e){this._value=r||this.schema.default||[],this.setValue(this._value,e)}_hasValue(){return!0}_updateValue(){let r=[];this.forEachChild(e=>{e.visible&&r.push(C(C({},this.widget?.cleanValue?null:e.formData),e.value))}),this._value=r}addProperty(r){let e=this.formPropertyFactory.createProperty(Tt(this.schema.items),Tt(this.ui.$items),r,this);return this.properties.push(e),e}resetProperties(r){for(let e of r)this.addProperty(e).resetValue(e,!0)}clearErrors(r){(r||this)._objErrors={}}add(r){let e=this.addProperty(r);return e.resetValue(r,!1),e}remove(r){let e=this.properties;this.clearErrors(),e.splice(r,1),e.forEach((i,n)=>{i.path=[i.parent.path,n].join(ae),this.clearErrors(i),i instanceof Zt&&i.forEachChild(o=>{o.updateValueAndValidity({emitValueEvent:!1})})}),e.length===0&&this.updateValueAndValidity()}};var yt=class extends wr{setValue(r,e){this._value=r,this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(r,e){r==null&&(r=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=r,this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0}),this.widget&&(this.widget.reset(r),this.cd(e))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}};var hi=class extends yt{fallbackValue(){return null}};var _i=class extends yt{fallbackValue(){return null}setValue(r,e){typeof r=="string"&&(r.length?r=r.indexOf(".")>-1?parseFloat(r):parseInt(r,10):r=void 0),this._value=r,this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}};var gi=class extends yt{fallbackValue(){return null}setValue(r,e){this._value=r??"",this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}};var Yt=class{constructor(r,e,i){this.injector=r,this.schemaValidatorFactory=e,this.options=Gt(i)}createProperty(r,e,i,n=null,o){let s=null,a="";if(n)switch(a+=n.path,n.parent!==null&&(a+=ae),n.type){case"object":a+=o;break;case"array":a+=n.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${n.type}`)}else a=ae;if(r.$ref){let l=vr(r,n.root.schema.definitions);s=this.createProperty(l,e,i,n,a)}else switch((o&&n.schema.required.indexOf(o.split(ae).pop())!==-1||e.showRequired===!0)&&(e._required=!0),r.title==null&&(r.title=o),(r.type==="string"||r.type==="number")&&!r.format&&!e.format?e.widget==="date"?e._format=r.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:e.widget==="time"&&(e._format=r.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):e._format=e.format,r.type){case"integer":case"number":s=new _i(this.injector,this.schemaValidatorFactory,r,e,i,n,a,this.options);break;case"string":s=new gi(this.injector,this.schemaValidatorFactory,r,e,i,n,a,this.options);break;case"boolean":s=new hi(this.injector,this.schemaValidatorFactory,r,e,i,n,a,this.options);break;case"object":s=new Zt(this.injector,this,this.schemaValidatorFactory,r,e,i,n,a,this.options);break;case"array":s=new Qt(this.injector,this,this.schemaValidatorFactory,r,e,i,n,a,this.options);break;default:throw new TypeError(`Undefined type ${r.type}`)}return s.propertyId=o,s instanceof Xe&&this.initializeRoot(s),s}initializeRoot(r){r._bindVisibility()}};var Pt=class{constructor(){this.onDestroy=new qt}destroy(){this.onDestroy.next(!0)}};var qu=$s(es()),Au=$s(Ru());var jt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=yr({token:t,factory:t.\u0275fac})}}return t})(),tn=(()=>{class t extends jt{constructor(){if(super(),this.ngZone=W(_t),this.cogSrv=W(Ke),!(typeof document=="object"&&document))return;this.options=Gt(this.cogSrv);let e=this.options.ajv||{};this.ngZone.runOutsideAngular(()=>{this.ajv=new qu.default(J(C({allErrors:!0,loopEnum:50},e),{formats:C({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:fi.color,mobile:fi.mobile,"id-card":fi.idCard},e.formats)})),(0,Au.default)(this.ajv)})}createValidatorFn(e,i){let n=[...this.options.ingoreKeywords,...i.ingoreKeywords||[]];return o=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(e,o))}catch{}let s=this.ajv.errors;return this.options&&n&&s&&(s=s.filter(a=>n.indexOf(a.keyword)===-1)),s}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=yr({token:t,factory:t.\u0275fac})}}return t})();var it=class{constructor(){this._widgets={}}get widgets(){return this._widgets}setDefault(r){this.defaultWidget=r}register(r,e){this._widgets[r]=e}has(r){return this._widgets.hasOwnProperty(r)}getType(r){return this.has(r)?this._widgets[r]:this.defaultWidget}},rn=(()=>{class t{constructor(){this.registry=W(it)}createWidget(e,i){this.registry.has(i);let n=this.registry.getType(i);return e.createComponent(n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=yr({token:t,factory:t.\u0275fac})}}return t})();var R_=["target"];function q_(t,r){}function A_(t,r){t&1&&Ws(0)}var W_=0,pt=(()=>{class t{constructor(){this.widgetFactory=W(rn),this.terminator=W(Pt),this.destroy$=new qt,this.widget=null,this.footer=null}onWidgetInstanciated(e){this.widget=e;let i=`_sf-${W_++}`,n=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=n,this.widget.id=i,this.formProperty.widget=e}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let e=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,e.ui.widget||e.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:e}=this;e.next(),e.complete(),this.ref.destroy()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=H({type:t,selectors:[["sf-item"]],viewQuery:function(i,n){if(i&1&&Ls(R_,7,js),i&2){let o;Hs(o=Us())&&(n.container=o.first)}},hostVars:2,hostBindings:function(i,n){i&2&&le("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],features:[ni([Bt]),ht],decls:3,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(i,n){i&1&&S(0,q_,0,0,"ng-template",null,0,we)(2,A_,1,0,"ng-container",1),i&2&&(v(2),h("ngTemplateOutlet",n.footer))},dependencies:[be],encapsulation:2})}}return t})();var Br=(()=>{class t{constructor(){this.el=W(Yr).nativeElement,this.render=W(Fs),this._inited=!1}init(){if(!this._inited||this.num==null||this.num<=0)return;let e=this.el,i=e.querySelector(".ant-row")||e;this.render.addClass(i,"sf__fixed");let n=i.querySelector(".ant-form-item-label"),o=i.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),s=`${this.num}px`;n?(this.render.setStyle(n,"flex",`0 0 ${s}`),this.render.setStyle(o,"max-width",`calc(100% - ${s})`)):this.render.setStyle(o,"margin-left",s)}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=st({type:t,selectors:[["","fixed-label",""]],inputs:{num:[2,"fixed-label","num",e=>Gs(e,0)]},features:[ei,ht]})}}return t})();var U_=["*"];function B_(t,r){t&1&&ii(0)}function K_(t,r){if(t&1&&U(0,"i",10),t&2){let e=m(5);h("nzType",e._btn.submit_icon.type)("nzTheme",e._btn.submit_icon.theme)("nzTwotoneColor",e._btn.submit_icon.twoToneColor)("nzIconfont",e._btn.submit_icon.iconfont)}}function G_(t,r){if(t&1&&U(0,"i",10),t&2){let e=m(6);h("nzType",e._btn.reset_icon.type)("nzTheme",e._btn.reset_icon.theme)("nzTwotoneColor",e._btn.reset_icon.twoToneColor)("nzIconfont",e._btn.reset_icon.iconfont)}}function J_(t,r){if(t&1){let e=te();z(0,"button",12),L("click",function(){P(e);let n=m(5);return O(n.reset(!0))}),S(1,G_,1,4,"i",10),Q(2),$()}if(t&2){let e=m(5);h("nzType",e._btn.reset_type)("nzSize",e._btn.render.size)("disabled",e.loading),v(),E(e._btn.reset_icon?1:-1),v(),se(" ",e._btn.reset," ")}}function X_(t,r){if(t&1&&(z(0,"button",9),S(1,K_,1,4,"i",10),Q(2),$(),S(3,J_,3,5,"button",11)),t&2){let e=m(4);h("nzType",e._btn.submit_type)("nzSize",e._btn.render.size)("nzLoading",e.loading)("disabled",e.liveValidate&&!e.valid),v(),E(e._btn.submit_icon?1:-1),v(),se(" ",e._btn.submit," "),v(),E(e._btn.reset?3:-1)}}function Z_(t,r){}function Q_(t,r){if(t&1&&S(0,Z_,0,0,"ng-template",4),t&2){m(4);let e=de(1);h("ngTemplateOutlet",e)}}function Y_(t,r){if(t&1&&(z(0,"nz-form-item",5)(1,"div",6)(2,"div",7)(3,"div",8),S(4,X_,4,7)(5,Q_,1,1,null,4),$()()()()),t&2){let e=m(3);h("ngClass",e._btn.render.class)("fixed-label",e._btn.render.spanLabelFixed),v(),h("nzSpan",e.btnGrid.span)("nzOffset",e.btnGrid.offset)("nzXs",e.btnGrid.xs)("nzSm",e.btnGrid.sm)("nzMd",e.btnGrid.md)("nzLg",e.btnGrid.lg)("nzXl",e.btnGrid.xl)("nzXXl",e.btnGrid.xxl),v(3),E(e.button?4:5)}}function e0(t,r){if(t&1&&S(0,Y_,6,11,"nz-form-item",5),t&2){let e=m(2);E(e._btn&&e._btn.render?0:-1)}}function t0(t,r){}function r0(t,r){if(t&1&&S(0,t0,0,0,"ng-template",4),t&2){m(2);let e=de(1);h("ngTemplateOutlet",e)}}function i0(t,r){if(t&1&&S(0,e0,1,1)(1,r0,1,1,null,4),t&2){let e=m();E(e.button!=="none"?0:1)}}function n0(t,r){if(t&1&&U(0,"sf-item",3),t&2){let e=m(),i=de(3);h("formProperty",e.rootProperty)("footer",i)}}function o0(t,r,e){return new Yt(t,r,e)}var Gr=(()=>{class t{get btnGrid(){return this._btn.render.grid}set mode(e){switch(e){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=e}get mode(){return this._mode}get valid(){return this._valid}get value(){return this._item}getProperty(e){return this.rootProperty?.searchProperty(e)}getValue(e){return this.getProperty(e)?.value}setValue(e,i){let n=this.getProperty(e);if(!n)throw new Error(`Invalid path: ${e}`);return n.resetValue(i,!1),this}setDisabled(e,i){let n=this.getProperty(e);if(!n)throw new Error(`Invalid path: ${e}`);return n.schema.readOnly=i,n.widget.detectChanges(),this}setRequired(e,i){let n=this.getProperty(e);if(!n)throw new Error(`Invalid path: ${e}`);let o=e.split(ae).pop(),s=n.parent?.schema.required||[],a=s.findIndex(l=>l===o);return i?a===-1&&s.push(o):a!==-1&&s.splice(a,1),n.parent.schema.required=s,n.ui._required=i,n.widget.detectChanges(),this.validator({onlyRoot:!1}),this}updateFeedback(e,i=""){return this.getProperty(e)?.updateFeedback(i),this}onSubmit(e){e.preventDefault(),e.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(e){this.formPropertyFactory=W(Yt),this.terminator=W(Pt),this.dom=W(si),this.cdr=W(oi),this.localeSrv=W(na),this.aclSrv=W(Zs),this.i18nSrv=W(Qs),this.platform=W(Ys),this._renders=new Map,this._valid=!0,this._inited=!1,this.locale={},this.rootProperty=null,this.layout="horizontal",this.button={},this.liveValidate=!0,this.firstVisual=!0,this.onlyVisual=!1,this.compact=!1,this.loading=!1,this.disabled=!1,this.noColon=!1,this.cleanValue=!1,this.delay=!1,this.formValueChange=new Lt,this.formChange=new Lt,this.formSubmit=new Lt,this.formReset=new Lt,this.formError=new Lt,this.options=Gt(e),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(fn()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())}),Es(this.aclSrv.change,this.i18nSrv.change).pipe(Ts(()=>this._inited),fn()).subscribe(()=>this.refreshSchema())}fanyi(e){return this.i18nSrv.fanyi(e)||e}inheritUI(e){["optionalHelp"].filter(i=>!!this._defUi[i]).forEach(i=>e[i]=C(C({},this._defUi[i]),e[i]))}coverProperty(){let e=this.layout==="horizontal",i=Tt(this.schema),{definitions:n}=i,o=(s,a,l,c,u)=>{Array.isArray(s.required)||(s.required=[]),Object.keys(s.properties).forEach(d=>{let y="$",_=y+d,p=vr(s.properties[d],n),g=C(C({},p.ui),l[_]),f=C(C(C(C(J(C(C({},this._defUi),c),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:p.type}),p.format&&this.options.formatMap[p.format]),typeof p.ui=="string"?{widget:p.ui}:null),!p.format&&!p.ui&&Array.isArray(p.enum)&&p.enum.length>0?{widget:"select"}:null),g);if(Object.keys(f).filter(w=>w.startsWith(y)).forEach(w=>delete f[w]),e?c.spanLabelFixed?g.spanLabelFixed||(f.spanLabelFixed=c.spanLabelFixed):(f.spanLabel||(f.spanLabel=typeof c.spanLabel>"u"?5:c.spanLabel),f.spanControl||(f.spanControl=typeof c.spanControl>"u"?19:c.spanControl),f.offsetControl||(f.offsetControl=typeof c.offsetControl>"u"?null:c.offsetControl)):(f.spanLabel=null,f.spanControl=null,f.offsetControl=null),this.layout==="inline"&&delete f.grid,this.layout!=="horizontal"&&(f.spanLabelFixed=null),f.spanLabelFixed!=null&&f.spanLabelFixed>0&&(f.spanLabel=null,f.spanControl=null),f.widget==="date"&&f.end!=null){let w=s.properties[f.end];w?w.ui=J(C({},w.ui),{widget:f.widget,hidden:!0}):f.end=null}if(this.inheritUI(f),f.optionalHelp){typeof f.optionalHelp=="string"&&(f.optionalHelp={text:f.optionalHelp});let w=f.optionalHelp=C({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},f.optionalHelp);w.i18n&&(w.text=this.fanyi(w.i18n)),w.text||(f.optionalHelp=void 0)}if(f.i18n&&(p.title=this.fanyi(f.i18n)),f.descriptionI18n&&(p.description=this.fanyi(f.descriptionI18n)),p.description&&(f._description=this.dom.bypassSecurityTrustHtml(p.description)),f.hidden=typeof f.hidden=="boolean"?f.hidden:!1,f.hidden===!1&&f.acl&&this.aclSrv&&!this.aclSrv.can(f.acl)&&(f.hidden=!0),u[_]=f,delete p.ui,f.hidden===!0){let w=s.required.indexOf(d);w!==-1&&s.required.splice(w,1)}p.items&&(f.$items=C(C(C({},p.items.ui),l[_]),f.$items),o(p.items,p.items,l[_]?.$items??{},f.$items,f.$items)),p.properties&&Object.keys(p.properties).length&&o(p,s,l[_]||{},f,f)})};this.ui==null&&(this.ui={}),this._defUi=C(C(C({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),i.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=C({},this._defUi),o(i,i,this.ui,this.ui,this._ui),Wa(i,this._ui),this._schema=i,delete i.ui,Jt(this._ui,"cover schema & ui",this._ui,i)}coverButtonProperty(){this._btn=C(C(C({render:{size:"default"}},this.locale),this.options.button),this.button);let e=Object.keys(this._ui).find(n=>n.startsWith("$")),i=this._btn.render;if(this.layout==="horizontal"){let n=e?this._ui[e]:this._defUi;i.grid||(i.grid={offset:n.spanLabel,span:n.spanControl}),i.spanLabelFixed==null&&(i.spanLabelFixed=n.spanLabelFixed),!i.class&&typeof n.spanLabelFixed=="number"&&n.spanLabelFixed>0&&(i.class="text-center")}else i.grid={};this._mode&&(this.mode=this._mode),Jt(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(e){if(!this.platform.isBrowser)return;let i=["disabled","loading"];if(Object.keys(e).every(n=>i.includes(n))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(e,i){this._inited&&(this._renders.has(e)||(this._renders.set(e,i),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((e,i)=>{let n=this.rootProperty?.searchProperty(i);n!=null&&(n.ui._render=e)})}validator(e={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let i=o=>{o._runValidation(),!(!(o instanceof Xe)||!o.properties)&&(Array.isArray(o.properties)?o.properties.forEach(s=>i(s)):Object.keys(o.properties).forEach(s=>i(o.properties[s])))};e.onlyRoot?this.rootProperty._runValidation():i(this.rootProperty);let n=this.rootProperty.errors;return this._valid=!(n&&n.length),e.emitError&&!this._valid&&this.formError.emit(n),this.cdr.detectChanges(),this._valid}refreshSchema(e,i){if(!this.platform.isBrowser)return this;if(e&&(this.schema=e),i&&(this.ui=i),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=C({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let n=!0;return this.rootProperty.valueChanges.subscribe(o=>{if(this._item=C(C({},this.cleanValue?null:this.formData),o.value),n){n=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:o.path,pathValue:o.pathValue})}),this.rootProperty.errorsChanges.subscribe(o=>{this._valid=!(o&&o.length),this.formError.emit(o),this.cdr.detectChanges()}),this}reset(e=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),e&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}static{this.\u0275fac=function(i){return new(i||t)(Ds(Ke))}}static{this.\u0275cmp=H({type:t,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(i,n){i&2&&le("sf",!0)("sf__inline",n.layout==="inline")("sf__horizontal",n.layout==="horizontal")("sf__search",n.mode==="search")("sf__edit",n.mode==="edit")("sf__no-error",n.onlyVisual)("sf__no-colon",n.noColon)("sf__compact",n.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:[2,"liveValidate","liveValidate",Be],autocomplete:"autocomplete",firstVisual:[2,"firstVisual","firstVisual",Be],onlyVisual:[2,"onlyVisual","onlyVisual",Be],compact:[2,"compact","compact",Be],mode:"mode",loading:[2,"loading","loading",Be],disabled:[2,"disabled","disabled",Be],noColon:[2,"noColon","noColon",Be],cleanValue:[2,"cleanValue","cleanValue",Be],delay:[2,"delay","delay",Be]},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],features:[ni([rn,{provide:Yt,useFactory:o0,deps:[Qr,jt,Ke]},Pt]),ei,ht],ngContentSelectors:U_,decls:6,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"submit","nzLayout"],[3,"formProperty","footer"],[3,"ngTemplateOutlet"],[1,"sf-btns",3,"ngClass","fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],["nz-icon","",3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled"],["type","button","nz-button","","data-type","reset",3,"click","nzType","nzSize","disabled"]],template:function(i,n){if(i&1){let o=te();ri(),S(0,B_,1,0,"ng-template",null,0,we)(2,i0,2,1,"ng-template",null,1,we),z(4,"form",2),L("submit",function(a){return P(o),O(n.onSubmit(a))}),S(5,n0,1,2,"sf-item",3),$()}i&2&&(v(4),h("nzLayout",n.layout),Ee("autocomplete",n.autocomplete),v(),E(n.rootProperty?5:-1))},dependencies:[Ut,be,la,sa,aa,li,Ce,ai,Je,Ge,Ma,Kt,Ie,pt,Br],encapsulation:2,changeDetection:0})}}return t})();var s0=["*"];function a0(t,r){if(t&1&&U(0,"i",9),t&2){let e=m(4);h("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipColor",e.oh.bgColor)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function l0(t,r){if(t&1&&(z(0,"span",8),Q(1),S(2,a0,1,9,"i",9),$()),t&2){let e=m(3);v(),se(" ",e.ui.optional," "),v(),E(e.oh?2:-1)}}function c0(t,r){if(t&1&&(z(0,"label")(1,"span",7),Q(2),$(),S(3,l0,3,2,"span",8),$()),t&2){let e=m(2);le("ant-form-item-required",e.ui._required),Ee("for",e.id),v(2),Ht(e.t),v(),E(e.ui.optional||e.oh?3:-1)}}function u0(t,r){if(t&1&&(z(0,"div",0),S(1,c0,4,5,"label",6),$()),t&2){let e=m();h("nzSpan",e.ui.spanLabel),v(),E(e.t?1:-1)}}function d0(t,r){if(t&1&&(z(0,"div",4)(1,"div",10),Q(2),$()()),t&2){let e=m();h("@helpMotion",void 0),v(2),se(" ",e.error," ")}}function f0(t,r){if(t&1&&U(0,"div",5),t&2){let e=m();h("innerHTML",e.ui._description,We)}}var ie=(()=>{class t{constructor(){this.statusSrv=W(Bt),this._showTitle=!1,this.title=null}set showTitle(e){this._showTitle=!!e}get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}ngOnChanges(){let e=!!this.error;this.statusSrv.formStatusChanges.next({status:e?"error":"",hasFeedback:!!this.ui.feedback})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=H({type:t,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},features:[ht],ngContentSelectors:s0,decls:8,vars:21,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra",3,"innerHTML"],[3,"ant-form-item-required"],[1,"sf__label-text"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],["role","alert",1,"ant-form-item-explain-error"]],template:function(i,n){i&1&&(ri(),z(0,"nz-form-item"),S(1,u0,2,2,"div",0),z(2,"div",1)(3,"div",2)(4,"div",3),ii(5),$()(),S(6,d0,3,2,"div",4)(7,f0,1,1,"div",5),$()()),i&2&&(ti("width",n.ui.width,"px"),le("ant-form-item-has-error",n.showError)("ant-form-item-with-help",n.showError)("ant-form-item-has-success",n.ui.feedback==="success")("ant-form-item-has-warning",n.ui.feedback==="warning")("ant-form-item-has-error",n.ui.feedback==="error")("ant-form-item-is-validating",n.ui.feedback==="validating")("ant-form-item-has-feedback",n.ui.feedback),v(),E(n._showTitle?1:-1),v(),h("nzSpan",n.ui.spanControl)("nzOffset",n.ui.offsetControl),v(4),E(!n.ui.onlyVisual&&n.showError?6:-1),v(),E(n.schema.description?7:-1))},dependencies:[Ce,Je,Ge,Kt,Ie,gt],encapsulation:2,data:{animation:[ia]}})}}return t})();var p0=(()=>{class t{constructor(){this.table=W(Gr),this.templateRef=W(Ms)}ngOnInit(){this.table._addTpl(this.path.startsWith(ae)?this.path:ae+this.path,this.templateRef)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=st({type:t,selectors:[["","sf-template",""]],inputs:{path:[0,"sf-template","path"]}})}}return t})();var us=(()=>{class t{constructor(){this.cd=W(oi),this.injector=W(Qr),this.sfItemComp=W(pt),this.sfComp=W(Gr),this.showError=!1,this.id=""}get cls(){return this.ui.class||""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(si)}get cleanValue(){return this.sfComp?.cleanValue}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(mt(this.sfItemComp.destroy$)).subscribe(e=>{if(e==null)return;Jt(this.ui,"errorsChanges",this.formProperty.path,e);let i=this.sfComp?.firstVisual;(i||!i&&this.sfComp?._inited)&&(this.showError=e.length>0,this.error=this.showError?e[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(e){this.formProperty.setValue(e,!1),Jt(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(e=!1){e?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=st({type:t,hostVars:2,hostBindings:function(i,n){i&2&&Rs(n.cls)}})}}return t})();var oe=(()=>{class t extends us{reset(e){}afterViewInit(){}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275dir=st({type:t,features:[K]})}}return t})(),Hu=(()=>{class t extends us{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(mt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275dir=st({type:t,features:[K]})}}return t})(),Uu=(()=>{class t extends us{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(mt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275dir=st({type:t,features:[K]})}}return t})();function h0(t,r){if(t&1&&U(0,"i",8),t&2){let e=m(2);h("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function _0(t,r){if(t&1){let e=te();z(0,"div",0)(1,"label"),Q(2),z(3,"span",7),Q(4),S(5,h0,1,8,"i",8),$()(),z(6,"div",9)(7,"button",10),L("click",function(){P(e);let n=m();return O(n.addItem())}),$()()()}if(t&2){let e=m();h("nzSpan",e.ui.spanLabel),v(),le("ant-form-item-required",e.ui.required),v(),se(" ",e.schema.title," "),v(2),se(" ",e.ui.optional," "),v(),E(e.oh?5:-1),v(2),h("nzType",e.addType)("disabled",e.addDisabled)("innerHTML",e.addTitle,We)}}function g0(t,r){if(t&1){let e=te();z(0,"span",14),L("click",function(){P(e);let n=m(2).index,o=m();return O(o.removeItem(n))}),U(1,"i",15),$()}if(t&2){let e=m(3);Ee("title",e.removeTitle)}}function y0(t,r){if(t&1&&(z(0,"div",11)(1,"nz-card"),U(2,"sf-item",12),S(3,g0,2,1,"span",13),$()()),t&2){let e=m(),i=e.$implicit,n=e.index,o=m();h("nzSpan",o.arraySpan),Ee("data-index",n),v(2),h("formProperty",i),v(),E(o.showRemove?3:-1)}}function v0(t,r){if(t&1&&(qs(0),S(1,y0,4,4,"div",11),As()),t&2){let e=r.$implicit;v(),E(e.visible&&!e.ui.hidden?1:-1)}}function w0(t,r){if(t&1&&(z(0,"div",5),Q(1),$()),t&2){let e=m();v(),Ht(e.error)}}function b0(t,r){if(t&1&&U(0,"div",6),t&2){let e=m();h("innerHTML",e.ui._description,We)}}var ds=(()=>{class t extends Hu{constructor(){super(...arguments),this.arraySpan=8}get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:e,addTitle:i,addType:n,removable:o,removeTitle:s}=this.ui;e&&e.arraySpan&&(this.arraySpan=e.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(i||this.l.addText),this.addType=n||"dashed",this.removeTitle=o===!1?null:s||this.l.removeText}reValid(e){this.formProperty.updateValueAndValidity(C({onlySelf:!1,emitValueEvent:!1,emitValidator:!0},e))}addItem(){let e=this.formProperty.add({});this.reValid(),this.ui.add?.(e)}removeItem(e){let i=this.formProperty.properties[e].path;this.formProperty.remove(e),this.reValid({updatePath:i,emitValueEvent:!0}),this.ui.remove?.(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275cmp=H({type:t,selectors:[["sf-array"]],hostVars:2,hostBindings:function(i,n){i&2&&le("sf__array",!0)},features:[K],decls:8,vars:10,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],[4,"ngFor","ngForOf"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__array-add"],["type","button","nz-button","",3,"click","nzType","disabled","innerHTML"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],[1,"sf__array-remove"],[1,"sf__array-remove",3,"click"],["nz-icon","","nzType","delete"]],template:function(i,n){i&1&&(z(0,"nz-form-item"),S(1,_0,8,9,"div",0),z(2,"div",1)(3,"div",2)(4,"div",3),S(5,v0,2,1,"ng-container",4),$(),S(6,w0,2,1,"div",5)(7,b0,1,1,"div",6),$()()()),i&2&&(le("ant-form-item-with-help",n.showError),v(),E(n.schema.title?1:-1),v(),h("nzSpan",n.ui.spanControl)("nzOffset",n.ui.offsetControl),v(),le("has-error",n.showError),v(2),h("ngForOf",n.formProperty.properties),v(),E(!n.ui.onlyVisual&&n.showError?6:-1),v(),E(n.schema.description?7:-1))},dependencies:[Js,li,Ce,ai,mi,Je,Ge,Kt,Ie,gt,pt],encapsulation:2})}}return t})();var fs=(()=>{class t extends oe{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275cmp=H({type:t,selectors:[["sf-boolean"]],features:[K],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading"]],template:function(i,n){i&1&&(z(0,"sf-item-wrap",0)(1,"nz-switch",1),L("ngModelChange",function(s){return n.setValue(s)}),$()()),i&2&&(h("id",n.id)("schema",n.schema)("ui",n.ui)("showError",n.showError)("error",n.error)("showTitle",n.schema.title),v(),h("ngModel",n.value)("nzDisabled",n.disabled)("nzSize",n.ui.size)("nzCheckedChildren",n.ui.checkedChildren)("nzUnCheckedChildren",n.ui.unCheckedChildren)("nzLoading",n.ui.loading))},dependencies:[fe,pe,Ra,ie],encapsulation:2})}}return t})();function C0(t,r){if(t&1){let e=te();z(0,"label",3),Ue("ngModelChange",function(n){P(e);let o=m(2);return He(o.allChecked,n)||(o.allChecked=n),O(n)}),L("ngModelChange",function(){P(e);let n=m(2);return O(n.onAllChecked())}),Q(1),$()}if(t&2){let e=m(2);Le("ngModel",e.allChecked),h("nzIndeterminate",e.indeterminate),v(),se(" ",e.ui.checkAllText||e.l.checkAllText," ")}}function z0(t,r){if(t&1&&S(0,C0,2,3,"label",2),t&2){let e=m();E(e.ui.checkAll?0:-1)}}function $0(t,r){if(t&1&&U(0,"i",7),t&2){let e=m(3);h("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function S0(t,r){if(t&1){let e=te();z(0,"label",5),L("ngModelChange",function(n){P(e);let o=m(2);return O(o._setValue(n))}),Q(1),z(2,"span",6),Q(3),S(4,$0,1,8,"i",7),$()()}if(t&2){let e=m(2);h("nzDisabled",e.disabled)("ngModel",e.value),v(),se(" ",e.schema.title," "),v(2),se(" ",e.ui.optional," "),v(),E(e.oh?4:-1)}}function x0(t,r){}function E0(t,r){if(t&1){let e=te();S(0,x0,0,0,"ng-template",9),z(1,"nz-checkbox-group",10),L("ngModelChange",function(){P(e);let n=m(3);return O(n.notifySet())}),$()}if(t&2){let e=m(3),i=de(1);h("ngTemplateOutlet",i),v(),h("ngModel",e.data)}}function T0(t,r){}function P0(t,r){if(t&1&&(z(0,"div",13),S(1,T0,0,0,"ng-template",9),$()),t&2){let e=m(4),i=de(1);h("nzSpan",e.grid_span),v(),h("ngTemplateOutlet",i)}}function O0(t,r){if(t&1&&(z(0,"div",13)(1,"label",14),Q(2),$()()),t&2){let e=r.$implicit,i=m(4);h("nzSpan",i.grid_span),v(),h("nzValue",e.value)("ngModel",e.checked)("nzDisabled",e.disabled),v(),se(" ",e.label," ")}}function I0(t,r){if(t&1){let e=te();z(0,"nz-checkbox-wrapper",11),L("nzOnChange",function(n){P(e);let o=m(3);return O(o.groupInGridChange(n))}),z(1,"div",12),S(2,P0,2,2,"div",13),Pe(3,O0,3,5,"div",13,Te),$()()}if(t&2){let e=m(3);v(2),E(e.ui.checkAll?2:-1),v(),Oe(e.data)}}function k0(t,r){if(t&1&&S(0,E0,2,2)(1,I0,5,1,"nz-checkbox-wrapper",8),t&2){let e=m(2);E(e.grid_span===0?0:1)}}function N0(t,r){if(t&1&&S(0,S0,5,5,"label",4)(1,k0,2,1),t&2){let e=m();E(e.data.length===0?0:1)}}var ps=(()=>{class t extends oe{constructor(){super(...arguments),this.data=[],this.allChecked=!1,this.indeterminate=!1,this.labelTitle="",this.inited=!1}reset(e){this.inited=!1,Xt(this.schema,this.ui,e).subscribe(i=>{this.data=i,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=i.length===0?"":this.schema.title;let{span:n}=this.ui;this.grid_span=n&&n>0?n:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(e){this.setValue(e),this.detectChanges(),this.notifyChange(e)}notifySet(){let e=this.data.filter(i=>i.checked);this.updateAllChecked().setValue(e.map(i=>i.value)),this.notifyChange(e)}groupInGridChange(e){this.data.forEach(i=>i.checked=e.indexOf(i.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(e=>e.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(e=>e.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(e=>e.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(e){this.ui.change&&this.ui.change(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275cmp=H({type:t,selectors:[["sf-checkbox"]],features:[K],decls:4,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModel","nzIndeterminate"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModelChange","ngModel","nzIndeterminate"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__checkbox-list"],[3,"ngTemplateOutlet"],[3,"ngModelChange","ngModel"],[1,"sf__checkbox-list",3,"nzOnChange"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(i,n){i&1&&(S(0,z0,1,1,"ng-template",null,0,we),z(2,"sf-item-wrap",1),S(3,N0,2,1),$()),i&2&&(v(2),h("id",n.id)("schema",n.schema)("ui",n.ui)("showError",n.showError)("error",n.error)("showTitle",!0)("title",n.labelTitle),v(),E(n.inited?3:-1))},dependencies:[be,fe,pe,Ce,da,fa,ua,Je,Ge,Ie,gt,ie],encapsulation:2})}}return t})();var V0=(t,r,e)=>({$implicit:t,schema:r,ui:e});function D0(t,r){}var ms=(()=>{class t extends oe{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275cmp=H({type:t,selectors:[["sf-custom"]],features:[K],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&(z(0,"sf-item-wrap",0),S(1,D0,0,0,"ng-template",1),$()),i&2&&(h("id",n.id)("schema",n.schema)("ui",n.ui)("showError",n.showError)("error",n.error)("showTitle",n.schema.title),v(),h("ngTemplateOutlet",n.ui._render)("ngTemplateOutletContext",Ks(8,V0,n,n.schema,n.ui)))},dependencies:[be,ie],encapsulation:2})}}return t})();function M0(t,r){if(t&1){let e=te();z(0,"nz-year-picker",5),Ue("ngModelChange",function(n){P(e);let o=m();return He(o.displayValue,n)||(o.displayValue=n),O(n)}),L("ngModelChange",function(n){P(e);let o=m();return O(o._change(n))})("nzOnOpenChange",function(n){P(e);let o=m();return O(o._openChange(n))}),$()}if(t&2){let e=m();h("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),Le("ngModel",e.displayValue),h("nzAllowClear",e.i.allowClear)("ngClass",e.ui.className)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function F0(t,r){if(t&1){let e=te();z(0,"nz-month-picker",5),Ue("ngModelChange",function(n){P(e);let o=m();return He(o.displayValue,n)||(o.displayValue=n),O(n)}),L("ngModelChange",function(n){P(e);let o=m();return O(o._change(n))})("nzOnOpenChange",function(n){P(e);let o=m();return O(o._openChange(n))}),$()}if(t&2){let e=m();h("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),Le("ngModel",e.displayValue),h("nzAllowClear",e.i.allowClear)("ngClass",e.ui.className)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function j0(t,r){if(t&1){let e=te();z(0,"nz-week-picker",6),Ue("ngModelChange",function(n){P(e);let o=m();return He(o.displayValue,n)||(o.displayValue=n),O(n)}),L("ngModelChange",function(n){P(e);let o=m();return O(o._change(n))})("nzOnOpenChange",function(n){P(e);let o=m();return O(o._openChange(n))}),$()}if(t&2){let e=m();h("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),Le("ngModel",e.displayValue),h("nzAllowClear",e.i.allowClear)("ngClass",e.ui.className)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function R0(t,r){if(t&1){let e=te();z(0,"nz-range-picker",7),Ue("ngModelChange",function(n){P(e);let o=m();return He(o.displayValue,n)||(o.displayValue=n),O(n)}),L("ngModelChange",function(n){P(e);let o=m();return O(o._change(n))})("nzOnOpenChange",function(n){P(e);let o=m();return O(o._openChange(n))})("nzOnOk",function(n){P(e);let o=m();return O(o._ok(n))}),$()}if(t&2){let e=m();h("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),Le("ngModel",e.displayValue),h("nzAllowClear",e.i.allowClear)("ngClass",e.ui.className)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzDisabledTime",e.ui.disabledTime)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzRanges",e.ui.ranges)("nzShowTime",e.ui.showTime)("nzSeparator",e.ui.separator)("nzShowWeekNumber",e.ui.showWeekNumber||!1)("nzMode",e.ui.rangeMode)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function q0(t,r){if(t&1){let e=te();z(0,"nz-date-picker",8),Ue("ngModelChange",function(n){P(e);let o=m();return He(o.displayValue,n)||(o.displayValue=n),O(n)}),L("ngModelChange",function(n){P(e);let o=m();return O(o._change(n))})("nzOnOpenChange",function(n){P(e);let o=m();return O(o._openChange(n))})("nzOnOk",function(n){P(e);let o=m();return O(o._ok(n))}),$()}if(t&2){let e=m();h("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),Le("ngModel",e.displayValue),h("nzAllowClear",e.i.allowClear)("ngClass",e.ui.className)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzDisabledTime",e.ui.disabledTime)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzShowTime",e.ui.showTime)("nzShowToday",e.i.showToday)("nzShowWeekNumber",e.ui.showWeekNumber||!1)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}var hs=(()=>{class t extends oe{constructor(){super(...arguments),this.flatRange=!1,this.displayValue=null}ngOnInit(){let{mode:e,end:i,displayFormat:n,allowClear:o,showToday:s}=this.ui;if(this.mode=e||"date",this.flatRange=i!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let a=this.endProperty.ui;this.endFormat=a.format?a._format:this.startFormat}if(n)this.displayFormat=n;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:me(o,!0),showToday:me(s,!0)}}reset(e){let i={formatString:this.startFormat,defaultValue:null};if(Array.isArray(e)?e=e.map(n=>ui(n,i)):e=ui(e,i),this.flatRange){let n=ui(this.endProperty.formData,{formatString:this.endFormat||this.startFormat,defaultValue:null});this.displayValue=e==null||n==null?[]:[e,n]}else this.displayValue=e;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(e,i=!0){if(i&&this.ui.change&&this.ui.change(e),e==null||Array.isArray(e)&&e.length<2){this.setValue(null),this.setEnd(null);return}let n=Array.isArray(e)?[ci(e[0],this.startFormat),ci(e[1],this.endFormat||this.startFormat)]:ci(e,this.startFormat);this.flatRange?(this.setValue(n[0]),this.setEnd(n[1])):this.setValue(n)}_openChange(e){this.ui.onOpenChange&&this.ui.onOpenChange(e)}_ok(e){this.ui.onOk&&this.ui.onOk(e)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(e){this.flatRange&&(this.endProperty.setValue(e,!0),this.endProperty.updateValueAndValidity())}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275cmp=H({type:t,selectors:[["sf-date"]],features:[K],decls:6,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"]],template:function(i,n){if(i&1&&(z(0,"sf-item-wrap",0),S(1,M0,1,15,"nz-year-picker",1)(2,F0,1,15,"nz-month-picker",1)(3,j0,1,14,"nz-week-picker",2)(4,R0,1,21,"nz-range-picker",3)(5,q0,1,19,"nz-date-picker",4),$()),i&2){let o;h("id",n.id)("schema",n.schema)("ui",n.ui)("showError",n.showError)("error",n.error)("showTitle",n.schema.title),v(),E((o=n.mode)==="year"?1:o==="month"?2:o==="week"?3:o==="range"?4:5)}},dependencies:[Ut,fe,pe,Pa,Ia,Oa,Na,ka,ie],encapsulation:2})}}return t})();var A0=t=>({"ant-input-number__hide-step":t}),on=(()=>{class t extends oe{constructor(){super(...arguments),this.formatter=e=>e,this.parser=e=>e,this.width=""}ngOnInit(){let{minimum:e,exclusiveMinimum:i,maximum:n,exclusiveMaximum:o,multipleOf:s,type:a}=this.schema;this.step=s||1,typeof e<"u"&&(this.min=i?e+this.step:e),typeof n<"u"&&(this.max=o?n-this.step:n),a==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let l=this.ui;l.prefix!=null&&(l.formatter=c=>c==null?"":`${l.prefix} ${c}`,l.parser=c=>c.replace(`${l.prefix} `,"")),l.unit!=null&&(l.formatter=c=>c==null?"":`${c} ${l.unit}`,l.parser=c=>c.replace(` ${l.unit}`,"")),l.formatter&&(this.formatter=l.formatter),l.parser&&(this.parser=l.parser),this.width=typeof l.widgetWidth=="number"?`${l.widgetWidth}px`:l.widgetWidth??"90px"}_setValue(e){this.setValue(this.schema.type==="integer"?Math.floor(e):e),this.ui.change&&this.ui.change(this.value)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275cmp=H({type:t,selectors:[["sf-number"]],features:[K],decls:2,vars:22,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder","ngClass"]],template:function(i,n){i&1&&(z(0,"sf-item-wrap",0)(1,"nz-input-number",1),L("ngModelChange",function(s){return n._setValue(s)}),$()()),i&2&&(h("id",n.id)("schema",n.schema)("ui",n.ui)("showError",n.showError)("error",n.error)("showTitle",n.schema.title),v(),ti("width",n.width),h("nzId",n.id)("ngModel",n.value)("nzDisabled",n.disabled)("nzSize",n.ui.size)("nzMin",n.min)("nzMax",n.max)("nzStep",n.step)("nzFormatter",n.formatter)("nzParser",n.parser)("nzPrecision",n.ui.precision)("nzPlaceHolder",n.ui.placeholder||"")("ngClass",Bs(20,A0,n.ui.hideStep)))},dependencies:[Ut,fe,pe,Ea,ie],encapsulation:2})}}return t})();var W0=()=>[],L0=()=>({$implicit:!0});function H0(t,r){if(t&1&&(z(0,"div",4),Q(1),$()),t&2){let e=m(2);v(),Ht(e.title)}}function U0(t,r){if(t&1&&(z(0,"div",6),U(1,"sf-item",7),$()),t&2){let e=m().$implicit;h("nzSpan",e.grid.span)("nzOffset",e.grid.offset)("nzXs",e.grid.xs)("nzSm",e.grid.sm)("nzMd",e.grid.md)("nzLg",e.grid.lg)("nzXl",e.grid.xl)("nzXXl",e.grid.xxl),v(),h("formProperty",e.property)("fixed-label",e.spanLabelFixed)}}function B0(t,r){if(t&1&&S(0,U0,2,10,"div",6),t&2){let e=r.$implicit;E(e.property.visible&&e.show?0:-1)}}function K0(t,r){if(t&1&&(z(0,"div",5),Pe(1,B0,1,1,null,null,Te),$()),t&2){let e=m(2);h("nzGutter",e.grid.gutter),v(),Oe(e.list)}}function G0(t,r){if(t&1&&U(0,"sf-item",7),t&2){let e=m().$implicit;h("formProperty",e.property)("fixed-label",e.spanLabelFixed)}}function J0(t,r){if(t&1&&S(0,G0,1,2,"sf-item",7),t&2){let e=r.$implicit;E(e.property.visible&&e.show?0:-1)}}function X0(t,r){if(t&1&&Pe(0,J0,1,1,null,null,Te),t&2){let e=m(2);Oe(e.list)}}function Z0(t,r){if(t&1&&S(0,H0,2,1,"div",4)(1,K0,3,1,"div",5)(2,X0,2,0),t&2){let e=r.$implicit,i=m();E(!e&&i.title?0:-1),v(),E(i.grid?1:2)}}function Q0(t,r){if(t&1&&U(0,"i",11),t&2){let e=m(3);h("nzType",e.expand?"down":"up")}}function Y0(t,r){if(t&1&&U(0,"i",13),t&2){let e=m(4);h("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipColor",e.oh.bgColor)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function eg(t,r){if(t&1&&(z(0,"span",12),Q(1),S(2,Y0,1,9,"i",13),$()),t&2){let e=m(3);v(),se(" ",e.ui.optional," "),v(),E(e.oh?2:-1)}}function tg(t,r){if(t&1){let e=te();z(0,"div",10),L("click",function(){P(e);let n=m(2);return O(n.changeExpand())}),S(1,Q0,1,1,"i",11),Q(2),S(3,eg,3,2,"span",12),$()}if(t&2){let e=m(2);le("point",e.showExpand),v(),E(e.showExpand?1:-1),v(),se(" ",e.title," "),v(),E(e.ui.optional||e.oh?3:-1)}}function rg(t,r){}function ig(t,r){if(t&1&&(z(0,"nz-card",8),S(1,tg,4,5,"ng-template",null,1,we)(3,rg,0,0,"ng-template",9),$()),t&2){let e=de(2),i=m(),n=de(1);le("sf__object-card-fold",!i.expand),h("nzTitle",e)("nzExtra",i.ui.cardExtra)("nzSize",i.ui.cardSize||"small")("nzActions",i.ui.cardActions||dn(11,W0))("nzBodyStyle",i.ui.cardBodyStyle)("nzBordered",i.ui.cardBordered||!0)("nzBorderless",i.ui.cardBorderless||!1),v(3),h("ngTemplateOutlet",n)("ngTemplateOutletContext",dn(12,L0))}}function ng(t,r){}function og(t,r){if(t&1&&S(0,ng,0,0,"ng-template",3),t&2){m();let e=de(1);h("ngTemplateOutlet",e)}}var _s=(()=>{class t extends Uu{constructor(){super(...arguments),this.type="default",this.list=[],this.showExpand=!0,this.expand=!0}ngOnInit(){let{formProperty:e,ui:i}=this,{grid:n,showTitle:o,type:s}=i;this.showExpand=me(i.showExpand,!0),this.expand=me(i.expand,!0),this.type=s??"default",(this.type==="card"||!e.isRoot()&&!(e.parent instanceof Qt)&&o===!0)&&(this.title=this.schema.title),this.grid=n;let a=[];for(let l of e.propertiesId){let c=e.properties[l],u={property:c,grid:c.ui.grid||n||{},spanLabelFixed:c.ui.spanLabelFixed,show:c.ui.hidden===!1};a.push(u)}this.list=a}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275cmp=H({type:t,selectors:[["sf-object"]],features:[K],decls:4,vars:1,consts:[["default",""],["cardTitleTpl",""],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless","sf__object-card-fold"],[3,"ngTemplateOutlet"],[1,"sf__title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],["nz-icon","",1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["s","","nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"]],template:function(i,n){i&1&&S(0,Z0,3,2,"ng-template",null,0,we)(2,ig,4,13,"nz-card",2)(3,og,1,1,null,3),i&2&&(v(2),E(n.type==="card"?2:3))},dependencies:[be,Ce,mi,Je,Ge,Ie,gt,pt,Br],encapsulation:2})}}return t})();function sg(t,r){if(t&1&&(z(0,"label",2),U(1,"span",3),$()),t&2){let e=r.$implicit,i=m(2);h("nzValue",e.value)("nzDisabled",i.disabled||e.disabled),v(),h("innerHTML",e.label,We)}}function ag(t,r){if(t&1&&Pe(0,sg,2,3,"label",2,Te),t&2){let e=m();Oe(e.data)}}function lg(t,r){if(t&1&&(z(0,"label",4),U(1,"span",3),$()),t&2){let e=r.$implicit,i=m(2);h("nzValue",e.value)("nzDisabled",i.disabled||e.disabled),v(),h("innerHTML",e.label,We)}}function cg(t,r){if(t&1&&Pe(0,lg,2,3,"label",4,Te),t&2){let e=m();Oe(e.data)}}var gs=(()=>{class t extends oe{constructor(){super(...arguments),this.data=[]}reset(e){this.styleType=(this.ui.styleType||"default")==="default",Xt(this.schema,this.ui,e).subscribe(i=>{this.data=i,this.detectChanges()})}_setValue(e){this.setValue(e),this.ui.change&&this.ui.change(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275cmp=H({type:t,selectors:[["sf-radio"]],features:[K],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzSize","nzName","ngModel","nzButtonStyle"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(i,n){i&1&&(z(0,"sf-item-wrap",0)(1,"nz-radio-group",1),L("ngModelChange",function(s){return n._setValue(s)}),S(2,ag,2,0)(3,cg,2,0),$()()),i&2&&(h("id",n.id)("schema",n.schema)("ui",n.ui)("showError",n.showError)("error",n.error)("showTitle",n.schema.title),v(),h("nzSize",n.ui.size)("nzName",n.id)("ngModel",n.value)("nzButtonStyle",n.ui.buttonStyle||"outline"),v(),E(n.styleType?2:3))},dependencies:[fe,pe,ha,ma,ie],encapsulation:2})}}return t})();function ug(t,r){if(t&1&&U(0,"nz-option",3),t&2){let e=r.$implicit;h("nzLabel",e.label)("nzValue",e.value)("nzHide",e.hide)("nzDisabled",e.disabled)}}function dg(t,r){if(t&1&&Pe(0,ug,1,4,"nz-option",3,Te),t&2){let e=m();Oe(e.data)}}function fg(t,r){if(t&1&&U(0,"nz-option",5),t&2){let e=r.$implicit;h("nzLabel",e.label)("nzValue",e.value)("nzDisabled",e.disabled)("nzHide",e.hide)}}function pg(t,r){if(t&1&&(z(0,"nz-option-group",4),Pe(1,fg,1,4,"nz-option",5,Te),$()),t&2){let e=r.$implicit;h("nzLabel",e.label),v(),Oe(e.children)}}function mg(t,r){if(t&1&&Pe(0,pg,3,1,"nz-option-group",4,Te),t&2){let e=m();Oe(e.data)}}function hg(t,r){if(t&1&&(z(0,"nz-option",2),U(1,"i",6),Q(2),$()),t&2){let e=m();v(2),se(" ",e.ui.searchLoadingText," ")}}var ys=(()=>{class t extends oe{constructor(){super(...arguments),this.search$=new qt,this.data=[],this.hasGroup=!1,this.loading=!1}checkGroup(e){this.hasGroup=(e||[]).filter(i=>i.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:e,borderless:i,autoFocus:n,dropdownMatchSelectWidth:o,serverSearch:s,maxMultipleCount:a,mode:l,showSearch:c,tokenSeparators:u,maxTagCount:d,compareWith:y,optionHeightPx:_,optionOverflowSize:p,showArrow:g}=this.ui;this.i={autoClearSearchValue:me(e,!0),borderless:me(i,!1),autoFocus:me(n,!1),dropdownMatchSelectWidth:me(o,!0),serverSearch:me(s,!1),maxMultipleCount:a||1/0,mode:l||"default",showSearch:me(c,!0),tokenSeparators:u||[],maxTagCount:d||1/0,optionHeightPx:_||32,optionOverflowSize:p||8,showArrow:me(g,!0),compareWith:y||((w,M)=>w===M)};let f=this.ui.onSearch;f&&this.search$.pipe(mt(this.sfItemComp.destroy$),Xr(),Jr(this.ui.searchDebounceTime||300),Zr(w=>f(w)),Ps(()=>[])).subscribe(w=>{this.data=w,this.checkGroup(w),this.loading=!1,this.detectChanges()})}reset(e){let i=this.ui.onSearch;Xt(this.schema,this.ui,e).subscribe(n=>{this._value=e,i==null&&(this.data=n),this.checkGroup(n),this.detectChanges()}),e&&i!=null&&this.search$.next(e)}change(e){this.ui.change&&this.ui.change(e,this.getOrgData(e)),this.setValue(e??this.ui.clearValue)}getOrgData(e){let i=this.injector.get(Aa);return Array.isArray(e)?e.map(n=>i.findTree(this.data,o=>o.value===n)):i.findTree(this.data,n=>n.value===e)}openChange(e){this.ui.openChange&&this.ui.openChange(e)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(e){this.ui.onSearch&&(this.loading=!0,this.search$.next(e))}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275cmp=H({type:t,selectors:[["sf-select"]],features:[K],decls:5,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom","nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzBorderless","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize"],["nzDisabled","","nzCustomContent",""],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nz-icon","","nzType","loading"]],template:function(i,n){i&1&&(z(0,"sf-item-wrap",0)(1,"nz-select",1),Ue("ngModelChange",function(s){return He(n._value,s)||(n._value=s),s}),L("ngModelChange",function(s){return n.change(s)})("nzOpenChange",function(s){return n.openChange(s)})("nzOnSearch",function(s){return n.onSearch(s)})("nzScrollToBottom",function(){return n.scrollToBottom()}),S(2,dg,2,0)(3,mg,2,0)(4,hg,3,1,"nz-option",2),$()()),i&2&&(h("id",n.id)("schema",n.schema)("ui",n.ui)("showError",n.showError)("error",n.error)("showTitle",n.schema.title),v(),h("nzId",n.id)("nzDisabled",n.disabled),Le("ngModel",n._value),h("nzSize",n.ui.size)("nzPlaceHolder",n.ui.placeholder)("nzNotFoundContent",n.ui.notFoundContent)("nzDropdownClassName",n.ui.dropdownClassName)("nzAllowClear",n.ui.allowClear)("nzDropdownStyle",n.ui.dropdownStyle)("nzCustomTemplate",n.ui.customTemplate)("nzSuffixIcon",n.ui.suffixIcon)("nzRemoveIcon",n.ui.removeIcon)("nzClearIcon",n.ui.clearIcon)("nzMenuItemSelectedIcon",n.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",n.ui.maxTagPlaceholder)("nzDropdownRender",n.ui.dropdownRender)("nzAutoClearSearchValue",n.i.autoClearSearchValue)("nzBorderless",n.i.borderless)("nzAutoFocus",n.i.autoFocus)("nzDropdownMatchSelectWidth",n.i.dropdownMatchSelectWidth)("nzServerSearch",n.i.serverSearch)("nzMaxMultipleCount",n.i.maxMultipleCount)("nzMode",n.i.mode)("nzShowSearch",n.i.showSearch)("nzShowArrow",n.i.showArrow)("nzTokenSeparators",n.i.tokenSeparators)("nzMaxTagCount",n.i.maxTagCount)("compareWith",n.i.compareWith)("nzOptionHeightPx",n.i.optionHeightPx)("nzOptionOverflowSize",n.i.optionOverflowSize),v(),E(!n.loading&&!n.hasGroup?2:-1),v(),E(!n.loading&&n.hasGroup?3:-1),v(),E(n.loading?4:-1))},dependencies:[fe,pe,Ce,Ie,va,wa,ya,ie],encapsulation:2})}}return t})();function gg(t,r){if(t&1){let e=te();z(0,"input",4),L("ngModelChange",function(n){P(e);let o=m();return O(o.change(n))})("keyup.enter",function(n){P(e);let o=m();return O(o.enter(n))})("focus",function(n){P(e);let o=m();return O(o.focus(n))})("blur",function(n){P(e);let o=m();return O(o.blur(n))}),$()}if(t&2){let e=m();h("disabled",e.disabled)("nzSize",e.ui.size)("nzBorderless",e.ui.borderless)("ngModel",e.value),Ee("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("type",e.ui.type||"text")("placeholder",e.ui.placeholder)("autocomplete",e.ui.autocomplete)("autoFocus",e.ui.autofocus)}}function yg(t,r){}function vg(t,r){if(t&1&&(z(0,"nz-input-group",2),S(1,yg,0,0,"ng-template",3),$()),t&2){let e=m(),i=de(2);h("nzAddOnBefore",e.ui.addOnBefore)("nzAddOnAfter",e.ui.addOnAfter)("nzAddOnBeforeIcon",e.ui.addOnBeforeIcon)("nzAddOnAfterIcon",e.ui.addOnAfterIcon)("nzPrefix",e.ui.prefix)("nzPrefixIcon",e.ui.prefixIcon)("nzSuffix",e.ui.suffix)("nzSuffixIcon",e.ui.suffixIcon),v(),h("ngTemplateOutlet",i)}}function wg(t,r){}function bg(t,r){if(t&1&&S(0,wg,0,0,"ng-template",3),t&2){m();let e=de(2);h("ngTemplateOutlet",e)}}var sn=(()=>{class t extends oe{constructor(){super(...arguments),this.change$=null}ngOnInit(){let{addOnAfter:e,addOnAfterIcon:i,addOnBefore:n,addOnBeforeIcon:o,prefix:s,prefixIcon:a,suffix:l,suffixIcon:c,autofocus:u}=this.ui;this.type=e||n||i||o||s||a||l||c?"addon":"",u===!0&&setTimeout(()=>{this.injector.get(Yr).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(e){!e&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let e=this.ui.changeDebounceTime,i=this.ui.change;if(e==null||e<=0||i==null)return;this.change$=new At(this.value);let n=this.change$.asObservable().pipe(Jr(e),mt(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(n=n.pipe(Zr(this.ui.changeMap))),n.subscribe(o=>i(o))}change(e){if(this.setValue(e),this.change$!=null){this.change$.next(e);return}this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}enter(e){this.ui.enter&&this.ui.enter(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275cmp=H({type:t,selectors:[["sf-string"]],features:[K],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzAddOnBefore","nzAddOnAfter","nzAddOnBeforeIcon","nzAddOnAfterIcon","nzPrefix","nzPrefixIcon","nzSuffix","nzSuffixIcon"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","keyup.enter","focus","blur","disabled","nzSize","nzBorderless","ngModel"]],template:function(i,n){i&1&&(z(0,"sf-item-wrap",1),S(1,gg,1,11,"ng-template",null,0,we)(3,vg,2,9,"nz-input-group",2)(4,bg,1,1,null,3),$()),i&2&&(h("id",n.id)("schema",n.schema)("ui",n.ui)("showError",n.showError)("error",n.error)("showTitle",n.schema.title),v(3),E(n.type==="addon"?3:4))},dependencies:[be,di,fe,pe,Ce,pi,za,Ca,ie],encapsulation:2})}}return t})();function Cg(t,r){if(t&1&&U(0,"span",1),t&2){let e=m();h("innerHTML",e.text,We)}}function zg(t,r){if(t&1&&U(0,"span",2),t&2){let e=m();h("innerText",e.text)}}var vs=(()=>{class t extends oe{constructor(){super(...arguments),this.text=""}ngOnInit(){this.ui._required=!1,this.ui.html=me(this.ui.html,!0)}reset(e){this.text=e||this.ui.defaultText||"-"}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275cmp=H({type:t,selectors:[["sf-text"]],features:[K],decls:3,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(i,n){i&1&&(z(0,"sf-item-wrap",0),S(1,Cg,1,1,"span",1)(2,zg,1,1,"span",2),$()),i&2&&(le("sf__text-html",n.ui.html),h("id",n.id)("schema",n.schema)("ui",n.ui)("showError",n.showError)("error",n.error)("showTitle",n.schema.title),v(),E(n.ui.html?1:2))},dependencies:[ie],encapsulation:2})}}return t})();function $g(t,r){if(t&1){let e=te();z(0,"textarea",4),L("ngModelChange",function(n){P(e);let o=m();return O(o.change(n))})("focus",function(n){P(e);let o=m();return O(o.focus(n))})("blur",function(n){P(e);let o=m();return O(o.blur(n))}),Q(1,"      "),$()}if(t&2){let e=m();h("disabled",e.disabled)("nzSize",e.ui.size)("ngModel",e.value)("nzAutosize",e.autosize)("nzBorderless",e.ui.borderless),Ee("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("placeholder",e.ui.placeholder)}}function Sg(t,r){if(t&1){let e=te();z(0,"nz-textarea-count",2)(1,"textarea",4),L("ngModelChange",function(n){P(e);let o=m();return O(o.change(n))})("focus",function(n){P(e);let o=m();return O(o.focus(n))})("blur",function(n){P(e);let o=m();return O(o.blur(n))}),Q(2,"        "),$()()}if(t&2){let e=m();h("nzMaxCharacterCount",e.ui.maxCharacterCount)("nzComputeCharacterCount",e.ui.computeCharacterCount),v(),h("disabled",e.disabled)("nzSize",e.ui.size)("ngModel",e.value)("nzAutosize",e.autosize)("nzBorderless",e.ui.borderless),Ee("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("placeholder",e.ui.placeholder)}}function xg(t,r){}function Eg(t,r){if(t&1&&S(0,xg,0,0,"ng-template",3),t&2){m();let e=de(2);h("ngTemplateOutlet",e)}}var ws=(()=>{class t extends oe{constructor(){super(...arguments),this.autosize=!0}ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=e=>e.length)}change(e){this.setValue(e),this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})()}static{this.\u0275cmp=H({type:t,selectors:[["sf-textarea"]],features:[K],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","focus","blur","disabled","nzSize","ngModel","nzAutosize","nzBorderless"]],template:function(i,n){i&1&&(z(0,"sf-item-wrap",1),S(1,$g,2,9,"ng-template",null,0,we)(3,Sg,3,11,"nz-textarea-count",2)(4,Eg,1,1,null,3),$()),i&2&&(h("id",n.id)("schema",n.schema)("ui",n.ui)("showError",n.showError)("error",n.error)("showTitle",n.schema.title),v(3),E(n.ui.maxCharacterCount?3:4))},dependencies:[be,di,fe,pe,Sa,pi,$a,ie],encapsulation:2})}}return t})();var _r=class extends it{constructor(){super(),this.register("object",_s),this.register("array",ds),this.register("text",vs),this.register("string",sn),this.register("number",on),this.register("integer",on),this.register("date",hs),this.register("radio",gs),this.register("checkbox",ps),this.register("boolean",fs),this.register("textarea",ws),this.register("select",ys),this.register("custom",ms),this.setDefault(sn)}};var Tg=[ta,ja,pa,Va,Fa,Da,ea,xa,Ta,ra,_a,ba,qa,ga];var G1=(()=>{class t{static forRoot(){return{ngModule:t,providers:[{provide:jt,useClass:tn,deps:[Ke,_t]},{provide:it,useClass:_r}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ns({type:t})}static{this.\u0275inj=Is({imports:[Xs,ca,oa,Tg]})}}return t})();function tC(t){let r=[{provide:jt,useClass:tn,deps:[Ke,_t]},{provide:it,useClass:_r}];return t?.widgets&&r.push({provide:ks,multi:!0,useValue:()=>{let e=W(it);t?.widgets?.forEach(i=>e.register(i.KEY,i.type))}}),Vs(r)}export{me as a,Ha as b,Xu as c,Xt as d,Gr as e,ie as f,p0 as g,oe as h,G1 as i,tC as j};
