import{a as Mt,b as Ht}from"./chunk-4AR3QSCQ.js";import{a as V,b as P}from"./chunk-N5D4LKLG.js";import{a as bt}from"./chunk-CGCU2SFX.js";import{a as Et}from"./chunk-TDHOL7D5.js";import{F as Ot,H as Lt,R as $}from"./chunk-GTVNFQLK.js";import{Aa as mt,Ab as L,Bb as b,C as nt,Cb as D,Db as r,Eb as M,Fa as O,Fb as zt,H as it,Ha as ft,Ja as s,Ka as g,La as ht,Lb as w,Na as U,Nb as G,Nc as kt,Ra as dt,Rb as _t,Rd as Y,Sa as d,Sb as Ct,Va as l,Ve as It,Wb as H,X as ot,Z as rt,Zc as R,ca as st,cb as u,cc as xt,db as q,dc as J,ec as Tt,fa as h,fb as W,gb as Z,ha as T,hb as f,hd as St,ia as at,ib as p,ie as wt,ja as ct,jb as _,jc as B,je as I,k as et,nb as k,nc as vt,nd as At,ne as Nt,pa as lt,pd as F,q as x,qa as v,qb as C,qc as yt,qh as j,ra as y,rc as X,sb as m,sd as N,tb as S,ub as A,ud as Dt,vb as ut,xa as E,ya as pt,yb as gt,zb as K}from"./chunk-PQ76J5IX.js";var Ut=["ink"],jt=["*"],qt=e=>({"ant-anchor-wrapper-horizontal":e}),Wt=e=>({"ant-anchor-fixed":e});function Zt(e,a){}function Kt(e,a){if(e&1&&(f(0,"nz-affix",2),d(1,Zt,0,0,"ng-template",3),p()),e&2){let t=m(),n=D(3);l("nzOffsetTop",t.nzOffsetTop)("nzTarget",t.container),s(),l("ngTemplateOutlet",n)}}function Gt(e,a){}function Jt(e,a){if(e&1&&d(0,Gt,0,0,"ng-template",3),e&2){m();let t=D(3);l("ngTemplateOutlet",t)}}function Xt(e,a){if(e&1&&(f(0,"div",4)(1,"div",5)(2,"div",6),_(3,"div",7,1),p(),A(5),p()()),e&2){let t=m();l("ngClass",G(3,qt,t.nzDirection==="horizontal"))("ngStyle",t.wrapperStyle),s(),l("ngClass",G(5,Wt,!t.nzAffix&&!t.nzShowInkInFixed))}}var Yt=["nzTemplate"],te=["linkTitle"];function ee(e,a){if(e&1&&(f(0,"span"),r(1),p()),e&2){let t=m();s(),M(t.titleStr)}}function ne(e,a){}function ie(e,a){if(e&1&&d(0,ne,0,0,"ng-template",2),e&2){let t=m();l("ngTemplateOutlet",t.titleTpl||t.nzTemplate)}}function oe(e,a){e&1&&A(0)}function Bt(e,a){if(!e||!e.getClientRects().length)return 0;let t=e.getBoundingClientRect();if(t.width||t.height){if(a===window){let n=e.ownerDocument.documentElement;return t.top-n.clientTop}return t.top-a.getBoundingClientRect().top}return t.top}var Rt="ant-anchor-ink-ball-visible",re="anchor",se=/#([^#]+)$/,ae=Dt({passive:!0}),Q=(()=>{class e{constructor(t,n,i,o,c,z){this.nzConfigService=t,this.scrollSrv=n,this.cdr=i,this.platform=o,this.zone=c,this.renderer=z,this._nzModuleName=re,this.nzAffix=!0,this.nzShowInkInFixed=!1,this.nzBounds=5,this.nzOffsetTop=void 0,this.nzTargetOffset=void 0,this.nzDirection="vertical",this.nzClick=new E,this.nzChange=new E,this.nzScroll=new E,this.visible=!1,this.wrapperStyle={"max-height":"100vh"},this.links=[],this.animating=!1,this.destroy$=new et,this.doc=h(B)}registerLink(t){this.links.push(t)}unregisterLink(t){this.links.splice(this.links.indexOf(t),1)}getContainer(){return this.container||window}ngAfterViewInit(){this.registerScrollEvent()}ngOnDestroy(){clearTimeout(this.handleScrollTimeoutID),this.destroy$.next(!0),this.destroy$.complete()}registerScrollEvent(){this.platform.isBrowser&&(this.destroy$.next(!0),this.zone.runOutsideAngular(()=>{nt(this.getContainer(),"scroll",ae).pipe(rt(50),ot(this.destroy$)).subscribe(()=>this.handleScroll())}),this.handleScrollTimeoutID=setTimeout(()=>this.handleScroll()))}handleScroll(){if(typeof document>"u"||this.animating)return;let t=[],i=(this.nzTargetOffset?this.nzTargetOffset:this.nzOffsetTop||0)+this.nzBounds;if(this.links.forEach(o=>{let c=se.exec(o.nzHref.toString());if(!c)return;let z=this.doc.getElementById(c[1]);if(z){let tt=Bt(z,this.getContainer());tt<i&&t.push({top:tt,comp:o})}}),this.visible=!!t.length,!this.visible)this.clearActive(),this.cdr.detectChanges();else{let o=t.reduce((c,z)=>z.top>c.top?z:c);this.handleActive(o.comp)}this.setVisible()}clearActive(){this.links.forEach(t=>{t.unsetActive()})}setActive(t){let n=this.activeLink,i=this.nzCurrentAnchor&&this.links.find(c=>c.nzHref===this.nzCurrentAnchor)||t;if(!i)return;i.setActive();let o=i.getLinkTitleElement();this.nzDirection==="vertical"?this.ink.nativeElement.style.top=`${o.offsetTop+o.clientHeight/2-4.5}px`:this.ink.nativeElement.style.left=`${o.offsetLeft+o.clientWidth/2}px`,this.activeLink=(t||i).nzHref,n!==this.activeLink&&this.nzChange.emit(this.activeLink)}handleActive(t){this.clearActive(),this.setActive(t),this.visible=!0,this.setVisible(),this.nzScroll.emit(t)}setVisible(){this.ink&&(this.visible?this.renderer.addClass(this.ink.nativeElement,Rt):this.renderer.removeClass(this.ink.nativeElement,Rt))}handleScrollTo(t){let n=this.doc.querySelector(t.nzHref);if(!n)return;this.animating=!0;let i=this.scrollSrv.getScroll(this.getContainer()),o=Bt(n,this.getContainer()),c=i+o;c-=this.nzTargetOffset!==void 0?this.nzTargetOffset:this.nzOffsetTop||0,this.scrollSrv.scrollTo(this.getContainer(),c,{callback:()=>{this.animating=!1,this.handleActive(t)}}),this.nzClick.emit(t.nzHref)}ngOnChanges(t){let{nzOffsetTop:n,nzContainer:i,nzCurrentAnchor:o}=t;if(n&&(this.wrapperStyle={"max-height":`calc(100vh - ${this.nzOffsetTop}px)`}),i){let c=this.nzContainer;this.container=typeof c=="string"?this.doc.querySelector(c):c,this.registerScrollEvent()}o&&this.setActive()}static{this.\u0275fac=function(n){return new(n||e)(g(wt),g(It),g(xt),g(N),g(pt),g(U))}}static{this.\u0275cmp=T({type:e,selectors:[["nz-anchor"]],viewQuery:function(n,i){if(n&1&&K(Ut,5),n&2){let o;L(o=b())&&(i.ink=o.first)}},inputs:{nzAffix:[2,"nzAffix","nzAffix",J],nzShowInkInFixed:[2,"nzShowInkInFixed","nzShowInkInFixed",J],nzBounds:[2,"nzBounds","nzBounds",Tt],nzOffsetTop:[2,"nzOffsetTop","nzOffsetTop",Y],nzTargetOffset:[2,"nzTargetOffset","nzTargetOffset",Y],nzContainer:"nzContainer",nzCurrentAnchor:"nzCurrentAnchor",nzDirection:"nzDirection"},outputs:{nzClick:"nzClick",nzChange:"nzChange",nzScroll:"nzScroll"},exportAs:["nzAnchor"],standalone:!0,features:[dt,lt,w],ngContentSelectors:jt,decls:4,vars:1,consts:[["content",""],["ink",""],[3,"nzOffsetTop","nzTarget"],[3,"ngTemplateOutlet"],[1,"ant-anchor-wrapper",3,"ngClass","ngStyle"],[1,"ant-anchor",3,"ngClass"],[1,"ant-anchor-ink"],[1,"ant-anchor-ink-ball"]],template:function(n,i){n&1&&(S(),d(0,Kt,2,3,"nz-affix",2)(1,Jt,1,1,null,3)(2,Xt,6,7,"ng-template",null,0,H)),n&2&&u(i.nzAffix?0:1)},dependencies:[vt,yt,X,P,V],encapsulation:2,changeDetection:0})}}return x([I()],e.prototype,"nzShowInkInFixed",void 0),x([I()],e.prototype,"nzBounds",void 0),x([I()],e.prototype,"nzOffsetTop",void 0),x([I()],e.prototype,"nzTargetOffset",void 0),e})(),$t=(()=>{class e{set nzTitle(t){t instanceof ht?(this.titleStr=null,this.titleTpl=t):this.titleStr=t}constructor(t,n,i,o){this.elementRef=t,this.anchorComp=n,this.platform=i,this.renderer=o,this.nzHref="#",this.titleStr="",this.nzDirection="vertical"}ngOnInit(){this.anchorComp.registerLink(this),this.nzDirection=this.anchorComp.nzDirection}getLinkTitleElement(){return this.linkTitle.nativeElement}setActive(){this.renderer.addClass(this.elementRef.nativeElement,"ant-anchor-link-active")}unsetActive(){this.renderer.removeClass(this.elementRef.nativeElement,"ant-anchor-link-active")}goToClick(t){t.preventDefault(),t.stopPropagation(),this.platform.isBrowser&&this.anchorComp.handleScrollTo(this)}ngOnDestroy(){this.anchorComp.unregisterLink(this)}static{this.\u0275fac=function(n){return new(n||e)(g(mt),g(Q),g(N),g(U))}}static{this.\u0275cmp=T({type:e,selectors:[["nz-link"]],contentQueries:function(n,i,o){if(n&1&&gt(o,Yt,5),n&2){let c;L(c=b())&&(i.nzTemplate=c.first)}},viewQuery:function(n,i){if(n&1&&K(te,5),n&2){let o;L(o=b())&&(i.linkTitle=o.first)}},hostAttrs:[1,"ant-anchor-link"],inputs:{nzHref:"nzHref",nzTarget:"nzTarget",nzTitle:"nzTitle"},exportAs:["nzLink"],standalone:!0,features:[w],ngContentSelectors:jt,decls:5,vars:5,consts:[["linkTitle",""],[1,"ant-anchor-link-title",3,"click","href","title","target"],[3,"ngTemplateOutlet"]],template:function(n,i){if(n&1){let o=k();S(),f(0,"a",1,0),C("click",function(z){return v(o),y(i.goToClick(z))}),d(2,ee,2,1,"span")(3,ie,1,1,null,2),p(),d(4,oe,1,0)}n&2&&(l("href",i.nzHref,ft)("title",i.titleStr)("target",i.nzTarget),s(2),u(i.titleStr?2:3),s(2),u(i.nzDirection==="vertical"?4:-1))},dependencies:[X],encapsulation:2,changeDetection:0})}}return e})(),Vt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=at({type:e})}static{this.\u0275inj=st({imports:[Q]})}}return e})();var Pt=(()=>{class e{constructor(){this.router=h(R),this.msg=h($),this.i18n=h(F)}clickToc(t){let n=`#${t}`,i=document.querySelector(n);i&&i.scrollIntoView()}_click(t){let n=t.target;if(!n||!n.dataset||!["a","i"].includes(n.tagName.toLowerCase()))return;let i=n.dataset.anchor;if(i&&i.length>0){j(`${location.href.split("#")[0]}#${i}`).then(()=>{this.msg.success(this.i18n.fanyi("app.content.link.copied"))});return}let o=n.dataset.url;if(n.dataset.toc||o&&o.startsWith("#")){this.clickToc(n.dataset.toc||o.substring(1).replace(/ /g,"-")),t.preventDefault(),t.stopPropagation();return}if(o&&o.startsWith("/")&&!o.startsWith("//")){this.router.navigateByUrl(o);return}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=ct({type:e,selectors:[["","routeTransfer",""]],hostBindings:function(n,i){n&1&&C("click",function(c){return i._click(c)})},standalone:!0})}}return e})();var le=["*"];function pe(e,a){if(e&1&&(r(0,`
              `),_(1,"nz-link",3),r(2,`
            `)),e&2){let t=a.$implicit;s(),l("nzHref","#"+t.id)("nzTitle",t.title)}}function me(e,a){if(e&1&&(r(0,`
            `),W(1,pe,3,2,null,null,q)),e&2){let t=m().$implicit;s(),Z(t.children)}}function fe(e,a){if(e&1&&(r(0,`
        `),f(1,"nz-link",3),r(2,`
          `),d(3,me,3,0),p(),r(4,`
      `)),e&2){let t=a.$implicit;s(),l("nzHref","#"+t.id)("nzTitle",t.title),s(2),u(t.children&&t.children.length>0?3:-1)}}function he(e,a){if(e&1){let t=k();r(0,`
  `),f(1,"nz-affix",1),r(2,`
    `),f(3,"nz-anchor",2),C("nzClick",function(i){v(t);let o=m();return y(o.goLink(i))}),r(4,`
      `),W(5,fe,5,3,null,null,q),p(),r(7,`
  `),p(),r(8,`
`)}if(e&2){let t=m();s(5),Z(t.data.con.toc)}}function de(e,a){if(e&1&&(r(0),f(1,"a",8),r(2," Help us!"),p(),r(3,`
      `)),e&2){let t=m(3);zt(`
        `,t.data.con.meta.i18n==="need-update"?"This article need re-translated, hope that your can PR to translated it.":"This article has not been translated, hope that your can PR to translated it.",`
        `)}}function ue(e,a){if(e&1&&(r(0,`
    `),f(1,"nz-alert",7),r(2,`
      `),d(3,de,4,1,"ng-template",null,0,H),r(5,`
    `),p(),r(6,`
  `)),e&2){let t=D(4);s(),l("nzType","warning")("nzCloseable","true")("nzMessage",t)}}function ge(e,a){if(e&1){let t=k();r(0,`
        `),f(1,"div",9),r(2,`
          `),f(3,"span",10),_t(4,"i18n"),C("click",function(){v(t);let i=m(2);return y(i.copyModule())}),r(5,`
            IMPORT MODULE
          `),p(),r(6,`
        `),p(),r(7,`
      `)}if(e&2){let t=m(2);s(3),l("nzTooltipTitle",Ct(4,1,"app.content.copy-import-module")+t.data.con.module)}}function ze(e,a){if(e&1&&(r(0,`
    `),_(1,"div",11),r(2,`
  `)),e&2){let t=m(2);s(),l("innerHTML",t.data.con.content,O)}}function _e(e,a){if(e&1&&(r(0,`
    `),_(1,"h2",12),r(2,`
    `),A(3),r(4,`
  `)),e&2){let t=m(2);s(),ut("id",t.demoStr),l("innerHTML",t.demoContent,O)}}function Ce(e,a){if(e&1&&(r(0,`
    `),_(1,"div",13),r(2,`
  `)),e&2){let t=m(2);s(),l("innerHTML",t.data.con.api,O)}}function xe(e,a){if(e&1&&(r(0,`
  `),d(1,ue,7,3),f(2,"div",4),r(3,`
    `),f(4,"h1",5),r(5,`
      `),f(6,"strong"),r(7),p(),r(8,`
      `),d(9,ge,8,3),_(10,"edit-button",6),r(11,`
    `),p(),r(12,`
  `),p(),r(13,`
  `),d(14,ze,3,1)(15,_e,5,2)(16,Ce,3,1)),e&2){let t=m();s(),u(!t.meta.item.i18n||t.data.con.meta.i18n==="need-update"?1:-1),s(6),M(t.meta.item.subtitle||t.meta.item.title),s(2),u(t.data.con.module?9:-1),s(),l("item",t.item),s(4),u(t.data.con.content?14:-1),s(),u(t.data.demo?15:-1),s(),u(t.data.con.api?16:-1)}}var Cn=(()=>{class e{constructor(){this.meta=h(Et),this.i18n=h(F),this.msg=h($),this.router=h(R),this.sanitizer=h(kt),this.doc=h(B),this.data={},this.isBrowser=h(N).isBrowser,this.i18NChange$=this.i18n.change.pipe(At(),it(()=>!!this.item)).subscribe(()=>{this.init()})}genData(){let t=St(this.item),n={demo:t.demo,urls:t.urls,con:t.content[this.i18n.currentLang]||t.content[this.i18n.defaultLang]};n.demo&&this.codes&&this.codes.length&&(this.genDemoTitle(),n.con.toc=this.codes.map(i=>({h:3,id:i.id,title:this.i18n.get(i.meta.title)})).concat({id:"API",title:"API",h:2})),n.con.content&&(n.con.content=this.sanitizer.bypassSecurityTrustHtml(n.con.content)),n.con.api&&(n.con.api=this.sanitizer.bypassSecurityTrustHtml(n.con.api)),n.con.meta.module&&(n.con.module=n.con.meta.module),this.data=n,setTimeout(()=>{let i=this.router.parseUrl(this.router.url).fragment||"";if(i){let o=this.doc.querySelector(`#${i}`);o&&o.scrollIntoView()}},200)}goLink(t){window&&(window.location.hash=t)}genDemoTitle(){this.demoStr=this.i18n.fanyi("app.component.examples"),this.demoContent=this.sanitizer.bypassSecurityTrustHtml(`<a class="lake-link"><i data-anchor="${this.demoStr}"></i></a>${this.demoStr}`)}init(){this.genData(),this.genDemoTitle(),this.isBrowser&&setTimeout(()=>{let t=this.doc.querySelectorAll('[class*="language-"], [class*="lang-"]');for(let n=0,i;i=t[n++];)hljs.highlightBlock(i)},250)}copyModule(){j(this.data.con.module).then(()=>{this.msg.success(this.i18n.fanyi("app.demo.copied"))})}ngOnInit(){this.init()}ngOnDestroy(){this.i18NChange$.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=T({type:e,selectors:[["app-docs"]],inputs:{codes:"codes",item:"item"},standalone:!0,features:[w],ngContentSelectors:le,decls:2,vars:2,consts:[["message",""],["nzOffsetTop","16",1,"toc-affix"],["nzShowInkInFixed","","nzAffix","false",3,"nzClick"],[3,"nzHref","nzTitle"],[1,"markdown"],[1,"flex-center"],[3,"item"],["nzBanner","",1,"my-md",3,"nzType","nzCloseable","nzMessage"],["href","//github.com/ng-alain/ng-alain/issues/74","target","_blank"],[1,"ml-sm"],["nz-tooltip","",1,"copy-import-module",3,"click","nzTooltipTitle"],["routeTransfer","",1,"markdown",3,"innerHTML"],["routeTransfer","",2,"margin","32px 0 24px 0",3,"id","innerHTML"],["routeTransfer","",1,"markdown","api-container",3,"innerHTML"]],template:function(n,i){n&1&&(S(),d(0,he,9,0)(1,xe,17,7)),n&2&&(u(i.isBrowser&&(i.data.con.toc!=null&&i.data.con.toc.length)?0:-1),s(),u(i.meta.item?1:-1))},dependencies:[Nt,Pt,P,V,Vt,Q,$t,Ht,Mt,Lt,Ot,bt],encapsulation:2})}}return e})();export{Cn as a};
