import{d as st,f as at,h as lt,i as de}from"./chunk-KYGMJMHJ.js";import{a as ot,b as rt}from"./chunk-T2BMI2AK.js";import{a as et,g as tt,m as nt,v as it}from"./chunk-EEXBANEL.js";import{Ab as Te,Cb as $,Da as Me,Dd as P,Fb as R,Gc as $e,Gg as qe,Hb as v,Ib as re,Ig as Ze,J as ne,Jb as se,L as ze,Le as Ye,Ma as w,Ob as Oe,Oc as je,P as Ce,Pb as Pe,Qb as Be,Rb as xe,Sa as _,Sb as ke,Tb as ae,Ub as le,Va as Re,Vb as A,Wb as D,X as we,Xa as ye,Y as Ee,Z as Se,Za as y,_a as oe,ba as ve,bb as be,ca as Ne,ch as Je,da as ie,db as I,dc as Le,ga as k,ib as N,kb as U,l as G,la as q,ma as L,n as X,na as V,oc as Ve,qa as _e,r as pe,rb as b,rg as Q,s as te,sa as Ie,sg as H,sh as Qe,tc as j,tg as Ke,ua as Z,ub as Ae,uc as W,ue as We,ug as Ge,vb as De,vc as ce,ve as He,wb as C,xb as E,y as ge,yb as O,yc as Ue,yg as Xe,za as J,zb as Fe}from"./chunk-SCDKUK6D.js";var ft=["nz-segmented-item",""],dt=["*"];function pt(i,d){}function gt(i,d){if(i&1&&(C(0,"span",4),O(1,"nz-icon",5),E(),C(2,"span"),I(3,pt,0,0,"ng-template",3),E()),i&2){let s=v(),a=le(5);w(),N("nzType",s.nzIcon),w(2),N("ngTemplateOutlet",a)}}function zt(i,d){}function Ct(i,d){if(i&1&&I(0,zt,0,0,"ng-template",3),i&2){v();let s=le(5);N("ngTemplateOutlet",s)}}function wt(i,d){i&1&&se(0)}var Et=(i,d)=>d.value;function St(i,d){if(i&1){let s=$();C(0,"div",1),R("@thumbMotion.done",function(c){L(s);let m=v();return V(m.handleThumbAnimationDone(c))}),E()}if(i&2){let s=v();N("@thumbMotion",s.animationState)}}function vt(i,d){if(i&1&&(C(0,"label",2),A(1),E()),i&2){let s=d.$implicit;N("nzIcon",s.icon)("nzValue",s.value)("nzDisabled",s.disabled),w(),D(s.label)}}function Nt(i,d){if(i&1&&Ae(0,vt,2,4,"label",2,Et),i&2){let s=v();De(s.normalizedOptions)}}var ue=(()=>{class i{selected$=new X(1);activated$=new X(1);disabled$=new X(1);animationDone$=new G;ngOnDestroy(){this.selected$.complete(),this.activated$.complete(),this.disabled$.complete(),this.animationDone$.complete()}static \u0275fac=function(a){return new(a||i)};static \u0275prov=Ne({token:i,factory:i.\u0275fac})}return i})(),Y=(()=>{class i{cdr;elementRef;destroyRef;nzIcon;nzValue;nzDisabled;isChecked=!1;service=k(ue);constructor(s,a,c){this.cdr=s,this.elementRef=a,this.destroyRef=c,this.service.disabled$.pipe(P()).subscribe(m=>{this.nzDisabled=m,this.cdr.markForCheck()})}ngOnInit(){this.service.selected$.pipe(Se(s=>{this.isChecked=!1,this.cdr.markForCheck(),s===this.nzValue&&this.service.activated$.next(this.elementRef.nativeElement)}),we(s=>this.service.animationDone$.pipe(ne(a=>a.toState==="to"),Ce(1),ge(()=>s))),ne(s=>s===this.nzValue),P(this.destroyRef)).subscribe(()=>{this.isChecked=!0,this.cdr.markForCheck()})}handleClick(){this.nzDisabled||this.service.selected$.next(this.nzValue)}static \u0275fac=function(a){return new(a||i)(_(j),_(J),_(Ie))};static \u0275cmp=y({type:i,selectors:[["label","nz-segmented-item",""],["label","nzSegmentedItem",""]],hostAttrs:[1,"ant-segmented-item"],hostVars:4,hostBindings:function(a,c){a&1&&R("click",function(){return c.handleClick()}),a&2&&U("ant-segmented-item-selected",c.isChecked)("ant-segmented-item-disabled",c.nzDisabled)},inputs:{nzIcon:"nzIcon",nzValue:"nzValue",nzDisabled:"nzDisabled"},exportAs:["nzSegmentedItem"],attrs:ft,ngContentSelectors:dt,decls:6,vars:2,consts:[["content",""],["type","radio",1,"ant-segmented-item-input",3,"click","checked"],[1,"ant-segmented-item-label"],[3,"ngTemplateOutlet"],[1,"ant-segmented-item-icon"],[3,"nzType"]],template:function(a,c){if(a&1){let m=$();re(),C(0,"input",1),R("click",function(f){return L(m),V(f.stopPropagation())}),E(),C(1,"div",2),I(2,gt,4,2)(3,Ct,1,1,null,3),E(),I(4,wt,1,0,"ng-template",null,0,Ve)}a&2&&(N("checked",c.isChecked),w(2),b(c.nzIcon?2:3))},dependencies:[H,Q,$e],encapsulation:2,changeDetection:0})}return i})();function _t(i){return i.map(d=>typeof d=="string"||typeof d=="number"?{label:`${d}`,value:d}:d)}var It="segmented",mt=(()=>{let i,d=[],s=[];return class ee{static{let c=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[He()],pe(null,null,i,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:m=>"nzSize"in m,get:m=>m.nzSize,set:(m,o)=>{m.nzSize=o}},metadata:c},d,s),c&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c})}nzConfigService;cdr;directionality;_nzModuleName=It;nzBlock=!1;nzDisabled=!1;nzOptions=[];nzSize=te(this,d,"default");nzValueChange=(te(this,s),new Z);viewItemCmps=Re(Y);contentItemCmps=ye(Y);dir="ltr";value;animationState={value:"to",params:me()};normalizedOptions=[];onChange=()=>{};onTouched=()=>{};service=k(ue);constructor(c,m,o){this.nzConfigService=c,this.cdr=m,this.directionality=o,this.directionality.change.pipe(P()).subscribe(f=>{this.dir=f,this.cdr.markForCheck()}),this.service.selected$.pipe(P()).subscribe(f=>{this.value=f,this.nzValueChange.emit(f),this.onChange(f)}),this.service.activated$.pipe(ze(2,1),P()).subscribe(f=>{this.animationState={value:"from",params:me(f[0])},this.cdr.detectChanges(),this.animationState={value:"to",params:me(f[1])},this.cdr.detectChanges()}),Ue(()=>{let f=this.viewItemCmps().concat(this.contentItemCmps());f.length&&(this.value===null||this.value===void 0||!f.some(e=>e.nzValue===this.value))&&this.service.selected$.next(f[0].nzValue)})}ngOnChanges(c){let{nzOptions:m,nzDisabled:o}=c;m&&(this.normalizedOptions=_t(m.currentValue)),o&&this.service.disabled$.next(o.currentValue)}handleThumbAnimationDone(c){c.toState==="to"&&(this.animationState=null),this.service.animationDone$.next(c)}writeValue(c){c!=null&&this.service.selected$.next(c)}registerOnChange(c){this.onChange=c}registerOnTouched(c){this.onTouched=c}static \u0275fac=function(m){return new(m||ee)(_(We),_(j),_(Ye))};static \u0275cmp=y({type:ee,selectors:[["nz-segmented"]],contentQueries:function(m,o,f){m&1&&xe(f,o.contentItemCmps,Y,4),m&2&&ae()},viewQuery:function(m,o){m&1&&ke(o.viewItemCmps,Y,5),m&2&&ae()},hostAttrs:[1,"ant-segmented"],hostVars:10,hostBindings:function(m,o){m&2&&U("ant-segmented-disabled",o.nzDisabled)("ant-segmented-rtl",o.dir==="rtl")("ant-segmented-lg",o.nzSize==="large")("ant-segmented-sm",o.nzSize==="small")("ant-segmented-block",o.nzBlock)},inputs:{nzBlock:[2,"nzBlock","nzBlock",W],nzDisabled:[2,"nzDisabled","nzDisabled",W],nzOptions:"nzOptions",nzSize:"nzSize"},outputs:{nzValueChange:"nzValueChange"},exportAs:["nzSegmented"],features:[Le([ue,{provide:et,useExisting:ve(()=>ee),multi:!0}]),q],ngContentSelectors:dt,decls:4,vars:1,consts:[[1,"ant-segmented-group"],[1,"ant-segmented-thumb","ant-segmented-thumb-motion"],["nz-segmented-item","",3,"nzIcon","nzValue","nzDisabled"]],template:function(m,o){m&1&&(re(),C(0,"div",0),I(1,St,1,1,"div",1),se(2,0,null,Nt,2,0),E()),m&2&&(w(),b(o.animationState?1:-1))},dependencies:[H,Ge,Y],encapsulation:2,data:{animation:[Qe]},changeDetection:0})}})();function me(i){return{transform:i?.offsetLeft??0,width:i?.clientWidth??0}}var B=class i extends lt{static KEY="segmented";_list;get list(){return this._list??[]}reset(d){st(this.schema,this.ui,d).subscribe(s=>{this._list=s,this.detectChanges()})}valueChange(d){this.ui.valueChange&&this.ui.valueChange({index:d,item:typeof d=="number"?this.list[d]:null})}static \u0275fac=(()=>{let d;return function(a){return(d||(d=_e(i)))(a||i)}})();static \u0275cmp=y({type:i,selectors:[["sf-segmented"]],features:[be],decls:2,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzValueChange","ngModel","nzDisabled","nzSize","nzBlock","nzOptions"]],template:function(s,a){if(s&1&&(C(0,"sf-item-wrap",0)(1,"nz-segmented",1),R("ngModelChange",function(m){return a.setValue(m)})("nzValueChange",function(m){return a.valueChange(m)}),E()()),s&2){let c;N("id",a.id)("schema",a.schema)("ui",a.ui)("showError",a.showError)("error",a.error)("showTitle",a.schema.title),w(),N("ngModel",a.value)("nzDisabled",a.disabled)("nzSize",a.ui.size)("nzBlock",(c=a.ui.block)!==null&&c!==void 0?c:!1)("nzOptions",a.list)}},dependencies:[it,tt,nt,de,at,mt],encapsulation:2})};function An(){return{KEY:B.KEY,type:B}}var Mt=["canvas"];function Rt(i,d){if(i&1&&(Fe(0),A(1),Te()),i&2){let s=v(2);w(),D(s.nzStatusRender)}}function yt(i,d){if(i&1&&(C(0,"div",1),I(1,Rt,2,1,"ng-container",2),E()),i&2){let s=v();w(),N("nzStringTemplateOutlet",s.nzStatusRender)}}function bt(i,d){i&1&&O(0,"nz-spin")}function At(i,d){if(i&1){let s=$();C(0,"div")(1,"p",3),A(2),E(),C(3,"button",4),R("click",function(){L(s);let c=v(2);return V(c.reloadQRCode())}),O(4,"nz-icon",5),C(5,"span"),A(6),E()()()}if(i&2){let s=v(2);w(2),D(s.locale.expired),w(4),D(s.locale.refresh)}}function Dt(i,d){if(i&1&&(C(0,"div")(1,"p",3),A(2),E()()),i&2){let s=v(2);w(2),D(s.locale.scanned)}}function Ft(i,d){if(i&1&&(C(0,"div",1),I(1,bt,1,0,"nz-spin")(2,At,7,2,"div")(3,Dt,3,1,"div"),E()),i&2){let s,a=v();w(),b((s=a.nzStatus)==="loading"?1:s==="expired"?2:s==="scanned"?3:-1)}}function Tt(i,d){i&1&&O(0,"canvas",null,0)}var F;(function(i){let d=(()=>{class o{version;errorCorrectionLevel;static encodeText(e,t){let n=i.QrSegment.makeSegments(e);return o.encodeSegments(n,t)}static encodeBinary(e,t){let n=i.QrSegment.makeBytes(e);return o.encodeSegments([n],t)}static encodeSegments(e,t,n=1,r=40,l=-1,h=!0){if(!(o.MIN_VERSION<=n&&n<=r&&r<=o.MAX_VERSION)||l<-1||l>7)throw new RangeError("Invalid value");let u,g;for(u=n;;u++){let z=o.getNumDataCodewords(u,t)*8,S=m.getTotalBits(e,u);if(S<=z){g=S;break}if(u>=r)throw new RangeError("Data too long")}for(let z of[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH])h&&g<=o.getNumDataCodewords(u,z)*8&&(t=z);let p=[];for(let z of e){s(z.mode.modeBits,4,p),s(z.numChars,z.mode.numCharCountBits(u),p);for(let S of z.getData())p.push(S)}c(p.length==g);let x=o.getNumDataCodewords(u,t)*8;c(p.length<=x),s(0,Math.min(4,x-p.length),p),s(0,(8-p.length%8)%8,p),c(p.length%8==0);for(let z=236;p.length<x;z^=253)s(z,8,p);let M=[];for(;M.length*8<p.length;)M.push(0);return p.forEach((z,S)=>M[S>>>3]|=z<<7-(S&7)),new o(u,t,M,l)}size;mask;modules=[];isFunction=[];constructor(e,t,n,r){if(this.version=e,this.errorCorrectionLevel=t,e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version value out of range");if(r<-1||r>7)throw new RangeError("Mask value out of range");this.size=e*4+17;let l=[];for(let u=0;u<this.size;u++)l.push(!1);for(let u=0;u<this.size;u++)this.modules.push(l.slice()),this.isFunction.push(l.slice());this.drawFunctionPatterns();let h=this.addEccAndInterleave(n);if(this.drawCodewords(h),r==-1){let u=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);let p=this.getPenaltyScore();p<u&&(r=g,u=p),this.applyMask(g)}}c(r>=0&&r<=7),this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}getModule(e,t){return e>=0&&e<this.size&&t>=0&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let r=0;r<t;r++)n==0&&r==0||n==0&&r==t-1||n==t-1&&r==0||this.drawAlignmentPattern(e[n],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let t=this.errorCorrectionLevel.formatBits<<3|e,n=t;for(let l=0;l<10;l++)n=n<<1^(n>>>9)*1335;let r=(t<<10|n)^21522;c(r>>>15==0);for(let l=0;l<=5;l++)this.setFunctionModule(8,l,a(r,l));this.setFunctionModule(8,7,a(r,6)),this.setFunctionModule(8,8,a(r,7)),this.setFunctionModule(7,8,a(r,8));for(let l=9;l<15;l++)this.setFunctionModule(14-l,8,a(r,l));for(let l=0;l<8;l++)this.setFunctionModule(this.size-1-l,8,a(r,l));for(let l=8;l<15;l++)this.setFunctionModule(8,this.size-15+l,a(r,l));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^(e>>>11)*7973;let t=this.version<<12|e;c(t>>>18==0);for(let n=0;n<18;n++){let r=a(t,n),l=this.size-11+n%3,h=Math.floor(n/3);this.setFunctionModule(l,h,r),this.setFunctionModule(h,l,r)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){let l=Math.max(Math.abs(r),Math.abs(n)),h=e+r,u=t+n;h>=0&&h<this.size&&u>=0&&u<this.size&&this.setFunctionModule(h,u,l!=2&&l!=4)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,Math.max(Math.abs(r),Math.abs(n))!=1)}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){let t=this.version,n=this.errorCorrectionLevel;if(e.length!=o.getNumDataCodewords(t,n))throw new RangeError("Invalid argument");let r=o.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][t],l=o.ECC_CODEWORDS_PER_BLOCK[n.ordinal][t],h=Math.floor(o.getNumRawDataModules(t)/8),u=r-h%r,g=Math.floor(h/r),p=[],x=o.reedSolomonComputeDivisor(l);for(let z=0,S=0;z<r;z++){let T=e.slice(S,S+g-l+(z<u?0:1));S+=T.length;let ut=o.reedSolomonComputeRemainder(T,x);z<u&&T.push(0),p.push(T.concat(ut))}let M=[];for(let z=0;z<p[0].length;z++)p.forEach((S,T)=>{(z!=g-l||T>=u)&&M.push(S[z])});return c(M.length==h),M}drawCodewords(e){if(e.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let t=0;for(let n=this.size-1;n>=1;n-=2){n==6&&(n=5);for(let r=0;r<this.size;r++)for(let l=0;l<2;l++){let h=n-l,g=(n+1&2)==0?this.size-1-r:r;!this.isFunction[g][h]&&t<e.length*8&&(this.modules[g][h]=a(e[t>>>3],7-(t&7)),t++)}}c(t==e.length*8)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let r;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let l=0;l<this.size;l++){let h=!1,u=0,g=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[l][p]==h?(u++,u==5?e+=o.PENALTY_N1:u>5&&e++):(this.finderPenaltyAddHistory(u,g),h||(e+=this.finderPenaltyCountPatterns(g)*o.PENALTY_N3),h=this.modules[l][p],u=1);e+=this.finderPenaltyTerminateAndCount(h,u,g)*o.PENALTY_N3}for(let l=0;l<this.size;l++){let h=!1,u=0,g=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[p][l]==h?(u++,u==5?e+=o.PENALTY_N1:u>5&&e++):(this.finderPenaltyAddHistory(u,g),h||(e+=this.finderPenaltyCountPatterns(g)*o.PENALTY_N3),h=this.modules[p][l],u=1);e+=this.finderPenaltyTerminateAndCount(h,u,g)*o.PENALTY_N3}for(let l=0;l<this.size-1;l++)for(let h=0;h<this.size-1;h++){let u=this.modules[l][h];u==this.modules[l][h+1]&&u==this.modules[l+1][h]&&u==this.modules[l+1][h+1]&&(e+=o.PENALTY_N2)}let t=0;for(let l of this.modules)t=l.reduce((h,u)=>h+(u?1:0),t);let n=this.size*this.size,r=Math.ceil(Math.abs(t*20-n*10)/n)-1;return c(r>=0&&r<=9),e+=r*o.PENALTY_N4,c(e>=0&&e<=2568888),e}getAlignmentPatternPositions(){if(this.version==1)return[];{let e=Math.floor(this.version/7)+2,t=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2,n=[6];for(let r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}}static getNumRawDataModules(e){if(e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version number out of range");let t=(16*e+128)*e+64;if(e>=2){let n=Math.floor(e/7)+2;t-=(25*n-10)*n-55,e>=7&&(t-=36)}return c(t>=208&&t<=29648),t}static getNumDataCodewords(e,t){return Math.floor(o.getNumRawDataModules(e)/8)-o.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*o.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let t=[];for(let r=0;r<e-1;r++)t.push(0);t.push(1);let n=1;for(let r=0;r<e;r++){for(let l=0;l<t.length;l++)t[l]=o.reedSolomonMultiply(t[l],n),l+1<t.length&&(t[l]^=t[l+1]);n=o.reedSolomonMultiply(n,2)}return t}static reedSolomonComputeRemainder(e,t){let n=t.map(r=>0);for(let r of e){let l=r^n.shift();n.push(0),t.forEach((h,u)=>n[u]^=o.reedSolomonMultiply(h,l))}return n}static reedSolomonMultiply(e,t){if(e>>>8||t>>>8)throw new RangeError("Byte out of range");let n=0;for(let r=7;r>=0;r--)n=n<<1^(n>>>7)*285,n^=(t>>>r&1)*e;return c(n>>>8==0),n}finderPenaltyCountPatterns(e){let t=e[1];c(t<=this.size*3);let n=t>0&&e[2]==t&&e[3]==t*3&&e[4]==t&&e[5]==t;return(n&&e[0]>=t*4&&e[6]>=t?1:0)+(n&&e[6]>=t*4&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){t[0]==0&&(e+=this.size),t.pop(),t.unshift(e)}static MIN_VERSION=1;static MAX_VERSION=40;static PENALTY_N1=3;static PENALTY_N2=3;static PENALTY_N3=40;static PENALTY_N4=10;static ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]];static NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]}return o})();i.QrCode=d;function s(o,f,e){if(f<0||f>31||o>>>f)throw new RangeError("Value out of range");for(let t=f-1;t>=0;t--)e.push(o>>>t&1)}function a(o,f){return(o>>>f&1)!=0}function c(o){if(!o)throw new Error("Assertion error")}let m=(()=>{class o{mode;numChars;bitData;static makeBytes(e){let t=[];for(let n of e)s(n,8,t);return new o(o.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!o.isNumeric(e))throw new RangeError("String contains non-numeric characters");let t=[];for(let n=0;n<e.length;){let r=Math.min(e.length-n,3);s(parseInt(e.substring(n,n+r),10),r*3+1,t),n+=r}return new o(o.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!o.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let t=[],n;for(n=0;n+2<=e.length;n+=2){let r=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n))*45;r+=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n+1)),s(r,11,t)}return n<e.length&&s(o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n)),6,t),new o(o.Mode.ALPHANUMERIC,e.length,t)}static makeSegments(e){return e==""?[]:o.isNumeric(e)?[o.makeNumeric(e)]:o.isAlphanumeric(e)?[o.makeAlphanumeric(e)]:[o.makeBytes(o.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)s(e,8,t);else if(e<16384)s(2,2,t),s(e,14,t);else if(e<1e6)s(6,3,t),s(e,21,t);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,t)}static isNumeric(e){return o.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return o.ALPHANUMERIC_REGEX.test(e)}constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(let r of e){let l=r.mode.numCharCountBits(t);if(r.numChars>=1<<l)return 1/0;n+=4+l+r.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)e.charAt(n)!="%"?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2);return t}static NUMERIC_REGEX=/^[0-9]*$/;static ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+./:-]*$/;static ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:"}return o})();i.QrSegment=m})(F||(F={}));(function(i){var d;(function(s){class a{ordinal;formatBits;static LOW=new a(0,1);static MEDIUM=new a(1,0);static QUARTILE=new a(2,3);static HIGH=new a(3,2);constructor(m,o){this.ordinal=m,this.formatBits=o}}s.Ecc=a})(d=i.QrCode||(i.QrCode={}))})(F||(F={}));(function(i){var d;(function(s){class a{modeBits;numBitsCharCount;static NUMERIC=new a(1,[10,12,14]);static ALPHANUMERIC=new a(2,[9,11,13]);static BYTE=new a(4,[8,16,16]);static KANJI=new a(8,[8,10,12]);static ECI=new a(7,[0,0,0]);constructor(m,o){this.modeBits=m,this.numBitsCharCount=o}numCharCountBits(m){return this.numBitsCharCount[Math.floor((m+7)/17)]}}s.Mode=a})(d=i.QrSegment||(i.QrSegment={}))})(F||(F={}));var K=F,Ot={L:K.QrCode.Ecc.LOW,M:K.QrCode.Ecc.MEDIUM,Q:K.QrCode.Ecc.QUARTILE,H:K.QrCode.Ecc.HIGH},Pt=160,Bt=10,xt=10,kt="#000000",Lt="#FFFFFF",Vt=40,Ut="M",$t=(i,d=Ut)=>i?K.QrCode.encodeText(i,Ot[d]):null;function jt(i,d,s=Pt,a=Bt,c=xt,m=kt,o=Lt,f=Vt,e){let t=i.getContext("2d"),n=Wt(c);if(i.style.width=`${s}px`,i.style.height=`${s}px`,!d){t.fillStyle="rgba(0, 0, 0, 0)",t.fillRect(0,0,i.width,i.height);return}if(i.width=d.size*a+n[1]+n[3],i.height=d.size*a+n[0]+n[2],!e)fe(t,i.width,i.height,a,o),he(t,d,a,n,o,m);else{let r=new Image;r.src=e,r.crossOrigin="anonymous",r.width=f*(i.width/s),r.height=f*(i.width/s);let l=()=>{u(),fe(t,i.width,i.height,a,o),he(t,d,a,n,o,m);let g=i.width/2-f*(i.width/s)/2;t.fillRect(g,g,f*(i.width/s),f*(i.width/s)),t.drawImage(r,g,g,f*(i.width/s),f*(i.width/s))},h=()=>{u(),fe(t,i.width,i.height,a,o),he(t,d,a,n,o,m)},u=()=>{r.removeEventListener("load",l),r.removeEventListener("error",h)};r.addEventListener("load",l),r.addEventListener("error",h)}}function he(i,d,s,a,c,m){for(let o=0;o<d.size;o++)for(let f=0;f<d.size;f++)i.fillStyle=d.getModule(f,o)?m:c,i.fillRect(a[3]+f*s,a[0]+o*s,s,s)}function fe(i,d,s,a,c){i.fillStyle=c,i.fillRect(0,0,d*a,s*a)}function Wt(i){return Array.isArray(i)?Array(4).fill(0).map((d,s)=>i[s%i.length]):[i,i,i,i]}var Ht=(()=>{class i{i18n;el;cdr;canvas;nzValue="";nzPadding=0;nzColor="#000000";nzBgColor="#FFFFFF";nzSize=160;nzIcon="";nzIconSize=40;nzBordered=!0;nzStatus="active";nzLevel="M";nzStatusRender=null;nzRefresh=new Z;locale;isBrowser=!0;destroy$=new G;platformId=k(Me);constructor(s,a,c){this.i18n=s,this.el=a,this.cdr=c,this.isBrowser=je(this.platformId),this.cdr.markForCheck()}ngOnInit(){this.el.nativeElement.style.backgroundColor=this.nzBgColor,this.i18n.localeChange.pipe(Ee(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("QRCode"),this.cdr.markForCheck()})}ngOnChanges(s){let{nzValue:a,nzIcon:c,nzLevel:m,nzSize:o,nzIconSize:f,nzColor:e,nzPadding:t,nzBgColor:n}=s;(a||c||m||o||f||e||t||n)&&this.canvas&&this.drawCanvasQRCode(),n&&(this.el.nativeElement.style.backgroundColor=this.nzBgColor)}ngAfterViewInit(){this.drawCanvasQRCode()}reloadQRCode(){this.drawCanvasQRCode(),this.nzRefresh.emit("refresh")}drawCanvasQRCode(){this.canvas&&jt(this.canvas.nativeElement,$t(this.nzValue,this.nzLevel),this.nzSize,10,this.nzPadding,this.nzColor,this.nzBgColor,this.nzIconSize,this.nzIcon)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(a){return new(a||i)(_(Je),_(J),_(j))};static \u0275cmp=y({type:i,selectors:[["nz-qrcode"]],viewQuery:function(a,c){if(a&1&&Oe(Mt,5),a&2){let m;Pe(m=Be())&&(c.canvas=m.first)}},hostAttrs:[1,"ant-qrcode"],hostVars:2,hostBindings:function(a,c){a&2&&U("ant-qrcode-border",c.nzBordered)},inputs:{nzValue:"nzValue",nzPadding:"nzPadding",nzColor:"nzColor",nzBgColor:"nzBgColor",nzSize:[2,"nzSize","nzSize",ce],nzIcon:"nzIcon",nzIconSize:[2,"nzIconSize","nzIconSize",ce],nzBordered:[2,"nzBordered","nzBordered",W],nzStatus:"nzStatus",nzLevel:"nzLevel",nzStatusRender:"nzStatusRender"},outputs:{nzRefresh:"nzRefresh"},exportAs:["nzQRCode"],features:[q],decls:3,vars:2,consts:[["canvas",""],[1,"ant-qrcode-mask"],[4,"nzStringTemplateOutlet"],[1,"ant-qrcode-expired"],["nz-button","","nzType","link",3,"click"],["nzType","reload","nzTheme","outline"]],template:function(a,c){a&1&&I(0,yt,2,1,"div",1)(1,Ft,4,1,"div",1)(2,Tt,2,0,"canvas"),a&2&&(b(c.nzStatusRender?0:c.nzStatus!=="active"?1:-1),w(2),b(c.isBrowser?2:-1))},dependencies:[rt,ot,Ze,qe,Xe,H,Q,Ke],encapsulation:2,changeDetection:0})}return i})(),Qn=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=oe({type:i});static \u0275inj=ie({imports:[Ht]})}return i})();export{Ht as a,Qn as b,B as c,An as d};
