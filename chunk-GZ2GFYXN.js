import{Aa as E,Cb as P,Fb as Q,Ga as T,Hb as l,Ka as G,Kd as Z,Ma as w,Na as m,Ob as W,Pb as q,Qb as B,Vb as H,Wb as U,Xa as D,Ya as M,bb as b,cb as j,ea as y,hb as F,ib as f,jb as O,kb as R,ma as x,na as I,oa as A,pg as J,qg as K,r as p,rb as V,s as r,tc as L,va as N,vc as X,wb as d,xb as S,yb as k,ye as $,ze as u}from"./chunk-BYVQI7J6.js";var tt=["textEl"];function et(i,s){if(i&1&&k(0,"nz-icon",1),i&2){let a=l();f("nzType",a.nzIcon)}}function nt(i,s){if(i&1){let a=P();d(0,"img",4),Q("error",function(z){I(a);let h=l();return A(h.imgError(z))}),S()}if(i&2){let a=l();f("src",a.nzSrc,G),F("srcset",a.nzSrcSet)("alt",a.nzAlt)}}function it(i,s){if(i&1&&(d(0,"span",3,0),H(2),S()),i&2){let a=l();w(2),U(a.nzText)}}var at="avatar",rt=(()=>{let i,s=[],a=[],o,z=[],h=[],_,g=[],C=[];return class v{static{let n=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[u()],o=[u()],_=[u()],p(null,null,i,{kind:"field",name:"nzShape",static:!1,private:!1,access:{has:e=>"nzShape"in e,get:e=>e.nzShape,set:(e,t)=>{e.nzShape=t}},metadata:n},s,a),p(null,null,o,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:e=>"nzSize"in e,get:e=>e.nzSize,set:(e,t)=>{e.nzSize=t}},metadata:n},z,h),p(null,null,_,{kind:"field",name:"nzGap",static:!1,private:!1,access:{has:e=>"nzGap"in e,get:e=>e.nzGap,set:(e,t)=>{e.nzGap=t}},metadata:n},g,C),n&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}constructor(n,e,t){this.nzConfigService=n,this.elementRef=e,this.cdr=t,this._nzModuleName=at,this.nzShape=r(this,s,"circle"),this.nzSize=(r(this,a),r(this,z,"default")),this.nzGap=(r(this,h),r(this,g,4)),this.nzText=r(this,C),this.nzError=new N,this.hasText=!1,this.hasSrc=!0,this.hasIcon=!1,this.customSize=null,this.el=this.elementRef.nativeElement,T(()=>this.calcStringSize())}imgError(n){this.nzError.emit(n),n.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.calcStringSize())}ngOnChanges(){this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setSizeStyle(),this.calcStringSize()}calcStringSize(){if(!this.hasText||!this.textEl)return;let n=this.textEl.nativeElement,e=n.offsetWidth,t=this.el.getBoundingClientRect?.().width??0,c=this.nzGap*2<t?this.nzGap*2:8,Y=t-c<e?(t-c)/e:1;n.style.transform=`scale(${Y}) translateX(-50%)`,n.style.lineHeight=this.customSize||""}setSizeStyle(){typeof this.nzSize=="number"?this.customSize=`${this.nzSize}px`:this.customSize=null,this.cdr.markForCheck()}static{this.\u0275fac=function(e){return new(e||v)(m($),m(E),m(L))}}static{this.\u0275cmp=D({type:v,selectors:[["nz-avatar"]],viewQuery:function(e,t){if(e&1&&W(tt,5),e&2){let c;q(c=B())&&(t.textEl=c.first)}},hostAttrs:[1,"ant-avatar"],hostVars:20,hostBindings:function(e,t){e&2&&(O("width",t.customSize)("height",t.customSize)("line-height",t.customSize)("font-size",t.hasIcon&&t.customSize?t.nzSize/2:null,"px"),R("ant-avatar-lg",t.nzSize==="large")("ant-avatar-sm",t.nzSize==="small")("ant-avatar-square",t.nzShape==="square")("ant-avatar-circle",t.nzShape==="circle")("ant-avatar-icon",t.nzIcon)("ant-avatar-image",t.hasSrc))},inputs:{nzShape:"nzShape",nzSize:"nzSize",nzGap:[2,"nzGap","nzGap",X],nzText:"nzText",nzSrc:"nzSrc",nzSrcSet:"nzSrcSet",nzAlt:"nzAlt",nzIcon:"nzIcon"},outputs:{nzError:"nzError"},exportAs:["nzAvatar"],features:[b,x],decls:3,vars:1,consts:[["textEl",""],[3,"nzType"],[3,"src"],[1,"ant-avatar-string"],[3,"error","src"]],template:function(e,t){e&1&&j(0,et,1,1,"nz-icon",1)(1,nt,1,3,"img",2)(2,it,3,1,"span",3),e&2&&V(t.nzIcon&&t.hasIcon?0:t.nzSrc&&t.hasSrc?1:t.nzText&&t.hasText?2:-1)},dependencies:[K,J,Z],encapsulation:2,changeDetection:0})}}})();var xt=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=M({type:i})}static{this.\u0275inj=y({imports:[rt]})}}return i})();export{rt as a,xt as b};
