import{a as bt,b as Ht}from"./chunk-WRDJRDKD.js";import{a as V,b as P}from"./chunk-OH6GSKKG.js";import{a as Mt}from"./chunk-AY5GLEY5.js";import{a as Et}from"./chunk-BTLIR5N7.js";import{F as Ot,H as Lt,R as $}from"./chunk-YMIRTON6.js";import{Ab as X,Bb as O,C as it,Ca as E,Cb as L,Db as S,Ea as pt,Eb as s,Fb as M,Ga as mt,Gb as zt,H as nt,Ha as W,Ja as c,Jb as I,Jc as kt,Ka as u,Kg as F,La as ft,Lb as Ct,Na as N,Oa as dt,Od as tt,Pb as _t,Pd as R,Qb as xt,Sa as g,Ua as p,Ub as b,Uc as B,Y as ot,_ as rt,_g as Nt,ab as z,bb as K,cd as St,da as st,db as Z,dc as H,de as At,eb as G,ee as A,fb as f,ga as h,gb as m,hb as C,hc as Tt,ia as v,id as It,ie as Dt,ja as at,jc as Y,k as et,ka as ct,kd as j,lb as J,na as lt,nc as vt,nd as w,oa as U,oc as yt,pa as q,pb as x,pd as wt,q as T,rb as d,sb as y,tb as k,ub as ht,yb as ut,zb as gt}from"./chunk-T6QZOGIV.js";var Qt=["ink"];function Ut(t,n){}function qt(t,n){if(t&1&&(f(0,"nz-affix",2),g(1,Ut,0,0,"ng-template",3),m()),t&2){let r=d(),i=S(2);p("nzOffsetTop",r.nzOffsetTop)("nzTarget",r.container),c(),p("ngTemplateOutlet",i)}}var Wt=t=>({"ant-anchor-fixed":t});function Kt(t,n){if(t&1&&(f(0,"div",4)(1,"div",5)(2,"div",6),C(3,"div",7,8),m(),k(5),m()()),t&2){let r=d();p("ngStyle",r.wrapperStyle),c(),p("ngClass",Ct(2,Wt,!r.nzAffix&&!r.nzShowInkInFixed))}}var Rt=["*"],Zt=["nzTemplate"],Gt=["linkTitle"];function Jt(t,n){if(t&1&&(f(0,"span"),s(1),m()),t&2){let r=d();c(),M(r.titleStr)}}function Bt(t,n){if(!t||!t.getClientRects().length)return 0;let r=t.getBoundingClientRect();if(r.width||r.height){if(n===window){let i=t.ownerDocument.documentElement;return r.top-i.clientTop}return r.top-n.getBoundingClientRect().top}return r.top}var Xt="anchor",Yt=/#([^#]+)$/,te=wt({passive:!0}),Q=(()=>{let n=class n{constructor(i,e,o,a,l,_,D){this.doc=i,this.nzConfigService=e,this.scrollSrv=o,this.cdr=a,this.platform=l,this.zone=_,this.renderer=D,this._nzModuleName=Xt,this.nzAffix=!0,this.nzShowInkInFixed=!1,this.nzBounds=5,this.nzOffsetTop=void 0,this.nzTargetOffset=void 0,this.nzClick=new N,this.nzChange=new N,this.nzScroll=new N,this.visible=!1,this.wrapperStyle={"max-height":"100vh"},this.links=[],this.animating=!1,this.destroy$=new et,this.handleScrollTimeoutID=-1}registerLink(i){this.links.push(i)}unregisterLink(i){this.links.splice(this.links.indexOf(i),1)}getContainer(){return this.container||window}ngAfterViewInit(){this.registerScrollEvent()}ngOnDestroy(){clearTimeout(this.handleScrollTimeoutID),this.destroy$.next(!0),this.destroy$.complete()}registerScrollEvent(){this.platform.isBrowser&&(this.destroy$.next(!0),this.zone.runOutsideAngular(()=>{it(this.getContainer(),"scroll",te).pipe(rt(50),ot(this.destroy$)).subscribe(()=>this.handleScroll())}),this.handleScrollTimeoutID=setTimeout(()=>this.handleScroll()))}handleScroll(){if(typeof document>"u"||this.animating)return;let i=[],o=(this.nzTargetOffset?this.nzTargetOffset:this.nzOffsetTop||0)+this.nzBounds;if(this.links.forEach(a=>{let l=Yt.exec(a.nzHref.toString());if(!l)return;let _=this.doc.getElementById(l[1]);if(_){let D=Bt(_,this.getContainer());D<o&&i.push({top:D,comp:a})}}),this.visible=!!i.length,!this.visible)this.clearActive(),this.cdr.detectChanges();else{let a=i.reduce((l,_)=>_.top>l.top?_:l);this.handleActive(a.comp)}this.setVisible()}clearActive(){this.links.forEach(i=>{i.unsetActive()})}setActive(i){let e=this.activeLink,o=this.nzCurrentAnchor&&this.links.find(l=>l.nzHref===this.nzCurrentAnchor)||i;if(!o)return;o.setActive();let a=o.getLinkTitleElement();this.ink.nativeElement.style.top=`${a.offsetTop+a.clientHeight/2-4.5}px`,this.activeLink=(i||o).nzHref,e!==this.activeLink&&this.nzChange.emit(this.activeLink)}handleActive(i){this.clearActive(),this.setActive(i),this.visible=!0,this.setVisible(),this.nzScroll.emit(i)}setVisible(){let i=this.visible,e="visible";this.ink&&(i?this.renderer.addClass(this.ink.nativeElement,e):this.renderer.removeClass(this.ink.nativeElement,e))}handleScrollTo(i){let e=this.doc.querySelector(i.nzHref);if(!e)return;this.animating=!0;let o=this.scrollSrv.getScroll(this.getContainer()),a=Bt(e,this.getContainer()),l=o+a;l-=this.nzTargetOffset!==void 0?this.nzTargetOffset:this.nzOffsetTop||0,this.scrollSrv.scrollTo(this.getContainer(),l,{callback:()=>{this.animating=!1,this.handleActive(i)}}),this.nzClick.emit(i.nzHref)}ngOnChanges(i){let{nzOffsetTop:e,nzContainer:o,nzCurrentAnchor:a}=i;if(e&&(this.wrapperStyle={"max-height":`calc(100vh - ${this.nzOffsetTop}px)`}),o){let l=this.nzContainer;this.container=typeof l=="string"?this.doc.querySelector(l):l,this.registerScrollEvent()}a&&this.setActive()}};n.\u0275fac=function(e){return new(e||n)(u(H),u(At),u(Nt),u(ft),u(w),u(dt),u(W))},n.\u0275cmp=v({type:n,selectors:[["nz-anchor"]],viewQuery:function(e,o){if(e&1&&X(Qt,5),e&2){let a;O(a=L())&&(o.ink=a.first)}},inputs:{nzAffix:"nzAffix",nzShowInkInFixed:"nzShowInkInFixed",nzBounds:"nzBounds",nzOffsetTop:"nzOffsetTop",nzTargetOffset:"nzTargetOffset",nzContainer:"nzContainer",nzCurrentAnchor:"nzCurrentAnchor"},outputs:{nzClick:"nzClick",nzChange:"nzChange",nzScroll:"nzScroll"},exportAs:["nzAnchor"],standalone:!0,features:[lt,I],ngContentSelectors:Rt,decls:3,vars:2,consts:[[3,"nzOffsetTop","nzTarget",4,"ngIf","ngIfElse"],["content",""],[3,"nzOffsetTop","nzTarget"],[3,"ngTemplateOutlet"],[1,"ant-anchor-wrapper",3,"ngStyle"],[1,"ant-anchor",3,"ngClass"],[1,"ant-anchor-ink"],[1,"ant-anchor-ink-ball"],["ink",""]],template:function(e,o){if(e&1&&(y(),g(0,qt,2,3,"nz-affix",0)(1,Kt,6,4,"ng-template",null,1,b)),e&2){let a=S(2);p("ngIf",o.nzAffix)("ngIfElse",a)}},dependencies:[Tt,Y,vt,yt,P,V],encapsulation:2,changeDetection:0});let t=n;return T([tt()],t.prototype,"nzAffix",void 0),T([A(),tt()],t.prototype,"nzShowInkInFixed",void 0),T([A(),R()],t.prototype,"nzBounds",void 0),T([R(void 0),A()],t.prototype,"nzOffsetTop",void 0),T([R(void 0),A()],t.prototype,"nzTargetOffset",void 0),t})(),Ft=(()=>{let n=class n{set nzTitle(i){i instanceof ut?(this.titleStr=null,this.titleTpl=i):this.titleStr=i}constructor(i,e,o,a){this.elementRef=i,this.anchorComp=e,this.platform=o,this.renderer=a,this.nzHref="#",this.titleStr=""}ngOnInit(){this.anchorComp.registerLink(this)}getLinkTitleElement(){return this.linkTitle.nativeElement}setActive(){this.renderer.addClass(this.elementRef.nativeElement,"ant-anchor-link-active")}unsetActive(){this.renderer.removeClass(this.elementRef.nativeElement,"ant-anchor-link-active")}goToClick(i){i.preventDefault(),i.stopPropagation(),this.platform.isBrowser&&this.anchorComp.handleScrollTo(this)}ngOnDestroy(){this.anchorComp.unregisterLink(this)}};n.\u0275fac=function(e){return new(e||n)(u(mt),u(Q),u(w),u(W))},n.\u0275cmp=v({type:n,selectors:[["nz-link"]],contentQueries:function(e,o,a){if(e&1&&gt(a,Zt,5),e&2){let l;O(l=L())&&(o.nzTemplate=l.first)}},viewQuery:function(e,o){if(e&1&&X(Gt,5),e&2){let a;O(a=L())&&(o.linkTitle=a.first)}},hostAttrs:[1,"ant-anchor-link"],inputs:{nzHref:"nzHref",nzTarget:"nzTarget",nzTitle:"nzTitle"},exportAs:["nzLink"],standalone:!0,features:[I],ngContentSelectors:Rt,decls:4,vars:5,consts:[[1,"ant-anchor-link-title",3,"href","title","target","click"],["linkTitle",""],[4,"ngIf","ngIfElse"]],template:function(e,o){e&1&&(y(),f(0,"a",0,1),x("click",function(l){return o.goToClick(l)}),g(2,Jt,2,1,"span",2),m(),k(3)),e&2&&(p("href",o.nzHref,pt)("title",o.titleStr)("target",o.nzTarget),c(2),p("ngIf",o.titleStr)("ngIfElse",o.titleTpl||o.nzTemplate))},dependencies:[Y],encapsulation:2,changeDetection:0});let t=n;return t})(),$t=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=at({type:n}),n.\u0275inj=st({imports:[Q]});let t=n;return t})();var Vt=(()=>{let n=class n{constructor(){this.router=h(B),this.msg=h($),this.i18n=h(j)}clickToc(i){let e=`#${i}`,o=document.querySelector(e);o&&o.scrollIntoView()}_click(i){let e=i.target;if(!e||!e.dataset||!["a","i"].includes(e.tagName.toLowerCase()))return;let o=e.dataset.anchor;if(o&&o.length>0){F(`${location.href.split("#")[0]}#${o}`).then(()=>{this.msg.success(this.i18n.fanyi("app.content.link.copied"))});return}let a=e.dataset.url;if(e.dataset.toc||a&&a.startsWith("#")){this.clickToc(e.dataset.toc||a.substring(1).replace(/ /g,"-")),i.preventDefault(),i.stopPropagation();return}if(a&&a.startsWith("/")&&!a.startsWith("//")){this.router.navigateByUrl(a);return}}};n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ct({type:n,selectors:[["","routeTransfer",""]],hostBindings:function(e,o){e&1&&x("click",function(l){return o._click(l)})},standalone:!0});let t=n;return t})();function ie(t,n){if(t&1&&(s(0,`
              `),C(1,"nz-link",2),s(2,`
            `)),t&2){let r=n.$implicit;c(),p("nzHref","#"+r.id)("nzTitle",r.title)}}function ne(t,n){if(t&1&&(s(0,`
            `),Z(1,ie,3,2,null,null,K)),t&2){let r=d().$implicit;c(),G(r.children)}}function oe(t,n){if(t&1&&(s(0,`
        `),f(1,"nz-link",2),s(2,`
          `),g(3,ne,3,0),m(),s(4,`
      `)),t&2){let r=n.$implicit;c(),p("nzHref","#"+r.id)("nzTitle",r.title),c(2),z(3,r.children&&r.children.length>0?3:-1)}}function re(t,n){if(t&1){let r=J();s(0,`
  `),f(1,"nz-affix",0),s(2,`
    `),f(3,"nz-anchor",1),x("nzClick",function(e){U(r);let o=d();return q(o.goLink(e))}),s(4,`
      `),Z(5,oe,5,3,null,null,K),m(),s(7,`
  `),m(),s(8,`
`)}if(t&2){let r=d();c(5),G(r.data.con.toc)}}function se(t,n){if(t&1&&(s(0),f(1,"a",8),s(2," Help us!"),m(),s(3,`
      `)),t&2){let r=d(3);zt(`
        `,r.data.con.meta.i18n==="need-update"?"This article need re-translated, hope that your can PR to translated it.":"This article has not been translated, hope that your can PR to translated it.",`
        `)}}function ae(t,n){if(t&1&&(s(0,`
    `),f(1,"nz-alert",6),s(2,`
      `),g(3,se,4,1,"ng-template",null,7,b),s(5,`
    `),m(),s(6,`
  `)),t&2){let r=S(4);c(),p("nzType","warning")("nzCloseable","true")("nzMessage",r)}}function ce(t,n){if(t&1){let r=J();s(0,`
        `),f(1,"div",9),s(2,`
          `),f(3,"span",10),x("click",function(){U(r);let e=d(2);return q(e.copyModule())}),_t(4,"i18n"),s(5,`
            IMPORT MODULE
          `),m(),s(6,`
        `),m(),s(7,`
      `)}if(t&2){let r=d(2);c(3),p("nzTooltipTitle",xt(4,1,"app.content.copy-import-module")+r.data.con.module)}}function le(t,n){if(t&1&&(s(0,`
    `),C(1,"div",11),s(2,`
  `)),t&2){let r=d(2);c(),p("innerHTML",r.data.con.content,E)}}function pe(t,n){if(t&1&&(s(0,`
    `),C(1,"h2",12),s(2,`
    `),k(3),s(4,`
  `)),t&2){let r=d(2);c(),ht("id",r.demoStr),p("innerHTML",r.demoContent,E)}}function me(t,n){if(t&1&&(s(0,`
    `),C(1,"div",13),s(2,`
  `)),t&2){let r=d(2);c(),p("innerHTML",r.data.con.api,E)}}function fe(t,n){if(t&1&&(s(0,`
  `),g(1,ae,7,3),f(2,"div",3),s(3,`
    `),f(4,"h1",4),s(5,`
      `),f(6,"strong"),s(7),m(),s(8,`
      `),g(9,ce,8,3),C(10,"edit-button",5),s(11,`
    `),m(),s(12,`
  `),m(),s(13,`
  `),g(14,le,3,1)(15,pe,5,2)(16,me,3,1)),t&2){let r=d();c(),z(1,!r.meta.item.i18n||r.data.con.meta.i18n==="need-update"?1:-1),c(6),M(r.meta.item.subtitle||r.meta.item.title),c(2),z(9,r.data.con.module?9:-1),c(),p("item",r.item),c(4),z(14,r.data.con.content?14:-1),c(),z(15,r.data.demo?15:-1),c(),z(16,r.data.con.api?16:-1)}}var de=["*"],mi=(()=>{let n=class n{constructor(){this.meta=h(Et),this.i18n=h(j),this.msg=h($),this.router=h(B),this.sanitizer=h(kt),this.doc=h(H),this.data={},this.isBrowser=h(w).isBrowser,this.i18NChange$=this.i18n.change.pipe(It(),nt(()=>!!this.item)).subscribe(()=>{this.init()})}genData(){let i=St(this.item),e={demo:i.demo,urls:i.urls,con:i.content[this.i18n.currentLang]||i.content[this.i18n.defaultLang]};e.demo&&this.codes&&this.codes.length&&(this.genDemoTitle(),e.con.toc=this.codes.map(o=>({h:3,id:o.id,title:this.i18n.get(o.meta.title)})).concat({id:"API",title:"API",h:2})),e.con.content&&(e.con.content=this.sanitizer.bypassSecurityTrustHtml(e.con.content)),e.con.api&&(e.con.api=this.sanitizer.bypassSecurityTrustHtml(e.con.api)),e.con.meta.module&&(e.con.module=e.con.meta.module),this.data=e,setTimeout(()=>{let o=this.router.parseUrl(this.router.url).fragment||"";if(o){let a=this.doc.querySelector(`#${o}`);a&&a.scrollIntoView()}},200)}goLink(i){window&&(window.location.hash=i)}genDemoTitle(){this.demoStr=this.i18n.fanyi("app.component.examples"),this.demoContent=this.sanitizer.bypassSecurityTrustHtml(`<a class="lake-link"><i data-anchor="${this.demoStr}"></i></a>${this.demoStr}`)}init(){this.genData(),this.genDemoTitle(),this.isBrowser&&setTimeout(()=>{let i=this.doc.querySelectorAll('[class*="language-"], [class*="lang-"]');for(let e=0,o;o=i[e++];)hljs.highlightBlock(o)},250)}copyModule(){F(this.data.con.module).then(()=>{this.msg.success(this.i18n.fanyi("app.demo.copied"))})}ngOnInit(){this.init()}ngOnDestroy(){this.i18NChange$.unsubscribe()}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-docs"]],inputs:{codes:"codes",item:"item"},standalone:!0,features:[I],ngContentSelectors:de,decls:2,vars:2,consts:[["nzOffsetTop","16",1,"toc-affix"],["nzShowInkInFixed","","nzAffix","false",3,"nzClick"],[3,"nzHref","nzTitle"],[1,"markdown"],[1,"flex-center"],[3,"item"],["nzBanner","",1,"my-md",3,"nzType","nzCloseable","nzMessage"],["message",""],["href","//github.com/ng-alain/ng-alain/issues/74","target","_blank"],[1,"ml-sm"],["nz-tooltip","",1,"copy-import-module",3,"nzTooltipTitle","click"],["routeTransfer","",1,"markdown",3,"innerHTML"],["routeTransfer","",2,"margin","32px 0 24px 0",3,"id","innerHTML"],["routeTransfer","",1,"markdown","api-container",3,"innerHTML"]],template:function(e,o){e&1&&(y(),g(0,re,9,0)(1,fe,17,7)),e&2&&(z(0,o.isBrowser&&(o.data.con.toc!=null&&o.data.con.toc.length)?0:-1),c(),z(1,o.meta.item?1:-1))},dependencies:[Dt,Vt,P,V,$t,Q,Ft,Ht,bt,Lt,Ot,Mt],encapsulation:2});let t=n;return t})();export{mi as a};
