import{a as Le,b as $e}from"./chunk-3YAX2XTP.js";import{$a as be,Bc as Ie,Cb as _,Dd as S,Dh as Fe,F as q,Fb as h,Gc as ke,Gd as Ne,Hb as l,Ia as E,Id as Pe,J,Jd as we,La as ee,Ma as u,Md as Ue,O as ce,Ob as Re,Oh as ne,P as Z,Pb as ve,Ph as oe,Qb as xe,Qh as je,Ub as Te,Vb as _e,Wh as Ke,Xb as Se,Za as A,_h as Ge,a as R,ai as Ve,b as re,ca as G,cd as ze,db as C,dc as ye,dd as De,ea as w,fc as Me,ga as r,ha as me,hb as V,i as ae,ia as he,ib as p,id as W,jb as Ce,kb as te,kd as Oe,l as Q,la as pe,ld as Be,m as le,ma as v,md as U,na as x,oc as Ee,ra as de,rb as I,rg as He,sa as fe,sb as L,tc as Ae,u as ue,ua as T,ub as $,uc as k,vb as Y,vc as ie,wb as c,xb as m,yb as ge}from"./chunk-SCDKUK6D.js";var z=new w("REUSE_TAB_CACHED_MANAGER"),H=class{list=[];title={};closable={}};var y=new w("REUSE_TAB_STORAGE_KEY"),M=new w("REUSE_TAB_STORAGE_STATE"),F=class{get(e){return JSON.parse(localStorage.getItem(e)||"[]")||[]}update(e,t){return localStorage.setItem(e,JSON.stringify(t)),!0}remove(e){localStorage.removeItem(e)}};var f=class o{injector=r(de);menuService=r(Pe);cached=r(z);stateKey=r(y);stateSrv=r(M);_inited=!1;_max=10;_keepingScroll=!1;_cachedChange=new le(null);_router$;removeUrlBuffer=null;positionBuffer={};componentRef;debug=!1;routeParamMatchMode="strict";mode=0;excludes=[];storageState=!1;get snapshot(){return this.injector.get(W).snapshot}get inited(){return this._inited}get curUrl(){return this.getUrl(this.snapshot)}set max(e){this._max=Math.min(Math.max(e,2),100);for(let t=this.cached.list.length;t>this._max;t--)this.cached.list.pop()}set keepingScroll(e){this._keepingScroll=e,this.initScroll()}get keepingScroll(){return this._keepingScroll}keepingScrollContainer;get items(){return this.cached.list}get count(){return this.cached.list.length}get change(){return this._cachedChange.asObservable()}set title(e){let t=this.curUrl;typeof e=="string"&&(e={text:e}),this.cached.title[t]=e,this.di("update current tag title: ",e),this._cachedChange.next({active:"title",url:t,title:e,list:this.cached.list})}index(e){return this.cached.list.findIndex(t=>t.url===e)}exists(e){return this.index(e)!==-1}get(e){return e&&this.cached.list.find(t=>t.url===e)||null}remove(e,t){let i=typeof e=="string"?this.index(e):e,n=i!==-1?this.cached.list[i]:null;return!n||!t&&!n.closable?!1:(this.destroy(n._handle),this.cached.list.splice(i,1),delete this.cached.title[e],!0)}close(e,t=!1){return this.removeUrlBuffer=e,this.remove(e,t),this._cachedChange.next({active:"close",url:e,list:this.cached.list}),this.di("close tag",e),!0}closeRight(e,t=!1){let i=this.index(e);for(let n=this.count-1;n>i;n--)this.remove(n,t);return this.removeUrlBuffer=null,this._cachedChange.next({active:"closeRight",url:e,list:this.cached.list}),this.di("close right tages",e),!0}clear(e=!1){this.cached.list.forEach(t=>{!e&&t.closable&&this.destroy(t._handle)}),this.cached.list=this.cached.list.filter(t=>!e&&!t.closable),this.removeUrlBuffer=null,this._cachedChange.next({active:"clear",list:this.cached.list}),this.di("clear all catch")}move(e,t){let i=this.cached.list.findIndex(s=>s.url===e);if(i===-1)return;let n=this.cached.list.slice();n.splice(t<0?n.length+t:t,0,n.splice(i,1)[0]),this.cached.list=n,this._cachedChange.next({active:"move",url:e,position:t,list:this.cached.list})}replace(e){let t=this.curUrl;this.injector.get(U).navigateByUrl(e).then(()=>{this.exists(t)?this.close(t,!0):this.removeUrlBuffer=t})}getTitle(e,t){if(this.cached.title[e])return this.cached.title[e];if(t&&t.data&&(t.data.titleI18n||t.data.title))return{text:t.data.title,i18n:t.data.titleI18n};let i=this.getMenu(e);return i?{text:i.text,i18n:i.i18n}:{text:e}}clearTitleCached(){this.cached.title={}}set closable(e){let t=this.curUrl;this.cached.closable[t]=e,this.di("update current tag closable: ",e),this._cachedChange.next({active:"closable",closable:e,list:this.cached.list})}getClosable(e,t){if(typeof this.cached.closable[e]<"u")return this.cached.closable[e];if(t&&t.data&&typeof t.data.reuseClosable=="boolean")return t.data.reuseClosable;let i=this.mode!==2?this.getMenu(e):null;return i&&typeof i.reuseClosable=="boolean"?i.reuseClosable:!0}clearClosableCached(){this.cached.closable={}}getTruthRoute(e){let t=e;for(;t.firstChild;)t=t.firstChild;return t}getUrl(e){let t=this.getTruthRoute(e),i=[];for(;t;)i.push(t.url.join("/")),t=t.parent;return`/${i.filter(s=>s).reverse().join("/")}`}can(e){let t=this.getUrl(e);if(t===this.removeUrlBuffer)return!1;if(e.data&&typeof e.data.reuse=="boolean")return e.data.reuse;if(this.mode!==2){let i=this.getMenu(t);if(!i)return!1;if(this.mode===0){if(i.reuse===!1)return!1}else if(!i.reuse||i.reuse!==!0)return!1;return!0}return!this.isExclude(t)}isExclude(e){return this.excludes.findIndex(t=>t.test(e))!==-1}refresh(e){this._cachedChange.next({active:"refresh",data:e})}destroy(e){e&&e.componentRef&&e.componentRef.destroy&&e.componentRef.destroy()}di(...e){}constructor(){this.cached==null&&(this.cached={list:[],title:{},closable:{}})}init(){this.initScroll(),this._inited=!0,this.loadState()}loadState(){this.storageState&&(this.cached.list=this.stateSrv.get(this.stateKey).map(e=>re(R({},e),{title:{text:e.title},url:e.url,position:e.position})),this._cachedChange.next({active:"loadState"}))}getMenu(e){let t=this.menuService.getPathByUrl(e);return!t||t.length===0?null:t.pop()}runHook(e,t,i="init"){if(typeof t=="number"&&(t=this.cached.list[t]._handle?.componentRef),t==null||!t.instance)return;let n=t.instance,s=n[e];typeof s=="function"&&(e==="_onReuseInit"?s.call(n,i):s.call(n))}hasInValidRoute(e){return!e.routeConfig||!!e.routeConfig.loadChildren||!!e.routeConfig.children}shouldDetach(e){return this.hasInValidRoute(e)?!1:(this.di("#shouldDetach",this.can(e),this.getUrl(e)),this.can(e))}saveCache(e,t,i){let n=this.getTruthRoute(e),s=this.getUrl(e),a=this.index(s),d={title:this.getTitle(s,n),url:s,closable:this.getClosable(s,e),_snapshot:e,_handle:t};if(a<0){if(this.items.splice(i??this.items.length,0,d),this.count>this._max){let N=this.items.findIndex(g=>g.url!==s&&g.closable);if(N!==-1){let g=this.items[N];this.remove(N,!1),q(1).pipe(Z(1)).subscribe(()=>this._cachedChange.next({active:"close",url:g.url,list:this.cached.list}))}}}else this.items[a]=d}store(e,t){let i=this.getUrl(e);t!=null&&this.saveCache(e,t);let n=this.cached.list,s={title:this.getTitle(i,e),closable:this.getClosable(i,e),position:this.getKeepingScroll(i,e)?this.positionBuffer[i]:null,url:i,_snapshot:e,_handle:t},a=this.index(i),d=n[a]?._handle?.componentRef;t==null&&d!=null&&q(100).pipe(Z(1)).subscribe(()=>this.runHook("_onReuseInit",d)),n[a]=s,this.removeUrlBuffer=null,this.di("#store","[override]",i),t&&t.componentRef&&this.runHook("_onReuseDestroy",t.componentRef),this._cachedChange.next({active:"override",item:s,list:n})}shouldAttach(e){if(this.hasInValidRoute(e))return!1;let t=this.getUrl(e),i=this.get(t),n=!!(i&&i._handle);return this.di("#shouldAttach",n,t),n||this._cachedChange.next({active:"add",url:t,list:this.cached.list}),n}retrieve(e){if(this.hasInValidRoute(e))return null;let t=this.getUrl(e),i=this.get(t),n=i&&i._handle||null;return this.di("#retrieve",t,n),n}shouldReuseRoute(e,t){let i=e.routeConfig===t.routeConfig;if(!i)return!1;let n=e.routeConfig&&e.routeConfig.path||"";return n.length>0&&~n.indexOf(":")&&(this.routeParamMatchMode==="strict"?i=this.getUrl(e)===this.getUrl(t):i=n===(t.routeConfig&&t.routeConfig.path||"")),this.di("====================="),this.di("#shouldReuseRoute",i,`${this.getUrl(t)}=>${this.getUrl(e)}`,e,t),i}getKeepingScroll(e,t){if(t&&t.data&&typeof t.data.keepingScroll=="boolean")return t.data.keepingScroll;let i=this.mode!==2?this.getMenu(e):null;return i&&typeof i.keepingScroll=="boolean"?i.keepingScroll:this.keepingScroll}get isDisabledInRouter(){return this.injector.get(Oe,{}).scrollPositionRestoration==="disabled"}get ss(){return this.injector.get(Ke)}initScroll(){this._router$&&this._router$.unsubscribe(),this._router$=this.injector.get(U).events.subscribe(e=>{if(e instanceof ze){let t=this.curUrl;this.getKeepingScroll(t,this.getTruthRoute(this.snapshot))?this.positionBuffer[t]=this.ss.getScrollPosition(this.keepingScrollContainer):delete this.positionBuffer[t]}else if(e instanceof De){let t=this.curUrl,i=this.get(t);i&&i.position&&this.getKeepingScroll(t,this.getTruthRoute(this.snapshot))&&(this.isDisabledInRouter?this.ss.scrollToPosition(this.keepingScrollContainer,i.position):setTimeout(()=>this.ss.scrollToPosition(this.keepingScrollContainer,i.position),1))}})}ngOnDestroy(){let{_cachedChange:e,_router$:t}=this;this.clear(),this.cached.list=[],e.complete(),t&&t.unsubscribe()}static \u0275fac=function(t){return new(t||o)};static \u0275prov=G({token:o,factory:o.\u0275fac})};function qe(o,e){if(o&1){let t=_();c(0,"li",5),h("click",function(n){v(t);let s=l();return x(s.click(n,"refresh"))}),m()}if(o&2){let t=l();p("innerHTML",t.i18n.refresh,E)}}function Je(o,e){if(o&1){let t=_();c(0,"li",8),h("click",function(n){let s=v(t).$implicit,a=l(2);return x(a.click(n,"custom",s))}),m()}if(o&2){let t=e.$implicit,i=l(2);p("nzDisabled",i.isDisabled(t))("innerHTML",t.title,E),V("data-type",t.id)}}function Ze(o,e){if(o&1&&(ge(0,"li",6),$(1,Je,1,3,"li",7,L)),o&2){let t=l();u(),Y(t.customContextMenu)}}var D=class o{i18nSrv=r(Fe);_i18n;set i18n(e){this._i18n=R(R({},this.i18nSrv.getData("reuseTab")),e)}get i18n(){return this._i18n}item;event;customContextMenu;close=new T;get includeNonCloseable(){return this.event.ctrlKey}notify(e){this.close.next({type:e,item:this.item,includeNonCloseable:this.includeNonCloseable})}ngOnInit(){this.includeNonCloseable&&(this.item.closable=!0)}click(e,t,i){if(e.preventDefault(),e.stopPropagation(),!(t==="close"&&!this.item.closable)&&!(t==="closeRight"&&this.item.last)){if(i){if(this.isDisabled(i))return;i.fn(this.item,i)}this.notify(t)}}isDisabled(e){return e.disabled?e.disabled(this.item):!1}closeMenu(e){e.type==="click"&&e.button===2||this.notify(null)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=A({type:o,selectors:[["reuse-tab-context-menu"]],hostBindings:function(t,i){t&1&&h("click",function(s){return i.closeMenu(s)},!1,ee)("contextmenu",function(s){return i.closeMenu(s)},!1,ee)},inputs:{i18n:"i18n",item:"item",event:"event",customContextMenu:"customContextMenu"},outputs:{close:"close"},decls:6,vars:7,consts:[["nz-menu",""],["nz-menu-item","","data-type","refresh",3,"innerHTML"],["nz-menu-item","","data-type","close",3,"click","nzDisabled","innerHTML"],["nz-menu-item","","data-type","closeOther",3,"click","innerHTML"],["nz-menu-item","","data-type","closeRight",3,"click","nzDisabled","innerHTML"],["nz-menu-item","","data-type","refresh",3,"click","innerHTML"],["nz-menu-divider",""],["nz-menu-item","",3,"nzDisabled","innerHTML"],["nz-menu-item","",3,"click","nzDisabled","innerHTML"]],template:function(t,i){t&1&&(c(0,"ul",0),C(1,qe,1,1,"li",1),c(2,"li",2),h("click",function(s){return i.click(s,"close")}),m(),c(3,"li",3),h("click",function(s){return i.click(s,"closeOther")}),m(),c(4,"li",4),h("click",function(s){return i.click(s,"closeRight")}),m(),C(5,Ze,3,0),m()),t&2&&(u(),I(i.item.active?1:-1),u(),p("nzDisabled",!i.item.closable)("innerHTML",i.i18n.close,E),u(),p("innerHTML",i.i18n.closeOther,E),u(),p("nzDisabled",i.item.last)("innerHTML",i.i18n.closeRight,E),u(),I(i.customContextMenu.length>0?5:-1))},dependencies:[Ve,Ge],encapsulation:2,changeDetection:0})};var b=class o{overlay=r(je);ref=null;i18n;show=new Q;close=new Q;remove(){this.ref&&(this.ref.detach(),this.ref.dispose(),this.ref=null)}open(e){this.remove();let{event:t,item:i,customContextMenu:n}=e,{x:s,y:a}=t,d=[new oe({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new oe({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})],N=this.overlay.position().flexibleConnectedTo({x:s,y:a}).withPositions(d);this.ref=this.overlay.create({positionStrategy:N,panelClass:"reuse-tab__cm",scrollStrategy:this.overlay.scrollStrategies.close()});let g=this.ref.attach(new ne(D)),P=g.instance;P.i18n=this.i18n,P.item=R({},i),P.customContextMenu=n,P.event=t;let se=new ae;se.add(P.close.subscribe(Xe=>{this.close.next(Xe),this.remove()})),g.onDestroy(()=>se.unsubscribe())}static \u0275fac=function(t){return new(t||o)};static \u0275prov=G({token:o,factory:o.\u0275fac})};var O=class o{srv=r(b);set i18n(e){this.srv.i18n=e}change=new T;constructor(){this.srv.show.pipe(S()).subscribe(e=>this.srv.open(e)),this.srv.close.pipe(S()).subscribe(e=>this.change.emit(e))}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=A({type:o,selectors:[["reuse-tab-context"]],inputs:{i18n:"i18n"},outputs:{change:"change"},decls:0,vars:0,template:function(t,i){},encapsulation:2})};var B=class o{srv=r(b);item;customContextMenu;_onContextMenu(e){this.srv.show.next({event:e,item:this.item,customContextMenu:this.customContextMenu}),e.preventDefault(),e.stopPropagation()}static \u0275fac=function(t){return new(t||o)};static \u0275dir=be({type:o,selectors:[["","reuse-tab-context-menu",""]],hostBindings:function(t,i){t&1&&h("contextmenu",function(s){return i._onContextMenu(s)})},inputs:{item:[0,"reuse-tab-context-menu","item"],customContextMenu:"customContextMenu"},exportAs:["reuseTabContextMenu"]})};var et=["tabset"],tt=o=>({$implicit:o});function it(o,e){}function nt(o,e){if(o&1&&C(0,it,0,0,"ng-template",7),o&2){let t=l(2).$implicit,i=l();p("ngTemplateOutlet",i.titleRender)("ngTemplateOutletContext",Me(2,tt,t))}}function ot(o,e){if(o&1&&_e(0),o&2){let t=l(2).$implicit;Se(" ",t.title," ")}}function st(o,e){if(o&1){let t=_();c(0,"nz-icon",9),h("click",function(n){v(t);let s=l(2).$index,a=l();return x(a._close(n,s,!1))}),m()}}function rt(o,e){if(o&1&&(c(0,"div",6)(1,"span"),C(2,nt,1,4,null,7)(3,ot,1,1),m()(),C(4,st,1,0,"nz-icon",8)),o&2){let t=l().$implicit,i=l();p("reuse-tab-context-menu",t)("customContextMenu",i.customContextMenu),V("title",t.title),u(),Ce("max-width",i.tabMaxWidth,"px"),te("reuse-tab__name-width",i.tabMaxWidth),u(),I(i.titleRender?2:3),u(2),I(t.closable?4:-1)}}function at(o,e){if(o&1){let t=_();c(0,"nz-tab",5),h("nzClick",function(){let n=v(t).$index,s=l();return x(s._to(n))}),C(1,rt,5,9,"ng-template",null,1,Ee),m()}if(o&2){let t=Te(2);p("nzTitle",t)}}var X=class o{srv=r(f,{optional:!0});cdr=r(Ae);router=r(U);route=r(W);i18nSrv=r(Ne);doc=r(Ie);platform=r(we);directionality=r(Ue);stateKey=r(y);stateSrv=r(M);tabset;destroy$=r(fe);_keepingScrollContainer;list=[];item;pos=0;dir="ltr";mode=0;i18n;debug=!1;max;tabMaxWidth;excludes;allowClose=!0;keepingScroll=!1;storageState=!1;set keepingScrollContainer(e){this._keepingScrollContainer=typeof e=="string"?this.doc.querySelector(e):e}customContextMenu=[];tabBarExtraContent;tabBarGutter;tabBarStyle=null;tabType="line";routeParamMatchMode="strict";disabled=!1;titleRender;canClose;change=new T;close=new T;genTit(e){return e.i18n?this.i18nSrv.fanyi(e.i18n):e.text}get curUrl(){return this.srv.getUrl(this.route.snapshot)}genCurItem(){let e=this.curUrl,t=this.srv.getTruthRoute(this.route.snapshot);return{url:e,title:this.genTit(this.srv.getTitle(e,t)),closable:this.allowClose&&this.srv.count>0&&this.srv.getClosable(e,t),active:!1,last:!1,index:0}}genList(e){let t=this.srv.items.map((s,a)=>({url:s.url,title:this.genTit(s.title),closable:this.allowClose&&this.srv.count>0&&this.srv.getClosable(s.url,s._snapshot),position:s.position,index:a,active:!1,last:!1})),i=this.curUrl,n=t.findIndex(s=>s.url===i)===-1;if(e&&e.active==="close"&&e.url===i){n=!1;let s=0,a=this.list.find(d=>d.url===i);a.index===t.length?s=t.length-1:a.index<t.length&&(s=Math.max(0,a.index)),this.router.navigateByUrl(t[s].url)}if(n){let s=this.pos+1;t.splice(s,0,this.genCurItem()),this.srv.saveCache(this.route.snapshot,null,s)}t.forEach((s,a)=>s.index=a),t.length===1&&(t[0].closable=!1),this.list=t,this.cdr.detectChanges(),this.updatePos()}updateTitle(e){let t=this.list.find(i=>i.url===e.url);t&&(t.title=this.genTit(e.title),this.cdr.detectChanges())}refresh(e){this.srv.runHook("_onReuseInit",this.pos===e.index?this.srv.componentRef:e.index,"refresh")}saveState(){!this.srv.inited||!this.storageState||this.stateSrv?.update(this.stateKey,this.list)}contextMenuChange(e){let t=null;switch(e.type){case"refresh":this.refresh(e.item);break;case"close":this._close(null,e.item.index,e.includeNonCloseable);break;case"closeRight":t=()=>{this.srv.closeRight(e.item.url,e.includeNonCloseable),this.close.emit(null)};break;case"closeOther":t=()=>{this.srv.clear(e.includeNonCloseable),this.close.emit(null)};break}t&&(!e.item.active&&e.item.index<=this.list.find(i=>i.active).index?this._to(e.item.index,t):t())}_to(e,t){e=Math.max(0,Math.min(e,this.list.length-1));let i=this.list[e];this.router.navigateByUrl(i.url).then(n=>{n&&(this.item=i,this.change.emit(i),t?.())})}_close(e,t,i){e!=null&&(e.preventDefault(),e.stopPropagation());let n=this.list[t];return(this.canClose?this.canClose({item:n,includeNonCloseable:i}):ue(!0)).pipe(J(s=>s)).subscribe(()=>{this.srv.close(n.url,i),this.close.emit(n),this.cdr.detectChanges()}),!1}activate(e){this.srv!=null&&(this.srv.componentRef={instance:e})}updatePos(){let e=this.srv.getUrl(this.route.snapshot),t=this.list.filter(a=>a.url===e||!this.srv.isExclude(a.url));if(t.length===0)return;let i=t[t.length-1],n=t.find(a=>a.url===e);i.last=!0;let s=n==null?i.index:n.index;t.forEach((a,d)=>a.active=s===d),this.pos=s,this.tabset.nzSelectedIndex=s,this.list=t,this.cdr.detectChanges(),this.saveState()}ngOnInit(){this.dir=this.directionality.value,this.directionality.change.pipe(S(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),!(!this.platform.isBrowser||this.srv==null)&&(this.srv.change.pipe(S(this.destroy$)).subscribe(e=>{switch(e?.active){case"title":this.updateTitle(e);return;case"override":if(e?.list?.length===this.list.length){this.updatePos();return}break}this.genList(e)}),this.i18nSrv.change.pipe(J(()=>this.srv.inited),S(this.destroy$),ce(100)).subscribe(()=>this.genList({active:"title"})),this.srv.init())}ngOnChanges(e){!this.platform.isBrowser||this.srv==null||(e.max&&(this.srv.max=this.max),e.excludes&&(this.srv.excludes=this.excludes),e.mode&&(this.srv.mode=this.mode),e.routeParamMatchMode&&(this.srv.routeParamMatchMode=this.routeParamMatchMode),e.keepingScroll&&(this.srv.keepingScroll=this.keepingScroll,this.srv.keepingScrollContainer=this._keepingScrollContainer),e.storageState&&(this.srv.storageState=this.storageState),this.srv.debug=this.debug,this.cdr.detectChanges())}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=A({type:o,selectors:[["reuse-tab"],["","reuse-tab",""]],viewQuery:function(t,i){if(t&1&&Re(et,5),t&2){let n;ve(n=xe())&&(i.tabset=n.first)}},hostVars:10,hostBindings:function(t,i){t&2&&te("reuse-tab",!0)("reuse-tab__line",i.tabType==="line")("reuse-tab__card",i.tabType==="card")("reuse-tab__disabled",i.disabled)("reuse-tab-rtl",i.dir==="rtl")},inputs:{mode:"mode",i18n:"i18n",debug:[2,"debug","debug",k],max:[2,"max","max",ie],tabMaxWidth:[2,"tabMaxWidth","tabMaxWidth",ie],excludes:"excludes",allowClose:[2,"allowClose","allowClose",k],keepingScroll:[2,"keepingScroll","keepingScroll",k],storageState:[2,"storageState","storageState",k],keepingScrollContainer:"keepingScrollContainer",customContextMenu:"customContextMenu",tabBarExtraContent:"tabBarExtraContent",tabBarGutter:"tabBarGutter",tabBarStyle:"tabBarStyle",tabType:"tabType",routeParamMatchMode:"routeParamMatchMode",disabled:[2,"disabled","disabled",k],titleRender:"titleRender",canClose:"canClose"},outputs:{change:"change",close:"close"},exportAs:["reuseTab"],features:[ye([b]),pe],decls:5,vars:7,consts:[["tabset",""],["titleTemplate",""],[3,"nzSelectedIndex","nzAnimated","nzType","nzTabBarExtraContent","nzTabBarGutter","nzTabBarStyle"],[3,"nzTitle"],[3,"change","i18n"],[3,"nzClick","nzTitle"],[1,"reuse-tab__name",3,"reuse-tab-context-menu","customContextMenu"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nzType","close",1,"reuse-tab__op"],["nzType","close",1,"reuse-tab__op",3,"click"]],template:function(t,i){if(t&1){let n=_();c(0,"nz-tabset",2,0),$(2,at,3,1,"nz-tab",3,L),m(),c(4,"reuse-tab-context",4),h("change",function(a){return v(n),x(i.contextMenuChange(a))}),m()}t&2&&(p("nzSelectedIndex",i.pos)("nzAnimated",!1)("nzType",i.tabType)("nzTabBarExtraContent",i.tabBarExtraContent)("nzTabBarGutter",i.tabBarGutter)("nzTabBarStyle",i.tabBarStyle),u(2),Y(i.list),u(2),p("i18n",i.i18n))},dependencies:[ke,$e,Le,B,O,He],encapsulation:2,changeDetection:0})};var K=class{srv=r(f);shouldDetach(e){return this.srv.shouldDetach(e)}store(e,t){this.srv.store(e,t)}shouldAttach(e){return this.srv.shouldAttach(e)}retrieve(e){return this.srv.retrieve(e)}shouldReuseRoute(e,t){return this.srv.shouldReuseRoute(e,t)}};function We(o,e){return{\u0275kind:o,\u0275providers:e}}function En(o){return me([f,{provide:y,useValue:o?.storeKey??"_reuse-tab-state"},(o?.cacheManager??lt()).\u0275providers,(o?.store??ut()).\u0275providers,{provide:Be,useClass:K,deps:[f]},he(()=>{let e=r(f);o?.debug&&(e.debug=o.debug),o?.mode&&(e.mode=o.mode),o?.routeParamMatchMode&&(e.routeParamMatchMode=o.routeParamMatchMode),o?.max&&(e.max=o.max),o?.excludes&&(e.excludes=o.excludes)})])}function lt(){return We(0,[{provide:z,useFactory:()=>new H}])}function ut(){return We(1,[{provide:M,useFactory:()=>new F}])}export{f as a,X as b,En as c};
