import{d as at,f as lt,h as ct,i as me}from"./chunk-PNR7Z2VE.js";import{a as st,b as rt}from"./chunk-XC3VZOJM.js";import{a as tt,g as nt,m as it,v as ot}from"./chunk-TA7EFEO7.js";import{$b as xe,Ba as Me,Bb as Ae,Bc as W,Cb as Fe,Cc as j,Db as Te,Dc as de,Eb as Oe,Ee as Ye,Fb as Pe,Gb as le,Gd as y,Ge as Ke,Hb as ce,Ia as E,Id as je,J as ie,Jb as U,Jc as $e,L as Ce,Mb as M,Nb as $,Ob as Be,P as we,Pg as Qe,Qa as I,Ra as se,Rc as We,Sd as He,Ua as Re,Wa as O,X as Ee,Xa as J,Z as Se,ca as Ne,cg as Q,da as ve,dg as H,ea as oe,eb as D,eg as Ge,fg as Xe,gb as A,h as ee,ha as S,jb as _e,kb as ye,kc as ke,kg as qe,la as k,lb as b,m as te,ma as L,mb as C,mh as et,nb as w,o as G,ob as P,pb as Ie,pc as Le,qb as De,ra as X,s as ge,sb as V,sg as Ze,t as ne,tg as Je,vb as _,vc as Ve,wa as q,xa as be,xb as v,xc as Ue,ya as Z,yb as re,z as ze,zb as ae}from"./chunk-R4G4X3NR.js";var pt=["nz-segmented-item",""],mt=["*"];function gt(i,d){}function zt(i,d){if(i&1&&(C(0,"span",4),P(1,"nz-icon",5),w(),C(2,"span"),O(3,gt,0,0,"ng-template",3),w()),i&2){let a=v(),r=ce(5);E(),b("nzType",a.nzIcon),E(2),b("ngTemplateOutlet",r)}}function Ct(i,d){}function wt(i,d){if(i&1&&O(0,Ct,0,0,"ng-template",3),i&2){v();let a=ce(5);b("ngTemplateOutlet",a)}}function Et(i,d){i&1&&ae(0)}var St=(i,d)=>d.value;function Nt(i,d){if(i&1){let a=V();C(0,"div",1),_("@thumbMotion.done",function(u){k(a);let c=v();return L(c.handleThumbAnimationDone(u))}),w()}if(i&2){let a=v();b("@thumbMotion",a.animationState)}}function vt(i,d){if(i&1&&(C(0,"label",2),M(1),w()),i&2){let a=d.$implicit;b("nzIcon",a.icon)("nzValue",a.value)("nzDisabled",a.disabled),E(),Be(" ",a.label," ")}}function bt(i,d){if(i&1&&_e(0,vt,2,4,"label",2,St),i&2){let a=v();ye(a.normalizedOptions)}}var he=(()=>{class i{selected$=new G(1);activated$=new G(1);change$=new te;disabled$=new G(1);animationDone$=new te;ngOnDestroy(){this.selected$.complete(),this.activated$.complete(),this.change$.complete(),this.disabled$.complete(),this.animationDone$.complete()}static \u0275fac=function(r){return new(r||i)};static \u0275prov=ve({token:i,factory:i.\u0275fac})}return i})(),Y=(()=>{class i{service=S(he);cdr=S(W);elementRef=S(Z);destroyRef=S(X);nzIcon;nzValue;nzDisabled;isChecked=!1;parentDisabled=je(this.service.disabled$,{initialValue:!1});ngOnInit(){this.service.selected$.pipe(Se(a=>{this.isChecked=!1,this.cdr.markForCheck(),a===this.nzValue&&this.service.activated$.next(this.elementRef.nativeElement)}),Ee(a=>this.service.animationDone$.pipe(ie(r=>r.toState==="to"),we(1),ze(()=>a))),ie(a=>a===this.nzValue),y(this.destroyRef)).subscribe(()=>{this.isChecked=!0,this.cdr.markForCheck()})}handleClick(){!this.nzDisabled&&!this.parentDisabled()&&(this.service.selected$.next(this.nzValue),this.service.change$.next(this.nzValue))}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=I({type:i,selectors:[["label","nz-segmented-item",""],["label","nzSegmentedItem",""]],hostAttrs:[1,"ant-segmented-item"],hostVars:4,hostBindings:function(r,u){r&1&&_("click",function(){return u.handleClick()}),r&2&&U("ant-segmented-item-selected",u.isChecked)("ant-segmented-item-disabled",u.nzDisabled||u.parentDisabled())},inputs:{nzIcon:"nzIcon",nzValue:"nzValue",nzDisabled:"nzDisabled"},exportAs:["nzSegmentedItem"],attrs:pt,ngContentSelectors:mt,decls:6,vars:2,consts:[["content",""],["type","radio",1,"ant-segmented-item-input",3,"click","checked"],[1,"ant-segmented-item-label"],[3,"ngTemplateOutlet"],[1,"ant-segmented-item-icon"],[3,"nzType"]],template:function(r,u){if(r&1){let c=V();re(),C(0,"input",1),_("click",function(f){return k(c),L(f.stopPropagation())}),w(),C(1,"div",2),D(2,zt,4,2)(3,wt,1,1,null,3),w(),O(4,Et,1,0,"ng-template",null,0,ke)}r&2&&(b("checked",u.isChecked),E(2),A(u.nzIcon?2:3))},dependencies:[H,Q,$e],encapsulation:2,changeDetection:0})}return i})();function Mt(i){return i.map(d=>typeof d=="string"||typeof d=="number"?{label:`${d}`,value:d}:d)}var Rt="segmented",ut=(()=>{var r;let i,d=[],a=[];return r=class{_nzModuleName=Rt;nzConfigService=S(Ye);cdr=S(W);directionality=S(He);service=S(he);nzBlock=!1;nzDisabled=!1;nzOptions=[];nzSize=ne(this,d,"default");nzValueChange=(ne(this,a),new J);viewItemCmps=Ve(Y);contentItemCmps=Ue(Y);isDisabledFirstChange=!0;dir="ltr";value;animationState={value:"to",params:ue()};normalizedOptions=[];onChange=()=>{};onTouched=()=>{};constructor(){this.directionality.change.pipe(y()).subscribe(c=>{this.dir=c,this.cdr.markForCheck()}),this.service.selected$.pipe(y()).subscribe(c=>{this.value=c}),this.service.change$.pipe(y()).subscribe(c=>{this.nzValueChange.emit(c),this.onChange(c)}),this.service.activated$.pipe(Ce(2,1),y()).subscribe(c=>{this.animationState={value:"from",params:ue(c[0])},this.cdr.detectChanges(),this.animationState={value:"to",params:ue(c[1])},this.cdr.detectChanges()}),Le(()=>{let c=this.viewItemCmps().concat(this.contentItemCmps());c.length&&(this.value===void 0||!c.some(o=>o.nzValue===this.value))&&this.service.selected$.next(c[0].nzValue)})}ngOnChanges(c){let{nzOptions:o,nzDisabled:f}=c;o&&(this.normalizedOptions=Mt(o.currentValue)),f&&this.service.disabled$.next(f.currentValue)}handleThumbAnimationDone(c){c.toState==="to"&&(this.animationState=null),this.service.animationDone$.next(c)}writeValue(c){this.service.selected$.next(c)}registerOnChange(c){this.onChange=c}registerOnTouched(c){this.onTouched=c}setDisabledState(c){this.nzDisabled=this.isDisabledFirstChange&&this.nzDisabled||c,this.isDisabledFirstChange=!1}},(()=>{let c=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[Ke()],ge(null,null,i,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:o=>"nzSize"in o,get:o=>o.nzSize,set:(o,f)=>{o.nzSize=f}},metadata:c},d,a),c&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c})})(),ee(r,"\u0275fac",function(o){return new(o||r)}),ee(r,"\u0275cmp",I({type:r,selectors:[["nz-segmented"]],contentQueries:function(o,f,e){o&1&&Oe(e,f.contentItemCmps,Y,4),o&2&&le()},viewQuery:function(o,f){o&1&&Pe(f.viewItemCmps,Y,5),o&2&&le()},hostAttrs:[1,"ant-segmented"],hostVars:10,hostBindings:function(o,f){o&2&&U("ant-segmented-disabled",f.nzDisabled)("ant-segmented-rtl",f.dir==="rtl")("ant-segmented-lg",f.nzSize==="large")("ant-segmented-sm",f.nzSize==="small")("ant-segmented-block",f.nzBlock)},inputs:{nzBlock:[2,"nzBlock","nzBlock",j],nzDisabled:[2,"nzDisabled","nzDisabled",j],nzOptions:"nzOptions",nzSize:"nzSize"},outputs:{nzValueChange:"nzValueChange"},exportAs:["nzSegmented"],features:[xe([he,{provide:tt,useExisting:Ne(()=>r),multi:!0}]),q],ngContentSelectors:mt,decls:4,vars:1,consts:[[1,"ant-segmented-group"],[1,"ant-segmented-thumb","ant-segmented-thumb-motion"],["nz-segmented-item","",3,"nzIcon","nzValue","nzDisabled"]],template:function(o,f){o&1&&(re(),C(0,"div",0),D(1,Nt,1,1,"div",1),ae(2,0,null,bt,2,0),w()),o&2&&(E(),A(f.animationState?1:-1))},dependencies:[H,Xe,Y],encapsulation:2,data:{animation:[et]},changeDetection:0})),r})();function ue(i){return{transform:i?.offsetLeft??0,width:i?.clientWidth??0}}var B=class i extends ct{static KEY="segmented";_list;get list(){return this._list??[]}reset(d){at(this.schema,this.ui,d).subscribe(a=>{this._list=a,this.detectChanges()})}valueChange(d){this.ui.valueChange&&this.ui.valueChange({index:d,item:typeof d=="number"?this.list[d]:null})}static \u0275fac=(()=>{let d;return function(r){return(d||(d=be(i)))(r||i)}})();static \u0275cmp=I({type:i,selectors:[["sf-segmented"]],features:[Re],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzValueChange","ngModel","nzDisabled","nzSize","nzBlock","nzOptions"]],template:function(a,r){a&1&&(C(0,"sf-item-wrap",0),M(1,`
    `),C(2,"nz-segmented",1),_("ngModelChange",function(c){return r.setValue(c)})("nzValueChange",function(c){return r.valueChange(c)}),w(),M(3,`
  `),w()),a&2&&(b("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),E(2),b("ngModel",r.value)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzBlock",r.ui.block??!1)("nzOptions",r.list))},dependencies:[ot,nt,it,me,lt,ut],encapsulation:2})};function An(){return{KEY:B.KEY,type:B}}var _t=["canvas"];function yt(i,d){if(i&1&&(Ie(0),M(1),De()),i&2){let a=v(2);E(),$(a.nzStatusRender)}}function It(i,d){if(i&1&&(C(0,"div",1),O(1,yt,2,1,"ng-container",2),w()),i&2){let a=v();E(),b("nzStringTemplateOutlet",a.nzStatusRender)}}function Dt(i,d){i&1&&P(0,"nz-spin")}function At(i,d){if(i&1){let a=V();C(0,"div")(1,"p",3),M(2),w(),C(3,"button",4),_("click",function(){k(a);let u=v(2);return L(u.reloadQRCode())}),P(4,"nz-icon",5),C(5,"span"),M(6),w()()()}if(i&2){let a=v(2);E(2),$(a.locale.expired),E(4),$(a.locale.refresh)}}function Ft(i,d){if(i&1&&(C(0,"div")(1,"p",3),M(2),w()()),i&2){let a=v(2);E(2),$(a.locale.scanned)}}function Tt(i,d){if(i&1&&(C(0,"div",1),D(1,Dt,1,0,"nz-spin")(2,At,7,2,"div")(3,Ft,3,1,"div"),w()),i&2){let a,r=v();E(),A((a=r.nzStatus)==="loading"?1:a==="expired"?2:a==="scanned"?3:-1)}}function Ot(i,d){i&1&&P(0,"canvas",null,0)}var F;(function(i){let d=(()=>{class o{version;errorCorrectionLevel;static encodeText(e,t){let n=i.QrSegment.makeSegments(e);return o.encodeSegments(n,t)}static encodeBinary(e,t){let n=i.QrSegment.makeBytes(e);return o.encodeSegments([n],t)}static encodeSegments(e,t,n=1,s=40,l=-1,h=!0){if(!(o.MIN_VERSION<=n&&n<=s&&s<=o.MAX_VERSION)||l<-1||l>7)throw new RangeError("Invalid value");let m,g;for(m=n;;m++){let z=o.getNumDataCodewords(m,t)*8,N=c.getTotalBits(e,m);if(N<=z){g=N;break}if(m>=s)throw new RangeError("Data too long")}for(let z of[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH])h&&g<=o.getNumDataCodewords(m,z)*8&&(t=z);let p=[];for(let z of e){a(z.mode.modeBits,4,p),a(z.numChars,z.mode.numCharCountBits(m),p);for(let N of z.getData())p.push(N)}u(p.length==g);let x=o.getNumDataCodewords(m,t)*8;u(p.length<=x),a(0,Math.min(4,x-p.length),p),a(0,(8-p.length%8)%8,p),u(p.length%8==0);for(let z=236;p.length<x;z^=253)a(z,8,p);let R=[];for(;R.length*8<p.length;)R.push(0);return p.forEach((z,N)=>R[N>>>3]|=z<<7-(N&7)),new o(m,t,R,l)}size;mask;modules=[];isFunction=[];constructor(e,t,n,s){if(this.version=e,this.errorCorrectionLevel=t,e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version value out of range");if(s<-1||s>7)throw new RangeError("Mask value out of range");this.size=e*4+17;let l=[];for(let m=0;m<this.size;m++)l.push(!1);for(let m=0;m<this.size;m++)this.modules.push(l.slice()),this.isFunction.push(l.slice());this.drawFunctionPatterns();let h=this.addEccAndInterleave(n);if(this.drawCodewords(h),s==-1){let m=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);let p=this.getPenaltyScore();p<m&&(s=g,m=p),this.applyMask(g)}}u(s>=0&&s<=7),this.mask=s,this.applyMask(s),this.drawFormatBits(s),this.isFunction=[]}getModule(e,t){return e>=0&&e<this.size&&t>=0&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let s=0;s<t;s++)n==0&&s==0||n==0&&s==t-1||n==t-1&&s==0||this.drawAlignmentPattern(e[n],e[s]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let t=this.errorCorrectionLevel.formatBits<<3|e,n=t;for(let l=0;l<10;l++)n=n<<1^(n>>>9)*1335;let s=(t<<10|n)^21522;u(s>>>15==0);for(let l=0;l<=5;l++)this.setFunctionModule(8,l,r(s,l));this.setFunctionModule(8,7,r(s,6)),this.setFunctionModule(8,8,r(s,7)),this.setFunctionModule(7,8,r(s,8));for(let l=9;l<15;l++)this.setFunctionModule(14-l,8,r(s,l));for(let l=0;l<8;l++)this.setFunctionModule(this.size-1-l,8,r(s,l));for(let l=8;l<15;l++)this.setFunctionModule(8,this.size-15+l,r(s,l));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^(e>>>11)*7973;let t=this.version<<12|e;u(t>>>18==0);for(let n=0;n<18;n++){let s=r(t,n),l=this.size-11+n%3,h=Math.floor(n/3);this.setFunctionModule(l,h,s),this.setFunctionModule(h,l,s)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let s=-4;s<=4;s++){let l=Math.max(Math.abs(s),Math.abs(n)),h=e+s,m=t+n;h>=0&&h<this.size&&m>=0&&m<this.size&&this.setFunctionModule(h,m,l!=2&&l!=4)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let s=-2;s<=2;s++)this.setFunctionModule(e+s,t+n,Math.max(Math.abs(s),Math.abs(n))!=1)}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){let t=this.version,n=this.errorCorrectionLevel;if(e.length!=o.getNumDataCodewords(t,n))throw new RangeError("Invalid argument");let s=o.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][t],l=o.ECC_CODEWORDS_PER_BLOCK[n.ordinal][t],h=Math.floor(o.getNumRawDataModules(t)/8),m=s-h%s,g=Math.floor(h/s),p=[],x=o.reedSolomonComputeDivisor(l);for(let z=0,N=0;z<s;z++){let T=e.slice(N,N+g-l+(z<m?0:1));N+=T.length;let ht=o.reedSolomonComputeRemainder(T,x);z<m&&T.push(0),p.push(T.concat(ht))}let R=[];for(let z=0;z<p[0].length;z++)p.forEach((N,T)=>{(z!=g-l||T>=m)&&R.push(N[z])});return u(R.length==h),R}drawCodewords(e){if(e.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let t=0;for(let n=this.size-1;n>=1;n-=2){n==6&&(n=5);for(let s=0;s<this.size;s++)for(let l=0;l<2;l++){let h=n-l,g=(n+1&2)==0?this.size-1-s:s;!this.isFunction[g][h]&&t<e.length*8&&(this.modules[g][h]=r(e[t>>>3],7-(t&7)),t++)}}u(t==e.length*8)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let s;switch(e){case 0:s=(n+t)%2==0;break;case 1:s=t%2==0;break;case 2:s=n%3==0;break;case 3:s=(n+t)%3==0;break;case 4:s=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:s=n*t%2+n*t%3==0;break;case 6:s=(n*t%2+n*t%3)%2==0;break;case 7:s=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&s&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let l=0;l<this.size;l++){let h=!1,m=0,g=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[l][p]==h?(m++,m==5?e+=o.PENALTY_N1:m>5&&e++):(this.finderPenaltyAddHistory(m,g),h||(e+=this.finderPenaltyCountPatterns(g)*o.PENALTY_N3),h=this.modules[l][p],m=1);e+=this.finderPenaltyTerminateAndCount(h,m,g)*o.PENALTY_N3}for(let l=0;l<this.size;l++){let h=!1,m=0,g=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[p][l]==h?(m++,m==5?e+=o.PENALTY_N1:m>5&&e++):(this.finderPenaltyAddHistory(m,g),h||(e+=this.finderPenaltyCountPatterns(g)*o.PENALTY_N3),h=this.modules[p][l],m=1);e+=this.finderPenaltyTerminateAndCount(h,m,g)*o.PENALTY_N3}for(let l=0;l<this.size-1;l++)for(let h=0;h<this.size-1;h++){let m=this.modules[l][h];m==this.modules[l][h+1]&&m==this.modules[l+1][h]&&m==this.modules[l+1][h+1]&&(e+=o.PENALTY_N2)}let t=0;for(let l of this.modules)t=l.reduce((h,m)=>h+(m?1:0),t);let n=this.size*this.size,s=Math.ceil(Math.abs(t*20-n*10)/n)-1;return u(s>=0&&s<=9),e+=s*o.PENALTY_N4,u(e>=0&&e<=2568888),e}getAlignmentPatternPositions(){if(this.version==1)return[];{let e=Math.floor(this.version/7)+2,t=Math.floor((this.version*8+e*3+5)/(e*4-4))*2,n=[6];for(let s=this.size-7;n.length<e;s-=t)n.splice(1,0,s);return n}}static getNumRawDataModules(e){if(e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version number out of range");let t=(16*e+128)*e+64;if(e>=2){let n=Math.floor(e/7)+2;t-=(25*n-10)*n-55,e>=7&&(t-=36)}return u(t>=208&&t<=29648),t}static getNumDataCodewords(e,t){return Math.floor(o.getNumRawDataModules(e)/8)-o.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*o.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let t=[];for(let s=0;s<e-1;s++)t.push(0);t.push(1);let n=1;for(let s=0;s<e;s++){for(let l=0;l<t.length;l++)t[l]=o.reedSolomonMultiply(t[l],n),l+1<t.length&&(t[l]^=t[l+1]);n=o.reedSolomonMultiply(n,2)}return t}static reedSolomonComputeRemainder(e,t){let n=t.map(s=>0);for(let s of e){let l=s^n.shift();n.push(0),t.forEach((h,m)=>n[m]^=o.reedSolomonMultiply(h,l))}return n}static reedSolomonMultiply(e,t){if(e>>>8||t>>>8)throw new RangeError("Byte out of range");let n=0;for(let s=7;s>=0;s--)n=n<<1^(n>>>7)*285,n^=(t>>>s&1)*e;return u(n>>>8==0),n}finderPenaltyCountPatterns(e){let t=e[1];u(t<=this.size*3);let n=t>0&&e[2]==t&&e[3]==t*3&&e[4]==t&&e[5]==t;return(n&&e[0]>=t*4&&e[6]>=t?1:0)+(n&&e[6]>=t*4&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){t[0]==0&&(e+=this.size),t.pop(),t.unshift(e)}static MIN_VERSION=1;static MAX_VERSION=40;static PENALTY_N1=3;static PENALTY_N2=3;static PENALTY_N3=40;static PENALTY_N4=10;static ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]];static NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]}return o})();i.QrCode=d;function a(o,f,e){if(f<0||f>31||o>>>f)throw new RangeError("Value out of range");for(let t=f-1;t>=0;t--)e.push(o>>>t&1)}function r(o,f){return(o>>>f&1)!=0}function u(o){if(!o)throw new Error("Assertion error")}let c=(()=>{class o{mode;numChars;bitData;static makeBytes(e){let t=[];for(let n of e)a(n,8,t);return new o(o.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!o.isNumeric(e))throw new RangeError("String contains non-numeric characters");let t=[];for(let n=0;n<e.length;){let s=Math.min(e.length-n,3);a(parseInt(e.substring(n,n+s),10),s*3+1,t),n+=s}return new o(o.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!o.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let t=[],n;for(n=0;n+2<=e.length;n+=2){let s=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n))*45;s+=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n+1)),a(s,11,t)}return n<e.length&&a(o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n)),6,t),new o(o.Mode.ALPHANUMERIC,e.length,t)}static makeSegments(e){return e==""?[]:o.isNumeric(e)?[o.makeNumeric(e)]:o.isAlphanumeric(e)?[o.makeAlphanumeric(e)]:[o.makeBytes(o.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)a(e,8,t);else if(e<16384)a(2,2,t),a(e,14,t);else if(e<1e6)a(6,3,t),a(e,21,t);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,t)}static isNumeric(e){return o.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return o.ALPHANUMERIC_REGEX.test(e)}constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(let s of e){let l=s.mode.numCharCountBits(t);if(s.numChars>=1<<l)return 1/0;n+=4+l+s.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)e.charAt(n)!="%"?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2);return t}static NUMERIC_REGEX=/^[0-9]*$/;static ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+./:-]*$/;static ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:"}return o})();i.QrSegment=c})(F||(F={}));(function(i){let d;(function(a){class r{ordinal;formatBits;static LOW=new r(0,1);static MEDIUM=new r(1,0);static QUARTILE=new r(2,3);static HIGH=new r(3,2);constructor(c,o){this.ordinal=c,this.formatBits=o}}a.Ecc=r})(d=i.QrCode||(i.QrCode={}))})(F||(F={}));(function(i){let d;(function(a){class r{modeBits;numBitsCharCount;static NUMERIC=new r(1,[10,12,14]);static ALPHANUMERIC=new r(2,[9,11,13]);static BYTE=new r(4,[8,16,16]);static KANJI=new r(8,[8,10,12]);static ECI=new r(7,[0,0,0]);constructor(c,o){this.modeBits=c,this.numBitsCharCount=o}numCharCountBits(c){return this.numBitsCharCount[Math.floor((c+7)/17)]}}a.Mode=r})(d=i.QrSegment||(i.QrSegment={}))})(F||(F={}));var K=F,Pt={L:K.QrCode.Ecc.LOW,M:K.QrCode.Ecc.MEDIUM,Q:K.QrCode.Ecc.QUARTILE,H:K.QrCode.Ecc.HIGH},Bt=160,xt=10,kt=10,Lt="#000000",Vt="#FFFFFF",Ut=40,$t="M",Wt=(i,d=$t)=>i?K.QrCode.encodeText(i,Pt[d]):null;function jt(i,d,a=Bt,r=xt,u=kt,c=Lt,o=Vt,f=Ut,e){let t=i.getContext("2d"),n=Ht(u);if(i.style.width=`${a}px`,i.style.height=`${a}px`,!d){t.fillStyle="rgba(0, 0, 0, 0)",t.fillRect(0,0,i.width,i.height);return}if(i.width=d.size*r+n[1]+n[3],i.height=d.size*r+n[0]+n[2],!e)pe(t,i.width,i.height,r,o),fe(t,d,r,n,o,c);else{let s=new Image;s.src=e,s.crossOrigin="anonymous",s.width=f*(i.width/a),s.height=f*(i.width/a);let l=()=>{m(),pe(t,i.width,i.height,r,o),fe(t,d,r,n,o,c);let g=i.width/2-f*(i.width/a)/2;t.fillRect(g,g,f*(i.width/a),f*(i.width/a)),t.drawImage(s,g,g,f*(i.width/a),f*(i.width/a))},h=()=>{m(),pe(t,i.width,i.height,r,o),fe(t,d,r,n,o,c)},m=()=>{s.removeEventListener("load",l),s.removeEventListener("error",h)};s.addEventListener("load",l),s.addEventListener("error",h)}}function fe(i,d,a,r,u,c){for(let o=0;o<d.size;o++)for(let f=0;f<d.size;f++)i.fillStyle=d.getModule(f,o)?c:u,i.fillRect(r[3]+f*a,r[0]+o*a,a,a)}function pe(i,d,a,r,u){i.fillStyle=u,i.fillRect(0,0,d*r,a*r)}function Ht(i){return Array.isArray(i)?Array(4).fill(0).map((d,a)=>i[a%i.length]):[i,i,i,i]}var Yt=(()=>{class i{i18n=S(Qe);el=S(Z);cdr=S(W);destroyRef=S(X);isBrowser=We(S(Me));canvas;nzValue="";nzPadding=0;nzColor="#000000";nzBgColor="#FFFFFF";nzSize=160;nzIcon="";nzIconSize=40;nzBordered=!0;nzStatus="active";nzLevel="M";nzStatusRender=null;nzRefresh=new J;locale;ngOnInit(){this.el.nativeElement.style.backgroundColor=this.nzBgColor,this.i18n.localeChange.pipe(y(this.destroyRef)).subscribe(()=>{this.locale=this.i18n.getLocaleData("QRCode"),this.cdr.markForCheck()})}ngOnChanges(a){let{nzValue:r,nzIcon:u,nzLevel:c,nzSize:o,nzIconSize:f,nzColor:e,nzPadding:t,nzBgColor:n}=a;(r||u||c||o||f||e||t||n)&&this.canvas&&this.drawCanvasQRCode(),n&&(this.el.nativeElement.style.backgroundColor=this.nzBgColor)}ngAfterViewInit(){this.drawCanvasQRCode()}reloadQRCode(){this.drawCanvasQRCode(),this.nzRefresh.emit("refresh")}drawCanvasQRCode(){this.canvas&&jt(this.canvas.nativeElement,Wt(this.nzValue,this.nzLevel),this.nzSize,10,this.nzPadding,this.nzColor,this.nzBgColor,this.nzIconSize,this.nzIcon)}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=I({type:i,selectors:[["nz-qrcode"]],viewQuery:function(r,u){if(r&1&&Ae(_t,5),r&2){let c;Fe(c=Te())&&(u.canvas=c.first)}},hostAttrs:[1,"ant-qrcode"],hostVars:2,hostBindings:function(r,u){r&2&&U("ant-qrcode-border",u.nzBordered)},inputs:{nzValue:"nzValue",nzPadding:"nzPadding",nzColor:"nzColor",nzBgColor:"nzBgColor",nzSize:[2,"nzSize","nzSize",de],nzIcon:"nzIcon",nzIconSize:[2,"nzIconSize","nzIconSize",de],nzBordered:[2,"nzBordered","nzBordered",j],nzStatus:"nzStatus",nzLevel:"nzLevel",nzStatusRender:"nzStatusRender"},outputs:{nzRefresh:"nzRefresh"},exportAs:["nzQRCode"],features:[q],decls:3,vars:2,consts:[["canvas",""],[1,"ant-qrcode-mask"],[4,"nzStringTemplateOutlet"],[1,"ant-qrcode-expired"],["nz-button","","nzType","link",3,"click"],["nzType","reload","nzTheme","outline"]],template:function(r,u){r&1&&(D(0,It,2,1,"div",1)(1,Tt,4,1,"div",1),D(2,Ot,2,0,"canvas")),r&2&&(A(u.nzStatusRender?0:u.nzStatus!=="active"?1:-1),E(2),A(u.isBrowser?2:-1))},dependencies:[rt,st,Je,Ze,qe,H,Q,Ge],encapsulation:2,changeDetection:0})}return i})(),Qn=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=se({type:i});static \u0275inj=oe({imports:[Yt]})}return i})();export{Yt as a,Qn as b,B as c,An as d};
