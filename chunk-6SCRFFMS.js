import{A as ee,Cb as h,Cf as je,Db as we,E as w,Eb as Me,Fe as B,Fh as X,Gb as be,Gc as Oe,H as d,Hb as Ce,Hc as u,Ia as ae,Ib as De,J as c,K as te,Ke as Ve,La as le,Ld as m,Me as Ee,Na as $,Ob as Re,Pa as x,Pb as Se,Qa as ce,Qb as _e,R as ne,Ra as I,Rd as ke,Sa as C,T as ie,Wa as de,X as oe,Xd as Ae,Ya as j,Za as pe,cf as F,da as re,ea as V,ec as Ne,fb as ue,ff as Pe,h as O,ha as r,hb as me,hf as Te,j as k,jf as $e,kf as v,la as M,li as H,m as G,ma as b,mb as fe,mf as L,mi as Fe,n as g,nb as he,ob as ve,of as Y,pa as E,pb as ze,r as K,ra as P,s as J,si as Le,t as A,tf as W,uf as xe,wa as se,wb as ye,ya as T,z as p,zb as ge,zf as Ie,zh as Be}from"./chunk-OBAYPXHQ.js";var He=["*"];function Qe(t,z){t&1&&ze(0,"div",1)}function Ze(t,z){if(t&1){let e=ye();he(0,"div",0),ge("@slideMotion.done",function(l){M(e);let i=h();return b(i.onAnimationEvent(l))})("mouseenter",function(){M(e);let l=h();return b(l.setMouseState(!0))})("mouseleave",function(){M(e);let l=h();return b(l.setMouseState(!1))}),ue(1,Qe,1,0,"div",1),Me(2),ve()}if(t&2){let e=h();Se(e.nzOverlayStyle),_e(e.nzOverlayClassName),Re("ant-dropdown-rtl",e.dir==="rtl")("ant-dropdown-show-arrow",e.nzArrow)("ant-dropdown-placement-bottomLeft",e.placement==="bottomLeft")("ant-dropdown-placement-bottomRight",e.placement==="bottomRight")("ant-dropdown-placement-bottom",e.placement==="bottom")("ant-dropdown-placement-topLeft",e.placement==="topLeft")("ant-dropdown-placement-topRight",e.placement==="topRight")("ant-dropdown-placement-top",e.placement==="top"),fe("@slideMotion",void 0)("@.disabled",!!(e.noAnimation!=null&&e.noAnimation.nzNoAnimation))("nzNoAnimation",e.noAnimation==null?null:e.noAnimation.nzNoAnimation),ae(),me(e.nzArrow?1:-1)}}var Ue="dropDown",qe=["bottomLeft","bottomRight","topRight","topLeft"],Q=t=>t==="topCenter"?"top":t==="bottomCenter"?"bottom":t,Dt=(()=>{var n;let t,z=[],e=[];return n=class{nzConfigService=r(Ve);renderer=r($);viewContainerRef=r(x);platform=r(ke);destroyRef=r(P);_nzModuleName=Ue;elementRef=r(T);injector=r(E);portal;overlayRef=null;positionStrategy=L(this.injector,this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown");inputVisible$=new g(!1);nzTrigger$=new g("hover");overlayClose$=new G;nzDropdownMenu=null;nzTrigger="hover";nzMatchWidthElement=null;nzBackdrop=A(this,z,!1);nzClickHide=(A(this,e),!0);nzDisabled=!1;nzVisible=!1;nzArrow=!1;nzOverlayClassName="";nzOverlayStyle={};nzPlacement="bottomLeft";nzVisibleChange=new j;constructor(){this.destroyRef.onDestroy(()=>{this.overlayRef?.dispose(),this.overlayRef=null})}setDropdownMenuValue(i,o){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(i,o)}ngAfterViewInit(){if(this.nzDropdownMenu){let i=this.elementRef.nativeElement,o=d(w(i,"mouseenter").pipe(p(()=>!0)),w(i,"mouseleave").pipe(p(()=>!1))),f=this.nzDropdownMenu.mouseState$,D=d(f,o),R=w(i,"click").pipe(p(()=>!this.nzVisible)),S=this.nzTrigger$.pipe(oe(a=>a==="hover"?D:a==="click"?R:K)),_=this.nzDropdownMenu.descendantMenuItemClick$.pipe(c(()=>this.nzClickHide),p(()=>!1)),N=d(S,_,this.overlayClose$).pipe(c(()=>!this.nzDisabled)),y=d(this.inputVisible$,N);ee([y,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(p(([a,Z])=>a||Z),te(150),ne(),c(()=>this.platform.isBrowser),m(this.destroyRef)).subscribe(a=>{let U=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:i).getBoundingClientRect().width;if(this.nzVisible!==a&&this.nzVisibleChange.emit(a),this.nzVisible=a,a){if(!this.overlayRef)this.overlayRef=Y(this.injector,{positionStrategy:this.positionStrategy,minWidth:U,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&this.nzTrigger==="click",scrollStrategy:$e(this.injector)}),this.positionStrategy.positionChanges.pipe(m(this.destroyRef)).subscribe(s=>{let q=Ie(s);q&&this.setDropdownMenuValue("placement",Q(q))}),d(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(c(s=>!this.elementRef.nativeElement.contains(s.target))),this.overlayRef.keydownEvents().pipe(c(s=>s.keyCode===27&&!Pe(s)))).pipe(m(this.destroyRef)).subscribe(()=>{this.overlayClose$.next(!1)});else{let s=this.overlayRef.getConfig();s.minWidth=U}let We=[this.nzPlacement,...qe].map(s=>this.nzArrow?je(W[s],xe[s]):W[s]);this.positionStrategy.withPositions(We),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new F(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.setDropdownMenuValue("nzArrow",this.nzArrow),this.setDropdownMenuValue("placement",Q(this.nzPlacement)),this.overlayRef.attach(this.portal)}else this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe(m(this.destroyRef)).subscribe(a=>{a.toState==="void"&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnChanges(i){let{nzVisible:o,nzDisabled:f,nzOverlayClassName:D,nzOverlayStyle:R,nzTrigger:S,nzArrow:_,nzPlacement:N}=i;if(S&&this.nzTrigger$.next(this.nzTrigger),o&&this.inputVisible$.next(this.nzVisible),f){let y=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(y,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(y,"disabled")}D&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),R&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle),_&&this.setDropdownMenuValue("nzArrow",this.nzArrow),N&&this.setDropdownMenuValue("placement",Q(this.nzPlacement))}},(()=>{let i=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[Ee()],J(null,null,t,{kind:"field",name:"nzBackdrop",static:!1,private:!1,access:{has:o=>"nzBackdrop"in o,get:o=>o.nzBackdrop,set:(o,f)=>{o.nzBackdrop=f}},metadata:i},z,e),i&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})})(),O(n,"\u0275fac",function(o){return new(o||n)}),O(n,"\u0275dir",C({type:n,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:[2,"nzBackdrop","nzBackdrop",u],nzClickHide:[2,"nzClickHide","nzClickHide",u],nzDisabled:[2,"nzDisabled","nzDisabled",u],nzVisible:[2,"nzVisible","nzVisible",u],nzArrow:[2,"nzArrow","nzArrow",u],nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[se]})),n})(),Ye=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=I({type:t});static \u0275inj=V({})}return t})(),Rt=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=C({type:t,selectors:[["a","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-link"]})}return t})(),St=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=C({type:t,selectors:[["","nz-button","","nz-dropdown",""]]})}return t})(),_t=(()=>{class t{cdr=r(Oe);elementRef=r(T);renderer=r($);viewContainerRef=r(x);directionality=r(Ae);destroyRef=r(P);mouseState$=new g(!1);nzMenuService=r(H);isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$;descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$;animationStateChange$=new j;nzOverlayClassName="";nzOverlayStyle={};nzArrow=!1;placement="bottomLeft";templateRef;dir="ltr";onAnimationEvent(e){this.animationStateChange$.emit(e)}setMouseState(e){this.mouseState$.next(e)}setValue(e,n){this[e]=n,this.cdr.markForCheck()}noAnimation=r(X,{host:!0,optional:!0});ngOnInit(){this.directionality.change?.pipe(m(this.destroyRef)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ce({type:t,selectors:[["nz-dropdown-menu"]],viewQuery:function(n,l){if(n&1&&be(le,7),n&2){let i;Ce(i=De())&&(l.templateRef=i.first)}},exportAs:["nzDropdownMenu"],features:[Ne([H,{provide:Fe,useValue:!0}])],ngContentSelectors:He,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"mouseenter","mouseleave","nzNoAnimation"],[1,"ant-dropdown-arrow"]],template:function(n,l){n&1&&(we(),de(0,Ze,3,24,"ng-template"))},dependencies:[X],encapsulation:2,data:{animation:[Be]},changeDetection:0})}return t})(),Nt=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=I({type:t});static \u0275inj=V({imports:[Ye,Le]})}return t})(),Ge=[new v({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new v({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new v({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new v({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})],Ot=(()=>{class t{ngZone=r(pe);injector=r(E);overlayRef=null;closeSubscription=k.EMPTY;create(e,n){this.close(!0);let{x:l,y:i}=e;return e instanceof MouseEvent&&e.preventDefault(),this.overlayRef=Y(this.injector,{positionStrategy:L(this.injector,{x:l,y:i}).withPositions(Ge).withTransformOriginOn(".ant-dropdown"),disposeOnNavigation:!0,scrollStrategy:Te(this.injector)}),this.closeSubscription=new k,this.closeSubscription.add(n.descendantMenuItemClick$.subscribe(()=>this.close())),this.closeSubscription.add(d(B(document,"click").pipe(c(o=>!!this.overlayRef&&!this.overlayRef.overlayElement.contains(o.target)),c(o=>o.button!==2)),B(document,"keydown").pipe(c(o=>o.key==="Escape"))).pipe(ie()).subscribe(()=>this.ngZone.run(()=>this.close()))),this.overlayRef.attach(new F(n.templateRef,n.viewContainerRef))}close(e=!1){this.overlayRef&&(this.overlayRef.detach(),e&&this.overlayRef.dispose(),this.overlayRef=null,this.closeSubscription.unsubscribe())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:Ye})}return t})();export{Dt as a,Rt as b,St as c,_t as d,Nt as e,Ot as f};
