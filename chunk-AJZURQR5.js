import{a as Vi,b as As}from"./chunk-JNBWG3V5.js";import{a as Zt,b as Rs,e as js,k as Ls,l as Us}from"./chunk-GLCCKKJA.js";import{b as Pi,f as $s,g as Es,h as Ts,i as Fs,j as Ps,k as Is}from"./chunk-UCVZGBUM.js";import{a as hs,b as gs,c as _s,d as ys,e as vs,f as Ss,g as Ws,h as qs}from"./chunk-E6YOA5N4.js";import{c as Ze,d as Ye,e as Ms}from"./chunk-NMFYKWJI.js";import{$ as Ns,F as bt,H as bs,N as ws,O as Cs,U as xs,V as zs,X as Ii,_ as Vs,aa as Os,ba as ks,c as Fi,ca as Ds,f as fe,g as us,j as fs,l as pe,m as ps,u as ms,y as Qt}from"./chunk-7BM3L5ZS.js";import{$a as ie,$b as Jt,Aa as K,Ab as Xa,Ba as yi,Bb as X,Db as q,Eg as Ne,F as Da,Fb as h,Fd as Vt,Fg as zi,Ga as He,Gb as vi,Gc as Ci,H as Ma,Hb as Si,Hc as Qe,Hg as $i,Ic as ts,Ig as ss,J as Ra,Jb as Qa,Jd as ut,Kb as Za,Kd as is,Kh as cs,L as mi,La as f,Lb as Ya,Ld as Fn,Lh as ds,M as ja,O as hi,Oc as Ie,Od as ns,Pb as Te,Ph as Ti,Qa as La,Qb as bi,Rb as se,Rd as os,Sa as Ua,Tb as Be,Tg as Ei,U as gi,Ua as Ha,Ub as l,V as yt,Va as H,Vb as Gt,Vc as rs,Wa as Ba,Wb as le,Xa as dt,Yb as Ke,Zb as Ge,_a as G,_b as Je,a as x,ac as Xt,b as Y,ba as $r,bc as Xe,c as Va,ca as Aa,d as C,f as Na,fa as W,fb as Ee,ga as Wa,gb as Ka,ha as qa,hb as Ga,hc as wi,ic as Tn,id as xi,j as Oa,k as Ut,ka as F,kb as E,l as Ht,la as P,lc as es,mb as T,nb as Fe,oa as _i,ob as Ja,pb as Se,qb as be,ra as Kt,rb as y,sa as vt,sb as b,sc as Pe,sh as ls,t as ka,tb as w,ub as B,wg as Ve,x as Bt,xg as as,xh as Pn,y as En,za as St}from"./chunk-HYQTCAQ6.js";var Ir=C(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.regexpCode=L.getEsmExportName=L.getProperty=L.safeStringify=L.stringify=L.strConcat=L.addCodeArg=L.str=L._=L.nil=L._Code=L.Name=L.IDENTIFIER=L._CodeOrName=void 0;var Fr=class{};L._CodeOrName=Fr;L.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Ot=class extends Fr{constructor(e){if(super(),!L.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};L.Name=Ot;var Oe=class extends Fr{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((t,i)=>`${t}${i}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((t,i)=>(i instanceof Ot&&(t[i.str]=(t[i.str]||0)+1),t),{})}};L._Code=Oe;L.nil=new Oe("");function Gs(r,...e){let t=[r[0]],i=0;for(;i<e.length;)On(t,e[i]),t.push(r[++i]);return new Oe(t)}L._=Gs;var Nn=new Oe("+");function Js(r,...e){let t=[Pr(r[0])],i=0;for(;i<e.length;)t.push(Nn),On(t,e[i]),t.push(Nn,Pr(r[++i]));return Kd(t),new Oe(t)}L.str=Js;function On(r,e){e instanceof Oe?r.push(...e._items):e instanceof Ot?r.push(e):r.push(Xd(e))}L.addCodeArg=On;function Kd(r){let e=1;for(;e<r.length-1;){if(r[e]===Nn){let t=Gd(r[e-1],r[e+1]);if(t!==void 0){r.splice(e-1,3,t);continue}r[e++]="+"}e++}}function Gd(r,e){if(e==='""')return r;if(r==='""')return e;if(typeof r=="string")return e instanceof Ot||r[r.length-1]!=='"'?void 0:typeof e!="string"?`${r.slice(0,-1)}${e}"`:e[0]==='"'?r.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(r instanceof Ot))return`"${r}${e.slice(1)}`}function Jd(r,e){return e.emptyStr()?r:r.emptyStr()?e:Js`${r}${e}`}L.strConcat=Jd;function Xd(r){return typeof r=="number"||typeof r=="boolean"||r===null?r:Pr(Array.isArray(r)?r.join(","):r)}function Qd(r){return new Oe(Pr(r))}L.stringify=Qd;function Pr(r){return JSON.stringify(r).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}L.safeStringify=Pr;function Zd(r){return typeof r=="string"&&L.IDENTIFIER.test(r)?new Oe(`.${r}`):Gs`[${r}]`}L.getProperty=Zd;function Yd(r){if(typeof r=="string"&&L.IDENTIFIER.test(r))return new Oe(`${r}`);throw new Error(`CodeGen: invalid export name: ${r}, use explicit $id name mapping`)}L.getEsmExportName=Yd;function eu(r){return new Oe(r.toString())}L.regexpCode=eu});var Mn=C(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.ValueScope=Ce.ValueScopeName=Ce.Scope=Ce.varKinds=Ce.UsedValueState=void 0;var we=Ir(),kn=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Di=(function(r){return r[r.Started=0]="Started",r[r.Completed=1]="Completed",r})(Di||(Ce.UsedValueState=Di={}));Ce.varKinds={const:new we.Name("const"),let:new we.Name("let"),var:new we.Name("var")};var Mi=class{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof we.Name?e:this.name(e)}name(e){return new we.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,i;if(!((i=(t=this._parent)===null||t===void 0?void 0:t._prefixes)===null||i===void 0)&&i.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};Ce.Scope=Mi;var Ri=class extends we.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:i}){this.value=e,this.scopePath=(0,we._)`.${new we.Name(t)}[${i}]`}};Ce.ValueScopeName=Ri;var tu=(0,we._)`\n`,Dn=class extends Mi{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=Y(x({},e),{_n:e.lines?tu:we.nil})}get(){return this._scope}name(e){return new Ri(e,this._newName(e))}value(e,t){var i;if(t.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(e),{prefix:o}=n,a=(i=t.key)!==null&&i!==void 0?i:t.ref,s=this._values[o];if(s){let d=s.get(a);if(d)return d}else s=this._values[o]=new Map;s.set(a,n);let c=this._scope[o]||(this._scope[o]=[]),u=c.length;return c[u]=t.ref,n.setValue(t,{property:o,itemIndex:u}),n}getValue(e,t){let i=this._values[e];if(i)return i.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,we._)`${e}${i.scopePath}`})}scopeCode(e=this._values,t,i){return this._reduceValues(e,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},t,i)}_reduceValues(e,t,i={},n){let o=we.nil;for(let a in e){let s=e[a];if(!s)continue;let c=i[a]=i[a]||new Map;s.forEach(u=>{if(c.has(u))return;c.set(u,Di.Started);let d=t(u);if(d){let m=this.opts.es5?Ce.varKinds.var:Ce.varKinds.const;o=(0,we._)`${o}${m} ${u} = ${d};${this.opts._n}`}else if(d=n?.(u))o=(0,we._)`${o}${d}${this.opts._n}`;else throw new kn(u);c.set(u,Di.Completed)})}return o}};Ce.ValueScope=Dn});var O=C(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.or=k.and=k.not=k.CodeGen=k.operators=k.varKinds=k.ValueScopeName=k.ValueScope=k.Scope=k.Name=k.regexpCode=k.stringify=k.getProperty=k.nil=k.strConcat=k.str=k._=void 0;var R=Ir(),Re=Mn(),Ct=Ir();Object.defineProperty(k,"_",{enumerable:!0,get:function(){return Ct._}});Object.defineProperty(k,"str",{enumerable:!0,get:function(){return Ct.str}});Object.defineProperty(k,"strConcat",{enumerable:!0,get:function(){return Ct.strConcat}});Object.defineProperty(k,"nil",{enumerable:!0,get:function(){return Ct.nil}});Object.defineProperty(k,"getProperty",{enumerable:!0,get:function(){return Ct.getProperty}});Object.defineProperty(k,"stringify",{enumerable:!0,get:function(){return Ct.stringify}});Object.defineProperty(k,"regexpCode",{enumerable:!0,get:function(){return Ct.regexpCode}});Object.defineProperty(k,"Name",{enumerable:!0,get:function(){return Ct.Name}});var Li=Mn();Object.defineProperty(k,"Scope",{enumerable:!0,get:function(){return Li.Scope}});Object.defineProperty(k,"ValueScope",{enumerable:!0,get:function(){return Li.ValueScope}});Object.defineProperty(k,"ValueScopeName",{enumerable:!0,get:function(){return Li.ValueScopeName}});Object.defineProperty(k,"varKinds",{enumerable:!0,get:function(){return Li.varKinds}});k.operators={GT:new R._Code(">"),GTE:new R._Code(">="),LT:new R._Code("<"),LTE:new R._Code("<="),EQ:new R._Code("==="),NEQ:new R._Code("!=="),NOT:new R._Code("!"),OR:new R._Code("||"),AND:new R._Code("&&"),ADD:new R._Code("+")};var ft=class{optimizeNodes(){return this}optimizeNames(e,t){return this}},Rn=class extends ft{constructor(e,t,i){super(),this.varKind=e,this.name=t,this.rhs=i}render({es5:e,_n:t}){let i=e?Re.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=or(this.rhs,e,t)),this}get names(){return this.rhs instanceof R._CodeOrName?this.rhs.names:{}}},Ai=class extends ft{constructor(e,t,i){super(),this.lhs=e,this.rhs=t,this.sideEffects=i}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof R.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=or(this.rhs,e,t),this}get names(){let e=this.lhs instanceof R.Name?{}:x({},this.lhs.names);return qi(e,this.rhs)}},jn=class extends Ai{constructor(e,t,i,n){super(e,i,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},An=class extends ft{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},Wn=class extends ft{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},qn=class extends ft{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},Ln=class extends ft{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=or(this.code,e,t),this}get names(){return this.code instanceof R._CodeOrName?this.code.names:{}}},Vr=class extends ft{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,i)=>t+i.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let i=e[t].optimizeNodes();Array.isArray(i)?e.splice(t,1,...i):i?e[t]=i:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:i}=this,n=i.length;for(;n--;){let o=i[n];o.optimizeNames(e,t)||(ru(e,o.names),i.splice(n,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>kt(e,t.names),{})}},pt=class extends Vr{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Un=class extends Vr{},Hn=(()=>{class r extends pt{}return r.kind="else",r})(),ji=(()=>{class r extends pt{constructor(t,i){super(i),this.condition=t}render(t){let i=`if(${this.condition})`+super.render(t);return this.else&&(i+="else "+this.else.render(t)),i}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let i=this.else;if(i){let n=i.optimizeNodes();i=this.else=Array.isArray(n)?new Hn(n):n}if(i)return t===!1?i instanceof r?i:i.nodes:this.nodes.length?this:new r(el(t),i instanceof r?[i]:i.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,i){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,i),!!(super.optimizeNames(t,i)||this.else))return this.condition=or(this.condition,t,i),this}get names(){let t=super.names;return qi(t,this.condition),this.else&&kt(t,this.else.names),t}}return r.kind="if",r})(),Ui=(()=>{class r extends pt{}return r.kind="for",r})(),Bn=class extends Ui{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=or(this.iteration,e,t),this}get names(){return kt(super.names,this.iteration.names)}},Kn=class extends Ui{constructor(e,t,i,n){super(),this.varKind=e,this.name=t,this.from=i,this.to=n}render(e){let t=e.es5?Re.varKinds.var:this.varKind,{name:i,from:n,to:o}=this;return`for(${t} ${i}=${n}; ${i}<${o}; ${i}++)`+super.render(e)}get names(){let e=qi(super.names,this.from);return qi(e,this.to)}},Wi=class extends Ui{constructor(e,t,i,n){super(),this.loop=e,this.varKind=t,this.name=i,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=or(this.iterable,e,t),this}get names(){return kt(super.names,this.iterable.names)}},Xs=(()=>{class r extends pt{constructor(t,i,n){super(),this.name=t,this.args=i,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}}return r.kind="func",r})(),Qs=(()=>{class r extends Vr{render(t){return"return "+super.render(t)}}return r.kind="return",r})(),Gn=class extends pt{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(t=this.finally)===null||t===void 0||t.optimizeNodes(),this}optimizeNames(e,t){var i,n;return super.optimizeNames(e,t),(i=this.catch)===null||i===void 0||i.optimizeNames(e,t),(n=this.finally)===null||n===void 0||n.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&kt(e,this.catch.names),this.finally&&kt(e,this.finally.names),e}},Zs=(()=>{class r extends pt{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}}return r.kind="catch",r})(),Ys=(()=>{class r extends pt{render(t){return"finally"+super.render(t)}}return r.kind="finally",r})(),Jn=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts=Y(x({},t),{_n:t.lines?`
`:""}),this._extScope=e,this._scope=new Re.Scope({parent:e}),this._nodes=[new Un]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let i=this._extScope.value(e,t);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,i,n){let o=this._scope.toName(t);return i!==void 0&&n&&(this._constants[o.str]=i),this._leafNode(new Rn(e,o,i)),o}const(e,t,i){return this._def(Re.varKinds.const,e,t,i)}let(e,t,i){return this._def(Re.varKinds.let,e,t,i)}var(e,t,i){return this._def(Re.varKinds.var,e,t,i)}assign(e,t,i){return this._leafNode(new Ai(e,t,i))}add(e,t){return this._leafNode(new jn(e,k.operators.ADD,t))}code(e){return typeof e=="function"?e():e!==R.nil&&this._leafNode(new Ln(e)),this}object(...e){let t=["{"];for(let[i,n]of e)t.length>1&&t.push(","),t.push(i),(i!==n||this.opts.es5)&&(t.push(":"),(0,R.addCodeArg)(t,n));return t.push("}"),new R._Code(t)}if(e,t,i){if(this._blockNode(new ji(e)),t&&i)this.code(t).else().code(i).endIf();else if(t)this.code(t).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new ji(e))}else(){return this._elseNode(new Hn)}endIf(){return this._endBlockNode(ji,Hn)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new Bn(e),t)}forRange(e,t,i,n,o=this.opts.es5?Re.varKinds.var:Re.varKinds.let){let a=this._scope.toName(e);return this._for(new Kn(o,a,t,i),()=>n(a))}forOf(e,t,i,n=Re.varKinds.const){let o=this._scope.toName(e);if(this.opts.es5){let a=t instanceof R.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,R._)`${a}.length`,s=>{this.var(o,(0,R._)`${a}[${s}]`),i(o)})}return this._for(new Wi("of",n,o,t),()=>i(o))}forIn(e,t,i,n=this.opts.es5?Re.varKinds.var:Re.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,R._)`Object.keys(${t})`,i);let o=this._scope.toName(e);return this._for(new Wi("in",n,o,t),()=>i(o))}endFor(){return this._endBlockNode(Ui)}label(e){return this._leafNode(new An(e))}break(e){return this._leafNode(new Wn(e))}return(e){let t=new Qs;if(this._blockNode(t),this.code(e),t.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Qs)}try(e,t,i){if(!t&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new Gn;if(this._blockNode(n),this.code(e),t){let o=this.name("e");this._currNode=n.catch=new Zs(o),t(o)}return i&&(this._currNode=n.finally=new Ys,this.code(i)),this._endBlockNode(Zs,Ys)}throw(e){return this._leafNode(new qn(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(t===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-t;if(i<0||e!==void 0&&i!==e)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=R.nil,i,n){return this._blockNode(new Xs(e,t,i)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(Xs)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let i=this._currNode;if(i instanceof e||t&&i instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof ji))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}};k.CodeGen=Jn;function kt(r,e){for(let t in e)r[t]=(r[t]||0)+(e[t]||0);return r}function qi(r,e){return e instanceof R._CodeOrName?kt(r,e.names):r}function or(r,e,t){if(r instanceof R.Name)return i(r);if(!n(r))return r;return new R._Code(r._items.reduce((o,a)=>(a instanceof R.Name&&(a=i(a)),a instanceof R._Code?o.push(...a._items):o.push(a),o),[]));function i(o){let a=t[o.str];return a===void 0||e[o.str]!==1?o:(delete e[o.str],a)}function n(o){return o instanceof R._Code&&o._items.some(a=>a instanceof R.Name&&e[a.str]===1&&t[a.str]!==void 0)}}function ru(r,e){for(let t in e)r[t]=(r[t]||0)-(e[t]||0)}function el(r){return typeof r=="boolean"||typeof r=="number"||r===null?!r:(0,R._)`!${Xn(r)}`}k.not=el;var iu=tl(k.operators.AND);function nu(...r){return r.reduce(iu)}k.and=nu;var ou=tl(k.operators.OR);function au(...r){return r.reduce(ou)}k.or=au;function tl(r){return(e,t)=>e===R.nil?t:t===R.nil?e:(0,R._)`${Xn(e)} ${r} ${Xn(t)}`}function Xn(r){return r instanceof R.Name?r:(0,R._)`(${r})`}});var U=C(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.checkStrictMode=D.getErrorPath=D.Type=D.useFunc=D.setEvaluated=D.evaluatedPropsToName=D.mergeEvaluated=D.eachItem=D.unescapeJsonPointer=D.escapeJsonPointer=D.escapeFragment=D.unescapeFragment=D.schemaRefOrVal=D.schemaHasRulesButRef=D.schemaHasRules=D.checkUnknownRules=D.alwaysValidSchema=D.toHash=void 0;var Q=O(),su=Ir();function lu(r){let e={};for(let t of r)e[t]=!0;return e}D.toHash=lu;function cu(r,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(nl(r,e),!ol(e,r.self.RULES.all))}D.alwaysValidSchema=cu;function nl(r,e=r.schema){let{opts:t,self:i}=r;if(!t.strictSchema||typeof e=="boolean")return;let n=i.RULES.keywords;for(let o in e)n[o]||ll(r,`unknown keyword: "${o}"`)}D.checkUnknownRules=nl;function ol(r,e){if(typeof r=="boolean")return!r;for(let t in r)if(e[t])return!0;return!1}D.schemaHasRules=ol;function du(r,e){if(typeof r=="boolean")return!r;for(let t in r)if(t!=="$ref"&&e.all[t])return!0;return!1}D.schemaHasRulesButRef=du;function uu({topSchemaRef:r,schemaPath:e},t,i,n){if(!n){if(typeof t=="number"||typeof t=="boolean")return t;if(typeof t=="string")return(0,Q._)`${t}`}return(0,Q._)`${r}${e}${(0,Q.getProperty)(i)}`}D.schemaRefOrVal=uu;function fu(r){return al(decodeURIComponent(r))}D.unescapeFragment=fu;function pu(r){return encodeURIComponent(Zn(r))}D.escapeFragment=pu;function Zn(r){return typeof r=="number"?`${r}`:r.replace(/~/g,"~0").replace(/\//g,"~1")}D.escapeJsonPointer=Zn;function al(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}D.unescapeJsonPointer=al;function mu(r,e){if(Array.isArray(r))for(let t of r)e(t);else e(r)}D.eachItem=mu;function rl({mergeNames:r,mergeToName:e,mergeValues:t,resultToName:i}){return(n,o,a,s)=>{let c=a===void 0?o:a instanceof Q.Name?(o instanceof Q.Name?r(n,o,a):e(n,o,a),a):o instanceof Q.Name?(e(n,a,o),o):t(o,a);return s===Q.Name&&!(c instanceof Q.Name)?i(n,c):c}}D.mergeEvaluated={props:rl({mergeNames:(r,e,t)=>r.if((0,Q._)`${t} !== true && ${e} !== undefined`,()=>{r.if((0,Q._)`${e} === true`,()=>r.assign(t,!0),()=>r.assign(t,(0,Q._)`${t} || {}`).code((0,Q._)`Object.assign(${t}, ${e})`))}),mergeToName:(r,e,t)=>r.if((0,Q._)`${t} !== true`,()=>{e===!0?r.assign(t,!0):(r.assign(t,(0,Q._)`${t} || {}`),Yn(r,t,e))}),mergeValues:(r,e)=>r===!0?!0:x(x({},r),e),resultToName:sl}),items:rl({mergeNames:(r,e,t)=>r.if((0,Q._)`${t} !== true && ${e} !== undefined`,()=>r.assign(t,(0,Q._)`${e} === true ? true : ${t} > ${e} ? ${t} : ${e}`)),mergeToName:(r,e,t)=>r.if((0,Q._)`${t} !== true`,()=>r.assign(t,e===!0?!0:(0,Q._)`${t} > ${e} ? ${t} : ${e}`)),mergeValues:(r,e)=>r===!0?!0:Math.max(r,e),resultToName:(r,e)=>r.var("items",e)})};function sl(r,e){if(e===!0)return r.var("props",!0);let t=r.var("props",(0,Q._)`{}`);return e!==void 0&&Yn(r,t,e),t}D.evaluatedPropsToName=sl;function Yn(r,e,t){Object.keys(t).forEach(i=>r.assign((0,Q._)`${e}${(0,Q.getProperty)(i)}`,!0))}D.setEvaluated=Yn;var il={};function hu(r,e){return r.scopeValue("func",{ref:e,code:il[e.code]||(il[e.code]=new su._Code(e.code))})}D.useFunc=hu;var Qn=(function(r){return r[r.Num=0]="Num",r[r.Str=1]="Str",r})(Qn||(D.Type=Qn={}));function gu(r,e,t){if(r instanceof Q.Name){let i=e===Qn.Num;return t?i?(0,Q._)`"[" + ${r} + "]"`:(0,Q._)`"['" + ${r} + "']"`:i?(0,Q._)`"/" + ${r}`:(0,Q._)`"/" + ${r}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return t?(0,Q.getProperty)(r).toString():"/"+Zn(r)}D.getErrorPath=gu;function ll(r,e,t=r.opts.strictSchema){if(t){if(e=`strict mode: ${e}`,t===!0)throw new Error(e);r.self.logger.warn(e)}}D.checkStrictMode=ll});var mt=C(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});var me=O(),_u={data:new me.Name("data"),valCxt:new me.Name("valCxt"),instancePath:new me.Name("instancePath"),parentData:new me.Name("parentData"),parentDataProperty:new me.Name("parentDataProperty"),rootData:new me.Name("rootData"),dynamicAnchors:new me.Name("dynamicAnchors"),vErrors:new me.Name("vErrors"),errors:new me.Name("errors"),this:new me.Name("this"),self:new me.Name("self"),scope:new me.Name("scope"),json:new me.Name("json"),jsonPos:new me.Name("jsonPos"),jsonLen:new me.Name("jsonLen"),jsonPart:new me.Name("jsonPart")};eo.default=_u});var Nr=C(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.extendErrors=he.resetErrorsCount=he.reportExtraError=he.reportError=he.keyword$DataError=he.keywordError=void 0;var A=O(),Hi=U(),ye=mt();he.keywordError={message:({keyword:r})=>(0,A.str)`must pass "${r}" keyword validation`};he.keyword$DataError={message:({keyword:r,schemaType:e})=>e?(0,A.str)`"${r}" keyword must be ${e} ($data)`:(0,A.str)`"${r}" keyword is invalid ($data)`};function yu(r,e=he.keywordError,t,i){let{it:n}=r,{gen:o,compositeRule:a,allErrors:s}=n,c=ul(r,e,t);i??(a||s)?cl(o,c):dl(n,(0,A._)`[${c}]`)}he.reportError=yu;function vu(r,e=he.keywordError,t){let{it:i}=r,{gen:n,compositeRule:o,allErrors:a}=i,s=ul(r,e,t);cl(n,s),o||a||dl(i,ye.default.vErrors)}he.reportExtraError=vu;function Su(r,e){r.assign(ye.default.errors,e),r.if((0,A._)`${ye.default.vErrors} !== null`,()=>r.if(e,()=>r.assign((0,A._)`${ye.default.vErrors}.length`,e),()=>r.assign(ye.default.vErrors,null)))}he.resetErrorsCount=Su;function bu({gen:r,keyword:e,schemaValue:t,data:i,errsCount:n,it:o}){if(n===void 0)throw new Error("ajv implementation error");let a=r.name("err");r.forRange("i",n,ye.default.errors,s=>{r.const(a,(0,A._)`${ye.default.vErrors}[${s}]`),r.if((0,A._)`${a}.instancePath === undefined`,()=>r.assign((0,A._)`${a}.instancePath`,(0,A.strConcat)(ye.default.instancePath,o.errorPath))),r.assign((0,A._)`${a}.schemaPath`,(0,A.str)`${o.errSchemaPath}/${e}`),o.opts.verbose&&(r.assign((0,A._)`${a}.schema`,t),r.assign((0,A._)`${a}.data`,i))})}he.extendErrors=bu;function cl(r,e){let t=r.const("err",e);r.if((0,A._)`${ye.default.vErrors} === null`,()=>r.assign(ye.default.vErrors,(0,A._)`[${t}]`),(0,A._)`${ye.default.vErrors}.push(${t})`),r.code((0,A._)`${ye.default.errors}++`)}function dl(r,e){let{gen:t,validateName:i,schemaEnv:n}=r;n.$async?t.throw((0,A._)`new ${r.ValidationError}(${e})`):(t.assign((0,A._)`${i}.errors`,e),t.return(!1))}var Dt={keyword:new A.Name("keyword"),schemaPath:new A.Name("schemaPath"),params:new A.Name("params"),propertyName:new A.Name("propertyName"),message:new A.Name("message"),schema:new A.Name("schema"),parentSchema:new A.Name("parentSchema")};function ul(r,e,t){let{createErrors:i}=r.it;return i===!1?(0,A._)`{}`:wu(r,e,t)}function wu(r,e,t={}){let{gen:i,it:n}=r,o=[Cu(n,t),xu(r,t)];return zu(r,e,o),i.object(...o)}function Cu({errorPath:r},{instancePath:e}){let t=e?(0,A.str)`${r}${(0,Hi.getErrorPath)(e,Hi.Type.Str)}`:r;return[ye.default.instancePath,(0,A.strConcat)(ye.default.instancePath,t)]}function xu({keyword:r,it:{errSchemaPath:e}},{schemaPath:t,parentSchema:i}){let n=i?e:(0,A.str)`${e}/${r}`;return t&&(n=(0,A.str)`${n}${(0,Hi.getErrorPath)(t,Hi.Type.Str)}`),[Dt.schemaPath,n]}function zu(r,{params:e,message:t},i){let{keyword:n,data:o,schemaValue:a,it:s}=r,{opts:c,propertyName:u,topSchemaRef:d,schemaPath:m}=s;i.push([Dt.keyword,n],[Dt.params,typeof e=="function"?e(r):e||(0,A._)`{}`]),c.messages&&i.push([Dt.message,typeof t=="function"?t(r):t]),c.verbose&&i.push([Dt.schema,a],[Dt.parentSchema,(0,A._)`${d}${m}`],[ye.default.data,o]),u&&i.push([Dt.propertyName,u])}});var pl=C(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.boolOrEmptySchema=ar.topBoolOrEmptySchema=void 0;var $u=Nr(),Eu=O(),Tu=mt(),Fu={message:"boolean schema is false"};function Pu(r){let{gen:e,schema:t,validateName:i}=r;t===!1?fl(r,!1):typeof t=="object"&&t.$async===!0?e.return(Tu.default.data):(e.assign((0,Eu._)`${i}.errors`,null),e.return(!0))}ar.topBoolOrEmptySchema=Pu;function Iu(r,e){let{gen:t,schema:i}=r;i===!1?(t.var(e,!1),fl(r)):t.var(e,!0)}ar.boolOrEmptySchema=Iu;function fl(r,e){let{gen:t,data:i}=r,n={gen:t,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:r};(0,$u.reportError)(n,Fu,void 0,e)}});var to=C(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.getRules=sr.isJSONType=void 0;var Vu=["string","number","integer","boolean","null","object","array"],Nu=new Set(Vu);function Ou(r){return typeof r=="string"&&Nu.has(r)}sr.isJSONType=Ou;function ku(){let r={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:Y(x({},r),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},r.number,r.string,r.array,r.object],post:{rules:[]},all:{},keywords:{}}}sr.getRules=ku});var ro=C(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.shouldUseRule=xt.shouldUseGroup=xt.schemaHasRulesForType=void 0;function Du({schema:r,self:e},t){let i=e.RULES.types[t];return i&&i!==!0&&ml(r,i)}xt.schemaHasRulesForType=Du;function ml(r,e){return e.rules.some(t=>hl(r,t))}xt.shouldUseGroup=ml;function hl(r,e){var t;return r[e.keyword]!==void 0||((t=e.definition.implements)===null||t===void 0?void 0:t.some(i=>r[i]!==void 0))}xt.shouldUseRule=hl});var Or=C(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.reportTypeError=ge.checkDataTypes=ge.checkDataType=ge.coerceAndCheckDataType=ge.getJSONTypes=ge.getSchemaTypes=ge.DataType=void 0;var Mu=to(),Ru=ro(),ju=Nr(),N=O(),gl=U(),lr=(function(r){return r[r.Correct=0]="Correct",r[r.Wrong=1]="Wrong",r})(lr||(ge.DataType=lr={}));function Au(r){let e=_l(r.type);if(e.includes("null")){if(r.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&r.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');r.nullable===!0&&e.push("null")}return e}ge.getSchemaTypes=Au;function _l(r){let e=Array.isArray(r)?r:r?[r]:[];if(e.every(Mu.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}ge.getJSONTypes=_l;function Wu(r,e){let{gen:t,data:i,opts:n}=r,o=qu(e,n.coerceTypes),a=e.length>0&&!(o.length===0&&e.length===1&&(0,Ru.schemaHasRulesForType)(r,e[0]));if(a){let s=no(e,i,n.strictNumbers,lr.Wrong);t.if(s,()=>{o.length?Lu(r,e,o):oo(r)})}return a}ge.coerceAndCheckDataType=Wu;var yl=new Set(["string","number","integer","boolean","null"]);function qu(r,e){return e?r.filter(t=>yl.has(t)||e==="array"&&t==="array"):[]}function Lu(r,e,t){let{gen:i,data:n,opts:o}=r,a=i.let("dataType",(0,N._)`typeof ${n}`),s=i.let("coerced",(0,N._)`undefined`);o.coerceTypes==="array"&&i.if((0,N._)`${a} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>i.assign(n,(0,N._)`${n}[0]`).assign(a,(0,N._)`typeof ${n}`).if(no(e,n,o.strictNumbers),()=>i.assign(s,n))),i.if((0,N._)`${s} !== undefined`);for(let u of t)(yl.has(u)||u==="array"&&o.coerceTypes==="array")&&c(u);i.else(),oo(r),i.endIf(),i.if((0,N._)`${s} !== undefined`,()=>{i.assign(n,s),Uu(r,s)});function c(u){switch(u){case"string":i.elseIf((0,N._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,N._)`"" + ${n}`).elseIf((0,N._)`${n} === null`).assign(s,(0,N._)`""`);return;case"number":i.elseIf((0,N._)`${a} == "boolean" || ${n} === null
              || (${a} == "string" && ${n} && ${n} == +${n})`).assign(s,(0,N._)`+${n}`);return;case"integer":i.elseIf((0,N._)`${a} === "boolean" || ${n} === null
              || (${a} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(s,(0,N._)`+${n}`);return;case"boolean":i.elseIf((0,N._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(s,!1).elseIf((0,N._)`${n} === "true" || ${n} === 1`).assign(s,!0);return;case"null":i.elseIf((0,N._)`${n} === "" || ${n} === 0 || ${n} === false`),i.assign(s,null);return;case"array":i.elseIf((0,N._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${n} === null`).assign(s,(0,N._)`[${n}]`)}}}function Uu({gen:r,parentData:e,parentDataProperty:t},i){r.if((0,N._)`${e} !== undefined`,()=>r.assign((0,N._)`${e}[${t}]`,i))}function io(r,e,t,i=lr.Correct){let n=i===lr.Correct?N.operators.EQ:N.operators.NEQ,o;switch(r){case"null":return(0,N._)`${e} ${n} null`;case"array":o=(0,N._)`Array.isArray(${e})`;break;case"object":o=(0,N._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":o=a((0,N._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":o=a();break;default:return(0,N._)`typeof ${e} ${n} ${r}`}return i===lr.Correct?o:(0,N.not)(o);function a(s=N.nil){return(0,N.and)((0,N._)`typeof ${e} == "number"`,s,t?(0,N._)`isFinite(${e})`:N.nil)}}ge.checkDataType=io;function no(r,e,t,i){if(r.length===1)return io(r[0],e,t,i);let n,o=(0,gl.toHash)(r);if(o.array&&o.object){let a=(0,N._)`typeof ${e} != "object"`;n=o.null?a:(0,N._)`!${e} || ${a}`,delete o.null,delete o.array,delete o.object}else n=N.nil;o.number&&delete o.integer;for(let a in o)n=(0,N.and)(n,io(a,e,t,i));return n}ge.checkDataTypes=no;var Hu={message:({schema:r})=>`must be ${r}`,params:({schema:r,schemaValue:e})=>typeof r=="string"?(0,N._)`{type: ${r}}`:(0,N._)`{type: ${e}}`};function oo(r){let e=Bu(r);(0,ju.reportError)(e,Hu)}ge.reportTypeError=oo;function Bu(r){let{gen:e,data:t,schema:i}=r,n=(0,gl.schemaRefOrVal)(r,i,"type");return{gen:e,keyword:"type",data:t,schema:i.type,schemaCode:n,schemaValue:n,parentSchema:i,params:{},it:r}}});var Sl=C(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.assignDefaults=void 0;var cr=O(),Ku=U();function Gu(r,e){let{properties:t,items:i}=r.schema;if(e==="object"&&t)for(let n in t)vl(r,n,t[n].default);else e==="array"&&Array.isArray(i)&&i.forEach((n,o)=>vl(r,o,n.default))}Bi.assignDefaults=Gu;function vl(r,e,t){let{gen:i,compositeRule:n,data:o,opts:a}=r;if(t===void 0)return;let s=(0,cr._)`${o}${(0,cr.getProperty)(e)}`;if(n){(0,Ku.checkStrictMode)(r,`default is ignored for: ${s}`);return}let c=(0,cr._)`${s} === undefined`;a.useDefaults==="empty"&&(c=(0,cr._)`${c} || ${s} === null || ${s} === ""`),i.if(c,(0,cr._)`${s} = ${(0,cr.stringify)(t)}`)}});var ke=C(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.validateUnion=J.validateArray=J.usePattern=J.callValidateCode=J.schemaProperties=J.allSchemaProperties=J.noPropertyInData=J.propertyInData=J.isOwnProperty=J.hasPropFunc=J.reportMissingProp=J.checkMissingProp=J.checkReportMissingProp=void 0;var ee=O(),ao=U(),zt=mt(),Ju=U();function Xu(r,e){let{gen:t,data:i,it:n}=r;t.if(lo(t,i,e,n.opts.ownProperties),()=>{r.setParams({missingProperty:(0,ee._)`${e}`},!0),r.error()})}J.checkReportMissingProp=Xu;function Qu({gen:r,data:e,it:{opts:t}},i,n){return(0,ee.or)(...i.map(o=>(0,ee.and)(lo(r,e,o,t.ownProperties),(0,ee._)`${n} = ${o}`)))}J.checkMissingProp=Qu;function Zu(r,e){r.setParams({missingProperty:e},!0),r.error()}J.reportMissingProp=Zu;function bl(r){return r.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ee._)`Object.prototype.hasOwnProperty`})}J.hasPropFunc=bl;function so(r,e,t){return(0,ee._)`${bl(r)}.call(${e}, ${t})`}J.isOwnProperty=so;function Yu(r,e,t,i){let n=(0,ee._)`${e}${(0,ee.getProperty)(t)} !== undefined`;return i?(0,ee._)`${n} && ${so(r,e,t)}`:n}J.propertyInData=Yu;function lo(r,e,t,i){let n=(0,ee._)`${e}${(0,ee.getProperty)(t)} === undefined`;return i?(0,ee.or)(n,(0,ee.not)(so(r,e,t))):n}J.noPropertyInData=lo;function wl(r){return r?Object.keys(r).filter(e=>e!=="__proto__"):[]}J.allSchemaProperties=wl;function ef(r,e){return wl(e).filter(t=>!(0,ao.alwaysValidSchema)(r,e[t]))}J.schemaProperties=ef;function tf({schemaCode:r,data:e,it:{gen:t,topSchemaRef:i,schemaPath:n,errorPath:o},it:a},s,c,u){let d=u?(0,ee._)`${r}, ${e}, ${i}${n}`:e,m=[[zt.default.instancePath,(0,ee.strConcat)(zt.default.instancePath,o)],[zt.default.parentData,a.parentData],[zt.default.parentDataProperty,a.parentDataProperty],[zt.default.rootData,zt.default.rootData]];a.opts.dynamicRef&&m.push([zt.default.dynamicAnchors,zt.default.dynamicAnchors]);let v=(0,ee._)`${d}, ${t.object(...m)}`;return c!==ee.nil?(0,ee._)`${s}.call(${c}, ${v})`:(0,ee._)`${s}(${v})`}J.callValidateCode=tf;var rf=(0,ee._)`new RegExp`;function nf({gen:r,it:{opts:e}},t){let i=e.unicodeRegExp?"u":"",{regExp:n}=e.code,o=n(t,i);return r.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,ee._)`${n.code==="new RegExp"?rf:(0,Ju.useFunc)(r,n)}(${t}, ${i})`})}J.usePattern=nf;function of(r){let{gen:e,data:t,keyword:i,it:n}=r,o=e.name("valid");if(n.allErrors){let s=e.let("valid",!0);return a(()=>e.assign(s,!1)),s}return e.var(o,!0),a(()=>e.break()),o;function a(s){let c=e.const("len",(0,ee._)`${t}.length`);e.forRange("i",0,c,u=>{r.subschema({keyword:i,dataProp:u,dataPropType:ao.Type.Num},o),e.if((0,ee.not)(o),s)})}}J.validateArray=of;function af(r){let{gen:e,schema:t,keyword:i,it:n}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");if(t.some(c=>(0,ao.alwaysValidSchema)(n,c))&&!n.opts.unevaluated)return;let a=e.let("valid",!1),s=e.name("_valid");e.block(()=>t.forEach((c,u)=>{let d=r.subschema({keyword:i,schemaProp:u,compositeRule:!0},s);e.assign(a,(0,ee._)`${a} || ${s}`),r.mergeValidEvaluated(d,s)||e.if((0,ee.not)(a))})),r.result(a,()=>r.reset(),()=>r.error(!0))}J.validateUnion=af});var zl=C(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.validateKeywordUsage=tt.validSchemaType=tt.funcKeywordCode=tt.macroKeywordCode=void 0;var ve=O(),Mt=mt(),sf=ke(),lf=Nr();function cf(r,e){let{gen:t,keyword:i,schema:n,parentSchema:o,it:a}=r,s=e.macro.call(a.self,n,o,a),c=xl(t,i,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);let u=t.name("valid");r.subschema({schema:s,schemaPath:ve.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:c,compositeRule:!0},u),r.pass(u,()=>r.error(!0))}tt.macroKeywordCode=cf;function df(r,e){var t;let{gen:i,keyword:n,schema:o,parentSchema:a,$data:s,it:c}=r;ff(c,e);let u=!s&&e.compile?e.compile.call(c.self,o,a,c):e.validate,d=xl(i,n,u),m=i.let("valid");r.block$data(m,v),r.ok((t=e.valid)!==null&&t!==void 0?t:m);function v(){if(e.errors===!1)p(),e.modifying&&Cl(r),S(()=>r.error());else{let z=e.async?g():_();e.modifying&&Cl(r),S(()=>uf(r,z))}}function g(){let z=i.let("ruleErrs",null);return i.try(()=>p((0,ve._)`await `),j=>i.assign(m,!1).if((0,ve._)`${j} instanceof ${c.ValidationError}`,()=>i.assign(z,(0,ve._)`${j}.errors`),()=>i.throw(j))),z}function _(){let z=(0,ve._)`${d}.errors`;return i.assign(z,null),p(ve.nil),z}function p(z=e.async?(0,ve._)`await `:ve.nil){let j=c.opts.passContext?Mt.default.this:Mt.default.self,M=!("compile"in e&&!s||e.schema===!1);i.assign(m,(0,ve._)`${z}${(0,sf.callValidateCode)(r,d,j,M)}`,e.modifying)}function S(z){var j;i.if((0,ve.not)((j=e.valid)!==null&&j!==void 0?j:m),z)}}tt.funcKeywordCode=df;function Cl(r){let{gen:e,data:t,it:i}=r;e.if(i.parentData,()=>e.assign(t,(0,ve._)`${i.parentData}[${i.parentDataProperty}]`))}function uf(r,e){let{gen:t}=r;t.if((0,ve._)`Array.isArray(${e})`,()=>{t.assign(Mt.default.vErrors,(0,ve._)`${Mt.default.vErrors} === null ? ${e} : ${Mt.default.vErrors}.concat(${e})`).assign(Mt.default.errors,(0,ve._)`${Mt.default.vErrors}.length`),(0,lf.extendErrors)(r)},()=>r.error())}function ff({schemaEnv:r},e){if(e.async&&!r.$async)throw new Error("async keyword in sync schema")}function xl(r,e,t){if(t===void 0)throw new Error(`keyword "${e}" failed to compile`);return r.scopeValue("keyword",typeof t=="function"?{ref:t}:{ref:t,code:(0,ve.stringify)(t)})}function pf(r,e,t=!1){return!e.length||e.some(i=>i==="array"?Array.isArray(r):i==="object"?r&&typeof r=="object"&&!Array.isArray(r):typeof r==i||t&&typeof r>"u")}tt.validSchemaType=pf;function mf({schema:r,opts:e,self:t,errSchemaPath:i},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");let a=n.dependencies;if(a?.some(s=>!Object.prototype.hasOwnProperty.call(r,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(n.validateSchema&&!n.validateSchema(r[o])){let c=`keyword "${o}" value is invalid at path "${i}": `+t.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")t.logger.error(c);else throw new Error(c)}}tt.validateKeywordUsage=mf});var El=C($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.extendSubschemaMode=$t.extendSubschemaData=$t.getSubschema=void 0;var rt=O(),$l=U();function hf(r,{keyword:e,schemaProp:t,schema:i,schemaPath:n,errSchemaPath:o,topSchemaRef:a}){if(e!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let s=r.schema[e];return t===void 0?{schema:s,schemaPath:(0,rt._)`${r.schemaPath}${(0,rt.getProperty)(e)}`,errSchemaPath:`${r.errSchemaPath}/${e}`}:{schema:s[t],schemaPath:(0,rt._)`${r.schemaPath}${(0,rt.getProperty)(e)}${(0,rt.getProperty)(t)}`,errSchemaPath:`${r.errSchemaPath}/${e}/${(0,$l.escapeFragment)(t)}`}}if(i!==void 0){if(n===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}$t.getSubschema=hf;function gf(r,e,{dataProp:t,dataPropType:i,data:n,dataTypes:o,propertyName:a}){if(n!==void 0&&t!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:s}=e;if(t!==void 0){let{errorPath:u,dataPathArr:d,opts:m}=e,v=s.let("data",(0,rt._)`${e.data}${(0,rt.getProperty)(t)}`,!0);c(v),r.errorPath=(0,rt.str)`${u}${(0,$l.getErrorPath)(t,i,m.jsPropertySyntax)}`,r.parentDataProperty=(0,rt._)`${t}`,r.dataPathArr=[...d,r.parentDataProperty]}if(n!==void 0){let u=n instanceof rt.Name?n:s.let("data",n,!0);c(u),a!==void 0&&(r.propertyName=a)}o&&(r.dataTypes=o);function c(u){r.data=u,r.dataLevel=e.dataLevel+1,r.dataTypes=[],e.definedProperties=new Set,r.parentData=e.data,r.dataNames=[...e.dataNames,u]}}$t.extendSubschemaData=gf;function _f(r,{jtdDiscriminator:e,jtdMetadata:t,compositeRule:i,createErrors:n,allErrors:o}){i!==void 0&&(r.compositeRule=i),n!==void 0&&(r.createErrors=n),o!==void 0&&(r.allErrors=o),r.jtdDiscriminator=e,r.jtdMetadata=t}$t.extendSubschemaMode=_f});var co=C((Oy,Tl)=>{"use strict";Tl.exports=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,n,o;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(n=i;n--!==0;)if(!r(e[n],t[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),i=o.length,i!==Object.keys(t).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return!1;for(n=i;n--!==0;){var a=o[n];if(!r(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}});var Pl=C((ky,Fl)=>{"use strict";var Et=Fl.exports=function(r,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var i=typeof t=="function"?t:t.pre||function(){},n=t.post||function(){};Ki(e,i,n,r,"",r)};Et.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Et.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Et.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Et.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ki(r,e,t,i,n,o,a,s,c,u){if(i&&typeof i=="object"&&!Array.isArray(i)){e(i,n,o,a,s,c,u);for(var d in i){var m=i[d];if(Array.isArray(m)){if(d in Et.arrayKeywords)for(var v=0;v<m.length;v++)Ki(r,e,t,m[v],n+"/"+d+"/"+v,o,n,d,i,v)}else if(d in Et.propsKeywords){if(m&&typeof m=="object")for(var g in m)Ki(r,e,t,m[g],n+"/"+d+"/"+yf(g),o,n,d,i,g)}else(d in Et.keywords||r.allKeys&&!(d in Et.skipKeywords))&&Ki(r,e,t,m,n+"/"+d,o,n,d,i)}t(i,n,o,a,s,c,u)}}function yf(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}});var kr=C(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.getSchemaRefs=xe.resolveUrl=xe.normalizeId=xe._getFullPath=xe.getFullPath=xe.inlineRef=void 0;var vf=U(),Sf=co(),bf=Pl(),wf=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Cf(r,e=!0){return typeof r=="boolean"?!0:e===!0?!uo(r):e?Il(r)<=e:!1}xe.inlineRef=Cf;var xf=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function uo(r){for(let e in r){if(xf.has(e))return!0;let t=r[e];if(Array.isArray(t)&&t.some(uo)||typeof t=="object"&&uo(t))return!0}return!1}function Il(r){let e=0;for(let t in r){if(t==="$ref")return 1/0;if(e++,!wf.has(t)&&(typeof r[t]=="object"&&(0,vf.eachItem)(r[t],i=>e+=Il(i)),e===1/0))return 1/0}return e}function Vl(r,e="",t){t!==!1&&(e=dr(e));let i=r.parse(e);return Nl(r,i)}xe.getFullPath=Vl;function Nl(r,e){return r.serialize(e).split("#")[0]+"#"}xe._getFullPath=Nl;var zf=/#\/?$/;function dr(r){return r?r.replace(zf,""):""}xe.normalizeId=dr;function $f(r,e,t){return t=dr(t),r.resolve(e,t)}xe.resolveUrl=$f;var Ef=/^[a-z_][-a-z0-9._]*$/i;function Tf(r,e){if(typeof r=="boolean")return{};let{schemaId:t,uriResolver:i}=this.opts,n=dr(r[t]||e),o={"":n},a=Vl(i,n,!1),s={},c=new Set;return bf(r,{allKeys:!0},(m,v,g,_)=>{if(_===void 0)return;let p=a+v,S=o[_];typeof m[t]=="string"&&(S=z.call(this,m[t])),j.call(this,m.$anchor),j.call(this,m.$dynamicAnchor),o[v]=S;function z(M){let Z=this.opts.uriResolver.resolve;if(M=dr(S?Z(S,M):M),c.has(M))throw d(M);c.add(M);let V=this.refs[M];return typeof V=="string"&&(V=this.refs[V]),typeof V=="object"?u(m,V.schema,M):M!==dr(p)&&(M[0]==="#"?(u(m,s[M],M),s[M]=m):this.refs[M]=p),M}function j(M){if(typeof M=="string"){if(!Ef.test(M))throw new Error(`invalid anchor "${M}"`);z.call(this,`#${M}`)}}}),s;function u(m,v,g){if(v!==void 0&&!Sf(m,v))throw d(g)}function d(m){return new Error(`reference "${m}" resolves to more than one schema`)}}xe.getSchemaRefs=Tf});var Rr=C(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.getData=Tt.KeywordCxt=Tt.validateFunctionCode=void 0;var Rl=pl(),Ol=Or(),po=ro(),Gi=Or(),Ff=Sl(),Mr=zl(),fo=El(),$=O(),I=mt(),Pf=kr(),ht=U(),Dr=Nr();function If(r){if(Wl(r)&&(ql(r),Al(r))){Of(r);return}jl(r,()=>(0,Rl.topBoolOrEmptySchema)(r))}Tt.validateFunctionCode=If;function jl({gen:r,validateName:e,schema:t,schemaEnv:i,opts:n},o){n.code.es5?r.func(e,(0,$._)`${I.default.data}, ${I.default.valCxt}`,i.$async,()=>{r.code((0,$._)`"use strict"; ${kl(t,n)}`),Nf(r,n),r.code(o)}):r.func(e,(0,$._)`${I.default.data}, ${Vf(n)}`,i.$async,()=>r.code(kl(t,n)).code(o))}function Vf(r){return(0,$._)`{${I.default.instancePath}="", ${I.default.parentData}, ${I.default.parentDataProperty}, ${I.default.rootData}=${I.default.data}${r.dynamicRef?(0,$._)`, ${I.default.dynamicAnchors}={}`:$.nil}}={}`}function Nf(r,e){r.if(I.default.valCxt,()=>{r.var(I.default.instancePath,(0,$._)`${I.default.valCxt}.${I.default.instancePath}`),r.var(I.default.parentData,(0,$._)`${I.default.valCxt}.${I.default.parentData}`),r.var(I.default.parentDataProperty,(0,$._)`${I.default.valCxt}.${I.default.parentDataProperty}`),r.var(I.default.rootData,(0,$._)`${I.default.valCxt}.${I.default.rootData}`),e.dynamicRef&&r.var(I.default.dynamicAnchors,(0,$._)`${I.default.valCxt}.${I.default.dynamicAnchors}`)},()=>{r.var(I.default.instancePath,(0,$._)`""`),r.var(I.default.parentData,(0,$._)`undefined`),r.var(I.default.parentDataProperty,(0,$._)`undefined`),r.var(I.default.rootData,I.default.data),e.dynamicRef&&r.var(I.default.dynamicAnchors,(0,$._)`{}`)})}function Of(r){let{schema:e,opts:t,gen:i}=r;jl(r,()=>{t.$comment&&e.$comment&&Ul(r),jf(r),i.let(I.default.vErrors,null),i.let(I.default.errors,0),t.unevaluated&&kf(r),Ll(r),qf(r)})}function kf(r){let{gen:e,validateName:t}=r;r.evaluated=e.const("evaluated",(0,$._)`${t}.evaluated`),e.if((0,$._)`${r.evaluated}.dynamicProps`,()=>e.assign((0,$._)`${r.evaluated}.props`,(0,$._)`undefined`)),e.if((0,$._)`${r.evaluated}.dynamicItems`,()=>e.assign((0,$._)`${r.evaluated}.items`,(0,$._)`undefined`))}function kl(r,e){let t=typeof r=="object"&&r[e.schemaId];return t&&(e.code.source||e.code.process)?(0,$._)`/*# sourceURL=${t} */`:$.nil}function Df(r,e){if(Wl(r)&&(ql(r),Al(r))){Mf(r,e);return}(0,Rl.boolOrEmptySchema)(r,e)}function Al({schema:r,self:e}){if(typeof r=="boolean")return!r;for(let t in r)if(e.RULES.all[t])return!0;return!1}function Wl(r){return typeof r.schema!="boolean"}function Mf(r,e){let{schema:t,gen:i,opts:n}=r;n.$comment&&t.$comment&&Ul(r),Af(r),Wf(r);let o=i.const("_errs",I.default.errors);Ll(r,o),i.var(e,(0,$._)`${o} === ${I.default.errors}`)}function ql(r){(0,ht.checkUnknownRules)(r),Rf(r)}function Ll(r,e){if(r.opts.jtd)return Dl(r,[],!1,e);let t=(0,Ol.getSchemaTypes)(r.schema),i=(0,Ol.coerceAndCheckDataType)(r,t);Dl(r,t,!i,e)}function Rf(r){let{schema:e,errSchemaPath:t,opts:i,self:n}=r;e.$ref&&i.ignoreKeywordsWithRef&&(0,ht.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${t}"`)}function jf(r){let{schema:e,opts:t}=r;e.default!==void 0&&t.useDefaults&&t.strictSchema&&(0,ht.checkStrictMode)(r,"default is ignored in the schema root")}function Af(r){let e=r.schema[r.opts.schemaId];e&&(r.baseId=(0,Pf.resolveUrl)(r.opts.uriResolver,r.baseId,e))}function Wf(r){if(r.schema.$async&&!r.schemaEnv.$async)throw new Error("async schema in sync schema")}function Ul({gen:r,schemaEnv:e,schema:t,errSchemaPath:i,opts:n}){let o=t.$comment;if(n.$comment===!0)r.code((0,$._)`${I.default.self}.logger.log(${o})`);else if(typeof n.$comment=="function"){let a=(0,$.str)`${i}/$comment`,s=r.scopeValue("root",{ref:e.root});r.code((0,$._)`${I.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function qf(r){let{gen:e,schemaEnv:t,validateName:i,ValidationError:n,opts:o}=r;t.$async?e.if((0,$._)`${I.default.errors} === 0`,()=>e.return(I.default.data),()=>e.throw((0,$._)`new ${n}(${I.default.vErrors})`)):(e.assign((0,$._)`${i}.errors`,I.default.vErrors),o.unevaluated&&Lf(r),e.return((0,$._)`${I.default.errors} === 0`))}function Lf({gen:r,evaluated:e,props:t,items:i}){t instanceof $.Name&&r.assign((0,$._)`${e}.props`,t),i instanceof $.Name&&r.assign((0,$._)`${e}.items`,i)}function Dl(r,e,t,i){let{gen:n,schema:o,data:a,allErrors:s,opts:c,self:u}=r,{RULES:d}=u;if(o.$ref&&(c.ignoreKeywordsWithRef||!(0,ht.schemaHasRulesButRef)(o,d))){n.block(()=>Bl(r,"$ref",d.all.$ref.definition));return}c.jtd||Uf(r,e),n.block(()=>{for(let v of d.rules)m(v);m(d.post)});function m(v){(0,po.shouldUseGroup)(o,v)&&(v.type?(n.if((0,Gi.checkDataType)(v.type,a,c.strictNumbers)),Ml(r,v),e.length===1&&e[0]===v.type&&t&&(n.else(),(0,Gi.reportTypeError)(r)),n.endIf()):Ml(r,v),s||n.if((0,$._)`${I.default.errors} === ${i||0}`))}}function Ml(r,e){let{gen:t,schema:i,opts:{useDefaults:n}}=r;n&&(0,Ff.assignDefaults)(r,e.type),t.block(()=>{for(let o of e.rules)(0,po.shouldUseRule)(i,o)&&Bl(r,o.keyword,o.definition,e.type)})}function Uf(r,e){r.schemaEnv.meta||!r.opts.strictTypes||(Hf(r,e),r.opts.allowUnionTypes||Bf(r,e),Kf(r,r.dataTypes))}function Hf(r,e){if(e.length){if(!r.dataTypes.length){r.dataTypes=e;return}e.forEach(t=>{Hl(r.dataTypes,t)||mo(r,`type "${t}" not allowed by context "${r.dataTypes.join(",")}"`)}),Jf(r,e)}}function Bf(r,e){e.length>1&&!(e.length===2&&e.includes("null"))&&mo(r,"use allowUnionTypes to allow union type keyword")}function Kf(r,e){let t=r.self.RULES.all;for(let i in t){let n=t[i];if(typeof n=="object"&&(0,po.shouldUseRule)(r.schema,n)){let{type:o}=n.definition;o.length&&!o.some(a=>Gf(e,a))&&mo(r,`missing type "${o.join(",")}" for keyword "${i}"`)}}}function Gf(r,e){return r.includes(e)||e==="number"&&r.includes("integer")}function Hl(r,e){return r.includes(e)||e==="integer"&&r.includes("number")}function Jf(r,e){let t=[];for(let i of r.dataTypes)Hl(e,i)?t.push(i):e.includes("integer")&&i==="number"&&t.push("integer");r.dataTypes=t}function mo(r,e){let t=r.schemaEnv.baseId+r.errSchemaPath;e+=` at "${t}" (strictTypes)`,(0,ht.checkStrictMode)(r,e,r.opts.strictTypes)}var Ji=class{constructor(e,t,i){if((0,Mr.validateKeywordUsage)(e,t,i),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=i,this.data=e.data,this.schema=e.schema[i],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ht.schemaRefOrVal)(e,this.schema,i,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",Kl(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Mr.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:t.errors!==!1)&&(this.errsCount=e.gen.const("_errs",I.default.errors))}result(e,t,i){this.failResult((0,$.not)(e),t,i)}failResult(e,t,i){this.gen.if(e),i?i():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,$.not)(e),void 0,t)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,$._)`${t} !== undefined && (${(0,$.or)(this.invalid$data(),e)})`)}error(e,t,i){if(t){this.setParams(t),this._error(e,i),this.setParams({});return}this._error(e,i)}_error(e,t){(e?Dr.reportExtraError:Dr.reportError)(this,this.def.error,t)}$dataError(){(0,Dr.reportError)(this,this.def.$dataError||Dr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Dr.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,i=$.nil){this.gen.block(()=>{this.check$data(e,i),t()})}check$data(e=$.nil,t=$.nil){if(!this.$data)return;let{gen:i,schemaCode:n,schemaType:o,def:a}=this;i.if((0,$.or)((0,$._)`${n} === undefined`,t)),e!==$.nil&&i.assign(e,!0),(o.length||a.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),e!==$.nil&&i.assign(e,!1)),i.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:i,def:n,it:o}=this;return(0,$.or)(a(),s());function a(){if(i.length){if(!(t instanceof $.Name))throw new Error("ajv implementation error");let c=Array.isArray(i)?i:[i];return(0,$._)`${(0,Gi.checkDataTypes)(c,t,o.opts.strictNumbers,Gi.DataType.Wrong)}`}return $.nil}function s(){if(n.validateSchema){let c=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,$._)`!${c}(${t})`}return $.nil}}subschema(e,t){let i=(0,fo.getSubschema)(this.it,e);(0,fo.extendSubschemaData)(i,this.it,e),(0,fo.extendSubschemaMode)(i,e);let n=Y(x(x({},this.it),i),{items:void 0,props:void 0});return Df(n,t),n}mergeEvaluated(e,t){let{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&e.props!==void 0&&(i.props=ht.mergeEvaluated.props(n,e.props,i.props,t)),i.items!==!0&&e.items!==void 0&&(i.items=ht.mergeEvaluated.items(n,e.items,i.items,t)))}mergeValidEvaluated(e,t){let{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(t,()=>this.mergeEvaluated(e,$.Name)),!0}};Tt.KeywordCxt=Ji;function Bl(r,e,t,i){let n=new Ji(r,t,e);"code"in t?t.code(n,i):n.$data&&t.validate?(0,Mr.funcKeywordCode)(n,t):"macro"in t?(0,Mr.macroKeywordCode)(n,t):(t.compile||t.validate)&&(0,Mr.funcKeywordCode)(n,t)}var Xf=/^\/(?:[^~]|~0|~1)*$/,Qf=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Kl(r,{dataLevel:e,dataNames:t,dataPathArr:i}){let n,o;if(r==="")return I.default.rootData;if(r[0]==="/"){if(!Xf.test(r))throw new Error(`Invalid JSON-pointer: ${r}`);n=r,o=I.default.rootData}else{let u=Qf.exec(r);if(!u)throw new Error(`Invalid JSON-pointer: ${r}`);let d=+u[1];if(n=u[2],n==="#"){if(d>=e)throw new Error(c("property/index",d));return i[e-d]}if(d>e)throw new Error(c("data",d));if(o=t[e-d],!n)return o}let a=o,s=n.split("/");for(let u of s)u&&(o=(0,$._)`${o}${(0,$.getProperty)((0,ht.unescapeJsonPointer)(u))}`,a=(0,$._)`${a} && ${o}`);return a;function c(u,d){return`Cannot access ${u} ${d} levels up, current level is ${e}`}}Tt.getData=Kl});var Xi=C(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});var ho=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};go.default=ho});var jr=C(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});var _o=kr(),yo=class extends Error{constructor(e,t,i,n){super(n||`can't resolve reference ${i} from id ${t}`),this.missingRef=(0,_o.resolveUrl)(e,t,i),this.missingSchema=(0,_o.normalizeId)((0,_o.getFullPath)(e,this.missingRef))}};vo.default=yo});var Zi=C(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.resolveSchema=De.getCompilingSchema=De.resolveRef=De.compileSchema=De.SchemaEnv=void 0;var je=O(),Zf=Xi(),Rt=mt(),Ae=kr(),Gl=U(),Yf=Rr(),ur=class{constructor(e){var t;this.refs={},this.dynamicAnchors={};let i;typeof e.schema=="object"&&(i=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(t=e.baseId)!==null&&t!==void 0?t:(0,Ae.normalizeId)(i?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=i?.$async,this.refs={}}};De.SchemaEnv=ur;function bo(r){let e=Jl.call(this,r);if(e)return e;let t=(0,Ae.getFullPath)(this.opts.uriResolver,r.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:o}=this.opts,a=new je.CodeGen(this.scope,{es5:i,lines:n,ownProperties:o}),s;r.$async&&(s=a.scopeValue("Error",{ref:Zf.default,code:(0,je._)`require("ajv/dist/runtime/validation_error").default`}));let c=a.scopeName("validate");r.validateName=c;let u={gen:a,allErrors:this.opts.allErrors,data:Rt.default.data,parentData:Rt.default.parentData,parentDataProperty:Rt.default.parentDataProperty,dataNames:[Rt.default.data],dataPathArr:[je.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:r.schema,code:(0,je.stringify)(r.schema)}:{ref:r.schema}),validateName:c,ValidationError:s,schema:r.schema,schemaEnv:r,rootId:t,baseId:r.baseId||t,schemaPath:je.nil,errSchemaPath:r.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,je._)`""`,opts:this.opts,self:this},d;try{this._compilations.add(r),(0,Yf.validateFunctionCode)(u),a.optimize(this.opts.code.optimize);let m=a.toString();d=`${a.scopeRefs(Rt.default.scope)}return ${m}`,this.opts.code.process&&(d=this.opts.code.process(d,r));let g=new Function(`${Rt.default.self}`,`${Rt.default.scope}`,d)(this,this.scope.get());if(this.scope.value(c,{ref:g}),g.errors=null,g.schema=r.schema,g.schemaEnv=r,r.$async&&(g.$async=!0),this.opts.code.source===!0&&(g.source={validateName:c,validateCode:m,scopeValues:a._values}),this.opts.unevaluated){let{props:_,items:p}=u;g.evaluated={props:_ instanceof je.Name?void 0:_,items:p instanceof je.Name?void 0:p,dynamicProps:_ instanceof je.Name,dynamicItems:p instanceof je.Name},g.source&&(g.source.evaluated=(0,je.stringify)(g.evaluated))}return r.validate=g,r}catch(m){throw delete r.validate,delete r.validateName,d&&this.logger.error("Error compiling schema, function code:",d),m}finally{this._compilations.delete(r)}}De.compileSchema=bo;function ep(r,e,t){var i;t=(0,Ae.resolveUrl)(this.opts.uriResolver,e,t);let n=r.refs[t];if(n)return n;let o=ip.call(this,r,t);if(o===void 0){let a=(i=r.localRefs)===null||i===void 0?void 0:i[t],{schemaId:s}=this.opts;a&&(o=new ur({schema:a,schemaId:s,root:r,baseId:e}))}if(o!==void 0)return r.refs[t]=tp.call(this,o)}De.resolveRef=ep;function tp(r){return(0,Ae.inlineRef)(r.schema,this.opts.inlineRefs)?r.schema:r.validate?r:bo.call(this,r)}function Jl(r){for(let e of this._compilations)if(rp(e,r))return e}De.getCompilingSchema=Jl;function rp(r,e){return r.schema===e.schema&&r.root===e.root&&r.baseId===e.baseId}function ip(r,e){let t;for(;typeof(t=this.refs[e])=="string";)e=t;return t||this.schemas[e]||Qi.call(this,r,e)}function Qi(r,e){let t=this.opts.uriResolver.parse(e),i=(0,Ae._getFullPath)(this.opts.uriResolver,t),n=(0,Ae.getFullPath)(this.opts.uriResolver,r.baseId,void 0);if(Object.keys(r.schema).length>0&&i===n)return So.call(this,t,r);let o=(0,Ae.normalizeId)(i),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){let s=Qi.call(this,r,a);return typeof s?.schema!="object"?void 0:So.call(this,t,s)}if(typeof a?.schema=="object"){if(a.validate||bo.call(this,a),o===(0,Ae.normalizeId)(e)){let{schema:s}=a,{schemaId:c}=this.opts,u=s[c];return u&&(n=(0,Ae.resolveUrl)(this.opts.uriResolver,n,u)),new ur({schema:s,schemaId:c,root:r,baseId:n})}return So.call(this,t,a)}}De.resolveSchema=Qi;var np=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function So(r,{baseId:e,schema:t,root:i}){var n;if(((n=r.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let s of r.fragment.slice(1).split("/")){if(typeof t=="boolean")return;let c=t[(0,Gl.unescapeFragment)(s)];if(c===void 0)return;t=c;let u=typeof t=="object"&&t[this.opts.schemaId];!np.has(s)&&u&&(e=(0,Ae.resolveUrl)(this.opts.uriResolver,e,u))}let o;if(typeof t!="boolean"&&t.$ref&&!(0,Gl.schemaHasRulesButRef)(t,this.RULES)){let s=(0,Ae.resolveUrl)(this.opts.uriResolver,e,t.$ref);o=Qi.call(this,i,s)}let{schemaId:a}=this.opts;if(o=o||new ur({schema:t,schemaId:a,root:i,baseId:e}),o.schema!==o.root.schema)return o}});var Xl=C((qy,op)=>{op.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Co=C((Ly,ec)=>{"use strict";var ap=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),Zl=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function wo(r){let e="",t=0,i=0;for(i=0;i<r.length;i++)if(t=r[i].charCodeAt(0),t!==48){if(!(t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102))return"";e+=r[i];break}for(i+=1;i<r.length;i++){if(t=r[i].charCodeAt(0),!(t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102))return"";e+=r[i]}return e}var sp=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function Ql(r){return r.length=0,!0}function lp(r,e,t){if(r.length){let i=wo(r);if(i!=="")e.push(i);else return t.error=!0,!1;r.length=0}return!0}function cp(r){let e=0,t={error:!1,address:"",zone:""},i=[],n=[],o=!1,a=!1,s=lp;for(let c=0;c<r.length;c++){let u=r[c];if(!(u==="["||u==="]"))if(u===":"){if(o===!0&&(a=!0),!s(n,i,t))break;if(++e>7){t.error=!0;break}c>0&&r[c-1]===":"&&(o=!0),i.push(":");continue}else if(u==="%"){if(!s(n,i,t))break;s=Ql}else{n.push(u);continue}}return n.length&&(s===Ql?t.zone=n.join(""):a?i.push(n.join("")):i.push(wo(n))),t.address=i.join(""),t}function Yl(r){if(dp(r,":")<2)return{host:r,isIPV6:!1};let e=cp(r);if(e.error)return{host:r,isIPV6:!1};{let t=e.address,i=e.address;return e.zone&&(t+="%"+e.zone,i+="%25"+e.zone),{host:t,isIPV6:!0,escapedHost:i}}}function dp(r,e){let t=0;for(let i=0;i<r.length;i++)r[i]===e&&t++;return t}function up(r){let e=r,t=[],i=-1,n=0;for(;n=e.length;){if(n===1){if(e===".")break;if(e==="/"){t.push("/");break}else{t.push(e);break}}else if(n===2){if(e[0]==="."){if(e[1]===".")break;if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&(e[1]==="."||e[1]==="/")){t.push("/");break}}else if(n===3&&e==="/.."){t.length!==0&&t.pop(),t.push("/");break}if(e[0]==="."){if(e[1]==="."){if(e[2]==="/"){e=e.slice(3);continue}}else if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&e[1]==="."){if(e[2]==="/"){e=e.slice(2);continue}else if(e[2]==="."&&e[3]==="/"){e=e.slice(3),t.length!==0&&t.pop();continue}}if((i=e.indexOf("/",1))===-1){t.push(e);break}else t.push(e.slice(0,i)),e=e.slice(i)}return t.join("")}function fp(r,e){let t=e!==!0?escape:unescape;return r.scheme!==void 0&&(r.scheme=t(r.scheme)),r.userinfo!==void 0&&(r.userinfo=t(r.userinfo)),r.host!==void 0&&(r.host=t(r.host)),r.path!==void 0&&(r.path=t(r.path)),r.query!==void 0&&(r.query=t(r.query)),r.fragment!==void 0&&(r.fragment=t(r.fragment)),r}function pp(r){let e=[];if(r.userinfo!==void 0&&(e.push(r.userinfo),e.push("@")),r.host!==void 0){let t=unescape(r.host);if(!Zl(t)){let i=Yl(t);i.isIPV6===!0?t=`[${i.escapedHost}]`:t=r.host}e.push(t)}return(typeof r.port=="number"||typeof r.port=="string")&&(e.push(":"),e.push(String(r.port))),e.length?e.join(""):void 0}ec.exports={nonSimpleDomain:sp,recomposeAuthority:pp,normalizeComponentEncoding:fp,removeDotSegments:up,isIPv4:Zl,isUUID:ap,normalizeIPv6:Yl,stringArrayToHexStripped:wo}});var oc=C((Uy,nc)=>{"use strict";var{isUUID:mp}=Co(),hp=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,gp=["http","https","ws","wss","urn","urn:uuid"];function _p(r){return gp.indexOf(r)!==-1}function xo(r){return r.secure===!0?!0:r.secure===!1?!1:r.scheme?r.scheme.length===3&&(r.scheme[0]==="w"||r.scheme[0]==="W")&&(r.scheme[1]==="s"||r.scheme[1]==="S")&&(r.scheme[2]==="s"||r.scheme[2]==="S"):!1}function tc(r){return r.host||(r.error=r.error||"HTTP URIs must have a host."),r}function rc(r){let e=String(r.scheme).toLowerCase()==="https";return(r.port===(e?443:80)||r.port==="")&&(r.port=void 0),r.path||(r.path="/"),r}function yp(r){return r.secure=xo(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r}function vp(r){if((r.port===(xo(r)?443:80)||r.port==="")&&(r.port=void 0),typeof r.secure=="boolean"&&(r.scheme=r.secure?"wss":"ws",r.secure=void 0),r.resourceName){let[e,t]=r.resourceName.split("?");r.path=e&&e!=="/"?e:void 0,r.query=t,r.resourceName=void 0}return r.fragment=void 0,r}function Sp(r,e){if(!r.path)return r.error="URN can not be parsed",r;let t=r.path.match(hp);if(t){let i=e.scheme||r.scheme||"urn";r.nid=t[1].toLowerCase(),r.nss=t[2];let n=`${i}:${e.nid||r.nid}`,o=zo(n);r.path=void 0,o&&(r=o.parse(r,e))}else r.error=r.error||"URN can not be parsed.";return r}function bp(r,e){if(r.nid===void 0)throw new Error("URN without nid cannot be serialized");let t=e.scheme||r.scheme||"urn",i=r.nid.toLowerCase(),n=`${t}:${e.nid||i}`,o=zo(n);o&&(r=o.serialize(r,e));let a=r,s=r.nss;return a.path=`${i||e.nid}:${s}`,e.skipEscape=!0,a}function wp(r,e){let t=r;return t.uuid=t.nss,t.nss=void 0,!e.tolerant&&(!t.uuid||!mp(t.uuid))&&(t.error=t.error||"UUID is not valid."),t}function Cp(r){let e=r;return e.nss=(r.uuid||"").toLowerCase(),e}var ic={scheme:"http",domainHost:!0,parse:tc,serialize:rc},xp={scheme:"https",domainHost:ic.domainHost,parse:tc,serialize:rc},Yi={scheme:"ws",domainHost:!0,parse:yp,serialize:vp},zp={scheme:"wss",domainHost:Yi.domainHost,parse:Yi.parse,serialize:Yi.serialize},$p={scheme:"urn",parse:Sp,serialize:bp,skipNormalize:!0},Ep={scheme:"urn:uuid",parse:wp,serialize:Cp,skipNormalize:!0},en={http:ic,https:xp,ws:Yi,wss:zp,urn:$p,"urn:uuid":Ep};Object.setPrototypeOf(en,null);function zo(r){return r&&(en[r]||en[r.toLowerCase()])||void 0}nc.exports={wsIsSecure:xo,SCHEMES:en,isValidSchemeName:_p,getSchemeHandler:zo}});var lc=C((Hy,rn)=>{"use strict";var{normalizeIPv6:Tp,removeDotSegments:Ar,recomposeAuthority:Fp,normalizeComponentEncoding:tn,isIPv4:Pp,nonSimpleDomain:Ip}=Co(),{SCHEMES:Vp,getSchemeHandler:ac}=oc();function Np(r,e){return typeof r=="string"?r=it(gt(r,e),e):typeof r=="object"&&(r=gt(it(r,e),e)),r}function Op(r,e,t){let i=t?Object.assign({scheme:"null"},t):{scheme:"null"},n=sc(gt(r,i),gt(e,i),i,!0);return i.skipEscape=!0,it(n,i)}function sc(r,e,t,i){let n={};return i||(r=gt(it(r,t),t),e=gt(it(e,t),t)),t=t||{},!t.tolerant&&e.scheme?(n.scheme=e.scheme,n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=Ar(e.path||""),n.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=Ar(e.path||""),n.query=e.query):(e.path?(e.path[0]==="/"?n.path=Ar(e.path):((r.userinfo!==void 0||r.host!==void 0||r.port!==void 0)&&!r.path?n.path="/"+e.path:r.path?n.path=r.path.slice(0,r.path.lastIndexOf("/")+1)+e.path:n.path=e.path,n.path=Ar(n.path)),n.query=e.query):(n.path=r.path,e.query!==void 0?n.query=e.query:n.query=r.query),n.userinfo=r.userinfo,n.host=r.host,n.port=r.port),n.scheme=r.scheme),n.fragment=e.fragment,n}function kp(r,e,t){return typeof r=="string"?(r=unescape(r),r=it(tn(gt(r,t),!0),Y(x({},t),{skipEscape:!0}))):typeof r=="object"&&(r=it(tn(r,!0),Y(x({},t),{skipEscape:!0}))),typeof e=="string"?(e=unescape(e),e=it(tn(gt(e,t),!0),Y(x({},t),{skipEscape:!0}))):typeof e=="object"&&(e=it(tn(e,!0),Y(x({},t),{skipEscape:!0}))),r.toLowerCase()===e.toLowerCase()}function it(r,e){let t={host:r.host,scheme:r.scheme,userinfo:r.userinfo,port:r.port,path:r.path,query:r.query,nid:r.nid,nss:r.nss,uuid:r.uuid,fragment:r.fragment,reference:r.reference,resourceName:r.resourceName,secure:r.secure,error:""},i=Object.assign({},e),n=[],o=ac(i.scheme||t.scheme);o&&o.serialize&&o.serialize(t,i),t.path!==void 0&&(i.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),t.scheme!==void 0&&(t.path=t.path.split("%3A").join(":")))),i.reference!=="suffix"&&t.scheme&&n.push(t.scheme,":");let a=Fp(t);if(a!==void 0&&(i.reference!=="suffix"&&n.push("//"),n.push(a),t.path&&t.path[0]!=="/"&&n.push("/")),t.path!==void 0){let s=t.path;!i.absolutePath&&(!o||!o.absolutePath)&&(s=Ar(s)),a===void 0&&s[0]==="/"&&s[1]==="/"&&(s="/%2F"+s.slice(2)),n.push(s)}return t.query!==void 0&&n.push("?",t.query),t.fragment!==void 0&&n.push("#",t.fragment),n.join("")}var Dp=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function gt(r,e){let t=Object.assign({},e),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},n=!1;t.reference==="suffix"&&(t.scheme?r=t.scheme+":"+r:r="//"+r);let o=r.match(Dp);if(o){if(i.scheme=o[1],i.userinfo=o[3],i.host=o[4],i.port=parseInt(o[5],10),i.path=o[6]||"",i.query=o[7],i.fragment=o[8],isNaN(i.port)&&(i.port=o[5]),i.host)if(Pp(i.host)===!1){let c=Tp(i.host);i.host=c.host.toLowerCase(),n=c.isIPV6}else n=!0;i.scheme===void 0&&i.userinfo===void 0&&i.host===void 0&&i.port===void 0&&i.query===void 0&&!i.path?i.reference="same-document":i.scheme===void 0?i.reference="relative":i.fragment===void 0?i.reference="absolute":i.reference="uri",t.reference&&t.reference!=="suffix"&&t.reference!==i.reference&&(i.error=i.error||"URI is not a "+t.reference+" reference.");let a=ac(t.scheme||i.scheme);if(!t.unicodeSupport&&(!a||!a.unicodeSupport)&&i.host&&(t.domainHost||a&&a.domainHost)&&n===!1&&Ip(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(s){i.error=i.error||"Host's domain name can not be converted to ASCII: "+s}(!a||a&&!a.skipNormalize)&&(r.indexOf("%")!==-1&&(i.scheme!==void 0&&(i.scheme=unescape(i.scheme)),i.host!==void 0&&(i.host=unescape(i.host))),i.path&&(i.path=escape(unescape(i.path))),i.fragment&&(i.fragment=encodeURI(decodeURIComponent(i.fragment)))),a&&a.parse&&a.parse(i,t)}else i.error=i.error||"URI can not be parsed.";return i}var $o={SCHEMES:Vp,normalize:Np,resolve:Op,resolveComponent:sc,equal:kp,serialize:it,parse:gt};rn.exports=$o;rn.exports.default=$o;rn.exports.fastUri=$o});var dc=C(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});var cc=lc();cc.code='require("ajv/dist/runtime/uri").default';Eo.default=cc});var yc=C(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.CodeGen=de.Name=de.nil=de.stringify=de.str=de._=de.KeywordCxt=void 0;var Mp=Rr();Object.defineProperty(de,"KeywordCxt",{enumerable:!0,get:function(){return Mp.KeywordCxt}});var fr=O();Object.defineProperty(de,"_",{enumerable:!0,get:function(){return fr._}});Object.defineProperty(de,"str",{enumerable:!0,get:function(){return fr.str}});Object.defineProperty(de,"stringify",{enumerable:!0,get:function(){return fr.stringify}});Object.defineProperty(de,"nil",{enumerable:!0,get:function(){return fr.nil}});Object.defineProperty(de,"Name",{enumerable:!0,get:function(){return fr.Name}});Object.defineProperty(de,"CodeGen",{enumerable:!0,get:function(){return fr.CodeGen}});var Rp=Xi(),hc=jr(),jp=to(),Wr=Zi(),Ap=O(),qr=kr(),nn=Or(),Fo=U(),uc=Xl(),Wp=dc(),gc=(r,e)=>new RegExp(r,e);gc.code="new RegExp";var qp=["removeAdditional","useDefaults","coerceTypes"],Lp=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Up={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Hp={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},fc=200;function Bp(r){var e,t,i,n,o,a,s,c,u,d,m,v,g,_,p,S,z,j,M,Z,V,Ue,ct,xn,zn;let zr=r.strict,$n=(e=r.code)===null||e===void 0?void 0:e.optimize,Pa=$n===!0||$n===void 0?1:$n||0,Ia=(i=(t=r.code)===null||t===void 0?void 0:t.regExp)!==null&&i!==void 0?i:gc,qd=(n=r.uriResolver)!==null&&n!==void 0?n:Wp.default;return{strictSchema:(a=(o=r.strictSchema)!==null&&o!==void 0?o:zr)!==null&&a!==void 0?a:!0,strictNumbers:(c=(s=r.strictNumbers)!==null&&s!==void 0?s:zr)!==null&&c!==void 0?c:!0,strictTypes:(d=(u=r.strictTypes)!==null&&u!==void 0?u:zr)!==null&&d!==void 0?d:"log",strictTuples:(v=(m=r.strictTuples)!==null&&m!==void 0?m:zr)!==null&&v!==void 0?v:"log",strictRequired:(_=(g=r.strictRequired)!==null&&g!==void 0?g:zr)!==null&&_!==void 0?_:!1,code:r.code?Y(x({},r.code),{optimize:Pa,regExp:Ia}):{optimize:Pa,regExp:Ia},loopRequired:(p=r.loopRequired)!==null&&p!==void 0?p:fc,loopEnum:(S=r.loopEnum)!==null&&S!==void 0?S:fc,meta:(z=r.meta)!==null&&z!==void 0?z:!0,messages:(j=r.messages)!==null&&j!==void 0?j:!0,inlineRefs:(M=r.inlineRefs)!==null&&M!==void 0?M:!0,schemaId:(Z=r.schemaId)!==null&&Z!==void 0?Z:"$id",addUsedSchema:(V=r.addUsedSchema)!==null&&V!==void 0?V:!0,validateSchema:(Ue=r.validateSchema)!==null&&Ue!==void 0?Ue:!0,validateFormats:(ct=r.validateFormats)!==null&&ct!==void 0?ct:!0,unicodeRegExp:(xn=r.unicodeRegExp)!==null&&xn!==void 0?xn:!0,int32range:(zn=r.int32range)!==null&&zn!==void 0?zn:!0,uriResolver:qd}}var Lr=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=x(x({},e),Bp(e));let{es5:t,lines:i}=this.opts.code;this.scope=new Ap.ValueScope({scope:{},prefixes:Lp,es5:t,lines:i}),this.logger=Zp(e.logger);let n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,jp.getRules)(),pc.call(this,Up,e,"NOT SUPPORTED"),pc.call(this,Hp,e,"DEPRECATED","warn"),this._metaOpts=Xp.call(this),e.formats&&Gp.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Jp.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Kp.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:i}=this.opts,n=uc;i==="id"&&(n=x({},uc),n.id=n.$id,delete n.$id),t&&e&&this.addMetaSchema(n,n[i],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[t]||e:void 0}validate(e,t){let i;if(typeof e=="string"){if(i=this.getSchema(e),!i)throw new Error(`no schema with key or ref "${e}"`)}else i=this.compile(e);let n=i(t);return"$async"in i||(this.errors=i.errors),n}compile(e,t){let i=this._addSchema(e,t);return i.validate||this._compileSchemaEnv(i)}compileAsync(e,t){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return n.call(this,e,t);async function n(d,m){await o.call(this,d.$schema);let v=this._addSchema(d,m);return v.validate||a.call(this,v)}async function o(d){d&&!this.getSchema(d)&&await n.call(this,{$ref:d},!0)}async function a(d){try{return this._compileSchemaEnv(d)}catch(m){if(!(m instanceof hc.default))throw m;return s.call(this,m),await c.call(this,m.missingSchema),a.call(this,d)}}function s({missingSchema:d,missingRef:m}){if(this.refs[d])throw new Error(`AnySchema ${d} is loaded but ${m} cannot be resolved`)}async function c(d){let m=await u.call(this,d);this.refs[d]||await o.call(this,m.$schema),this.refs[d]||this.addSchema(m,d,t)}async function u(d){let m=this._loading[d];if(m)return m;try{return await(this._loading[d]=i(d))}finally{delete this._loading[d]}}}addSchema(e,t,i,n=this.opts.validateSchema){if(Array.isArray(e)){for(let a of e)this.addSchema(a,void 0,i,n);return this}let o;if(typeof e=="object"){let{schemaId:a}=this.opts;if(o=e[a],o!==void 0&&typeof o!="string")throw new Error(`schema ${a} must be string`)}return t=(0,qr.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,i,t,n,!0),this}addMetaSchema(e,t,i=this.opts.validateSchema){return this.addSchema(e,t,!0,i),this}validateSchema(e,t){if(typeof e=="boolean")return!0;let i;if(i=e.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(i,e);if(!n&&t){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return n}getSchema(e){let t;for(;typeof(t=mc.call(this,e))=="string";)e=t;if(t===void 0){let{schemaId:i}=this.opts,n=new Wr.SchemaEnv({schema:{},schemaId:i});if(t=Wr.resolveSchema.call(this,n,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=mc.call(this,e);return typeof t=="object"&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let t=e;this._cache.delete(t);let i=e[this.opts.schemaId];return i&&(i=(0,qr.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let i;if(typeof e=="string")i=e,typeof t=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=i);else if(typeof e=="object"&&t===void 0){if(t=e,i=t.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(em.call(this,i,t),!t)return(0,Fo.eachItem)(i,o=>To.call(this,o)),this;rm.call(this,t);let n=Y(x({},t),{type:(0,nn.getJSONTypes)(t.type),schemaType:(0,nn.getJSONTypes)(t.schemaType)});return(0,Fo.eachItem)(i,n.type.length===0?o=>To.call(this,o,n):o=>n.type.forEach(a=>To.call(this,o,n,a))),this}getKeyword(e){let t=this.RULES.all[e];return typeof t=="object"?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(let i of t.rules){let n=i.rules.findIndex(o=>o.keyword===e);n>=0&&i.rules.splice(n,1)}return this}addFormat(e,t){return typeof t=="string"&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:i="data"}={}){return!e||e.length===0?"No errors":e.map(n=>`${i}${n.instancePath} ${n.message}`).reduce((n,o)=>n+t+o)}$dataMetaSchema(e,t){let i=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let n of t){let o=n.split("/").slice(1),a=e;for(let s of o)a=a[s];for(let s in i){let c=i[s];if(typeof c!="object")continue;let{$data:u}=c.definition,d=a[s];u&&d&&(a[s]=_c(d))}}return e}_removeAllSchemas(e,t){for(let i in e){let n=e[i];(!t||t.test(i))&&(typeof n=="string"?delete e[i]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[i]))}}_addSchema(e,t,i,n=this.opts.validateSchema,o=this.opts.addUsedSchema){let a,{schemaId:s}=this.opts;if(typeof e=="object")a=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;i=(0,qr.normalizeId)(a||i);let u=qr.getSchemaRefs.call(this,e,i);return c=new Wr.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:i,localRefs:u}),this._cache.set(c.schema,c),o&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=c),n&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Wr.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{Wr.compileSchema.call(this,e)}finally{this.opts=t}}};Lr.ValidationError=Rp.default;Lr.MissingRefError=hc.default;de.default=Lr;function pc(r,e,t,i="error"){for(let n in r){let o=n;o in e&&this.logger[i](`${t}: option ${n}. ${r[o]}`)}}function mc(r){return r=(0,qr.normalizeId)(r),this.schemas[r]||this.refs[r]}function Kp(){let r=this.opts.schemas;if(r)if(Array.isArray(r))this.addSchema(r);else for(let e in r)this.addSchema(r[e],e)}function Gp(){for(let r in this.opts.formats){let e=this.opts.formats[r];e&&this.addFormat(r,e)}}function Jp(r){if(Array.isArray(r)){this.addVocabulary(r);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in r){let t=r[e];t.keyword||(t.keyword=e),this.addKeyword(t)}}function Xp(){let r=x({},this.opts);for(let e of qp)delete r[e];return r}var Qp={log(){},warn(){},error(){}};function Zp(r){if(r===!1)return Qp;if(r===void 0)return console;if(r.log&&r.warn&&r.error)return r;throw new Error("logger must implement log, warn and error methods")}var Yp=/^[a-z_$][a-z0-9_$:-]*$/i;function em(r,e){let{RULES:t}=this;if((0,Fo.eachItem)(r,i=>{if(t.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!Yp.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function To(r,e,t){var i;let n=e?.post;if(t&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,a=n?o.post:o.rules.find(({type:c})=>c===t);if(a||(a={type:t,rules:[]},o.rules.push(a)),o.keywords[r]=!0,!e)return;let s={keyword:r,definition:Y(x({},e),{type:(0,nn.getJSONTypes)(e.type),schemaType:(0,nn.getJSONTypes)(e.schemaType)})};e.before?tm.call(this,a,s,e.before):a.rules.push(s),o.all[r]=s,(i=e.implements)===null||i===void 0||i.forEach(c=>this.addKeyword(c))}function tm(r,e,t){let i=r.rules.findIndex(n=>n.keyword===t);i>=0?r.rules.splice(i,0,e):(r.rules.push(e),this.logger.warn(`rule ${t} is not defined`))}function rm(r){let{metaSchema:e}=r;e!==void 0&&(r.$data&&this.opts.$data&&(e=_c(e)),r.validateSchema=this.compile(e,!0))}var im={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function _c(r){return{anyOf:[r,im]}}});var vc=C(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});var nm={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Po.default=nm});var Cc=C(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.callRef=jt.getValidate=void 0;var om=jr(),Sc=ke(),ze=O(),pr=mt(),bc=Zi(),on=U(),am={keyword:"$ref",schemaType:"string",code(r){let{gen:e,schema:t,it:i}=r,{baseId:n,schemaEnv:o,validateName:a,opts:s,self:c}=i,{root:u}=o;if((t==="#"||t==="#/")&&n===u.baseId)return m();let d=bc.resolveRef.call(c,u,n,t);if(d===void 0)throw new om.default(i.opts.uriResolver,n,t);if(d instanceof bc.SchemaEnv)return v(d);return g(d);function m(){if(o===u)return an(r,a,o,o.$async);let _=e.scopeValue("root",{ref:u});return an(r,(0,ze._)`${_}.validate`,u,u.$async)}function v(_){let p=wc(r,_);an(r,p,_,_.$async)}function g(_){let p=e.scopeValue("schema",s.code.source===!0?{ref:_,code:(0,ze.stringify)(_)}:{ref:_}),S=e.name("valid"),z=r.subschema({schema:_,dataTypes:[],schemaPath:ze.nil,topSchemaRef:p,errSchemaPath:t},S);r.mergeEvaluated(z),r.ok(S)}}};function wc(r,e){let{gen:t}=r;return e.validate?t.scopeValue("validate",{ref:e.validate}):(0,ze._)`${t.scopeValue("wrapper",{ref:e})}.validate`}jt.getValidate=wc;function an(r,e,t,i){let{gen:n,it:o}=r,{allErrors:a,schemaEnv:s,opts:c}=o,u=c.passContext?pr.default.this:ze.nil;i?d():m();function d(){if(!s.$async)throw new Error("async schema referenced by sync schema");let _=n.let("valid");n.try(()=>{n.code((0,ze._)`await ${(0,Sc.callValidateCode)(r,e,u)}`),g(e),a||n.assign(_,!0)},p=>{n.if((0,ze._)`!(${p} instanceof ${o.ValidationError})`,()=>n.throw(p)),v(p),a||n.assign(_,!1)}),r.ok(_)}function m(){r.result((0,Sc.callValidateCode)(r,e,u),()=>g(e),()=>v(e))}function v(_){let p=(0,ze._)`${_}.errors`;n.assign(pr.default.vErrors,(0,ze._)`${pr.default.vErrors} === null ? ${p} : ${pr.default.vErrors}.concat(${p})`),n.assign(pr.default.errors,(0,ze._)`${pr.default.vErrors}.length`)}function g(_){var p;if(!o.opts.unevaluated)return;let S=(p=t?.validate)===null||p===void 0?void 0:p.evaluated;if(o.props!==!0)if(S&&!S.dynamicProps)S.props!==void 0&&(o.props=on.mergeEvaluated.props(n,S.props,o.props));else{let z=n.var("props",(0,ze._)`${_}.evaluated.props`);o.props=on.mergeEvaluated.props(n,z,o.props,ze.Name)}if(o.items!==!0)if(S&&!S.dynamicItems)S.items!==void 0&&(o.items=on.mergeEvaluated.items(n,S.items,o.items));else{let z=n.var("items",(0,ze._)`${_}.evaluated.items`);o.items=on.mergeEvaluated.items(n,z,o.items,ze.Name)}}}jt.callRef=an;jt.default=am});var xc=C(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var sm=vc(),lm=Cc(),cm=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",sm.default,lm.default];Io.default=cm});var zc=C(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});var sn=O(),Ft=sn.operators,ln={maximum:{okStr:"<=",ok:Ft.LTE,fail:Ft.GT},minimum:{okStr:">=",ok:Ft.GTE,fail:Ft.LT},exclusiveMaximum:{okStr:"<",ok:Ft.LT,fail:Ft.GTE},exclusiveMinimum:{okStr:">",ok:Ft.GT,fail:Ft.LTE}},dm={message:({keyword:r,schemaCode:e})=>(0,sn.str)`must be ${ln[r].okStr} ${e}`,params:({keyword:r,schemaCode:e})=>(0,sn._)`{comparison: ${ln[r].okStr}, limit: ${e}}`},um={keyword:Object.keys(ln),type:"number",schemaType:"number",$data:!0,error:dm,code(r){let{keyword:e,data:t,schemaCode:i}=r;r.fail$data((0,sn._)`${t} ${ln[e].fail} ${i} || isNaN(${t})`)}};Vo.default=um});var $c=C(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});var Ur=O(),fm={message:({schemaCode:r})=>(0,Ur.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,Ur._)`{multipleOf: ${r}}`},pm={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:fm,code(r){let{gen:e,data:t,schemaCode:i,it:n}=r,o=n.opts.multipleOfPrecision,a=e.let("res"),s=o?(0,Ur._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,Ur._)`${a} !== parseInt(${a})`;r.fail$data((0,Ur._)`(${i} === 0 || (${a} = ${t}/${i}, ${s}))`)}};No.default=pm});var Tc=C(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});function Ec(r){let e=r.length,t=0,i=0,n;for(;i<e;)t++,n=r.charCodeAt(i++),n>=55296&&n<=56319&&i<e&&(n=r.charCodeAt(i),(n&64512)===56320&&i++);return t}Oo.default=Ec;Ec.code='require("ajv/dist/runtime/ucs2length").default'});var Fc=C(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});var At=O(),mm=U(),hm=Tc(),gm={message({keyword:r,schemaCode:e}){let t=r==="maxLength"?"more":"fewer";return(0,At.str)`must NOT have ${t} than ${e} characters`},params:({schemaCode:r})=>(0,At._)`{limit: ${r}}`},_m={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:gm,code(r){let{keyword:e,data:t,schemaCode:i,it:n}=r,o=e==="maxLength"?At.operators.GT:At.operators.LT,a=n.opts.unicode===!1?(0,At._)`${t}.length`:(0,At._)`${(0,mm.useFunc)(r.gen,hm.default)}(${t})`;r.fail$data((0,At._)`${a} ${o} ${i}`)}};ko.default=_m});var Pc=C(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var ym=ke(),cn=O(),vm={message:({schemaCode:r})=>(0,cn.str)`must match pattern "${r}"`,params:({schemaCode:r})=>(0,cn._)`{pattern: ${r}}`},Sm={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:vm,code(r){let{data:e,$data:t,schema:i,schemaCode:n,it:o}=r,a=o.opts.unicodeRegExp?"u":"",s=t?(0,cn._)`(new RegExp(${n}, ${a}))`:(0,ym.usePattern)(r,i);r.fail$data((0,cn._)`!${s}.test(${e})`)}};Do.default=Sm});var Ic=C(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});var Hr=O(),bm={message({keyword:r,schemaCode:e}){let t=r==="maxProperties"?"more":"fewer";return(0,Hr.str)`must NOT have ${t} than ${e} properties`},params:({schemaCode:r})=>(0,Hr._)`{limit: ${r}}`},wm={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:bm,code(r){let{keyword:e,data:t,schemaCode:i}=r,n=e==="maxProperties"?Hr.operators.GT:Hr.operators.LT;r.fail$data((0,Hr._)`Object.keys(${t}).length ${n} ${i}`)}};Mo.default=wm});var Vc=C(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});var Br=ke(),Kr=O(),Cm=U(),xm={message:({params:{missingProperty:r}})=>(0,Kr.str)`must have required property '${r}'`,params:({params:{missingProperty:r}})=>(0,Kr._)`{missingProperty: ${r}}`},zm={keyword:"required",type:"object",schemaType:"array",$data:!0,error:xm,code(r){let{gen:e,schema:t,schemaCode:i,data:n,$data:o,it:a}=r,{opts:s}=a;if(!o&&t.length===0)return;let c=t.length>=s.loopRequired;if(a.allErrors?u():d(),s.strictRequired){let g=r.parentSchema.properties,{definedProperties:_}=r.it;for(let p of t)if(g?.[p]===void 0&&!_.has(p)){let S=a.schemaEnv.baseId+a.errSchemaPath,z=`required property "${p}" is not defined at "${S}" (strictRequired)`;(0,Cm.checkStrictMode)(a,z,a.opts.strictRequired)}}function u(){if(c||o)r.block$data(Kr.nil,m);else for(let g of t)(0,Br.checkReportMissingProp)(r,g)}function d(){let g=e.let("missing");if(c||o){let _=e.let("valid",!0);r.block$data(_,()=>v(g,_)),r.ok(_)}else e.if((0,Br.checkMissingProp)(r,t,g)),(0,Br.reportMissingProp)(r,g),e.else()}function m(){e.forOf("prop",i,g=>{r.setParams({missingProperty:g}),e.if((0,Br.noPropertyInData)(e,n,g,s.ownProperties),()=>r.error())})}function v(g,_){r.setParams({missingProperty:g}),e.forOf(g,i,()=>{e.assign(_,(0,Br.propertyInData)(e,n,g,s.ownProperties)),e.if((0,Kr.not)(_),()=>{r.error(),e.break()})},Kr.nil)}}};Ro.default=zm});var Nc=C(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});var Gr=O(),$m={message({keyword:r,schemaCode:e}){let t=r==="maxItems"?"more":"fewer";return(0,Gr.str)`must NOT have ${t} than ${e} items`},params:({schemaCode:r})=>(0,Gr._)`{limit: ${r}}`},Em={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:$m,code(r){let{keyword:e,data:t,schemaCode:i}=r,n=e==="maxItems"?Gr.operators.GT:Gr.operators.LT;r.fail$data((0,Gr._)`${t}.length ${n} ${i}`)}};jo.default=Em});var dn=C(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var Oc=co();Oc.code='require("ajv/dist/runtime/equal").default';Ao.default=Oc});var kc=C(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});var Wo=Or(),ue=O(),Tm=U(),Fm=dn(),Pm={message:({params:{i:r,j:e}})=>(0,ue.str)`must NOT have duplicate items (items ## ${e} and ${r} are identical)`,params:({params:{i:r,j:e}})=>(0,ue._)`{i: ${r}, j: ${e}}`},Im={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Pm,code(r){let{gen:e,data:t,$data:i,schema:n,parentSchema:o,schemaCode:a,it:s}=r;if(!i&&!n)return;let c=e.let("valid"),u=o.items?(0,Wo.getSchemaTypes)(o.items):[];r.block$data(c,d,(0,ue._)`${a} === false`),r.ok(c);function d(){let _=e.let("i",(0,ue._)`${t}.length`),p=e.let("j");r.setParams({i:_,j:p}),e.assign(c,!0),e.if((0,ue._)`${_} > 1`,()=>(m()?v:g)(_,p))}function m(){return u.length>0&&!u.some(_=>_==="object"||_==="array")}function v(_,p){let S=e.name("item"),z=(0,Wo.checkDataTypes)(u,S,s.opts.strictNumbers,Wo.DataType.Wrong),j=e.const("indices",(0,ue._)`{}`);e.for((0,ue._)`;${_}--;`,()=>{e.let(S,(0,ue._)`${t}[${_}]`),e.if(z,(0,ue._)`continue`),u.length>1&&e.if((0,ue._)`typeof ${S} == "string"`,(0,ue._)`${S} += "_"`),e.if((0,ue._)`typeof ${j}[${S}] == "number"`,()=>{e.assign(p,(0,ue._)`${j}[${S}]`),r.error(),e.assign(c,!1).break()}).code((0,ue._)`${j}[${S}] = ${_}`)})}function g(_,p){let S=(0,Tm.useFunc)(e,Fm.default),z=e.name("outer");e.label(z).for((0,ue._)`;${_}--;`,()=>e.for((0,ue._)`${p} = ${_}; ${p}--;`,()=>e.if((0,ue._)`${S}(${t}[${_}], ${t}[${p}])`,()=>{r.error(),e.assign(c,!1).break(z)})))}}};qo.default=Im});var Dc=C(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});var Lo=O(),Vm=U(),Nm=dn(),Om={message:"must be equal to constant",params:({schemaCode:r})=>(0,Lo._)`{allowedValue: ${r}}`},km={keyword:"const",$data:!0,error:Om,code(r){let{gen:e,data:t,$data:i,schemaCode:n,schema:o}=r;i||o&&typeof o=="object"?r.fail$data((0,Lo._)`!${(0,Vm.useFunc)(e,Nm.default)}(${t}, ${n})`):r.fail((0,Lo._)`${o} !== ${t}`)}};Uo.default=km});var Mc=C(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});var Jr=O(),Dm=U(),Mm=dn(),Rm={message:"must be equal to one of the allowed values",params:({schemaCode:r})=>(0,Jr._)`{allowedValues: ${r}}`},jm={keyword:"enum",schemaType:"array",$data:!0,error:Rm,code(r){let{gen:e,data:t,$data:i,schema:n,schemaCode:o,it:a}=r;if(!i&&n.length===0)throw new Error("enum must have non-empty array");let s=n.length>=a.opts.loopEnum,c,u=()=>c??(c=(0,Dm.useFunc)(e,Mm.default)),d;if(s||i)d=e.let("valid"),r.block$data(d,m);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let g=e.const("vSchema",o);d=(0,Jr.or)(...n.map((_,p)=>v(g,p)))}r.pass(d);function m(){e.assign(d,!1),e.forOf("v",o,g=>e.if((0,Jr._)`${u()}(${t}, ${g})`,()=>e.assign(d,!0).break()))}function v(g,_){let p=n[_];return typeof p=="object"&&p!==null?(0,Jr._)`${u()}(${t}, ${g}[${_}])`:(0,Jr._)`${t} === ${p}`}}};Ho.default=jm});var Rc=C(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});var Am=zc(),Wm=$c(),qm=Fc(),Lm=Pc(),Um=Ic(),Hm=Vc(),Bm=Nc(),Km=kc(),Gm=Dc(),Jm=Mc(),Xm=[Am.default,Wm.default,qm.default,Lm.default,Um.default,Hm.default,Bm.default,Km.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Gm.default,Jm.default];Bo.default=Xm});var Go=C(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.validateAdditionalItems=void 0;var Wt=O(),Ko=U(),Qm={message:({params:{len:r}})=>(0,Wt.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,Wt._)`{limit: ${r}}`},Zm={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Qm,code(r){let{parentSchema:e,it:t}=r,{items:i}=e;if(!Array.isArray(i)){(0,Ko.checkStrictMode)(t,'"additionalItems" is ignored when "items" is not an array of schemas');return}jc(r,i)}};function jc(r,e){let{gen:t,schema:i,data:n,keyword:o,it:a}=r;a.items=!0;let s=t.const("len",(0,Wt._)`${n}.length`);if(i===!1)r.setParams({len:e.length}),r.pass((0,Wt._)`${s} <= ${e.length}`);else if(typeof i=="object"&&!(0,Ko.alwaysValidSchema)(a,i)){let u=t.var("valid",(0,Wt._)`${s} <= ${e.length}`);t.if((0,Wt.not)(u),()=>c(u)),r.ok(u)}function c(u){t.forRange("i",e.length,s,d=>{r.subschema({keyword:o,dataProp:d,dataPropType:Ko.Type.Num},u),a.allErrors||t.if((0,Wt.not)(u),()=>t.break())})}}Xr.validateAdditionalItems=jc;Xr.default=Zm});var Jo=C(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.validateTuple=void 0;var Ac=O(),un=U(),Ym=ke(),eh={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(r){let{schema:e,it:t}=r;if(Array.isArray(e))return Wc(r,"additionalItems",e);t.items=!0,!(0,un.alwaysValidSchema)(t,e)&&r.ok((0,Ym.validateArray)(r))}};function Wc(r,e,t=r.schema){let{gen:i,parentSchema:n,data:o,keyword:a,it:s}=r;d(n),s.opts.unevaluated&&t.length&&s.items!==!0&&(s.items=un.mergeEvaluated.items(i,t.length,s.items));let c=i.name("valid"),u=i.const("len",(0,Ac._)`${o}.length`);t.forEach((m,v)=>{(0,un.alwaysValidSchema)(s,m)||(i.if((0,Ac._)`${u} > ${v}`,()=>r.subschema({keyword:a,schemaProp:v,dataProp:v},c)),r.ok(c))});function d(m){let{opts:v,errSchemaPath:g}=s,_=t.length,p=_===m.minItems&&(_===m.maxItems||m[e]===!1);if(v.strictTuples&&!p){let S=`"${a}" is ${_}-tuple, but minItems or maxItems/${e} are not specified or different at path "${g}"`;(0,un.checkStrictMode)(s,S,v.strictTuples)}}}Qr.validateTuple=Wc;Qr.default=eh});var qc=C(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});var th=Jo(),rh={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,th.validateTuple)(r,"items")};Xo.default=rh});var Uc=C(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});var Lc=O(),ih=U(),nh=ke(),oh=Go(),ah={message:({params:{len:r}})=>(0,Lc.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,Lc._)`{limit: ${r}}`},sh={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:ah,code(r){let{schema:e,parentSchema:t,it:i}=r,{prefixItems:n}=t;i.items=!0,!(0,ih.alwaysValidSchema)(i,e)&&(n?(0,oh.validateAdditionalItems)(r,n):r.ok((0,nh.validateArray)(r)))}};Qo.default=sh});var Hc=C(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});var Me=O(),fn=U(),lh={message:({params:{min:r,max:e}})=>e===void 0?(0,Me.str)`must contain at least ${r} valid item(s)`:(0,Me.str)`must contain at least ${r} and no more than ${e} valid item(s)`,params:({params:{min:r,max:e}})=>e===void 0?(0,Me._)`{minContains: ${r}}`:(0,Me._)`{minContains: ${r}, maxContains: ${e}}`},ch={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:lh,code(r){let{gen:e,schema:t,parentSchema:i,data:n,it:o}=r,a,s,{minContains:c,maxContains:u}=i;o.opts.next?(a=c===void 0?1:c,s=u):a=1;let d=e.const("len",(0,Me._)`${n}.length`);if(r.setParams({min:a,max:s}),s===void 0&&a===0){(0,fn.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,fn.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),r.fail();return}if((0,fn.alwaysValidSchema)(o,t)){let p=(0,Me._)`${d} >= ${a}`;s!==void 0&&(p=(0,Me._)`${p} && ${d} <= ${s}`),r.pass(p);return}o.items=!0;let m=e.name("valid");s===void 0&&a===1?g(m,()=>e.if(m,()=>e.break())):a===0?(e.let(m,!0),s!==void 0&&e.if((0,Me._)`${n}.length > 0`,v)):(e.let(m,!1),v()),r.result(m,()=>r.reset());function v(){let p=e.name("_valid"),S=e.let("count",0);g(p,()=>e.if(p,()=>_(S)))}function g(p,S){e.forRange("i",0,d,z=>{r.subschema({keyword:"contains",dataProp:z,dataPropType:fn.Type.Num,compositeRule:!0},p),S()})}function _(p){e.code((0,Me._)`${p}++`),s===void 0?e.if((0,Me._)`${p} >= ${a}`,()=>e.assign(m,!0).break()):(e.if((0,Me._)`${p} > ${s}`,()=>e.assign(m,!1).break()),a===1?e.assign(m,!0):e.if((0,Me._)`${p} >= ${a}`,()=>e.assign(m,!0)))}}};Zo.default=ch});var Gc=C(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.validateSchemaDeps=nt.validatePropertyDeps=nt.error=void 0;var Yo=O(),dh=U(),Zr=ke();nt.error={message:({params:{property:r,depsCount:e,deps:t}})=>{let i=e===1?"property":"properties";return(0,Yo.str)`must have ${i} ${t} when property ${r} is present`},params:({params:{property:r,depsCount:e,deps:t,missingProperty:i}})=>(0,Yo._)`{property: ${r},
    missingProperty: ${i},
    depsCount: ${e},
    deps: ${t}}`};var uh={keyword:"dependencies",type:"object",schemaType:"object",error:nt.error,code(r){let[e,t]=fh(r);Bc(r,e),Kc(r,t)}};function fh({schema:r}){let e={},t={};for(let i in r){if(i==="__proto__")continue;let n=Array.isArray(r[i])?e:t;n[i]=r[i]}return[e,t]}function Bc(r,e=r.schema){let{gen:t,data:i,it:n}=r;if(Object.keys(e).length===0)return;let o=t.let("missing");for(let a in e){let s=e[a];if(s.length===0)continue;let c=(0,Zr.propertyInData)(t,i,a,n.opts.ownProperties);r.setParams({property:a,depsCount:s.length,deps:s.join(", ")}),n.allErrors?t.if(c,()=>{for(let u of s)(0,Zr.checkReportMissingProp)(r,u)}):(t.if((0,Yo._)`${c} && (${(0,Zr.checkMissingProp)(r,s,o)})`),(0,Zr.reportMissingProp)(r,o),t.else())}}nt.validatePropertyDeps=Bc;function Kc(r,e=r.schema){let{gen:t,data:i,keyword:n,it:o}=r,a=t.name("valid");for(let s in e)(0,dh.alwaysValidSchema)(o,e[s])||(t.if((0,Zr.propertyInData)(t,i,s,o.opts.ownProperties),()=>{let c=r.subschema({keyword:n,schemaProp:s},a);r.mergeValidEvaluated(c,a)},()=>t.var(a,!0)),r.ok(a))}nt.validateSchemaDeps=Kc;nt.default=uh});var Xc=C(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});var Jc=O(),ph=U(),mh={message:"property name must be valid",params:({params:r})=>(0,Jc._)`{propertyName: ${r.propertyName}}`},hh={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:mh,code(r){let{gen:e,schema:t,data:i,it:n}=r;if((0,ph.alwaysValidSchema)(n,t))return;let o=e.name("valid");e.forIn("key",i,a=>{r.setParams({propertyName:a}),r.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),e.if((0,Jc.not)(o),()=>{r.error(!0),n.allErrors||e.break()})}),r.ok(o)}};ea.default=hh});var ra=C(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});var pn=ke(),We=O(),gh=mt(),mn=U(),_h={message:"must NOT have additional properties",params:({params:r})=>(0,We._)`{additionalProperty: ${r.additionalProperty}}`},yh={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:_h,code(r){let{gen:e,schema:t,parentSchema:i,data:n,errsCount:o,it:a}=r;if(!o)throw new Error("ajv implementation error");let{allErrors:s,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,mn.alwaysValidSchema)(a,t))return;let u=(0,pn.allSchemaProperties)(i.properties),d=(0,pn.allSchemaProperties)(i.patternProperties);m(),r.ok((0,We._)`${o} === ${gh.default.errors}`);function m(){e.forIn("key",n,S=>{!u.length&&!d.length?_(S):e.if(v(S),()=>_(S))})}function v(S){let z;if(u.length>8){let j=(0,mn.schemaRefOrVal)(a,i.properties,"properties");z=(0,pn.isOwnProperty)(e,j,S)}else u.length?z=(0,We.or)(...u.map(j=>(0,We._)`${S} === ${j}`)):z=We.nil;return d.length&&(z=(0,We.or)(z,...d.map(j=>(0,We._)`${(0,pn.usePattern)(r,j)}.test(${S})`))),(0,We.not)(z)}function g(S){e.code((0,We._)`delete ${n}[${S}]`)}function _(S){if(c.removeAdditional==="all"||c.removeAdditional&&t===!1){g(S);return}if(t===!1){r.setParams({additionalProperty:S}),r.error(),s||e.break();return}if(typeof t=="object"&&!(0,mn.alwaysValidSchema)(a,t)){let z=e.name("valid");c.removeAdditional==="failing"?(p(S,z,!1),e.if((0,We.not)(z),()=>{r.reset(),g(S)})):(p(S,z),s||e.if((0,We.not)(z),()=>e.break()))}}function p(S,z,j){let M={keyword:"additionalProperties",dataProp:S,dataPropType:mn.Type.Str};j===!1&&Object.assign(M,{compositeRule:!0,createErrors:!1,allErrors:!1}),r.subschema(M,z)}}};ta.default=yh});var Yc=C(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});var vh=Rr(),Qc=ke(),ia=U(),Zc=ra(),Sh={keyword:"properties",type:"object",schemaType:"object",code(r){let{gen:e,schema:t,parentSchema:i,data:n,it:o}=r;o.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&Zc.default.code(new vh.KeywordCxt(o,Zc.default,"additionalProperties"));let a=(0,Qc.allSchemaProperties)(t);for(let m of a)o.definedProperties.add(m);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=ia.mergeEvaluated.props(e,(0,ia.toHash)(a),o.props));let s=a.filter(m=>!(0,ia.alwaysValidSchema)(o,t[m]));if(s.length===0)return;let c=e.name("valid");for(let m of s)u(m)?d(m):(e.if((0,Qc.propertyInData)(e,n,m,o.opts.ownProperties)),d(m),o.allErrors||e.else().var(c,!0),e.endIf()),r.it.definedProperties.add(m),r.ok(c);function u(m){return o.opts.useDefaults&&!o.compositeRule&&t[m].default!==void 0}function d(m){r.subschema({keyword:"properties",schemaProp:m,dataProp:m},c)}}};na.default=Sh});var id=C(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});var ed=ke(),hn=O(),td=U(),rd=U(),bh={keyword:"patternProperties",type:"object",schemaType:"object",code(r){let{gen:e,schema:t,data:i,parentSchema:n,it:o}=r,{opts:a}=o,s=(0,ed.allSchemaProperties)(t),c=s.filter(p=>(0,td.alwaysValidSchema)(o,t[p]));if(s.length===0||c.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;let u=a.strictSchema&&!a.allowMatchingProperties&&n.properties,d=e.name("valid");o.props!==!0&&!(o.props instanceof hn.Name)&&(o.props=(0,rd.evaluatedPropsToName)(e,o.props));let{props:m}=o;v();function v(){for(let p of s)u&&g(p),o.allErrors?_(p):(e.var(d,!0),_(p),e.if(d))}function g(p){for(let S in u)new RegExp(p).test(S)&&(0,td.checkStrictMode)(o,`property ${S} matches pattern ${p} (use allowMatchingProperties)`)}function _(p){e.forIn("key",i,S=>{e.if((0,hn._)`${(0,ed.usePattern)(r,p)}.test(${S})`,()=>{let z=c.includes(p);z||r.subschema({keyword:"patternProperties",schemaProp:p,dataProp:S,dataPropType:rd.Type.Str},d),o.opts.unevaluated&&m!==!0?e.assign((0,hn._)`${m}[${S}]`,!0):!z&&!o.allErrors&&e.if((0,hn.not)(d),()=>e.break())})})}}};oa.default=bh});var nd=C(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});var wh=U(),Ch={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){let{gen:e,schema:t,it:i}=r;if((0,wh.alwaysValidSchema)(i,t)){r.fail();return}let n=e.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),r.failResult(n,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};aa.default=Ch});var od=C(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});var xh=ke(),zh={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:xh.validateUnion,error:{message:"must match a schema in anyOf"}};sa.default=zh});var ad=C(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});var gn=O(),$h=U(),Eh={message:"must match exactly one schema in oneOf",params:({params:r})=>(0,gn._)`{passingSchemas: ${r.passing}}`},Th={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Eh,code(r){let{gen:e,schema:t,parentSchema:i,it:n}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;let o=t,a=e.let("valid",!1),s=e.let("passing",null),c=e.name("_valid");r.setParams({passing:s}),e.block(u),r.result(a,()=>r.reset(),()=>r.error(!0));function u(){o.forEach((d,m)=>{let v;(0,$h.alwaysValidSchema)(n,d)?e.var(c,!0):v=r.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},c),m>0&&e.if((0,gn._)`${c} && ${a}`).assign(a,!1).assign(s,(0,gn._)`[${s}, ${m}]`).else(),e.if(c,()=>{e.assign(a,!0),e.assign(s,m),v&&r.mergeEvaluated(v,gn.Name)})})}}};la.default=Th});var sd=C(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});var Fh=U(),Ph={keyword:"allOf",schemaType:"array",code(r){let{gen:e,schema:t,it:i}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");let n=e.name("valid");t.forEach((o,a)=>{if((0,Fh.alwaysValidSchema)(i,o))return;let s=r.subschema({keyword:"allOf",schemaProp:a},n);r.ok(n),r.mergeEvaluated(s)})}};ca.default=Ph});var dd=C(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});var _n=O(),cd=U(),Ih={message:({params:r})=>(0,_n.str)`must match "${r.ifClause}" schema`,params:({params:r})=>(0,_n._)`{failingKeyword: ${r.ifClause}}`},Vh={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Ih,code(r){let{gen:e,parentSchema:t,it:i}=r;t.then===void 0&&t.else===void 0&&(0,cd.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let n=ld(i,"then"),o=ld(i,"else");if(!n&&!o)return;let a=e.let("valid",!0),s=e.name("_valid");if(c(),r.reset(),n&&o){let d=e.let("ifClause");r.setParams({ifClause:d}),e.if(s,u("then",d),u("else",d))}else n?e.if(s,u("then")):e.if((0,_n.not)(s),u("else"));r.pass(a,()=>r.error(!0));function c(){let d=r.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);r.mergeEvaluated(d)}function u(d,m){return()=>{let v=r.subschema({keyword:d},s);e.assign(a,s),r.mergeValidEvaluated(v,a),m?e.assign(m,(0,_n._)`${d}`):r.setParams({ifClause:d})}}}};function ld(r,e){let t=r.schema[e];return t!==void 0&&!(0,cd.alwaysValidSchema)(r,t)}da.default=Vh});var ud=C(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});var Nh=U(),Oh={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:e,it:t}){e.if===void 0&&(0,Nh.checkStrictMode)(t,`"${r}" without "if" is ignored`)}};ua.default=Oh});var fd=C(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});var kh=Go(),Dh=qc(),Mh=Jo(),Rh=Uc(),jh=Hc(),Ah=Gc(),Wh=Xc(),qh=ra(),Lh=Yc(),Uh=id(),Hh=nd(),Bh=od(),Kh=ad(),Gh=sd(),Jh=dd(),Xh=ud();function Qh(r=!1){let e=[Hh.default,Bh.default,Kh.default,Gh.default,Jh.default,Xh.default,Wh.default,qh.default,Ah.default,Lh.default,Uh.default];return r?e.push(Dh.default,Rh.default):e.push(kh.default,Mh.default),e.push(jh.default),e}fa.default=Qh});var pd=C(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var oe=O(),Zh={message:({schemaCode:r})=>(0,oe.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,oe._)`{format: ${r}}`},Yh={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Zh,code(r,e){let{gen:t,data:i,$data:n,schema:o,schemaCode:a,it:s}=r,{opts:c,errSchemaPath:u,schemaEnv:d,self:m}=s;if(!c.validateFormats)return;n?v():g();function v(){let _=t.scopeValue("formats",{ref:m.formats,code:c.code.formats}),p=t.const("fDef",(0,oe._)`${_}[${a}]`),S=t.let("fType"),z=t.let("format");t.if((0,oe._)`typeof ${p} == "object" && !(${p} instanceof RegExp)`,()=>t.assign(S,(0,oe._)`${p}.type || "string"`).assign(z,(0,oe._)`${p}.validate`),()=>t.assign(S,(0,oe._)`"string"`).assign(z,p)),r.fail$data((0,oe.or)(j(),M()));function j(){return c.strictSchema===!1?oe.nil:(0,oe._)`${a} && !${z}`}function M(){let Z=d.$async?(0,oe._)`(${p}.async ? await ${z}(${i}) : ${z}(${i}))`:(0,oe._)`${z}(${i})`,V=(0,oe._)`(typeof ${z} == "function" ? ${Z} : ${z}.test(${i}))`;return(0,oe._)`${z} && ${z} !== true && ${S} === ${e} && !${V}`}}function g(){let _=m.formats[o];if(!_){j();return}if(_===!0)return;let[p,S,z]=M(_);p===e&&r.pass(Z());function j(){if(c.strictSchema===!1){m.logger.warn(V());return}throw new Error(V());function V(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function M(V){let Ue=V instanceof RegExp?(0,oe.regexpCode)(V):c.code.formats?(0,oe._)`${c.code.formats}${(0,oe.getProperty)(o)}`:void 0,ct=t.scopeValue("formats",{key:o,ref:V,code:Ue});return typeof V=="object"&&!(V instanceof RegExp)?[V.type||"string",V.validate,(0,oe._)`${ct}.validate`]:["string",V,ct]}function Z(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!d.$async)throw new Error("async format in sync schema");return(0,oe._)`await ${z}(${i})`}return typeof S=="function"?(0,oe._)`${z}(${i})`:(0,oe._)`${z}.test(${i})`}}}};pa.default=Yh});var md=C(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});var e0=pd(),t0=[e0.default];ma.default=t0});var hd=C(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.contentVocabulary=mr.metadataVocabulary=void 0;mr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];mr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var _d=C(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});var r0=xc(),i0=Rc(),n0=fd(),o0=md(),gd=hd(),a0=[r0.default,i0.default,(0,n0.default)(),o0.default,gd.metadataVocabulary,gd.contentVocabulary];ha.default=a0});var vd=C(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.DiscrError=void 0;var yd=(function(r){return r.Tag="tag",r.Mapping="mapping",r})(yd||(yn.DiscrError=yd={}))});var bd=C(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});var hr=O(),ga=vd(),Sd=Zi(),s0=jr(),l0=U(),c0={message:({params:{discrError:r,tagName:e}})=>r===ga.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:r,tag:e,tagName:t}})=>(0,hr._)`{error: ${r}, tag: ${t}, tagValue: ${e}}`},d0={keyword:"discriminator",type:"object",schemaType:"object",error:c0,code(r){let{gen:e,data:t,schema:i,parentSchema:n,it:o}=r,{oneOf:a}=n;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let s=i.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),u=e.const("tag",(0,hr._)`${t}${(0,hr.getProperty)(s)}`);e.if((0,hr._)`typeof ${u} == "string"`,()=>d(),()=>r.error(!1,{discrError:ga.DiscrError.Tag,tag:u,tagName:s})),r.ok(c);function d(){let g=v();e.if(!1);for(let _ in g)e.elseIf((0,hr._)`${u} === ${_}`),e.assign(c,m(g[_]));e.else(),r.error(!1,{discrError:ga.DiscrError.Mapping,tag:u,tagName:s}),e.endIf()}function m(g){let _=e.name("valid"),p=r.subschema({keyword:"oneOf",schemaProp:g},_);return r.mergeEvaluated(p,hr.Name),_}function v(){var g;let _={},p=z(n),S=!0;for(let Z=0;Z<a.length;Z++){let V=a[Z];if(V?.$ref&&!(0,l0.schemaHasRulesButRef)(V,o.self.RULES)){let ct=V.$ref;if(V=Sd.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,ct),V instanceof Sd.SchemaEnv&&(V=V.schema),V===void 0)throw new s0.default(o.opts.uriResolver,o.baseId,ct)}let Ue=(g=V?.properties)===null||g===void 0?void 0:g[s];if(typeof Ue!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);S=S&&(p||z(V)),j(Ue,Z)}if(!S)throw new Error(`discriminator: "${s}" must be required`);return _;function z({required:Z}){return Array.isArray(Z)&&Z.includes(s)}function j(Z,V){if(Z.const)M(Z.const,V);else if(Z.enum)for(let Ue of Z.enum)M(Ue,V);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function M(Z,V){if(typeof Z!="string"||Z in _)throw new Error(`discriminator: "${s}" values must be unique strings`);_[Z]=V}}}};_a.default=d0});var wd=C((kv,u0)=>{u0.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var va=C((te,ya)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.MissingRefError=te.ValidationError=te.CodeGen=te.Name=te.nil=te.stringify=te.str=te._=te.KeywordCxt=te.Ajv=void 0;var f0=yc(),p0=_d(),m0=bd(),Cd=wd(),h0=["/properties"],vn="http://json-schema.org/draft-07/schema",gr=class extends f0.default{_addVocabularies(){super._addVocabularies(),p0.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(m0.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Cd,h0):Cd;this.addMetaSchema(e,vn,!1),this.refs["http://json-schema.org/schema"]=vn}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(vn)?vn:void 0)}};te.Ajv=gr;ya.exports=te=gr;ya.exports.Ajv=gr;Object.defineProperty(te,"__esModule",{value:!0});te.default=gr;var g0=Rr();Object.defineProperty(te,"KeywordCxt",{enumerable:!0,get:function(){return g0.KeywordCxt}});var _r=O();Object.defineProperty(te,"_",{enumerable:!0,get:function(){return _r._}});Object.defineProperty(te,"str",{enumerable:!0,get:function(){return _r.str}});Object.defineProperty(te,"stringify",{enumerable:!0,get:function(){return _r.stringify}});Object.defineProperty(te,"nil",{enumerable:!0,get:function(){return _r.nil}});Object.defineProperty(te,"Name",{enumerable:!0,get:function(){return _r.Name}});Object.defineProperty(te,"CodeGen",{enumerable:!0,get:function(){return _r.CodeGen}});var _0=Xi();Object.defineProperty(te,"ValidationError",{enumerable:!0,get:function(){return _0.default}});var y0=jr();Object.defineProperty(te,"MissingRefError",{enumerable:!0,get:function(){return y0.default}})});var Id=C(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.formatNames=at.fastFormats=at.fullFormats=void 0;function ot(r,e){return{validate:r,compare:e}}at.fullFormats={date:ot(Ed,Ca),time:ot(ba(!0),xa),"date-time":ot(xd(!0),Fd),"iso-time":ot(ba(),Td),"iso-date-time":ot(xd(),Pd),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:x0,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:I0,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:z0,int32:{type:"number",validate:T0},int64:{type:"number",validate:F0},float:{type:"number",validate:$d},double:{type:"number",validate:$d},password:!0,binary:!0};at.fastFormats=Y(x({},at.fullFormats),{date:ot(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Ca),time:ot(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,xa),"date-time":ot(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Fd),"iso-time":ot(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Td),"iso-date-time":ot(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Pd),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});at.formatNames=Object.keys(at.fullFormats);function v0(r){return r%4===0&&(r%100!==0||r%400===0)}var S0=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,b0=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Ed(r){let e=S0.exec(r);if(!e)return!1;let t=+e[1],i=+e[2],n=+e[3];return i>=1&&i<=12&&n>=1&&n<=(i===2&&v0(t)?29:b0[i])}function Ca(r,e){if(r&&e)return r>e?1:r<e?-1:0}var Sa=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function ba(r){return function(t){let i=Sa.exec(t);if(!i)return!1;let n=+i[1],o=+i[2],a=+i[3],s=i[4],c=i[5]==="-"?-1:1,u=+(i[6]||0),d=+(i[7]||0);if(u>23||d>59||r&&!s)return!1;if(n<=23&&o<=59&&a<60)return!0;let m=o-d*c,v=n-u*c-(m<0?1:0);return(v===23||v===-1)&&(m===59||m===-1)&&a<61}}function xa(r,e){if(!(r&&e))return;let t=new Date("2020-01-01T"+r).valueOf(),i=new Date("2020-01-01T"+e).valueOf();if(t&&i)return t-i}function Td(r,e){if(!(r&&e))return;let t=Sa.exec(r),i=Sa.exec(e);if(t&&i)return r=t[1]+t[2]+t[3],e=i[1]+i[2]+i[3],r>e?1:r<e?-1:0}var wa=/t|\s/i;function xd(r){let e=ba(r);return function(i){let n=i.split(wa);return n.length===2&&Ed(n[0])&&e(n[1])}}function Fd(r,e){if(!(r&&e))return;let t=new Date(r).valueOf(),i=new Date(e).valueOf();if(t&&i)return t-i}function Pd(r,e){if(!(r&&e))return;let[t,i]=r.split(wa),[n,o]=e.split(wa),a=Ca(t,n);if(a!==void 0)return a||xa(i,o)}var w0=/\/|:/,C0=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function x0(r){return w0.test(r)&&C0.test(r)}var zd=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function z0(r){return zd.lastIndex=0,zd.test(r)}var $0=-(2**31),E0=2**31-1;function T0(r){return Number.isInteger(r)&&r<=E0&&r>=$0}function F0(r){return Number.isInteger(r)}function $d(){return!0}var P0=/[^\\]\\Z/;function I0(r){if(P0.test(r))return!1;try{return new RegExp(r),!0}catch{return!1}}});var Vd=C(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.formatLimitDefinition=void 0;var V0=va(),qe=O(),Pt=qe.operators,Sn={formatMaximum:{okStr:"<=",ok:Pt.LTE,fail:Pt.GT},formatMinimum:{okStr:">=",ok:Pt.GTE,fail:Pt.LT},formatExclusiveMaximum:{okStr:"<",ok:Pt.LT,fail:Pt.GTE},formatExclusiveMinimum:{okStr:">",ok:Pt.GT,fail:Pt.LTE}},N0={message:({keyword:r,schemaCode:e})=>(0,qe.str)`should be ${Sn[r].okStr} ${e}`,params:({keyword:r,schemaCode:e})=>(0,qe._)`{comparison: ${Sn[r].okStr}, limit: ${e}}`};yr.formatLimitDefinition={keyword:Object.keys(Sn),type:"string",schemaType:"string",$data:!0,error:N0,code(r){let{gen:e,data:t,schemaCode:i,keyword:n,it:o}=r,{opts:a,self:s}=o;if(!a.validateFormats)return;let c=new V0.KeywordCxt(o,s.RULES.all.format.definition,"format");c.$data?u():d();function u(){let v=e.scopeValue("formats",{ref:s.formats,code:a.code.formats}),g=e.const("fmt",(0,qe._)`${v}[${c.schemaCode}]`);r.fail$data((0,qe.or)((0,qe._)`typeof ${g} != "object"`,(0,qe._)`${g} instanceof RegExp`,(0,qe._)`typeof ${g}.compare != "function"`,m(g)))}function d(){let v=c.schema,g=s.formats[v];if(!g||g===!0)return;if(typeof g!="object"||g instanceof RegExp||typeof g.compare!="function")throw new Error(`"${n}": format "${v}" does not define "compare" function`);let _=e.scopeValue("formats",{key:v,ref:g,code:a.code.formats?(0,qe._)`${a.code.formats}${(0,qe.getProperty)(v)}`:void 0});r.fail$data(m(_))}function m(v){return(0,qe._)`${v}.compare(${t}, ${i}) ${Sn[n].fail} 0`}},dependencies:["format"]};var O0=r=>(r.addKeyword(yr.formatLimitDefinition),r);yr.default=O0});var Dd=C((Yr,kd)=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});var vr=Id(),k0=Vd(),za=O(),Nd=new za.Name("fullFormats"),D0=new za.Name("fastFormats"),$a=(r,e={keywords:!0})=>{if(Array.isArray(e))return Od(r,e,vr.fullFormats,Nd),r;let[t,i]=e.mode==="fast"?[vr.fastFormats,D0]:[vr.fullFormats,Nd],n=e.formats||vr.formatNames;return Od(r,n,t,i),e.keywords&&(0,k0.default)(r),r};$a.get=(r,e="full")=>{let i=(e==="fast"?vr.fastFormats:vr.fullFormats)[r];if(!i)throw new Error(`Unknown format "${r}"`);return i};function Od(r,e,t,i){var n,o;(n=(o=r.opts.code).formats)!==null&&n!==void 0||(o.formats=(0,za._)`require("ajv-formats/dist/formats").${i}`);for(let a of e)r.addFormat(a,t[a])}kd.exports=Yr=$a;Object.defineProperty(Yr,"__esModule",{value:!0});Yr.default=$a});var Ld={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ingoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function Yt(r){return r.merge("sf",Ld)}function Vn(r){return r==null}function _e(r,e){return r==null?e:`${r}`!="false"}function er(r,...e){}function Ud(r,e){let t=/^#\/definitions\/(.*)$/.exec(r);if(t&&t[1]){let i=t[1].split("/"),n=e;for(let o of i)if(o=o.replace(/~1/g,"/").replace(/~0/g,"~"),Object.prototype.hasOwnProperty.call(n,o))n=n[o];else throw new Error(`Could not find a definition for ${r}.`);return n}throw new Error(`Could not find a definition for ${r}.`)}function Er(r,e={}){if(Object.prototype.hasOwnProperty.call(r,"$ref")){let i=Ud(r.$ref,e),t=r,{$ref:n}=t,o=Va(t,["$ref"]);return Er(x(x({},i),o),e)}return r}function Bs(r,e){let t=(i,n)=>{Hd(i,n),Object.keys(i.properties).forEach(o=>{let a=i.properties[o],s=`$${o}`;a.items&&t(a.items,n[s].$items),a.properties&&t(a,n[s])})};t(r,e)}function Hd(r,e){if(!(Object.prototype.hasOwnProperty.call(r,"if")&&Object.prototype.hasOwnProperty.call(r,"then")))return null;if(!r.if.properties)throw new Error("if: does not contain 'properties'");let t=Object.keys(r.properties),i=Object.keys(r.if.properties);In(t,i),In(t,r.then.required),r.required=r.required.concat(r.then.required);let n=Object.prototype.hasOwnProperty.call(r,"else");n&&(In(t,r.else.required),r.required=r.required.concat(r.else.required));let o={},a={};return i.forEach(s=>{let c=r.if.properties[s].enum;o[s]=c,n&&(a[s]=u=>!c.includes(u))}),r.then.required.forEach(s=>e[`$${s}`].visibleIf=o),n&&r.else.required.forEach(s=>e[`$${s}`].visibleIf=a),r}function In(r,e){e.forEach(t=>{if(!r.includes(t))throw new Error(`if: properties does not contain '${t}'`)})}function Ks(r,e){if(!Array.isArray(e))return r;let t=d=>d.reduce((m,v)=>(m[v]=!0,m),{}),i=d=>`property [${d.join("', '")}]`,n=t(r),o=t(e),a=e.filter(d=>d!=="*"&&!n[d]);if(a.length)throw new Error(`ui schema order list contains extraneous ${i(a)}`);let s=r.filter(d=>!o[d]),c=e.indexOf("*");if(c===-1){if(s.length)throw new Error(`ui schema order list does not contain ${i(s)}`);return e}if(c!==e.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let u=[...e];return u.splice(c,1,...s),u}function Bd(r,e,t){return Vn(r)||!Array.isArray(r)||r.length===0?[]:(typeof r[0]!="object"&&(r=r.map(i=>({label:i,value:i}))),e&&(Array.isArray(e)||(e=[e]),r.forEach(i=>{~e.indexOf(i.value)&&(i.checked=!0)})),t&&r.forEach(i=>i.disabled=!0),r)}function Hs(r,e,t){return Bd(Vt(r??[]),e,t)}function tr(r,e,t,i){return typeof e.asyncData=="function"?e.asyncData(i).pipe(Bt(n=>Hs(n,t,r.readOnly))):ka(Hs(r.enum,t,r.readOnly))}var Tr=class{constructor(e,t,i,n,o,a,s,c){this.injector=e;this._options=c;this.schema=i,this.ui=n,this.schemaValidator=t.createValidatorFn(i,{ingoreKeywords:this.ui.ingoreKeywords,debug:n.debug}),this.formData=o??i.default,this._parent=a,a?this._root=a.root:this._root=this,this.path=s}_errors=null;_valueChanges=new Ht({path:null,pathValue:null,value:null});_errorsChanges=new Ht(null);_visible=!0;_visibilityChanges=new Ht(!0);_root;_parent;_objErrors={};schemaValidator;schema;ui;formData;_value=null;widget;path;propertyId;get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(e=!1){this.widget?.detectChanges(e)}updateValueAndValidity(e){e=x({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updateValue:null},e),this._updateValue(),e.emitValueEvent&&(e.updatePath=e.updatePath??this.path??"",e.updateValue=e.updateValue==null?this.value:e.updateValue,this.valueChanges.next({value:this.value,path:e.updatePath,pathValue:e.updateValue})),e.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!e.onlySelf&&this.parent.updateValueAndValidity(Y(x({},e),{emitValidator:!1}))}searchProperty(e){let t=this,i=null,n=null;if(e[0]==="/")i=this.findRoot(),n=i.getProperty(e.substring(1));else for(;n===null&&t.parent!==null;)t=i=t.parent,n=i.getProperty(e);return n}findRoot(){let e=this;for(;e.parent!==null;)e=e.parent;return e}isEmptyData(e){if(Vn(e))return!0;switch(this.type){case"string":return`${e}`.length===0}return!1}_runValidation(){let e,t=this.isEmptyData(this._value);t&&this.ui._required?e=[{keyword:"required"}]:t?e=[]:e=this.schemaValidator(this._value)??[];let i=this.ui.validator;if(typeof i=="function"){let n=i(this.value,this,this.findRoot());if(n instanceof Oa){n.subscribe(o=>{this.setCustomErrors(e,o),this.cd(!1)});return}this.setCustomErrors(e,n);return}this._errors=e,this.setErrors(this._errors)}setCustomErrors(e,t){let i=Array.isArray(t)&&t.length>0;i&&t.forEach(n=>{if(!n.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");n.keyword=null}),this._errors=i?e.concat(...t):e,this.setErrors(this._errors)}setErrors(e=[],t=!0){let i=Array.isArray(e)?e:[e];if(t&&i&&!this.ui.onlyVisual){let n=(this.widget&&this.widget.l.error)??{};i=i.map(o=>{let a=o.keyword==null&&o.message?o.message:(this.ui.errors??{})[o.keyword]??this._options.errors[o.keyword]??n[o.keyword]??"";return a&&typeof a=="function"&&(a=a(o)),a&&(~a.indexOf("{")&&o.params&&(a=a.replace(/{([.a-zA-Z0-9]+)}/g,(s,c)=>o.params[c]??"")),o.message=a),o})}this._errors=i,this._errorsChanges.next(i),this._parent&&this._parent.setParentAndPlatErrors(i,this.path)}setParentAndPlatErrors(e,t){this._objErrors[t]=e;let i=[];Object.keys(this._objErrors).forEach(n=>{let o=this.searchProperty(n);o&&!o.visible||i.push(...this._objErrors[n])}),this.setErrors(i,!1)}setVisible(e){return this._visible=e,this._visibilityChanges.next(e),e&&this.injector.get(vt).onStable.pipe(ja(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let e=this.ui.visibleIf;if(typeof e=="object"&&Object.keys(e).length===0)this.setVisible(!1);else if(e!=null){let t=[];for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)){let n=this.searchProperty(i);if(n){let o=n.valueChanges.pipe(Bt(c=>{let u=e[i];if(typeof u=="function"){let d=u(c.value,n);if(typeof d=="object"){let m=x({show:!1,required:!1},d),v=this.parent?.schema.required;if(v&&this.propertyId){let g=v.findIndex(_=>_===this.propertyId);m.required?g===-1&&v.push(this.propertyId):g!==-1&&v.splice(g,1),this.ui._required=m.required}return m.show}return d}return u.indexOf("$ANY$")!==-1?c.value&&c.value.length>0:u.indexOf(c.value)!==-1})),a=n._visibilityChanges,s=En([o,a]).pipe(Bt(c=>c[0]&&c[1]));t.push(s)}}En(t).pipe(Bt(i=>this.ui.visibleIfLogical==="and"?i.every(n=>n):i.some(n=>n)),hi()).subscribe(i=>this.setVisible(i))}}updateFeedback(e=""){this.ui.feedback=e,this.widget?.injector.get(Qt).formStatusChanges.next({status:e,hasFeedback:!!e}),this.cd(!0)}},et=class r extends Tr{properties=null;getProperty(e){let t=e.indexOf("/"),i=t!==-1?e.substring(0,t):e,n=this.properties[i];if(n!==null&&t!==-1&&n instanceof r){let o=e.substring(t+1);n=n.getProperty(o)}return n}forEachChild(e){for(let t in this.properties)if(Object.prototype.hasOwnProperty.call(this.properties,t)){let i=this.properties[t];e(i,t)}}forEachChildRecursive(e){this.forEachChild(t=>{e(t),t instanceof r&&t.forEachChildRecursive(e)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(e=>{e._bindVisibility()})}isRoot(){return this===this.root}};var rr=class extends et{constructor(t,i,n,o,a,s,c,u,d){super(t,n,o,a,s,c,u,d);this.formPropertyFactory=i;this.createProperties()}_propertiesId=[];get propertiesId(){return this._propertiesId}createProperties(){this.properties={},this._propertiesId=[];let t;try{t=Ks(Object.keys(this.schema.properties),this.ui.order)}catch(i){console.error(`Invalid ${this.schema.title??"root"} object field configuration:`,i)}t.forEach(i=>{this.properties[i]=this.formPropertyFactory.createProperty(this.schema.properties[i],this.ui[`$${i}`],(this.formData??{})[i],this,i),this._propertiesId.push(i)})}setValue(t,i){let n=this.properties;for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&n[o]&&n[o].setValue(t[o],!0);this.cd(i),this.updateValueAndValidity({onlySelf:i,emitValueEvent:!0})}resetValue(t,i){t=t??this.schema.default??{};let n=this.properties;for(let o in this.schema.properties)Object.prototype.hasOwnProperty.call(this.schema.properties,o)&&n[o].resetValue(t[o],!0);this.cd(i),this.updateValueAndValidity({onlySelf:i,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let t={};this.forEachChild((i,n)=>{i.visible&&i._hasValue()&&(t[n]=i.value)}),this._value=t}};var ir=class extends et{constructor(t,i,n,o,a,s,c,u,d){super(t,n,o,a,s,c,u,d);this.formPropertyFactory=i;this.properties=[]}getProperty(t){let i=t.indexOf("/"),n=+(i!==-1?t.substring(0,i):t),o=this.properties;if(isNaN(n)||n>=o.length)return;let a=t.substring(i+1);return o[n].getProperty(a)}setValue(t,i){this.properties=[],this.clearErrors(),this.resetProperties(t),this.cd(i),this.updateValueAndValidity({onlySelf:i,emitValueEvent:!0})}resetValue(t,i){this._value=t??this.schema.default??[],this.setValue(this._value,i)}_hasValue(){return!0}_updateValue(){let t=[];this.forEachChild(i=>{i.visible&&t.push(x(x({},this.widget?.cleanValue?null:i.formData),i.value))}),this._value=t}addProperty(t){let i=this.formPropertyFactory.createProperty(Vt(this.schema.items),Vt(this.ui.$items),t,this);return this.properties.push(i),i}resetProperties(t){for(let i of t)this.addProperty(i).resetValue(i,!0)}clearErrors(t){(t??this)._objErrors={}}add(t){let i=this.addProperty(t);return i.resetValue(t,!1),i}remove(t){let i=this.properties;this.clearErrors(),i.splice(t,1),i.forEach((n,o)=>{n.path=[n.parent.path,o].join("/"),this.clearErrors(n),n instanceof rr&&n.forEachChild(a=>{a.updateValueAndValidity({emitValueEvent:!1})})}),i.length===0&&this.updateValueAndValidity()}};var wt=class extends Tr{setValue(e,t){this._value=e,this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}resetValue(e,t){e==null&&(e=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=e,this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0}),this.widget&&(this.widget.reset(e),this.cd(t))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}};var Ni=class extends wt{fallbackValue(){return null}};var Oi=class extends wt{fallbackValue(){return null}setValue(e,t){typeof e=="string"&&(e.length?e=e.indexOf(".")>-1?parseFloat(e):parseInt(e,10):e=void 0),this._value=e,this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}};var ki=class extends wt{fallbackValue(){return null}setValue(e,t){this._value=e??"",this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}};var nr=class{constructor(e,t,i){this.injector=e;this.schemaValidatorFactory=t;this.options=Yt(i)}options;createProperty(e,t,i,n=null,o){let a=null,s="";if(n)switch(s+=n.path,n.parent!==null&&(s+="/"),n.type){case"object":s+=o;break;case"array":s+=n.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${n.type}`)}else s="/";if(e.$ref){let c=Er(e,n.root.schema.definitions);a=this.createProperty(c,t,i,n,s)}else switch((o&&n.schema.required.indexOf(o.split("/").pop())!==-1||t.showRequired===!0)&&(t._required=!0),e.title==null&&(e.title=o),(e.type==="string"||e.type==="number")&&!e.format&&!t.format?t.widget==="date"?t._format=e.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:t.widget==="time"&&(t._format=e.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):t._format=t.format,e.type){case"integer":case"number":a=new Oi(this.injector,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"string":a=new ki(this.injector,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"boolean":a=new Ni(this.injector,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"object":a=new rr(this.injector,this,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"array":a=new ir(this.injector,this,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;default:throw new TypeError(`Undefined type ${e.type}`)}return a.propertyId=o,a instanceof et&&this.initializeRoot(a),a}initializeRoot(e){e._bindVisibility()}};var Nt=class{onDestroy;constructor(){this.onDestroy=new Ut}destroy(){this.onDestroy.next(!0)}};var Md=Na(va()),Rd=Na(Dd());var _t=class r{static \u0275fac=function(t){return new(t||r)};static \u0275prov=$r({token:r,factory:r.\u0275fac})},Sr=class r extends _t{ngZone=W(vt);cogSrv=W(ut);ajv;options;constructor(){if(super(),!(typeof document=="object"&&document))return;this.options=Yt(this.cogSrv);let e=this.options.ajv??{};this.ngZone.runOutsideAngular(()=>{this.ajv=new Md.default(Y(x({allErrors:!0,loopEnum:50},e),{formats:x({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:Pi.color,mobile:Pi.mobile,"id-card":Pi.idCard},e.formats)})),(0,Rd.default)(this.ajv)})}createValidatorFn(e,t){let i=[...this.options.ingoreKeywords,...t.ingoreKeywords??[]];return n=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(e,n))}catch{}let o=this.ajv.errors;return this.options&&i&&o&&(o=o.filter(a=>i.indexOf(a.keyword)===-1)),o}}static \u0275fac=function(t){return new(t||r)};static \u0275prov=$r({token:r,factory:r.\u0275fac})};var st=class{_widgets={};defaultWidget;get widgets(){return this._widgets}setDefault(e){this.defaultWidget=e}register(e,t){this._widgets[e]=t}has(e){return Object.prototype.hasOwnProperty.call(this._widgets,e)}getType(e){return this.has(e)?this._widgets[e]:this.defaultWidget}},br=class r{registry=W(st);createWidget(e,t){this.registry.has(t);let i=this.registry.getType(t);return e.createComponent(i)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=$r({token:r,factory:r.\u0275fac})};var M0=["target"];function R0(r,e){}function j0(r,e){r&1&&Xa(0)}var A0=0,Le=class r{widgetFactory=W(br);terminator=W(Nt);ref;destroy$=new Ut;widget=null;formProperty;footer=null;container;onWidgetInstanciated(e){this.widget=e;let t=`_sf-${A0++}`,i=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=i,this.widget.id=t,this.formProperty.widget=e}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let e=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,e.ui.widget??e.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:e}=this;e.next(),e.complete(),this.ref.destroy()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=H({type:r,selectors:[["sf-item"]],viewQuery:function(t,i){if(t&1&&Qa(M0,7,Ha),t&2){let n;Za(n=Ya())&&(i.container=n.first)}},hostVars:2,hostBindings:function(t,i){t&2&&se("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],standalone:!1,features:[wi([Qt]),St],decls:6,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(t,i){t&1&&(l(0,`
    `),ie(1,R0,0,0,"ng-template",null,0,Pe),l(3,`
    `),ie(4,j0,1,0,"ng-container",1),l(5,`
  `)),t&2&&(f(4),y("ngTemplateOutlet",i.footer))},dependencies:[Ie],encapsulation:2})};var qt=class r{el=W(yi).nativeElement;render=W(Ua);_inited=!1;num;init(){if(!this._inited||this.num==null||this.num<=0)return;let e=this.el,t=e.querySelector(".ant-row")??e;this.render.addClass(t,"sf__fixed");let i=t.querySelector(".ant-form-item-label"),n=t.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),o=`${this.num}px`;i?(this.render.setStyle(i,"flex",`0 0 ${o}`),this.render.setStyle(n,"max-width",`calc(100% - ${o})`)):this.render.setStyle(n,"margin-left",o)}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}static \u0275fac=function(t){return new(t||r)};static \u0275dir=dt({type:r,selectors:[["","fixed-label",""]],inputs:{num:[2,"fixed-label","num",e=>ts(e,0)]},standalone:!1,features:[St]})};var L0=["*"];function U0(r,e){r&1&&(l(0,`
  `),Si(1),l(2,`
`))}function H0(r,e){if(r&1&&(l(0,`
                    `),B(1,"nz-icon",8),l(2,`
                  `)),r&2){let t=h(5);f(),y("nzType",t._btn.submit_icon.type)("nzTheme",t._btn.submit_icon.theme)("nzTwotoneColor",t._btn.submit_icon.twoToneColor)("nzIconfont",t._btn.submit_icon.iconfont)}}function B0(r,e){if(r&1&&(l(0,`
                      `),B(1,"nz-icon",8),l(2,`
                    `)),r&2){h();let t=Xe(3);f(),y("nzType",t.type)("nzTheme",t.theme)("nzTwotoneColor",t.twoToneColor)("nzIconfont",t.iconfont)}}function K0(r,e){if(r&1){let t=X();l(0,`
                  `),b(1,"button",9),q("click",function(){F(t);let n=h(5);return P(n.reset(!0))}),l(2,`
                    `),Jt(3),l(4,`
                    `),E(5,B0,3,4),l(6),w(),l(7,`
                `)}if(r&2){h(3);let t=Xe(1),i=h(2);f(),y("nzType",i._btn.reset_type)("nzSize",t.size)("disabled",i.loading),f(2);let n=Xt(i._btn.reset_icon);f(2),T(n?5:-1),f(),le(`
                    `,i._btn.reset,`
                  `)}}function G0(r,e){if(r&1&&(l(0,`
                `),b(1,"button",7),l(2,`
                  `),E(3,H0,3,4),l(4),w(),l(5,`
                `),E(6,K0,8,6)),r&2){h(2);let t=Xe(1),i=h(2);f(),y("nzType",i._btn.submit_type)("nzSize",t.size)("nzLoading",i.loading)("disabled",i.liveValidate&&!i.valid),f(2),T(i._btn.submit_icon?3:-1),f(),le(`
                  `,i._btn.submit,`
                `),f(2),T(i._btn.reset?6:-1)}}function J0(r,e){}function X0(r,e){if(r&1&&(l(0,`
                `),ie(1,J0,0,0,"ng-template",10),l(2,`
              `)),r&2){h(4);let t=Te(1);f(),y("ngTemplateOutlet",t)}}function Q0(r,e){if(r&1&&(l(0,`
      `),b(1,"nz-form-item",3),l(2,`
        `),b(3,"div",4),l(4,`
          `),b(5,"div",5),l(6,`
            `),b(7,"div",6),l(8,`
              `),E(9,G0,7,7)(10,X0,3,1),w(),l(11,`
          `),w(),l(12,`
        `),w(),l(13,`
      `),w(),l(14,`
    `)),r&2){h();let t=Xe(1),i=h(2);f(),Be(t.class),y("fixed-label",t.spanLabelFixed),f(2),y("nzSpan",i.btnGrid.span)("nzOffset",i.btnGrid.offset)("nzXs",i.btnGrid.xs)("nzSm",i.btnGrid.sm)("nzMd",i.btnGrid.md)("nzLg",i.btnGrid.lg)("nzXl",i.btnGrid.xl)("nzXXl",i.btnGrid.xxl),f(6),T(i.button?9:10)}}function Z0(r,e){if(r&1&&(l(0,`
    `),Jt(1),l(2,`
    `),E(3,Q0,15,12)),r&2){f();let t=Xt(h(2)._btn.render);f(2),T(t?3:-1)}}function Y0(r,e){}function eg(r,e){if(r&1&&(l(0,`
    `),ie(1,Y0,0,0,"ng-template",10),l(2,`
  `)),r&2){h(2);let t=Te(1);f(),y("ngTemplateOutlet",t)}}function tg(r,e){if(r&1&&(l(0,`
  `),E(1,Z0,4,2)(2,eg,3,1)),r&2){let t=h();f(),T(t.button!=="none"?1:2)}}function rg(r,e){if(r&1&&(l(0,`
    `),B(1,"sf-item",11),l(2,`
  `)),r&2){let t=h(),i=Te(4);f(),y("formProperty",t.rootProperty)("footer",i)}}function ig(r,e,t){return new nr(r,e,t)}var Lt=class r{formPropertyFactory=W(nr);terminator=W(Nt);dom=W(xi);cdr=W(Ci);localeSrv=W(cs);aclSrv=W(is);i18nSrv=W(ns);platform=W(os);cogSrv=W(ut);_renders=new Map;_item;_valid=!0;_defUi;options;_inited=!1;locale={};rootProperty=null;_formData;_btn;_schema;_ui;get btnGrid(){return this._btn.render.grid}layout="horizontal";schema;ui;formData;button={};liveValidate=!0;autocomplete;firstVisual=!0;onlyVisual=!1;compact=!1;set mode(e){switch(e){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=e}get mode(){return this._mode}_mode;loading=!1;disabled=!1;noColon=!1;cleanValue=!1;delay=!1;formValueChange=new Kt;formChange=new Kt;formSubmit=new Kt;formReset=new Kt;formError=new Kt;get valid(){return this._valid}get value(){return this._item}getProperty(e){return this.rootProperty?.searchProperty(e)}getValue(e){return this.getProperty(e)?.value}setValue(e,t){let i=this.getProperty(e);if(!i)throw new Error(`Invalid path: ${e}`);return i.resetValue(t,!1),this}setDisabled(e,t){let i=this.getProperty(e);if(!i)throw new Error(`Invalid path: ${e}`);return i.schema.readOnly=t,i.widget.detectChanges(),this}setRequired(e,t){let i=this.getProperty(e);if(!i)throw new Error(`Invalid path: ${e}`);let n=e.split("/").pop(),o=i.parent?.schema.required??[],a=o.findIndex(s=>s===n);return t?a===-1&&o.push(n):a!==-1&&o.splice(a,1),i.parent.schema.required=o,i.ui._required=t,i.widget.detectChanges(),this.validator({onlyRoot:!1}),this}updateFeedback(e,t=""){return this.getProperty(e)?.updateFeedback(t),this}onSubmit(e){e.preventDefault(),e.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(){this.options=Yt(this.cogSrv),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(Fn()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())}),Da(this.aclSrv.change,this.i18nSrv.change).pipe(Ma(()=>this._inited),Fn()).subscribe(()=>this.refreshSchema())}fanyi(e){return this.i18nSrv.fanyi(e)??e}inheritUI(e){["optionalHelp"].filter(t=>!!this._defUi[t]).forEach(t=>e[t]=x(x({},this._defUi[t]),e[t]))}coverProperty(){let e=this.layout==="horizontal",t=Vt(this.schema),{definitions:i}=t,n=(o,a,s,c,u)=>{Array.isArray(o.required)||(o.required=[]),Object.keys(o.properties).forEach(d=>{let v="$"+d,g=Er(o.properties[d],i),_=x(x({},g.ui),s[v]),p=x(x(x(x(Y(x(x({},this._defUi),c),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:g.type}),g.format&&this.options.formatMap[g.format]),typeof g.ui=="string"?{widget:g.ui}:null),!g.format&&!g.ui&&Array.isArray(g.enum)&&g.enum.length>0?{widget:"select"}:null),_);if(Object.keys(p).filter(S=>S.startsWith("$")).forEach(S=>delete p[S]),e?c.spanLabelFixed?_.spanLabelFixed||(p.spanLabelFixed=c.spanLabelFixed):(p.spanLabel||(p.spanLabel=typeof c.spanLabel>"u"?5:c.spanLabel),p.spanControl||(p.spanControl=typeof c.spanControl>"u"?19:c.spanControl),p.offsetControl||(p.offsetControl=typeof c.offsetControl>"u"?null:c.offsetControl)):(p.spanLabel=null,p.spanControl=null,p.offsetControl=null),this.layout==="inline"&&delete p.grid,this.layout!=="horizontal"&&(p.spanLabelFixed=null),p.spanLabelFixed!=null&&p.spanLabelFixed>0&&(p.spanLabel=null,p.spanControl=null),p.widget==="date"&&p.end!=null){let S=o.properties[p.end];S?S.ui=Y(x({},S.ui),{widget:p.widget,hidden:!0}):p.end=null}if(this.inheritUI(p),p.optionalHelp){typeof p.optionalHelp=="string"&&(p.optionalHelp={text:p.optionalHelp});let S=p.optionalHelp=x({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},p.optionalHelp);S.i18n&&(S.text=this.fanyi(S.i18n)),S.text||(p.optionalHelp=void 0)}if(p.i18n&&(g.title=this.fanyi(p.i18n)),p.descriptionI18n&&(g.description=this.fanyi(p.descriptionI18n)),g.description&&(p._description=this.dom.bypassSecurityTrustHtml(g.description)),p.hidden=typeof p.hidden=="boolean"?p.hidden:!1,p.hidden===!1&&p.acl&&this.aclSrv&&!this.aclSrv.can(p.acl)&&(p.hidden=!0),u[v]=p,delete g.ui,p.hidden===!0){let S=o.required.indexOf(d);S!==-1&&o.required.splice(S,1)}g.items&&(p.$items=x(x(x({},g.items.ui),s[v]),p.$items),n(g.items,g.items,s[v]?.$items??{},p.$items,p.$items),delete g.items.ui),g.properties&&Object.keys(g.properties).length&&n(g,o,s[v]??{},p,p)})};this.ui==null&&(this.ui={}),this._defUi=x(x(x({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),t.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=x({},this._defUi),n(t,t,this.ui,this.ui,this._ui),Bs(t,this._ui),this._schema=t,delete t.ui,er(this._ui,"cover schema & ui",this._ui,t)}coverButtonProperty(){this._btn=x(x(x({render:{size:"default"}},this.locale),this.options.button),this.button);let e=Object.keys(this._ui).find(i=>i.startsWith("$")),t=this._btn.render;if(this.layout==="horizontal"){let i=e?this._ui[e]:this._defUi;t.grid||(t.grid={offset:i.spanLabel,span:i.spanControl}),t.spanLabelFixed==null&&(t.spanLabelFixed=i.spanLabelFixed),!t.class&&typeof i.spanLabelFixed=="number"&&i.spanLabelFixed>0&&(t.class="text-center")}else t.grid={};this._mode&&(this.mode=this._mode),er(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(e){if(!this.platform.isBrowser)return;let t=["disabled","loading"];if(Object.keys(e).every(i=>t.includes(i))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(e,t){this._inited&&(this._renders.has(e)||(this._renders.set(e,t),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((e,t)=>{let i=this.rootProperty?.searchProperty(t);i!=null&&(i.ui._render=e)})}validator(e={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let t=n=>{n._runValidation(),!(!(n instanceof et)||!n.properties)&&(Array.isArray(n.properties)?n.properties.forEach(o=>t(o)):Object.keys(n.properties).forEach(o=>t(n.properties[o])))};e.onlyRoot?this.rootProperty._runValidation():t(this.rootProperty);let i=this.rootProperty.errors;return this._valid=!(i&&i.length),e.emitError&&!this._valid&&this.formError.emit(i),this.cdr.detectChanges(),this._valid}refreshSchema(e,t){if(!this.platform.isBrowser)return this;if(e&&(this.schema=e),t&&(this.ui=t),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=x({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let i=!0;return this.rootProperty.valueChanges.subscribe(n=>{if(this._item=x(x({},this.cleanValue?null:this.formData),n.value),i){i=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:n.path,pathValue:n.pathValue})}),this.rootProperty.errorsChanges.subscribe(n=>{this._valid=!(n&&n.length),this.formError.emit(n),this.cdr.detectChanges()}),this}reset(e=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),e&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=H({type:r,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(t,i){t&2&&se("sf",!0)("sf__inline",i.layout==="inline")("sf__horizontal",i.layout==="horizontal")("sf__search",i.mode==="search")("sf__edit",i.mode==="edit")("sf__no-error",i.onlyVisual)("sf__no-colon",i.noColon)("sf__compact",i.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:[2,"liveValidate","liveValidate",Qe],autocomplete:"autocomplete",firstVisual:[2,"firstVisual","firstVisual",Qe],onlyVisual:[2,"onlyVisual","onlyVisual",Qe],compact:[2,"compact","compact",Qe],mode:"mode",loading:[2,"loading","loading",Qe],disabled:[2,"disabled","disabled",Qe],noColon:[2,"noColon","noColon",Qe],cleanValue:[2,"cleanValue","cleanValue",Qe],delay:[2,"delay","delay",Qe]},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],standalone:!1,features:[wi([br,{provide:nr,useFactory:ig,deps:[_i,_t,ut]},Nt]),St],ngContentSelectors:L0,decls:10,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"submit","nzLayout"],[1,"sf-btns",3,"fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],[3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"click","nzType","nzSize","disabled"],[3,"ngTemplateOutlet"],[3,"formProperty","footer"]],template:function(t,i){if(t&1){let n=X();vi(),ie(0,U0,3,0,"ng-template",null,0,Pe),l(2,`
`),ie(3,tg,3,1,"ng-template",null,1,Pe),l(5,`
`),b(6,"form",2),q("submit",function(a){return F(n),P(i.onSubmit(a))}),l(7,`
  `),E(8,rg,3,2),w(),l(9,`
`)}t&2&&(f(6),y("nzLayout",i.layout),Ee("autocomplete",i.autocomplete),f(2),T(i.rootProperty?8:-1))},dependencies:[Ie,ps,us,fs,$i,Ne,zi,Ye,Ze,Rs,Zt,Ve,Le,qt],encapsulation:2,changeDetection:0})};var ng=["*"];function og(r,e){if(r&1&&(l(0,`
                `),B(1,"nz-icon",6),l(2,`
              `)),r&2){let t=h(4);f(),y("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipColor",t.oh.bgColor)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function ag(r,e){if(r&1&&(l(0,`
            `),b(1,"span",5),l(2),E(3,og,3,9),w(),l(4,`
          `)),r&2){let t=h(3);f(2),le(`
              `,t.ui.optional,`
              `),f(),T(t.oh?3:-1)}}function sg(r,e){if(r&1&&(l(0,`
        `),b(1,"label"),l(2,`
          `),b(3,"span",4),l(4),w(),l(5,`
          `),E(6,ag,5,2),w(),l(7,`
      `)),r&2){let t=h(2);f(),se("ant-form-item-required",t.ui._required),Ee("for",t.id),f(3),Gt(t.t),f(2),T(t.ui.optional||t.oh?6:-1)}}function lg(r,e){if(r&1&&(l(0,`
    `),b(1,"div",3),l(2,`
      `),E(3,sg,8,5),w(),l(4,`
  `)),r&2){let t=h();f(),y("nzSpan",t.ui.spanLabel),f(2),T(t.t?3:-1)}}function cg(r,e){if(r&1){let t=X();l(0,`
      `),b(1,"div",7),Ga(function(){F(t);let n=h();return P(n.nzValidateAnimationLeave())}),Ka(function(){F(t);let n=h();return P(n.nzValidateAnimationEnter())}),l(2,`
        `),b(3,"div",8),l(4),w(),l(5,`
      `),w(),l(6,`
    `)}if(r&2){let t=h();f(4),le(`
          `,t.error,`
        `)}}function dg(r,e){if(r&1&&(l(0,`
      `),B(1,"div",9),l(2,`
    `)),r&2){let t=h();f(),y("innerHTML",t.ui._description,He)}}var re=class r{statusSrv=W(Qt);_showTitle=!1;id;schema;ui;showError;error;set showTitle(e){this._showTitle=!!e}title=null;get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}nzValidateAnimationEnter=Pn(()=>"ant-form-validate_animation-enter");nzValidateAnimationLeave=Pn(()=>"ant-form-validate_animation-leave");ngOnChanges(){let e=!!this.error;this.statusSrv.formStatusChanges.next({status:e?"error":"",hasFeedback:!!this.ui.feedback})}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=H({type:r,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},standalone:!1,features:[St],ngContentSelectors:ng,decls:17,vars:21,consts:[["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["nz-col","",1,"ant-form-item-label",3,"nzSpan"],[1,"sf__label-text"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],["role","alert",1,"ant-form-item-explain-error"],[1,"ant-form-item-extra",3,"innerHTML"]],template:function(t,i){t&1&&(vi(),b(0,"nz-form-item"),l(1,`
  `),E(2,lg,5,2),b(3,"div",0),l(4,`
    `),b(5,"div",1),l(6,`
      `),b(7,"div",2),l(8,`
        `),Si(9),l(10,`
      `),w(),l(11,`
    `),w(),l(12,`
    `),E(13,cg,7,1),E(14,dg,3,1),w(),l(15,`
`),w(),l(16,`
`)),t&2&&(bi("width",i.ui.width,"px"),se("ant-form-item-has-error",i.showError)("ant-form-item-with-help",i.showError)("ant-form-item-has-success",i.ui.feedback==="success")("ant-form-item-has-warning",i.ui.feedback==="warning")("ant-form-item-has-error",i.ui.feedback==="error")("ant-form-item-is-validating",i.ui.feedback==="validating")("ant-form-item-has-feedback",i.ui.feedback),f(2),T(i._showTitle?2:-1),f(),y("nzSpan",i.ui.spanControl)("nzOffset",i.ui.offsetControl),f(10),T(!i.ui.onlyVisual&&i.showError?13:-1),f(),T(i.schema.description?14:-1))},dependencies:[Ne,Ye,Ze,Zt,Ve,bt],encapsulation:2})};var Fa=class r{table=W(Lt);templateRef=W(La);path;ngOnInit(){this.table._addTpl(this.path.startsWith("/")?this.path:"/"+this.path,this.templateRef)}static \u0275fac=function(t){return new(t||r)};static \u0275dir=dt({type:r,selectors:[["","sf-template",""]],inputs:{path:[0,"sf-template","path"]},standalone:!1})};var ii=class r{cd=W(Ci);injector=W(_i);sfItemComp=W(Le);sfComp=W(Lt);formProperty;error;showError=!1;id="";schema;ui;get cls(){return this.ui.class??""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(xi)}get cleanValue(){return this.sfComp.cleanValue}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(yt(this.sfItemComp.destroy$)).subscribe(e=>{if(e==null)return;er(this.ui,"errorsChanges",this.formProperty.path,e);let t=this.sfComp?.firstVisual;(t||!t&&this.sfComp?._inited)&&(this.showError=e.length>0,this.error=this.showError?e[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(e){this.formProperty.setValue(e,!1),er(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(e=!1){e?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}static \u0275fac=function(t){return new(t||r)};static \u0275dir=dt({type:r,hostVars:2,hostBindings:function(t,i){t&2&&Be(i.cls)}})};var ne=class r extends ii{reset(e){}afterViewInit(){}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275dir=dt({type:r,features:[G]})},wn=class r extends ii{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(yt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275dir=dt({type:r,features:[G]})},Cn=class r extends ii{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(yt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275dir=dt({type:r,features:[G]})};function fg(r,e){if(r&1&&(l(0,`
              `),B(1,"nz-icon",7),l(2,`
            `)),r&2){let t=h(2);f(),y("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function pg(r,e){if(r&1){let t=X();l(0,`
      `),b(1,"div",3),l(2,`
        `),b(3,"label"),l(4),b(5,"span",4),l(6),E(7,fg,3,8),w(),l(8,`
        `),w(),l(9,`
        `),b(10,"div",5),l(11,`
          `),b(12,"button",6),q("click",function(){F(t);let n=h();return P(n.addItem())}),w(),l(13,`
        `),w(),l(14,`
      `),w(),l(15,`
    `)}if(r&2){let t=h();f(),y("nzSpan",t.ui.spanLabel),f(2),se("ant-form-item-required",t.ui.required),f(),le(`
          `,t.schema.title,`
          `),f(2),le(`
            `,t.ui.optional,`
            `),f(),T(t.oh?7:-1),f(5),y("nzType",t.addType)("disabled",t.addDisabled)("innerHTML",t.addTitle,He)}}function mg(r,e){if(r&1){let t=X();l(0,`
                    `),b(1,"span",10),q("click",function(){F(t);let n=h(2).$index,o=h();return P(o.removeItem(n))}),l(2,`
                      `),B(3,"nz-icon",11),l(4,`
                    `),w(),l(5,`
                  `)}if(r&2){let t=h(3);f(),Ee("title",t.removeTitle)}}function hg(r,e){if(r&1&&(l(0,`
              `),b(1,"div",8),l(2,`
                `),b(3,"nz-card"),l(4,`
                  `),B(5,"sf-item",9),l(6,`
                  `),E(7,mg,6,1),w(),l(8,`
              `),w(),l(9,`
            `)),r&2){let t=h(),i=t.$implicit,n=t.$index,o=h();f(),y("nzSpan",o.arraySpan),Ee("data-index",n),f(4),y("formProperty",i),f(2),T(o.showRemove?7:-1)}}function gg(r,e){if(r&1&&(l(0,`
            `),E(1,hg,10,4)),r&2){let t=e.$implicit;f(),T(t.visible&&!t.ui.hidden?1:-1)}}function _g(r,e){if(r&1&&(l(0,`
          `),b(1,"div",12),l(2),w(),l(3,`
        `)),r&2){let t=h();f(2),Gt(t.error)}}function yg(r,e){if(r&1&&(l(0,`
          `),B(1,"div",13),l(2,`
        `)),r&2){let t=h();f(),y("innerHTML",t.ui._description,He)}}var ni=class r extends wn{addTitle;addType;removeTitle;arraySpan=8;get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:e,addTitle:t,addType:i,removable:n,removeTitle:o}=this.ui;e&&e.arraySpan&&(this.arraySpan=e.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(t??this.l.addText),this.addType=i??"dashed",this.removeTitle=n===!1?null:o??this.l.removeText}reValid(e){this.formProperty.updateValueAndValidity(x({onlySelf:!1,emitValueEvent:!1,emitValidator:!0},e))}addItem(){let e=this.formProperty.add({});this.reValid(),this.ui.add?.(e)}removeItem(e){let t=this.formProperty.properties[e].path;this.formProperty.remove(e),this.reValid({updatePath:t,emitValueEvent:!0}),this.ui.remove?.(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275cmp=H({type:r,selectors:[["sf-array"]],hostVars:2,hostBindings:function(t,i){t&2&&se("sf__array",!0)},standalone:!1,features:[G],decls:16,vars:9,consts:[["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],["nz-col","",1,"ant-form-item-label",3,"nzSpan"],[1,"sf__optional"],[1,"sf__array-add"],["type","button","nz-button","",3,"click","nzType","disabled","innerHTML"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],[1,"sf__array-remove",3,"click"],["nzType","delete"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"]],template:function(t,i){t&1&&(b(0,"nz-form-item"),l(1,`
    `),E(2,pg,16,9),b(3,"div",0),l(4,`
      `),b(5,"div",1),l(6,`
        `),b(7,"div",2),l(8,`
          `),Se(9,gg,2,1,null,null,Ja),w(),l(11,`
        `),E(12,_g,4,1),E(13,yg,3,1),w(),l(14,`
    `),w(),l(15,`
  `),w()),t&2&&(se("ant-form-item-with-help",i.showError),f(2),T(i.schema.title?2:-1),f(),y("nzSpan",i.ui.spanControl)("nzOffset",i.ui.offsetControl),f(2),se("has-error",i.showError),f(4),be(i.formProperty.properties),f(3),T(!i.ui.onlyVisual&&i.showError?12:-1),f(),T(i.schema.description?13:-1))},dependencies:[$i,Ne,zi,Vi,Ye,Ze,Zt,Ve,bt,Le],encapsulation:2})};var oi=class r extends ne{static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275cmp=H({type:r,selectors:[["sf-boolean"]],standalone:!1,features:[G],decls:4,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading"]],template:function(t,i){t&1&&(b(0,"sf-item-wrap",0),l(1,`
    `),b(2,"nz-switch",1),q("ngModelChange",function(o){return i.setValue(o)}),w(),l(3,`
  `),w()),t&2&&(y("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),y("ngModel",i.value)("nzDisabled",i.disabled)("nzSize",i.ui.size)("nzCheckedChildren",i.ui.checkedChildren)("nzUnCheckedChildren",i.ui.unCheckedChildren)("nzLoading",i.ui.loading))},dependencies:[fe,pe,Ws,re],encapsulation:2})};function vg(r,e){if(r&1){let t=X();l(0,`
        `),b(1,"label",2),Je("ngModelChange",function(n){F(t);let o=h(2);return Ge(o.allChecked,n)||(o.allChecked=n),P(n)}),q("ngModelChange",function(){F(t);let n=h(2);return P(n.onAllChecked())}),l(2),w(),l(3,`
      `)}if(r&2){let t=h(2);f(),Ke("ngModel",t.allChecked),y("nzIndeterminate",t.indeterminate),f(),le(`
          `,t.ui.checkAllText??t.l.checkAllText,`
        `)}}function Sg(r,e){if(r&1&&(l(0,`
      `),E(1,vg,4,3)),r&2){let t=h();f(),T(t.ui.checkAll?1:-1)}}function bg(r,e){if(r&1&&(l(0,`
                `),B(1,"nz-icon",5),l(2,`
              `)),r&2){let t=h(3);f(),y("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function wg(r,e){if(r&1){let t=X();l(0,`
          `),b(1,"label",3),q("ngModelChange",function(n){F(t);let o=h(2);return P(o._setValue(n))}),l(2),b(3,"span",4),l(4),E(5,bg,3,8),w(),l(6,`
          `),w(),l(7,`
        `)}if(r&2){let t=h(2);f(),y("nzDisabled",t.disabled)("ngModel",t.value),f(),le(`
            `,t.schema.title,`
            `),f(2),le(`
              `,t.ui.optional,`
              `),f(),T(t.oh?5:-1)}}function Cg(r,e){}function xg(r,e){if(r&1){let t=X();l(0,`
            `),ie(1,Cg,0,0,"ng-template",6),l(2,`
            `),b(3,"nz-checkbox-group",7),q("ngModelChange",function(n){F(t);let o=h(3);return P(o.groupInGridChange(n))}),w(),l(4,`
          `)}if(r&2){let t=h(3),i=Te(2);f(),y("ngTemplateOutlet",i),f(2),y("ngModel",t.value)("nzOptions",t.data)}}function zg(r,e){}function $g(r,e){if(r&1&&(l(0,`
                  `),b(1,"div",10),l(2,`
                    `),ie(3,zg,0,0,"ng-template",6),l(4,`
                  `),w(),l(5,`
                `)),r&2){let t=h(4),i=Te(2);f(),y("nzSpan",t.grid_span),f(2),y("ngTemplateOutlet",i)}}function Eg(r,e){if(r&1&&(l(0,`
                  `),b(1,"div",10),l(2,`
                    `),b(3,"label",11),l(4),w(),l(5,`
                  `),w(),l(6,`
                `)),r&2){let t=e.$implicit,i=h(4);f(),y("nzSpan",i.grid_span),f(2),y("nzValue",t.value)("ngModel",t.checked)("nzDisabled",t.disabled),f(),le(`
                      `,t.label,`
                    `)}}function Tg(r,e){if(r&1){let t=X();l(0,`
            `),b(1,"nz-checkbox-group",8),q("ngModelChange",function(n){F(t);let o=h(3);return P(o.groupInGridChange(n))}),l(2,`
              `),b(3,"div",9),l(4,`
                `),E(5,$g,6,2),Se(6,Eg,7,5,null,null,Fe),w(),l(8,`
            `),w(),l(9,`
          `)}if(r&2){let t=h(3);f(),y("ngModel",t.value),f(4),T(t.ui.checkAll?5:-1),f(),be(t.data)}}function Fg(r,e){if(r&1&&(l(0,`
          `),E(1,xg,5,3)(2,Tg,10,2)),r&2){let t=h(2);f(),T(t.grid_span===0?1:2)}}function Pg(r,e){if(r&1&&(l(0,`
        `),E(1,wg,8,5)(2,Fg,3,1)),r&2){let t=h();f(),T(t.data.length===0?1:2)}}var ai=class r extends ne{data=[];allChecked=!1;indeterminate=!1;grid_span;labelTitle="";inited=!1;reset(e){this.inited=!1,tr(this.schema,this.ui,e).subscribe(t=>{this.data=t,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=t.length===0?"":this.schema.title;let{span:i}=this.ui;this.grid_span=i&&i>0?i:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(e){this.setValue(e),this.detectChanges(),this.notifyChange(e)}notifySet(){let e=this.data.filter(t=>t.checked);this.updateAllChecked().setValue(e.map(t=>t.value)),this.notifyChange(e)}groupInGridChange(e){this.data.forEach(t=>t.checked=e.indexOf(t.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(e=>e.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(e=>e.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(e=>e.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(e){this.ui.change&&this.ui.change(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275cmp=H({type:r,selectors:[["sf-checkbox"]],standalone:!1,features:[G],decls:8,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModelChange","ngModel","nzIndeterminate"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[3,"ngTemplateOutlet"],[3,"ngModelChange","ngModel","nzOptions"],[1,"sf__checkbox-list",3,"ngModelChange","ngModel"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(t,i){t&1&&(l(0,`
    `),ie(1,Sg,2,1,"ng-template",null,0,Pe),l(3,`
    `),b(4,"sf-item-wrap",1),l(5,`
      `),E(6,Pg,3,1),w(),l(7,`
  `)),t&2&&(f(4),y("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",!0)("title",i.labelTitle),f(2),T(i.inited?6:-1))},dependencies:[Ie,fe,pe,Ne,hs,gs,Ye,Ze,Ve,bt,re],encapsulation:2})};var Ig=(r,e,t)=>({$implicit:r,schema:e,ui:t});function Vg(r,e){}var si=class r extends ne{static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275cmp=H({type:r,selectors:[["sf-custom"]],standalone:!1,features:[G],decls:6,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){t&1&&(l(0,`
    `),b(1,"sf-item-wrap",0),l(2,`
      `),ie(3,Vg,0,0,"ng-template",1),l(4,`
    `),w(),l(5,`
  `)),t&2&&(f(),y("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),y("ngTemplateOutlet",i.ui._render)("ngTemplateOutletContext",es(8,Ig,i,i.schema,i.ui)))},dependencies:[Ie,re],encapsulation:2})};function Ng(r,e){if(r&1){let t=X();l(0,`
        `),b(1,"nz-year-picker",1),Je("ngModelChange",function(n){F(t);let o=h();return Ge(o.displayValue,n)||(o.displayValue=n),P(n)}),q("ngModelChange",function(n){F(t);let o=h();return P(o._change(n))})("nzOnOpenChange",function(n){F(t);let o=h();return P(o._openChange(n))}),w(),l(2,`
      `)}if(r&2){let t=h();f(),Be(t.ui.className),y("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat),Ke("ngModel",t.displayValue),y("nzAllowClear",t.i.allowClear)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function Og(r,e){if(r&1){let t=X();l(0,`
        `),b(1,"nz-month-picker",1),Je("ngModelChange",function(n){F(t);let o=h();return Ge(o.displayValue,n)||(o.displayValue=n),P(n)}),q("ngModelChange",function(n){F(t);let o=h();return P(o._change(n))})("nzOnOpenChange",function(n){F(t);let o=h();return P(o._openChange(n))}),w(),l(2,`
      `)}if(r&2){let t=h();f(),Be(t.ui.className),y("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat),Ke("ngModel",t.displayValue),y("nzAllowClear",t.i.allowClear)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function kg(r,e){if(r&1){let t=X();l(0,`
        `),b(1,"nz-week-picker",2),Je("ngModelChange",function(n){F(t);let o=h();return Ge(o.displayValue,n)||(o.displayValue=n),P(n)}),q("ngModelChange",function(n){F(t);let o=h();return P(o._change(n))})("nzOnOpenChange",function(n){F(t);let o=h();return P(o._openChange(n))}),w(),l(2,`
      `)}if(r&2){let t=h();f(),Be(t.ui.className),y("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat),Ke("ngModel",t.displayValue),y("nzAllowClear",t.i.allowClear)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function Dg(r,e){if(r&1){let t=X();l(0,`
        `),b(1,"nz-range-picker",3),Je("ngModelChange",function(n){F(t);let o=h();return Ge(o.displayValue,n)||(o.displayValue=n),P(n)}),q("ngModelChange",function(n){F(t);let o=h();return P(o._change(n))})("nzOnOpenChange",function(n){F(t);let o=h();return P(o._openChange(n))})("nzOnOk",function(n){F(t);let o=h();return P(o._ok(n))}),w(),l(2,`
      `)}if(r&2){let t=h();f(),Be(t.ui.className),y("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat),Ke("ngModel",t.displayValue),y("nzAllowClear",t.i.allowClear)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzDisabledTime",t.ui.disabledTime)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzRanges",t.ui.ranges)("nzShowTime",t.ui.showTime)("nzSeparator",t.ui.separator)("nzShowWeekNumber",t.ui.showWeekNumber??!1)("nzMode",t.ui.rangeMode)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function Mg(r,e){if(r&1){let t=X();l(0,`
        `),b(1,"nz-date-picker",4),Je("ngModelChange",function(n){F(t);let o=h();return Ge(o.displayValue,n)||(o.displayValue=n),P(n)}),q("ngModelChange",function(n){F(t);let o=h();return P(o._change(n))})("nzOnOpenChange",function(n){F(t);let o=h();return P(o._openChange(n))})("nzOnOk",function(n){F(t);let o=h();return P(o._ok(n))}),w(),l(2,`
      `)}if(r&2){let t=h();f(),Be(t.ui.className),y("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat),Ke("ngModel",t.displayValue),y("nzAllowClear",t.i.allowClear)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzDisabledTime",t.ui.disabledTime)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzShowTime",t.ui.showTime)("nzShowToday",t.i.showToday)("nzShowWeekNumber",t.ui.showWeekNumber??!1)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}var li=class r extends ne{startFormat;endFormat;flatRange=!1;mode;displayValue=null;displayFormat;i;ngOnInit(){let{mode:e,end:t,displayFormat:i,allowClear:n,showToday:o}=this.ui;if(this.mode=e??"date",this.flatRange=t!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let a=this.endProperty.ui;this.endFormat=a.format?a._format:this.startFormat}if(i)this.displayFormat=i;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:_e(n,!0),showToday:_e(o,!0)}}reset(e){let t={formatString:this.startFormat,defaultValue:null};if(Array.isArray(e)?e=e.map(i=>Ti(i,t)):e=Ti(e,t),this.flatRange){let i=Ti(this.endProperty.formData,{formatString:this.endFormat??this.startFormat,defaultValue:null});this.displayValue=e==null||i==null?[]:[e,i]}else this.displayValue=e;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(e,t=!0){if(t&&this.ui.change&&this.ui.change(e),e==null||Array.isArray(e)&&e.length<2){this.setValue(null),this.setEnd(null);return}let i=Array.isArray(e)?[Ei(e[0],this.startFormat),Ei(e[1],this.endFormat??this.startFormat)]:Ei(e,this.startFormat);this.flatRange?(this.setValue(i[0]),this.setEnd(i[1])):this.setValue(i)}_openChange(e){this.ui.onOpenChange&&this.ui.onOpenChange(e)}_ok(e){this.ui.onOk&&this.ui.onOk(e)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(e){this.flatRange&&(this.endProperty.setValue(e,!0),this.endProperty.updateValueAndValidity())}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275cmp=H({type:r,selectors:[["sf-date"]],standalone:!1,features:[G],decls:8,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"]],template:function(t,i){if(t&1&&(b(0,"sf-item-wrap",0),l(1,`
    `),E(2,Ng,3,16)(3,Og,3,16)(4,kg,3,15)(5,Dg,3,22)(6,Mg,3,20),l(7,`
  `),w()),t&2){let n;y("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),T((n=i.mode)==="year"?2:n==="month"?3:n==="week"?4:n==="range"?5:6)}},dependencies:[fe,pe,$s,Ts,Es,Ps,Fs,re],encapsulation:2})};var wr=class r extends ne{min=Number.MIN_SAFE_INTEGER;max=Number.MAX_SAFE_INTEGER;step;formatter;parser;width="";ngOnInit(){let{minimum:e,exclusiveMinimum:t,maximum:i,exclusiveMaximum:n,multipleOf:o,type:a}=this.schema;this.step=o??1,typeof e<"u"&&(this.min=t?e+this.step:e),typeof i<"u"&&(this.max=n?i-this.step:i),a==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let s=this.ui;s.prefix!=null&&(s.formatter=c=>c==null?"":`${s.prefix} ${c}`,s.parser=c=>+c.replace(`${s.prefix} `,"")),s.unit!=null&&(s.formatter=c=>c==null?"":`${c} ${s.unit}`,s.parser=c=>+c.replace(` ${s.unit}`,"")),s.formatter&&(this.formatter=s.formatter),s.parser&&(this.parser=s.parser),this.width=typeof s.widgetWidth=="number"?`${s.widgetWidth}px`:s.widgetWidth??"90px"}_setValue(e){this.setValue(this.schema.type==="integer"?Math.floor(e):e),this.ui.change?.(this.value)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275cmp=H({type:r,selectors:[["sf-number"]],standalone:!1,features:[G],decls:4,vars:21,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder"]],template:function(t,i){t&1&&(b(0,"sf-item-wrap",0),l(1,`
    `),b(2,"nz-input-number",1),q("ngModelChange",function(o){return i._setValue(o)}),w(),l(3,`
  `),w()),t&2&&(y("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),bi("width",i.width),se("ant-input-number__hide-step",i.ui.hideStep),y("nzId",i.id)("ngModel",i.value)("nzDisabled",i.disabled)("nzSize",i.ui.size)("nzMin",i.min)("nzMax",i.max)("nzStep",i.step)("nzFormatter",i.formatter)("nzParser",i.parser)("nzPrecision",i.ui.precision??null)("nzPlaceHolder",i.ui.placeholder??""))},dependencies:[fe,pe,ks,re],encapsulation:2})};var Rg=()=>[],jg=()=>({$implicit:!0});function Ag(r,e){if(r&1&&(l(0,`
        `),b(1,"div",2),l(2),w(),l(3,`
      `)),r&2){let t=h(2);f(2),Gt(t.title)}}function Wg(r,e){if(r&1&&(l(0,`
              `),b(1,"div",4),l(2,`
                `),B(3,"sf-item",5),l(4,`
              `),w(),l(5,`
            `)),r&2){let t=h().$implicit;f(),y("nzSpan",t.grid.span)("nzOffset",t.grid.offset)("nzXs",t.grid.xs)("nzSm",t.grid.sm)("nzMd",t.grid.md)("nzLg",t.grid.lg)("nzXl",t.grid.xl)("nzXXl",t.grid.xxl),f(2),y("formProperty",t.property)("fixed-label",t.spanLabelFixed)}}function qg(r,e){if(r&1&&(l(0,`
            `),E(1,Wg,6,10)),r&2){let t=e.$implicit;f(),T(t.property.visible&&t.show?1:-1)}}function Lg(r,e){if(r&1&&(l(0,`
        `),b(1,"div",3),l(2,`
          `),Se(3,qg,2,1,null,null,Fe),w(),l(5,`
      `)),r&2){let t=h(2);f(),y("nzGutter",t.grid.gutter),f(2),be(t.list)}}function Ug(r,e){if(r&1&&(l(0,`
            `),B(1,"sf-item",5),l(2,`
          `)),r&2){let t=h().$implicit;f(),y("formProperty",t.property)("fixed-label",t.spanLabelFixed)}}function Hg(r,e){if(r&1&&(l(0,`
          `),E(1,Ug,3,2)),r&2){let t=e.$implicit;f(),T(t.property.visible&&t.show?1:-1)}}function Bg(r,e){if(r&1&&(l(0,`
        `),Se(1,Hg,2,1,null,null,Fe)),r&2){let t=h(2);f(),be(t.list)}}function Kg(r,e){if(r&1&&(l(0,`
      `),E(1,Ag,4,1),E(2,Lg,6,1)(3,Bg,3,0)),r&2){let t=e.$implicit,i=h();f(),T(!t&&i.title?1:-1),f(),T(i.grid?2:3)}}function Gg(r,e){if(r&1&&(l(0,`
              `),B(1,"nz-icon",9),l(2,`
            `)),r&2){let t=h(3);f(),y("nzType",t.expand?"down":"up")}}function Jg(r,e){if(r&1&&(l(0,`
                  `),B(1,"nz-icon",11),l(2,`
                `)),r&2){let t=h(4);f(),y("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipColor",t.oh.bgColor)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function Xg(r,e){if(r&1&&(l(0,`
              `),b(1,"span",10),l(2),E(3,Jg,3,9),w(),l(4,`
            `)),r&2){let t=h(3);f(2),le(`
                `,t.ui.optional,`
                `),f(),T(t.oh?3:-1)}}function Qg(r,e){if(r&1){let t=X();l(0,`
          `),b(1,"div",8),q("click",function(){F(t);let n=h(2);return P(n.changeExpand())}),l(2,`
            `),E(3,Gg,3,1),l(4),E(5,Xg,5,2),w(),l(6,`
        `)}if(r&2){let t=h(2);f(),se("point",t.showExpand),f(2),T(t.showExpand?3:-1),f(),le(`
            `,t.title,`
            `),f(),T(t.ui.optional||t.oh?5:-1)}}function Zg(r,e){}function Yg(r,e){if(r&1&&(l(0,`
      `),b(1,"nz-card",6),l(2,`
        `),ie(3,Qg,7,5,"ng-template",null,1,Pe),l(5,`
        `),ie(6,Zg,0,0,"ng-template",7),l(7,`
      `),w(),l(8,`
    `)),r&2){let t=Te(4),i=h(),n=Te(1);f(),se("sf__object-card-fold",!i.expand),y("nzTitle",t)("nzExtra",i.ui.cardExtra)("nzSize",i.ui.cardSize??"small")("nzActions",i.ui.cardActions??Tn(10,Rg))("nzBodyStyle",i.ui.cardBodyStyle)("nzBordered",i.ui.cardBordered??!0),f(5),y("ngTemplateOutlet",n)("ngTemplateOutletContext",Tn(11,jg))}}function e_(r,e){}function t_(r,e){if(r&1&&(l(0,`
      `),ie(1,e_,0,0,"ng-template",12),l(2,`
    `)),r&2){h();let t=Te(1);f(),y("ngTemplateOutlet",t)}}var ci=class r extends Cn{grid;type="default";list=[];title;showExpand=!0;expand=!0;ngOnInit(){let{formProperty:e,ui:t}=this,{grid:i,showTitle:n,type:o}=t;this.showExpand=_e(t.showExpand,!0),this.expand=_e(t.expand,!0),this.type=o??"default",(this.type==="card"||!e.isRoot()&&!(e.parent instanceof ir)&&n===!0)&&(this.title=this.schema.title),this.grid=i;let a=[];for(let s of e.propertiesId){let c=e.properties[s],u={property:c,grid:c.ui.grid??i??{},spanLabelFixed:c.ui.spanLabelFixed,show:c.ui.hidden===!1};a.push(u)}this.list=a}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275cmp=H({type:r,selectors:[["sf-object"]],standalone:!1,features:[G],decls:5,vars:1,consts:[["default",""],["cardTitleTpl",""],[1,"sf__title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],[1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(ie(0,Kg,4,2,"ng-template",null,0,Pe),l(2,`
    `),E(3,Yg,9,12)(4,t_,3,1)),t&2&&(f(3),T(i.type==="card"?3:4))},dependencies:[Ie,Ne,Vi,Ye,Ze,Ve,bt,Le,qt],encapsulation:2})};function r_(r,e){if(r&1&&(l(0,`
          `),b(1,"label",2),l(2,`
            `),B(3,"span",3),l(4,`
          `),w(),l(5,`
        `)),r&2){let t=e.$implicit,i=h(2);f(),y("nzValue",t.value)("nzDisabled",i.disabled||t.disabled),f(2),y("innerHTML",t.label,He)}}function i_(r,e){if(r&1&&(l(0,`
        `),Se(1,r_,6,3,null,null,Fe)),r&2){let t=h();f(),be(t.data)}}function n_(r,e){if(r&1&&(l(0,`
          `),b(1,"label",4),l(2,`
            `),B(3,"span",3),l(4,`
          `),w(),l(5,`
        `)),r&2){let t=e.$implicit,i=h(2);f(),y("nzValue",t.value)("nzDisabled",i.disabled||t.disabled),f(2),y("innerHTML",t.label,He)}}function o_(r,e){if(r&1&&(l(0,`
        `),Se(1,n_,6,3,null,null,Fe)),r&2){let t=h();f(),be(t.data)}}var di=class r extends ne{data=[];styleType;reset(e){this.styleType=(this.ui.styleType??"default")==="default",tr(this.schema,this.ui,e).subscribe(t=>{this.data=t,this.detectChanges()})}_setValue(e){this.setValue(e),this.ui.change&&this.ui.change(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275cmp=H({type:r,selectors:[["sf-radio"]],standalone:!1,features:[G],decls:7,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzSize","nzName","ngModel","nzButtonStyle"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(t,i){t&1&&(b(0,"sf-item-wrap",0),l(1,`
    `),b(2,"nz-radio-group",1),q("ngModelChange",function(o){return i._setValue(o)}),l(3,`
      `),E(4,i_,3,0)(5,o_,3,0),w(),l(6,`
  `),w()),t&2&&(y("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),y("nzSize",i.ui.size)("nzName",i.id)("ngModel",i.value)("nzButtonStyle",i.ui.buttonStyle??"outline"),f(2),T(i.styleType?4:5))},dependencies:[fe,pe,vs,ys,re],encapsulation:2})};function a_(r,e){if(r&1&&(l(0,`
          `),B(1,"nz-option",2),l(2,`
        `)),r&2){let t=e.$implicit;f(),y("nzLabel",t.label)("nzValue",t.value)("nzHide",t.hide)("nzDisabled",t.disabled)}}function s_(r,e){if(r&1&&(l(0,`
        `),Se(1,a_,3,4,null,null,Fe)),r&2){let t=h();f(),be(t.data)}}function l_(r,e){if(r&1&&(l(0,`
              `),B(1,"nz-option",4),l(2,`
            `)),r&2){let t=e.$implicit;f(),y("nzLabel",t.label)("nzValue",t.value)("nzDisabled",t.disabled)("nzHide",t.hide)}}function c_(r,e){if(r&1&&(l(0,`
          `),b(1,"nz-option-group",3),l(2,`
            `),Se(3,l_,3,4,null,null,Fe),w(),l(5,`
        `)),r&2){let t=e.$implicit;f(),y("nzLabel",t.label),f(2),be(t.children)}}function d_(r,e){if(r&1&&(l(0,`
        `),Se(1,c_,6,1,null,null,Fe)),r&2){let t=h();f(),be(t.data)}}function u_(r,e){if(r&1&&(l(0,`
        `),b(1,"nz-option",5),l(2,`
          `),B(3,"nz-icon",6),l(4),w(),l(5,`
      `)),r&2){let t=h();f(4),le(`
          `,t.ui.searchLoadingText,`
        `)}}var ui=class r extends ne{search$=new Ut;i;data=[];_value;hasGroup=!1;loading=!1;checkGroup(e){this.hasGroup=(e??[]).filter(t=>t.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:e,autoFocus:t,dropdownMatchSelectWidth:i,serverSearch:n,maxMultipleCount:o,mode:a,showSearch:s,tokenSeparators:c,maxTagCount:u,compareWith:d,optionHeightPx:m,optionOverflowSize:v,showArrow:g}=this.ui;this.i={autoClearSearchValue:_e(e,!0),autoFocus:_e(t,!1),dropdownMatchSelectWidth:_e(i,!0),serverSearch:_e(n,!1),maxMultipleCount:o??1/0,mode:a??"default",showSearch:_e(s,!0),tokenSeparators:c??[],maxTagCount:u??1/0,optionHeightPx:m??32,optionOverflowSize:v??8,showArrow:_e(g,!0),compareWith:d??((p,S)=>p===S)};let _=this.ui.onSearch;_&&this.search$.pipe(yt(this.sfItemComp.destroy$),hi(),mi(this.ui.searchDebounceTime??300),gi(p=>_(p)),Ra(()=>[])).subscribe(p=>{this.data=p,this.checkGroup(p),this.loading=!1,this.detectChanges()})}reset(e){let t=this.ui.onSearch;tr(this.schema,this.ui,e).subscribe(i=>{this._value=e,t==null&&(this.data=i),this.checkGroup(i),this.detectChanges()}),e&&t!=null&&this.search$.next(e)}change(e){this.ui.change&&this.ui.change(e,this.getOrgData(e)),this.setValue(e??this.ui.clearValue)}getOrgData(e){let t=this.injector.get(Ls);return Array.isArray(e)?e.map(i=>t.findTree(this.data,n=>n.value===i)):t.findTree(this.data,i=>i.value===e)}openChange(e){this.ui.openChange&&this.ui.openChange(e)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(e){this.ui.onSearch&&(this.loading=!0,this.search$.next(e))}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275cmp=H({type:r,selectors:[["sf-select"]],standalone:!1,features:[G],decls:8,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom","nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzVariant","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize"],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nzDisabled","","nzCustomContent",""],["nzType","loading"]],template:function(t,i){t&1&&(b(0,"sf-item-wrap",0),l(1,`
    `),b(2,"nz-select",1),Je("ngModelChange",function(o){return Ge(i._value,o)||(i._value=o),o}),q("ngModelChange",function(o){return i.change(o)})("nzOpenChange",function(o){return i.openChange(o)})("nzOnSearch",function(o){return i.onSearch(o)})("nzScrollToBottom",function(){return i.scrollToBottom()}),l(3,`
      `),E(4,s_,3,0),E(5,d_,3,0),E(6,u_,6,1),w(),l(7,`
  `),w()),t&2&&(y("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),y("nzId",i.id)("nzDisabled",i.disabled),Ke("ngModel",i._value),y("nzSize",i.ui.size)("nzPlaceHolder",i.ui.placeholder)("nzNotFoundContent",i.ui.notFoundContent)("nzDropdownClassName",i.ui.dropdownClassName)("nzAllowClear",i.ui.allowClear)("nzDropdownStyle",i.ui.dropdownStyle)("nzCustomTemplate",i.ui.customTemplate)("nzSuffixIcon",i.ui.suffixIcon)("nzRemoveIcon",i.ui.removeIcon)("nzClearIcon",i.ui.clearIcon)("nzMenuItemSelectedIcon",i.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",i.ui.maxTagPlaceholder)("nzDropdownRender",i.ui.dropdownRender)("nzAutoClearSearchValue",i.i.autoClearSearchValue)("nzVariant",i.ui.variant??"outlined")("nzAutoFocus",i.i.autoFocus)("nzDropdownMatchSelectWidth",i.i.dropdownMatchSelectWidth)("nzServerSearch",i.i.serverSearch)("nzMaxMultipleCount",i.i.maxMultipleCount)("nzMode",i.i.mode)("nzShowSearch",i.i.showSearch)("nzShowArrow",i.i.showArrow)("nzTokenSeparators",i.i.tokenSeparators)("nzMaxTagCount",i.i.maxTagCount)("compareWith",i.i.compareWith)("nzOptionHeightPx",i.i.optionHeightPx)("nzOptionOverflowSize",i.i.optionOverflowSize),f(2),T(!i.loading&&!i.hasGroup?4:-1),f(),T(!i.loading&&i.hasGroup?5:-1),f(),T(i.loading?6:-1))},dependencies:[fe,pe,Ne,Ve,Cs,xs,ws,re],encapsulation:2})};function p_(r,e){if(r&1){let t=X();l(0,`
        `),b(1,"nz-input-wrapper",1),l(2,`
          `),b(3,"input",2),q("ngModelChange",function(n){F(t);let o=h();return P(o.change(n))})("keyup.enter",function(n){F(t);let o=h();return P(o.enter(n))})("focus",function(n){F(t);let o=h();return P(o.focus(n))})("blur",function(n){F(t);let o=h();return P(o.blur(n))}),w(),l(4,`
        `),w(),l(5,`
      `)}if(r&2){let t=h();f(),y("nzAddonBefore",t.ui.addOnBefore)("nzAddonAfter",t.ui.addOnAfter)("nzPrefix",t.ui.prefix)("nzSuffix",t.ui.suffix),f(2),y("disabled",t.disabled)("nzSize",t.ui.size)("nzVariant",t.ui.variant??"outlined")("ngModel",t.value),Ee("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength??null)("type",t.ui.type??"text")("placeholder",t.ui.placeholder)("autocomplete",t.ui.autocomplete)("autoFocus",t.ui.autofocus)}}function m_(r,e){if(r&1){let t=X();l(0,`
        `),b(1,"input",2),q("ngModelChange",function(n){F(t);let o=h();return P(o.change(n))})("keyup.enter",function(n){F(t);let o=h();return P(o.enter(n))})("focus",function(n){F(t);let o=h();return P(o.focus(n))})("blur",function(n){F(t);let o=h();return P(o.blur(n))}),w(),l(2,`
      `)}if(r&2){let t=h();f(),y("disabled",t.disabled)("nzSize",t.ui.size)("nzVariant",t.ui.variant)("ngModel",t.value),Ee("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength??null)("type",t.ui.type??"text")("placeholder",t.ui.placeholder)("autocomplete",t.ui.autocomplete)("autoFocus",t.ui.autofocus)}}var Cr=class r extends ne{type;change$=null;ngOnInit(){let{addOnAfter:e,addOnAfterIcon:t,addOnBefore:i,addOnBeforeIcon:n,prefix:o,prefixIcon:a,suffix:s,suffixIcon:c,autofocus:u}=this.ui;this.type=e||i||t||n||o||a||s||c?"addon":"",u===!0&&setTimeout(()=>{this.injector.get(yi).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(e){!e&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let e=this.ui.changeDebounceTime,t=this.ui.change;if(e==null||e<=0||t==null)return;this.change$=new Ht(this.value);let i=this.change$.asObservable().pipe(mi(e),yt(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(i=i.pipe(gi(this.ui.changeMap))),i.subscribe(n=>t(n))}change(e){if(this.setValue(e),this.change$!=null){this.change$.next(e);return}this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}enter(e){this.ui.enter&&this.ui.enter(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275cmp=H({type:r,selectors:[["sf-string"]],standalone:!1,features:[G],decls:6,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzAddonBefore","nzAddonAfter","nzPrefix","nzSuffix"],["nz-input","",3,"ngModelChange","keyup.enter","focus","blur","disabled","nzSize","nzVariant","ngModel"]],template:function(t,i){t&1&&(l(0,`
    `),b(1,"sf-item-wrap",0),l(2,`
      `),E(3,p_,6,15)(4,m_,3,11),w(),l(5,`
  `)),t&2&&(f(),y("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),T(i.type==="addon"?3:4))},dependencies:[Fi,fe,pe,Ii,Vs,re],encapsulation:2})};function h_(r,e){if(r&1&&(l(0,`
      `),B(1,"span",1),l(2,`
    `)),r&2){let t=h();f(),y("innerHTML",t.text,He)}}function g_(r,e){if(r&1&&(l(0,`
      `),B(1,"span",2),l(2,`
    `)),r&2){let t=h();f(),y("innerText",t.text)}}var fi=class r extends ne{text="";ngOnInit(){this.ui._required=!1,this.ui.html=_e(this.ui.html,!0)}reset(e){this.text=e??this.ui.defaultText??"-"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275cmp=H({type:r,selectors:[["sf-text"]],standalone:!1,features:[G],decls:4,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(t,i){t&1&&(b(0,"sf-item-wrap",0),l(1,`
    `),E(2,h_,3,1)(3,g_,3,1),w()),t&2&&(se("sf__text-html",i.ui.html),y("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),T(i.ui.html?2:3))},dependencies:[re],encapsulation:2})};function __(r,e){if(r&1){let t=X();l(0,`
      `),b(1,"textarea",2),q("ngModelChange",function(n){F(t);let o=h();return P(o.change(n))})("focus",function(n){F(t);let o=h();return P(o.focus(n))})("blur",function(n){F(t);let o=h();return P(o.blur(n))}),l(2,"      "),w(),l(3,`
    `)}if(r&2){let t=h(),i=Xe(3),n=Xe(5);f(),y("disabled",t.disabled)("nzSize",t.ui.size)("ngModel",t.value)("cdkAutosizeMinRows",i)("cdkAutosizeMaxRows",n)("nzVariant",t.ui.variant??"outlined"),Ee("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength??null)("placeholder",t.ui.placeholder)}}function y_(r,e){if(r&1){let t=X();l(0,`
      `),b(1,"nz-textarea-count",3),l(2,`
        `),b(3,"textarea",2),q("ngModelChange",function(n){F(t);let o=h();return P(o.change(n))})("focus",function(n){F(t);let o=h();return P(o.focus(n))})("blur",function(n){F(t);let o=h();return P(o.blur(n))}),l(4,"        "),w(),l(5,`
      `),w(),l(6,`
    `)}if(r&2){let t=h(),i=Xe(3),n=Xe(5);f(),y("nzMaxCharacterCount",t.ui.maxCharacterCount)("nzComputeCharacterCount",t.ui.computeCharacterCount),f(2),y("disabled",t.disabled)("nzSize",t.ui.size)("ngModel",t.value)("cdkAutosizeMinRows",i)("cdkAutosizeMaxRows",n)("nzVariant",t.ui.variant??"outlined"),Ee("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength??null)("placeholder",t.ui.placeholder)}}function v_(r,e){}function S_(r,e){if(r&1&&(l(0,`
      `),ie(1,v_,0,0,"ng-template",4),l(2,`
    `)),r&2){h();let t=Te(8);f(),y("ngTemplateOutlet",t)}}var pi=class r extends ne{autosize;ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=e=>e.length)}change(e){this.setValue(e),this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(r)))(i||r)}})();static \u0275cmp=H({type:r,selectors:[["sf-textarea"]],standalone:!1,features:[G],decls:12,vars:9,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],["nz-input","","cdkTextareaAutosize","",3,"ngModelChange","focus","blur","disabled","nzSize","ngModel","cdkAutosizeMinRows","cdkAutosizeMaxRows","nzVariant"],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(l(0," "),b(1,"sf-item-wrap",1),l(2,`
    `),Jt(3),l(4,`
    `),Jt(5),l(6,`
    `),ie(7,__,4,10,"ng-template",null,0,Pe),l(9,`

    `),E(10,y_,7,12)(11,S_,3,1),w()),t&2&&(f(),y("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),f(2),Xt((i.autosize==null?null:i.autosize.minRows)??1),f(2),Xt((i.autosize==null?null:i.autosize.maxRows)??0),f(5),T(i.ui.maxCharacterCount?10:11))},dependencies:[Ie,Fi,fe,pe,Us,Ns,Ii,re],encapsulation:2})};var xr=class extends st{constructor(){super(),this.register("object",ci),this.register("array",ni),this.register("text",fi),this.register("string",Cr),this.register("number",wr),this.register("integer",wr),this.register("date",li),this.register("radio",di),this.register("checkbox",ai),this.register("boolean",oi),this.register("textarea",pi),this.register("select",ui),this.register("custom",si),this.setDefault(Cr)}};var b_=[ss,As,_s,Is,js,Ms,as,Os,Ds,ls,Ss,zs,qs,bs];var Wd=class r{static forRoot(){return{ngModule:r,providers:[{provide:_t,useClass:Sr,deps:[ut,vt]},{provide:st,useClass:xr}]}}static \u0275fac=function(t){return new(t||r)};static \u0275mod=Ba({type:r});static \u0275inj=Aa({imports:[rs,ms,ds,b_]})};function CC(r){let e=[{provide:_t,useClass:Sr,deps:[ut,vt]},{provide:st,useClass:xr}];return r?.widgets&&e.push(qa(()=>{let t=W(st);r?.widgets?.forEach(i=>t.register(i.KEY,i.type))})),Wa(e)}export{_e as a,Bd as b,Hs as c,tr as d,Lt as e,re as f,Fa as g,ne as h,Wd as i,CC as j};
