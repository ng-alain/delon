import{a as lu,b as cu}from"./chunk-LFL7JQ5T.js";import{h as Xd,i as Zd,o as Jd,p as eu,s as Ci,t as bi,u as Xr}from"./chunk-LJKXQ2Z5.js";import{A as Zo,B as Jo,C as ea,F as yi,H as ra,I as oa,J as tu,K as iu,L as nu,M as ru,N as ou,O as au,P as su,a as ii,b as Ad,d as Ji,f as Hd,g as je,h as jd,i as Ld,k as Bd,m as $e,n as qd,o as Wd,q as Ud,v as ni,z as rt}from"./chunk-OAR6ASNJ.js";import{$ as Ro,$a as b,$c as zn,$d as Gi,$g as Xo,Ab as Z,Ag as Rd,Ba as _t,Bd as it,C as gi,Cb as lt,Cd as ds,Eb as Ui,Ed as us,Ee as Id,Eg as Go,F as Mo,Fa as St,Fb as et,Fd as ps,Fh as Qd,Ga as rr,Gd as xn,H as Oi,Hb as gd,He as Pd,Ic as Bo,J as ad,Ja as l,Jb as Yi,Jd as Ki,Ka as I,Kb as Yr,Kd as ee,L as Fo,La as qe,Lb as Ho,M as sd,Me as Gr,Na as ge,Oa as ot,Oe as $d,P as qi,Pa as oe,Pb as jo,Qb as Me,Ra as xe,Rb as Xe,Sa as u,Sb as Kr,Se as Qr,Sg as Yd,Ta as He,Tb as Fe,Tg as vi,Ua as W,Ub as ye,Va as fd,Vg as Kd,W as ld,Wa as ei,Wb as vd,X as Vo,Xa as A,Xb as yd,Y as U,Ya as or,Ye as Yo,Z as cd,Za as md,Zd as qo,Zg as Qo,_a as _d,a as $,aa as Wi,ab as Y,ae as De,ag as nt,b as Ie,bb as $t,bf as fs,bg as Qi,c as id,ca as bt,cc as Cd,cf as Nd,cg as Ze,d as F,da as zt,db as Nt,dd as Mt,de as hs,df as cr,ea as dd,eb as Ot,ed as wd,ef as We,eg as Xi,f as nd,fa as Jt,fb as m,fc as bd,g as ir,ga as ud,gb as g,gc as ct,gd as Td,gg as Zi,h as rd,ha as L,hb as O,hc as dt,hf as Sn,ia as xt,ib as H,ic as ut,if as Od,ig as dr,j as od,ja as Be,jb as j,jc as Cn,jd as sr,jf as Ko,k as Ce,kb as Se,kc as bn,kd,kf as ti,kg as ms,l as Bi,lb as q,lc as ar,lf as Mi,lg as Md,lh as ta,m as nr,ma as Ae,mc as Lo,mf as Fi,na as T,nc as Pe,ng as Fd,oa as k,oc as zd,od as Ft,pb as P,pd as Dd,q as V,qd as Yt,ra as fe,rb as d,rc as xd,s as yn,sb as at,sc as Sd,ta as pd,tb as st,th as Gd,ua as hd,ub as me,uc as wt,uh as _s,ve as Wo,vh as ia,w as Lt,wa as Ao,we as lr,wh as na,x as cs,xb as ae,xd as Ed,xe as Uo,yb as R,zb as ke,zg as Vd}from"./chunk-JIFQ6OJY.js";var ao=F(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.regexpCode=ue.getEsmExportName=ue.getProperty=ue.safeStringify=ue.stringify=ue.strConcat=ue.addCodeArg=ue.str=ue._=ue.nil=ue._Code=ue.Name=ue.IDENTIFIER=ue._CodeOrName=void 0;var ro=class{};ue._CodeOrName=ro;ue.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var On=class extends ro{constructor(e){if(super(),!ue.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};ue.Name=On;var Gt=class extends ro{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((t,n)=>`${t}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((t,n)=>(n instanceof On&&(t[n.str]=(t[n.str]||0)+1),t),{})}};ue._Code=Gt;ue.nil=new Gt("");function $u(i,...e){let t=[i[0]],n=0;for(;n<e.length;)Fs(t,e[n]),t.push(i[++n]);return new Gt(t)}ue._=$u;var Ms=new Gt("+");function Nu(i,...e){let t=[oo(i[0])],n=0;for(;n<e.length;)t.push(Ms),Fs(t,e[n]),t.push(Ms,oo(i[++n]));return Tg(t),new Gt(t)}ue.str=Nu;function Fs(i,e){e instanceof Gt?i.push(...e._items):e instanceof On?i.push(e):i.push(Eg(e))}ue.addCodeArg=Fs;function Tg(i){let e=1;for(;e<i.length-1;){if(i[e]===Ms){let t=kg(i[e-1],i[e+1]);if(t!==void 0){i.splice(e-1,3,t);continue}i[e++]="+"}e++}}function kg(i,e){if(e==='""')return i;if(i==='""')return e;if(typeof i=="string")return e instanceof On||i[i.length-1]!=='"'?void 0:typeof e!="string"?`${i.slice(0,-1)}${e}"`:e[0]==='"'?i.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(i instanceof On))return`"${i}${e.slice(1)}`}function Dg(i,e){return e.emptyStr()?i:i.emptyStr()?e:Nu`${i}${e}`}ue.strConcat=Dg;function Eg(i){return typeof i=="number"||typeof i=="boolean"||i===null?i:oo(Array.isArray(i)?i.join(","):i)}function Ig(i){return new Gt(oo(i))}ue.stringify=Ig;function oo(i){return JSON.stringify(i).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}ue.safeStringify=oo;function Pg(i){return typeof i=="string"&&ue.IDENTIFIER.test(i)?new Gt(`.${i}`):$u`[${i}]`}ue.getProperty=Pg;function $g(i){if(typeof i=="string"&&ue.IDENTIFIER.test(i))return new Gt(`${i}`);throw new Error(`CodeGen: invalid export name: ${i}, use explicit $id name mapping`)}ue.getEsmExportName=$g;function Ng(i){return new Gt(i.toString())}ue.regexpCode=Ng});var Hs=F(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.ValueScope=kt.ValueScopeName=kt.Scope=kt.varKinds=kt.UsedValueState=void 0;var Vt=ao(),Vs=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Rs;(function(i){i[i.Started=0]="Started",i[i.Completed=1]="Completed"})(Rs=kt.UsedValueState||(kt.UsedValueState={}));kt.varKinds={const:new Vt.Name("const"),let:new Vt.Name("let"),var:new Vt.Name("var")};var ma=class{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof Vt.Name?e:this.name(e)}name(e){return new Vt.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,n;if(!((n=(t=this._parent)===null||t===void 0?void 0:t._prefixes)===null||n===void 0)&&n.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};kt.Scope=ma;var _a=class extends Vt.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=(0,Vt._)`.${new Vt.Name(t)}[${n}]`}};kt.ValueScopeName=_a;var Og=(0,Vt._)`\n`,As=class extends ma{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=Ie($({},e),{_n:e.lines?Og:Vt.nil})}get(){return this._scope}name(e){return new _a(e,this._newName(e))}value(e,t){var n;if(t.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let r=this.toName(e),{prefix:o}=r,a=(n=t.key)!==null&&n!==void 0?n:t.ref,s=this._values[o];if(s){let f=s.get(a);if(f)return f}else s=this._values[o]=new Map;s.set(a,r);let c=this._scope[o]||(this._scope[o]=[]),h=c.length;return c[h]=t.ref,r.setValue(t,{property:o,itemIndex:h}),r}getValue(e,t){let n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,Vt._)`${e}${n.scopePath}`})}scopeCode(e=this._values,t,n){return this._reduceValues(e,r=>{if(r.value===void 0)throw new Error(`CodeGen: name "${r}" has no value`);return r.value.code},t,n)}_reduceValues(e,t,n={},r){let o=Vt.nil;for(let a in e){let s=e[a];if(!s)continue;let c=n[a]=n[a]||new Map;s.forEach(h=>{if(c.has(h))return;c.set(h,Rs.Started);let f=t(h);if(f){let v=this.opts.es5?kt.varKinds.var:kt.varKinds.const;o=(0,Vt._)`${o}${v} ${h} = ${f};${this.opts._n}`}else if(f=r?.(h))o=(0,Vt._)`${o}${f}${this.opts._n}`;else throw new Vs(h);c.set(h,Rs.Completed)})}return o}};kt.ValueScope=As});var ie=F(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.or=ne.and=ne.not=ne.CodeGen=ne.operators=ne.varKinds=ne.ValueScopeName=ne.ValueScope=ne.Scope=ne.Name=ne.regexpCode=ne.stringify=ne.getProperty=ne.nil=ne.strConcat=ne.str=ne._=void 0;var se=ao(),ai=Hs(),on=ao();Object.defineProperty(ne,"_",{enumerable:!0,get:function(){return on._}});Object.defineProperty(ne,"str",{enumerable:!0,get:function(){return on.str}});Object.defineProperty(ne,"strConcat",{enumerable:!0,get:function(){return on.strConcat}});Object.defineProperty(ne,"nil",{enumerable:!0,get:function(){return on.nil}});Object.defineProperty(ne,"getProperty",{enumerable:!0,get:function(){return on.getProperty}});Object.defineProperty(ne,"stringify",{enumerable:!0,get:function(){return on.stringify}});Object.defineProperty(ne,"regexpCode",{enumerable:!0,get:function(){return on.regexpCode}});Object.defineProperty(ne,"Name",{enumerable:!0,get:function(){return on.Name}});var ba=Hs();Object.defineProperty(ne,"Scope",{enumerable:!0,get:function(){return ba.Scope}});Object.defineProperty(ne,"ValueScope",{enumerable:!0,get:function(){return ba.ValueScope}});Object.defineProperty(ne,"ValueScopeName",{enumerable:!0,get:function(){return ba.ValueScopeName}});Object.defineProperty(ne,"varKinds",{enumerable:!0,get:function(){return ba.varKinds}});ne.operators={GT:new se._Code(">"),GTE:new se._Code(">="),LT:new se._Code("<"),LTE:new se._Code("<="),EQ:new se._Code("==="),NEQ:new se._Code("!=="),NOT:new se._Code("!"),OR:new se._Code("||"),AND:new se._Code("&&"),ADD:new se._Code("+")};var Ri=class{optimizeNodes(){return this}optimizeNames(e,t){return this}},js=class extends Ri{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){let n=e?ai.varKinds.var:this.varKind,r=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${r};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=Cr(this.rhs,e,t)),this}get names(){return this.rhs instanceof se._CodeOrName?this.rhs.names:{}}},va=class extends Ri{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof se.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Cr(this.rhs,e,t),this}get names(){let e=this.lhs instanceof se.Name?{}:$({},this.lhs.names);return Ca(e,this.rhs)}},Ls=class extends va{constructor(e,t,n,r){super(e,n,r),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Bs=class extends Ri{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},qs=class extends Ri{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},Ws=class extends Ri{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},Us=class extends Ri{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=Cr(this.code,e,t),this}get names(){return this.code instanceof se._CodeOrName?this.code.names:{}}},so=class extends Ri{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,n)=>t+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:n}=this,r=n.length;for(;r--;){let o=n[r];o.optimizeNames(e,t)||(Mg(e,o.names),n.splice(r,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>Mn(e,t.names),{})}},Ai=class extends so{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Ys=class extends so{},Ks=(()=>{class i extends Ai{}return i.kind="else",i})(),ga=(()=>{class i extends Ai{constructor(t,n){super(n),this.condition=t}render(t){let n=`if(${this.condition})`+super.render(t);return this.else&&(n+="else "+this.else.render(t)),n}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let n=this.else;if(n){let r=n.optimizeNodes();n=this.else=Array.isArray(r)?new Ks(r):r}if(n)return t===!1?n instanceof i?n:n.nodes:this.nodes.length?this:new i(Ru(t),n instanceof i?[n]:n.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,n){var r;if(this.else=(r=this.else)===null||r===void 0?void 0:r.optimizeNames(t,n),!!(super.optimizeNames(t,n)||this.else))return this.condition=Cr(this.condition,t,n),this}get names(){let t=super.names;return Ca(t,this.condition),this.else&&Mn(t,this.else.names),t}}return i.kind="if",i})(),za=(()=>{class i extends Ai{}return i.kind="for",i})(),Gs=class extends za{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=Cr(this.iteration,e,t),this}get names(){return Mn(super.names,this.iteration.names)}},Qs=class extends za{constructor(e,t,n,r){super(),this.varKind=e,this.name=t,this.from=n,this.to=r}render(e){let t=e.es5?ai.varKinds.var:this.varKind,{name:n,from:r,to:o}=this;return`for(${t} ${n}=${r}; ${n}<${o}; ${n}++)`+super.render(e)}get names(){let e=Ca(super.names,this.from);return Ca(e,this.to)}},ya=class extends za{constructor(e,t,n,r){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=Cr(this.iterable,e,t),this}get names(){return Mn(super.names,this.iterable.names)}},Ou=(()=>{class i extends Ai{constructor(t,n,r){super(),this.name=t,this.args=n,this.async=r}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}}return i.kind="func",i})(),Mu=(()=>{class i extends so{render(t){return"return "+super.render(t)}}return i.kind="return",i})(),Xs=class extends Ai{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(t=this.finally)===null||t===void 0||t.optimizeNodes(),this}optimizeNames(e,t){var n,r;return super.optimizeNames(e,t),(n=this.catch)===null||n===void 0||n.optimizeNames(e,t),(r=this.finally)===null||r===void 0||r.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&Mn(e,this.catch.names),this.finally&&Mn(e,this.finally.names),e}},Fu=(()=>{class i extends Ai{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}}return i.kind="catch",i})(),Vu=(()=>{class i extends Ai{render(t){return"finally"+super.render(t)}}return i.kind="finally",i})(),Zs=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts=Ie($({},t),{_n:t.lines?`
`:""}),this._extScope=e,this._scope=new ai.Scope({parent:e}),this._nodes=[new Ys]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,r){let o=this._scope.toName(t);return n!==void 0&&r&&(this._constants[o.str]=n),this._leafNode(new js(e,o,n)),o}const(e,t,n){return this._def(ai.varKinds.const,e,t,n)}let(e,t,n){return this._def(ai.varKinds.let,e,t,n)}var(e,t,n){return this._def(ai.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new va(e,t,n))}add(e,t){return this._leafNode(new Ls(e,ne.operators.ADD,t))}code(e){return typeof e=="function"?e():e!==se.nil&&this._leafNode(new Us(e)),this}object(...e){let t=["{"];for(let[n,r]of e)t.length>1&&t.push(","),t.push(n),(n!==r||this.opts.es5)&&(t.push(":"),(0,se.addCodeArg)(t,r));return t.push("}"),new se._Code(t)}if(e,t,n){if(this._blockNode(new ga(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new ga(e))}else(){return this._elseNode(new Ks)}endIf(){return this._endBlockNode(ga,Ks)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new Gs(e),t)}forRange(e,t,n,r,o=this.opts.es5?ai.varKinds.var:ai.varKinds.let){let a=this._scope.toName(e);return this._for(new Qs(o,a,t,n),()=>r(a))}forOf(e,t,n,r=ai.varKinds.const){let o=this._scope.toName(e);if(this.opts.es5){let a=t instanceof se.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,se._)`${a}.length`,s=>{this.var(o,(0,se._)`${a}[${s}]`),n(o)})}return this._for(new ya("of",r,o,t),()=>n(o))}forIn(e,t,n,r=this.opts.es5?ai.varKinds.var:ai.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,se._)`Object.keys(${t})`,n);let o=this._scope.toName(e);return this._for(new ya("in",r,o,t),()=>n(o))}endFor(){return this._endBlockNode(za)}label(e){return this._leafNode(new Bs(e))}break(e){return this._leafNode(new qs(e))}return(e){let t=new Mu;if(this._blockNode(t),this.code(e),t.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Mu)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let r=new Xs;if(this._blockNode(r),this.code(e),t){let o=this.name("e");this._currNode=r.catch=new Fu(o),t(o)}return n&&(this._currNode=r.finally=new Vu,this.code(n)),this._endBlockNode(Fu,Vu)}throw(e){return this._leafNode(new Ws(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(t===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-t;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=se.nil,n,r){return this._blockNode(new Ou(e,t,n)),r&&this.code(r).endFunc(),this}endFunc(){return this._endBlockNode(Ou)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof ga))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}};ne.CodeGen=Zs;function Mn(i,e){for(let t in e)i[t]=(i[t]||0)+(e[t]||0);return i}function Ca(i,e){return e instanceof se._CodeOrName?Mn(i,e.names):i}function Cr(i,e,t){if(i instanceof se.Name)return n(i);if(!r(i))return i;return new se._Code(i._items.reduce((o,a)=>(a instanceof se.Name&&(a=n(a)),a instanceof se._Code?o.push(...a._items):o.push(a),o),[]));function n(o){let a=t[o.str];return a===void 0||e[o.str]!==1?o:(delete e[o.str],a)}function r(o){return o instanceof se._Code&&o._items.some(a=>a instanceof se.Name&&e[a.str]===1&&t[a.str]!==void 0)}}function Mg(i,e){for(let t in e)i[t]=(i[t]||0)-(e[t]||0)}function Ru(i){return typeof i=="boolean"||typeof i=="number"||i===null?!i:(0,se._)`!${Js(i)}`}ne.not=Ru;var Fg=Au(ne.operators.AND);function Vg(...i){return i.reduce(Fg)}ne.and=Vg;var Rg=Au(ne.operators.OR);function Ag(...i){return i.reduce(Rg)}ne.or=Ag;function Au(i){return(e,t)=>e===se.nil?t:t===se.nil?e:(0,se._)`${Js(e)} ${i} ${Js(t)}`}function Js(i){return i instanceof se.Name?i:(0,se._)`(${i})`}});var pe=F(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.checkStrictMode=re.getErrorPath=re.Type=re.useFunc=re.setEvaluated=re.evaluatedPropsToName=re.mergeEvaluated=re.eachItem=re.unescapeJsonPointer=re.escapeJsonPointer=re.escapeFragment=re.unescapeFragment=re.schemaRefOrVal=re.schemaHasRulesButRef=re.schemaHasRules=re.checkUnknownRules=re.alwaysValidSchema=re.toHash=void 0;var Ee=ie(),Hg=ao();function jg(i){let e={};for(let t of i)e[t]=!0;return e}re.toHash=jg;function Lg(i,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(Lu(i,e),!Bu(e,i.self.RULES.all))}re.alwaysValidSchema=Lg;function Lu(i,e=i.schema){let{opts:t,self:n}=i;if(!t.strictSchema||typeof e=="boolean")return;let r=n.RULES.keywords;for(let o in e)r[o]||Yu(i,`unknown keyword: "${o}"`)}re.checkUnknownRules=Lu;function Bu(i,e){if(typeof i=="boolean")return!i;for(let t in i)if(e[t])return!0;return!1}re.schemaHasRules=Bu;function Bg(i,e){if(typeof i=="boolean")return!i;for(let t in i)if(t!=="$ref"&&e.all[t])return!0;return!1}re.schemaHasRulesButRef=Bg;function qg({topSchemaRef:i,schemaPath:e},t,n,r){if(!r){if(typeof t=="number"||typeof t=="boolean")return t;if(typeof t=="string")return(0,Ee._)`${t}`}return(0,Ee._)`${i}${e}${(0,Ee.getProperty)(n)}`}re.schemaRefOrVal=qg;function Wg(i){return qu(decodeURIComponent(i))}re.unescapeFragment=Wg;function Ug(i){return encodeURIComponent(el(i))}re.escapeFragment=Ug;function el(i){return typeof i=="number"?`${i}`:i.replace(/~/g,"~0").replace(/\//g,"~1")}re.escapeJsonPointer=el;function qu(i){return i.replace(/~1/g,"/").replace(/~0/g,"~")}re.unescapeJsonPointer=qu;function Yg(i,e){if(Array.isArray(i))for(let t of i)e(t);else e(i)}re.eachItem=Yg;function Hu({mergeNames:i,mergeToName:e,mergeValues:t,resultToName:n}){return(r,o,a,s)=>{let c=a===void 0?o:a instanceof Ee.Name?(o instanceof Ee.Name?i(r,o,a):e(r,o,a),a):o instanceof Ee.Name?(e(r,a,o),o):t(o,a);return s===Ee.Name&&!(c instanceof Ee.Name)?n(r,c):c}}re.mergeEvaluated={props:Hu({mergeNames:(i,e,t)=>i.if((0,Ee._)`${t} !== true && ${e} !== undefined`,()=>{i.if((0,Ee._)`${e} === true`,()=>i.assign(t,!0),()=>i.assign(t,(0,Ee._)`${t} || {}`).code((0,Ee._)`Object.assign(${t}, ${e})`))}),mergeToName:(i,e,t)=>i.if((0,Ee._)`${t} !== true`,()=>{e===!0?i.assign(t,!0):(i.assign(t,(0,Ee._)`${t} || {}`),tl(i,t,e))}),mergeValues:(i,e)=>i===!0?!0:$($({},i),e),resultToName:Wu}),items:Hu({mergeNames:(i,e,t)=>i.if((0,Ee._)`${t} !== true && ${e} !== undefined`,()=>i.assign(t,(0,Ee._)`${e} === true ? true : ${t} > ${e} ? ${t} : ${e}`)),mergeToName:(i,e,t)=>i.if((0,Ee._)`${t} !== true`,()=>i.assign(t,e===!0?!0:(0,Ee._)`${t} > ${e} ? ${t} : ${e}`)),mergeValues:(i,e)=>i===!0?!0:Math.max(i,e),resultToName:(i,e)=>i.var("items",e)})};function Wu(i,e){if(e===!0)return i.var("props",!0);let t=i.var("props",(0,Ee._)`{}`);return e!==void 0&&tl(i,t,e),t}re.evaluatedPropsToName=Wu;function tl(i,e,t){Object.keys(t).forEach(n=>i.assign((0,Ee._)`${e}${(0,Ee.getProperty)(n)}`,!0))}re.setEvaluated=tl;var ju={};function Kg(i,e){return i.scopeValue("func",{ref:e,code:ju[e.code]||(ju[e.code]=new Hg._Code(e.code))})}re.useFunc=Kg;var Uu;(function(i){i[i.Num=0]="Num",i[i.Str=1]="Str"})(Uu=re.Type||(re.Type={}));function Gg(i,e,t){if(i instanceof Ee.Name){let n=e===Uu.Num;return t?n?(0,Ee._)`"[" + ${i} + "]"`:(0,Ee._)`"['" + ${i} + "']"`:n?(0,Ee._)`"/" + ${i}`:(0,Ee._)`"/" + ${i}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return t?(0,Ee.getProperty)(i).toString():"/"+el(i)}re.getErrorPath=Gg;function Yu(i,e,t=i.opts.strictSchema){if(t){if(e=`strict mode: ${e}`,t===!0)throw new Error(e);i.self.logger.warn(e)}}re.checkStrictMode=Yu});var Hi=F(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});var vt=ie(),Qg={data:new vt.Name("data"),valCxt:new vt.Name("valCxt"),instancePath:new vt.Name("instancePath"),parentData:new vt.Name("parentData"),parentDataProperty:new vt.Name("parentDataProperty"),rootData:new vt.Name("rootData"),dynamicAnchors:new vt.Name("dynamicAnchors"),vErrors:new vt.Name("vErrors"),errors:new vt.Name("errors"),this:new vt.Name("this"),self:new vt.Name("self"),scope:new vt.Name("scope"),json:new vt.Name("json"),jsonPos:new vt.Name("jsonPos"),jsonLen:new vt.Name("jsonLen"),jsonPart:new vt.Name("jsonPart")};il.default=Qg});var lo=F(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.extendErrors=yt.resetErrorsCount=yt.reportExtraError=yt.reportError=yt.keyword$DataError=yt.keywordError=void 0;var ce=ie(),xa=pe(),Dt=Hi();yt.keywordError={message:({keyword:i})=>(0,ce.str)`must pass "${i}" keyword validation`};yt.keyword$DataError={message:({keyword:i,schemaType:e})=>e?(0,ce.str)`"${i}" keyword must be ${e} ($data)`:(0,ce.str)`"${i}" keyword is invalid ($data)`};function Xg(i,e=yt.keywordError,t,n){let{it:r}=i,{gen:o,compositeRule:a,allErrors:s}=r,c=Qu(i,e,t);n??(a||s)?Ku(o,c):Gu(r,(0,ce._)`[${c}]`)}yt.reportError=Xg;function Zg(i,e=yt.keywordError,t){let{it:n}=i,{gen:r,compositeRule:o,allErrors:a}=n,s=Qu(i,e,t);Ku(r,s),o||a||Gu(n,Dt.default.vErrors)}yt.reportExtraError=Zg;function Jg(i,e){i.assign(Dt.default.errors,e),i.if((0,ce._)`${Dt.default.vErrors} !== null`,()=>i.if(e,()=>i.assign((0,ce._)`${Dt.default.vErrors}.length`,e),()=>i.assign(Dt.default.vErrors,null)))}yt.resetErrorsCount=Jg;function ev({gen:i,keyword:e,schemaValue:t,data:n,errsCount:r,it:o}){if(r===void 0)throw new Error("ajv implementation error");let a=i.name("err");i.forRange("i",r,Dt.default.errors,s=>{i.const(a,(0,ce._)`${Dt.default.vErrors}[${s}]`),i.if((0,ce._)`${a}.instancePath === undefined`,()=>i.assign((0,ce._)`${a}.instancePath`,(0,ce.strConcat)(Dt.default.instancePath,o.errorPath))),i.assign((0,ce._)`${a}.schemaPath`,(0,ce.str)`${o.errSchemaPath}/${e}`),o.opts.verbose&&(i.assign((0,ce._)`${a}.schema`,t),i.assign((0,ce._)`${a}.data`,n))})}yt.extendErrors=ev;function Ku(i,e){let t=i.const("err",e);i.if((0,ce._)`${Dt.default.vErrors} === null`,()=>i.assign(Dt.default.vErrors,(0,ce._)`[${t}]`),(0,ce._)`${Dt.default.vErrors}.push(${t})`),i.code((0,ce._)`${Dt.default.errors}++`)}function Gu(i,e){let{gen:t,validateName:n,schemaEnv:r}=i;r.$async?t.throw((0,ce._)`new ${i.ValidationError}(${e})`):(t.assign((0,ce._)`${n}.errors`,e),t.return(!1))}var Fn={keyword:new ce.Name("keyword"),schemaPath:new ce.Name("schemaPath"),params:new ce.Name("params"),propertyName:new ce.Name("propertyName"),message:new ce.Name("message"),schema:new ce.Name("schema"),parentSchema:new ce.Name("parentSchema")};function Qu(i,e,t){let{createErrors:n}=i.it;return n===!1?(0,ce._)`{}`:tv(i,e,t)}function tv(i,e,t={}){let{gen:n,it:r}=i,o=[iv(r,t),nv(i,t)];return rv(i,e,o),n.object(...o)}function iv({errorPath:i},{instancePath:e}){let t=e?(0,ce.str)`${i}${(0,xa.getErrorPath)(e,xa.Type.Str)}`:i;return[Dt.default.instancePath,(0,ce.strConcat)(Dt.default.instancePath,t)]}function nv({keyword:i,it:{errSchemaPath:e}},{schemaPath:t,parentSchema:n}){let r=n?e:(0,ce.str)`${e}/${i}`;return t&&(r=(0,ce.str)`${r}${(0,xa.getErrorPath)(t,xa.Type.Str)}`),[Fn.schemaPath,r]}function rv(i,{params:e,message:t},n){let{keyword:r,data:o,schemaValue:a,it:s}=i,{opts:c,propertyName:h,topSchemaRef:f,schemaPath:v}=s;n.push([Fn.keyword,r],[Fn.params,typeof e=="function"?e(i):e||(0,ce._)`{}`]),c.messages&&n.push([Fn.message,typeof t=="function"?t(i):t]),c.verbose&&n.push([Fn.schema,a],[Fn.parentSchema,(0,ce._)`${f}${v}`],[Dt.default.data,o]),h&&n.push([Fn.propertyName,h])}});var Zu=F(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.boolOrEmptySchema=br.topBoolOrEmptySchema=void 0;var ov=lo(),av=ie(),sv=Hi(),lv={message:"boolean schema is false"};function cv(i){let{gen:e,schema:t,validateName:n}=i;t===!1?Xu(i,!1):typeof t=="object"&&t.$async===!0?e.return(sv.default.data):(e.assign((0,av._)`${n}.errors`,null),e.return(!0))}br.topBoolOrEmptySchema=cv;function dv(i,e){let{gen:t,schema:n}=i;n===!1?(t.var(e,!1),Xu(i)):t.var(e,!0)}br.boolOrEmptySchema=dv;function Xu(i,e){let{gen:t,data:n}=i,r={gen:t,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i};(0,ov.reportError)(r,lv,void 0,e)}});var nl=F(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.getRules=zr.isJSONType=void 0;var uv=["string","number","integer","boolean","null","object","array"],pv=new Set(uv);function hv(i){return typeof i=="string"&&pv.has(i)}zr.isJSONType=hv;function fv(){let i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:Ie($({},i),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}zr.getRules=fv});var rl=F(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.shouldUseRule=an.shouldUseGroup=an.schemaHasRulesForType=void 0;function mv({schema:i,self:e},t){let n=e.RULES.types[t];return n&&n!==!0&&Ju(i,n)}an.schemaHasRulesForType=mv;function Ju(i,e){return e.rules.some(t=>ep(i,t))}an.shouldUseGroup=Ju;function ep(i,e){var t;return i[e.keyword]!==void 0||((t=e.definition.implements)===null||t===void 0?void 0:t.some(n=>i[n]!==void 0))}an.shouldUseRule=ep});var uo=F(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.reportTypeError=pt.checkDataTypes=pt.checkDataType=pt.coerceAndCheckDataType=pt.getJSONTypes=pt.getSchemaTypes=pt.DataType=void 0;var _v=nl(),gv=rl(),vv=lo(),te=ie(),tp=pe(),co;(function(i){i[i.Correct=0]="Correct",i[i.Wrong=1]="Wrong"})(co=pt.DataType||(pt.DataType={}));function yv(i){let e=ip(i.type);if(e.includes("null")){if(i.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&i.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');i.nullable===!0&&e.push("null")}return e}pt.getSchemaTypes=yv;function ip(i){let e=Array.isArray(i)?i:i?[i]:[];if(e.every(_v.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}pt.getJSONTypes=ip;function Cv(i,e){let{gen:t,data:n,opts:r}=i,o=bv(e,r.coerceTypes),a=e.length>0&&!(o.length===0&&e.length===1&&(0,gv.schemaHasRulesForType)(i,e[0]));if(a){let s=al(e,n,r.strictNumbers,co.Wrong);t.if(s,()=>{o.length?zv(i,e,o):sl(i)})}return a}pt.coerceAndCheckDataType=Cv;var np=new Set(["string","number","integer","boolean","null"]);function bv(i,e){return e?i.filter(t=>np.has(t)||e==="array"&&t==="array"):[]}function zv(i,e,t){let{gen:n,data:r,opts:o}=i,a=n.let("dataType",(0,te._)`typeof ${r}`),s=n.let("coerced",(0,te._)`undefined`);o.coerceTypes==="array"&&n.if((0,te._)`${a} == 'object' && Array.isArray(${r}) && ${r}.length == 1`,()=>n.assign(r,(0,te._)`${r}[0]`).assign(a,(0,te._)`typeof ${r}`).if(al(e,r,o.strictNumbers),()=>n.assign(s,r))),n.if((0,te._)`${s} !== undefined`);for(let h of t)(np.has(h)||h==="array"&&o.coerceTypes==="array")&&c(h);n.else(),sl(i),n.endIf(),n.if((0,te._)`${s} !== undefined`,()=>{n.assign(r,s),xv(i,s)});function c(h){switch(h){case"string":n.elseIf((0,te._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,te._)`"" + ${r}`).elseIf((0,te._)`${r} === null`).assign(s,(0,te._)`""`);return;case"number":n.elseIf((0,te._)`${a} == "boolean" || ${r} === null
              || (${a} == "string" && ${r} && ${r} == +${r})`).assign(s,(0,te._)`+${r}`);return;case"integer":n.elseIf((0,te._)`${a} === "boolean" || ${r} === null
              || (${a} === "string" && ${r} && ${r} == +${r} && !(${r} % 1))`).assign(s,(0,te._)`+${r}`);return;case"boolean":n.elseIf((0,te._)`${r} === "false" || ${r} === 0 || ${r} === null`).assign(s,!1).elseIf((0,te._)`${r} === "true" || ${r} === 1`).assign(s,!0);return;case"null":n.elseIf((0,te._)`${r} === "" || ${r} === 0 || ${r} === false`),n.assign(s,null);return;case"array":n.elseIf((0,te._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${r} === null`).assign(s,(0,te._)`[${r}]`)}}}function xv({gen:i,parentData:e,parentDataProperty:t},n){i.if((0,te._)`${e} !== undefined`,()=>i.assign((0,te._)`${e}[${t}]`,n))}function ol(i,e,t,n=co.Correct){let r=n===co.Correct?te.operators.EQ:te.operators.NEQ,o;switch(i){case"null":return(0,te._)`${e} ${r} null`;case"array":o=(0,te._)`Array.isArray(${e})`;break;case"object":o=(0,te._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":o=a((0,te._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":o=a();break;default:return(0,te._)`typeof ${e} ${r} ${i}`}return n===co.Correct?o:(0,te.not)(o);function a(s=te.nil){return(0,te.and)((0,te._)`typeof ${e} == "number"`,s,t?(0,te._)`isFinite(${e})`:te.nil)}}pt.checkDataType=ol;function al(i,e,t,n){if(i.length===1)return ol(i[0],e,t,n);let r,o=(0,tp.toHash)(i);if(o.array&&o.object){let a=(0,te._)`typeof ${e} != "object"`;r=o.null?a:(0,te._)`!${e} || ${a}`,delete o.null,delete o.array,delete o.object}else r=te.nil;o.number&&delete o.integer;for(let a in o)r=(0,te.and)(r,ol(a,e,t,n));return r}pt.checkDataTypes=al;var Sv={message:({schema:i})=>`must be ${i}`,params:({schema:i,schemaValue:e})=>typeof i=="string"?(0,te._)`{type: ${i}}`:(0,te._)`{type: ${e}}`};function sl(i){let e=wv(i);(0,vv.reportError)(e,Sv)}pt.reportTypeError=sl;function wv(i){let{gen:e,data:t,schema:n}=i,r=(0,tp.schemaRefOrVal)(i,n,"type");return{gen:e,keyword:"type",data:t,schema:n.type,schemaCode:r,schemaValue:r,parentSchema:n,params:{},it:i}}});var op=F(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.assignDefaults=void 0;var xr=ie(),Tv=pe();function kv(i,e){let{properties:t,items:n}=i.schema;if(e==="object"&&t)for(let r in t)rp(i,r,t[r].default);else e==="array"&&Array.isArray(n)&&n.forEach((r,o)=>rp(i,o,r.default))}Sa.assignDefaults=kv;function rp(i,e,t){let{gen:n,compositeRule:r,data:o,opts:a}=i;if(t===void 0)return;let s=(0,xr._)`${o}${(0,xr.getProperty)(e)}`;if(r){(0,Tv.checkStrictMode)(i,`default is ignored for: ${s}`);return}let c=(0,xr._)`${s} === undefined`;a.useDefaults==="empty"&&(c=(0,xr._)`${c} || ${s} === null || ${s} === ""`),n.if(c,(0,xr._)`${s} = ${(0,xr.stringify)(t)}`)}});var Qt=F(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.validateUnion=we.validateArray=we.usePattern=we.callValidateCode=we.schemaProperties=we.allSchemaProperties=we.noPropertyInData=we.propertyInData=we.isOwnProperty=we.hasPropFunc=we.reportMissingProp=we.checkMissingProp=we.checkReportMissingProp=void 0;var Ne=ie(),ll=pe(),sn=Hi(),Dv=pe();function Ev(i,e){let{gen:t,data:n,it:r}=i;t.if(dl(t,n,e,r.opts.ownProperties),()=>{i.setParams({missingProperty:(0,Ne._)`${e}`},!0),i.error()})}we.checkReportMissingProp=Ev;function Iv({gen:i,data:e,it:{opts:t}},n,r){return(0,Ne.or)(...n.map(o=>(0,Ne.and)(dl(i,e,o,t.ownProperties),(0,Ne._)`${r} = ${o}`)))}we.checkMissingProp=Iv;function Pv(i,e){i.setParams({missingProperty:e},!0),i.error()}we.reportMissingProp=Pv;function ap(i){return i.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ne._)`Object.prototype.hasOwnProperty`})}we.hasPropFunc=ap;function cl(i,e,t){return(0,Ne._)`${ap(i)}.call(${e}, ${t})`}we.isOwnProperty=cl;function $v(i,e,t,n){let r=(0,Ne._)`${e}${(0,Ne.getProperty)(t)} !== undefined`;return n?(0,Ne._)`${r} && ${cl(i,e,t)}`:r}we.propertyInData=$v;function dl(i,e,t,n){let r=(0,Ne._)`${e}${(0,Ne.getProperty)(t)} === undefined`;return n?(0,Ne.or)(r,(0,Ne.not)(cl(i,e,t))):r}we.noPropertyInData=dl;function sp(i){return i?Object.keys(i).filter(e=>e!=="__proto__"):[]}we.allSchemaProperties=sp;function Nv(i,e){return sp(e).filter(t=>!(0,ll.alwaysValidSchema)(i,e[t]))}we.schemaProperties=Nv;function Ov({schemaCode:i,data:e,it:{gen:t,topSchemaRef:n,schemaPath:r,errorPath:o},it:a},s,c,h){let f=h?(0,Ne._)`${i}, ${e}, ${n}${r}`:e,v=[[sn.default.instancePath,(0,Ne.strConcat)(sn.default.instancePath,o)],[sn.default.parentData,a.parentData],[sn.default.parentDataProperty,a.parentDataProperty],[sn.default.rootData,sn.default.rootData]];a.opts.dynamicRef&&v.push([sn.default.dynamicAnchors,sn.default.dynamicAnchors]);let S=(0,Ne._)`${f}, ${t.object(...v)}`;return c!==Ne.nil?(0,Ne._)`${s}.call(${c}, ${S})`:(0,Ne._)`${s}(${S})`}we.callValidateCode=Ov;var Mv=(0,Ne._)`new RegExp`;function Fv({gen:i,it:{opts:e}},t){let n=e.unicodeRegExp?"u":"",{regExp:r}=e.code,o=r(t,n);return i.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Ne._)`${r.code==="new RegExp"?Mv:(0,Dv.useFunc)(i,r)}(${t}, ${n})`})}we.usePattern=Fv;function Vv(i){let{gen:e,data:t,keyword:n,it:r}=i,o=e.name("valid");if(r.allErrors){let s=e.let("valid",!0);return a(()=>e.assign(s,!1)),s}return e.var(o,!0),a(()=>e.break()),o;function a(s){let c=e.const("len",(0,Ne._)`${t}.length`);e.forRange("i",0,c,h=>{i.subschema({keyword:n,dataProp:h,dataPropType:ll.Type.Num},o),e.if((0,Ne.not)(o),s)})}}we.validateArray=Vv;function Rv(i){let{gen:e,schema:t,keyword:n,it:r}=i;if(!Array.isArray(t))throw new Error("ajv implementation error");if(t.some(c=>(0,ll.alwaysValidSchema)(r,c))&&!r.opts.unevaluated)return;let a=e.let("valid",!1),s=e.name("_valid");e.block(()=>t.forEach((c,h)=>{let f=i.subschema({keyword:n,schemaProp:h,compositeRule:!0},s);e.assign(a,(0,Ne._)`${a} || ${s}`),i.mergeValidEvaluated(f,s)||e.if((0,Ne.not)(a))})),i.result(a,()=>i.reset(),()=>i.error(!0))}we.validateUnion=Rv});var dp=F(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.validateKeywordUsage=xi.validSchemaType=xi.funcKeywordCode=xi.macroKeywordCode=void 0;var Et=ie(),Vn=Hi(),Av=Qt(),Hv=lo();function jv(i,e){let{gen:t,keyword:n,schema:r,parentSchema:o,it:a}=i,s=e.macro.call(a.self,r,o,a),c=cp(t,n,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);let h=t.name("valid");i.subschema({schema:s,schemaPath:Et.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},h),i.pass(h,()=>i.error(!0))}xi.macroKeywordCode=jv;function Lv(i,e){var t;let{gen:n,keyword:r,schema:o,parentSchema:a,$data:s,it:c}=i;qv(c,e);let h=!s&&e.compile?e.compile.call(c.self,o,a,c):e.validate,f=cp(n,r,h),v=n.let("valid");i.block$data(v,S),i.ok((t=e.valid)!==null&&t!==void 0?t:v);function S(){if(e.errors===!1)C(),e.modifying&&lp(i),D(()=>i.error());else{let N=e.async?z():E();e.modifying&&lp(i),D(()=>Bv(i,N))}}function z(){let N=n.let("ruleErrs",null);return n.try(()=>C((0,Et._)`await `),K=>n.assign(v,!1).if((0,Et._)`${K} instanceof ${c.ValidationError}`,()=>n.assign(N,(0,Et._)`${K}.errors`),()=>n.throw(K))),N}function E(){let N=(0,Et._)`${f}.errors`;return n.assign(N,null),C(Et.nil),N}function C(N=e.async?(0,Et._)`await `:Et.nil){let K=c.opts.passContext?Vn.default.this:Vn.default.self,X=!("compile"in e&&!s||e.schema===!1);n.assign(v,(0,Et._)`${N}${(0,Av.callValidateCode)(i,f,K,X)}`,e.modifying)}function D(N){var K;n.if((0,Et.not)((K=e.valid)!==null&&K!==void 0?K:v),N)}}xi.funcKeywordCode=Lv;function lp(i){let{gen:e,data:t,it:n}=i;e.if(n.parentData,()=>e.assign(t,(0,Et._)`${n.parentData}[${n.parentDataProperty}]`))}function Bv(i,e){let{gen:t}=i;t.if((0,Et._)`Array.isArray(${e})`,()=>{t.assign(Vn.default.vErrors,(0,Et._)`${Vn.default.vErrors} === null ? ${e} : ${Vn.default.vErrors}.concat(${e})`).assign(Vn.default.errors,(0,Et._)`${Vn.default.vErrors}.length`),(0,Hv.extendErrors)(i)},()=>i.error())}function qv({schemaEnv:i},e){if(e.async&&!i.$async)throw new Error("async keyword in sync schema")}function cp(i,e,t){if(t===void 0)throw new Error(`keyword "${e}" failed to compile`);return i.scopeValue("keyword",typeof t=="function"?{ref:t}:{ref:t,code:(0,Et.stringify)(t)})}function Wv(i,e,t=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(i):n==="object"?i&&typeof i=="object"&&!Array.isArray(i):typeof i==n||t&&typeof i>"u")}xi.validSchemaType=Wv;function Uv({schema:i,opts:e,self:t,errSchemaPath:n},r,o){if(Array.isArray(r.keyword)?!r.keyword.includes(o):r.keyword!==o)throw new Error("ajv implementation error");let a=r.dependencies;if(a?.some(s=>!Object.prototype.hasOwnProperty.call(i,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(r.validateSchema&&!r.validateSchema(i[o])){let c=`keyword "${o}" value is invalid at path "${n}": `+t.errorsText(r.validateSchema.errors);if(e.validateSchema==="log")t.logger.error(c);else throw new Error(c)}}xi.validateKeywordUsage=Uv});var pp=F(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.extendSubschemaMode=ln.extendSubschemaData=ln.getSubschema=void 0;var Si=ie(),up=pe();function Yv(i,{keyword:e,schemaProp:t,schema:n,schemaPath:r,errSchemaPath:o,topSchemaRef:a}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let s=i.schema[e];return t===void 0?{schema:s,schemaPath:(0,Si._)`${i.schemaPath}${(0,Si.getProperty)(e)}`,errSchemaPath:`${i.errSchemaPath}/${e}`}:{schema:s[t],schemaPath:(0,Si._)`${i.schemaPath}${(0,Si.getProperty)(e)}${(0,Si.getProperty)(t)}`,errSchemaPath:`${i.errSchemaPath}/${e}/${(0,up.escapeFragment)(t)}`}}if(n!==void 0){if(r===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:r,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}ln.getSubschema=Yv;function Kv(i,e,{dataProp:t,dataPropType:n,data:r,dataTypes:o,propertyName:a}){if(r!==void 0&&t!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:s}=e;if(t!==void 0){let{errorPath:h,dataPathArr:f,opts:v}=e,S=s.let("data",(0,Si._)`${e.data}${(0,Si.getProperty)(t)}`,!0);c(S),i.errorPath=(0,Si.str)`${h}${(0,up.getErrorPath)(t,n,v.jsPropertySyntax)}`,i.parentDataProperty=(0,Si._)`${t}`,i.dataPathArr=[...f,i.parentDataProperty]}if(r!==void 0){let h=r instanceof Si.Name?r:s.let("data",r,!0);c(h),a!==void 0&&(i.propertyName=a)}o&&(i.dataTypes=o);function c(h){i.data=h,i.dataLevel=e.dataLevel+1,i.dataTypes=[],e.definedProperties=new Set,i.parentData=e.data,i.dataNames=[...e.dataNames,h]}}ln.extendSubschemaData=Kv;function Gv(i,{jtdDiscriminator:e,jtdMetadata:t,compositeRule:n,createErrors:r,allErrors:o}){n!==void 0&&(i.compositeRule=n),r!==void 0&&(i.createErrors=r),o!==void 0&&(i.allErrors=o),i.jtdDiscriminator=e,i.jtdMetadata=t}ln.extendSubschemaMode=Gv});var ul=F((zk,hp)=>{"use strict";hp.exports=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!i(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){var a=o[r];if(!i(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}});var mp=F((xk,fp)=>{"use strict";var cn=fp.exports=function(i,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var n=typeof t=="function"?t:t.pre||function(){},r=t.post||function(){};wa(e,n,r,i,"",i)};cn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};cn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};cn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};cn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function wa(i,e,t,n,r,o,a,s,c,h){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,r,o,a,s,c,h);for(var f in n){var v=n[f];if(Array.isArray(v)){if(f in cn.arrayKeywords)for(var S=0;S<v.length;S++)wa(i,e,t,v[S],r+"/"+f+"/"+S,o,r,f,n,S)}else if(f in cn.propsKeywords){if(v&&typeof v=="object")for(var z in v)wa(i,e,t,v[z],r+"/"+f+"/"+Qv(z),o,r,f,n,z)}else(f in cn.keywords||i.allKeys&&!(f in cn.skipKeywords))&&wa(i,e,t,v,r+"/"+f,o,r,f,n)}t(n,r,o,a,s,c,h)}}function Qv(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}});var po=F(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.getSchemaRefs=Rt.resolveUrl=Rt.normalizeId=Rt._getFullPath=Rt.getFullPath=Rt.inlineRef=void 0;var Xv=pe(),Zv=ul(),Jv=mp(),ey=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function ty(i,e=!0){return typeof i=="boolean"?!0:e===!0?!pl(i):e?_p(i)<=e:!1}Rt.inlineRef=ty;var iy=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function pl(i){for(let e in i){if(iy.has(e))return!0;let t=i[e];if(Array.isArray(t)&&t.some(pl)||typeof t=="object"&&pl(t))return!0}return!1}function _p(i){let e=0;for(let t in i){if(t==="$ref")return 1/0;if(e++,!ey.has(t)&&(typeof i[t]=="object"&&(0,Xv.eachItem)(i[t],n=>e+=_p(n)),e===1/0))return 1/0}return e}function gp(i,e="",t){t!==!1&&(e=Sr(e));let n=i.parse(e);return vp(i,n)}Rt.getFullPath=gp;function vp(i,e){return i.serialize(e).split("#")[0]+"#"}Rt._getFullPath=vp;var ny=/#\/?$/;function Sr(i){return i?i.replace(ny,""):""}Rt.normalizeId=Sr;function ry(i,e,t){return t=Sr(t),i.resolve(e,t)}Rt.resolveUrl=ry;var oy=/^[a-z_][-a-z0-9._]*$/i;function ay(i,e){if(typeof i=="boolean")return{};let{schemaId:t,uriResolver:n}=this.opts,r=Sr(i[t]||e),o={"":r},a=gp(n,r,!1),s={},c=new Set;return Jv(i,{allKeys:!0},(v,S,z,E)=>{if(E===void 0)return;let C=a+S,D=o[E];typeof v[t]=="string"&&(D=N.call(this,v[t])),K.call(this,v.$anchor),K.call(this,v.$dynamicAnchor),o[S]=D;function N(X){let _e=this.opts.uriResolver.resolve;if(X=Sr(D?_e(D,X):X),c.has(X))throw f(X);c.add(X);let G=this.refs[X];return typeof G=="string"&&(G=this.refs[G]),typeof G=="object"?h(v,G.schema,X):X!==Sr(C)&&(X[0]==="#"?(h(v,s[X],X),s[X]=v):this.refs[X]=C),X}function K(X){if(typeof X=="string"){if(!oy.test(X))throw new Error(`invalid anchor "${X}"`);N.call(this,`#${X}`)}}}),s;function h(v,S,z){if(S!==void 0&&!Zv(v,S))throw f(z)}function f(v){return new Error(`reference "${v}" resolves to more than one schema`)}}Rt.getSchemaRefs=ay});var mo=F(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.getData=dn.KeywordCxt=dn.validateFunctionCode=void 0;var xp=Zu(),yp=uo(),fl=rl(),Ta=uo(),sy=op(),fo=dp(),hl=pp(),B=ie(),Q=Hi(),ly=po(),ji=pe(),ho=lo();function cy(i){if(Tp(i)&&(kp(i),wp(i))){py(i);return}Sp(i,()=>(0,xp.topBoolOrEmptySchema)(i))}dn.validateFunctionCode=cy;function Sp({gen:i,validateName:e,schema:t,schemaEnv:n,opts:r},o){r.code.es5?i.func(e,(0,B._)`${Q.default.data}, ${Q.default.valCxt}`,n.$async,()=>{i.code((0,B._)`"use strict"; ${Cp(t,r)}`),uy(i,r),i.code(o)}):i.func(e,(0,B._)`${Q.default.data}, ${dy(r)}`,n.$async,()=>i.code(Cp(t,r)).code(o))}function dy(i){return(0,B._)`{${Q.default.instancePath}="", ${Q.default.parentData}, ${Q.default.parentDataProperty}, ${Q.default.rootData}=${Q.default.data}${i.dynamicRef?(0,B._)`, ${Q.default.dynamicAnchors}={}`:B.nil}}={}`}function uy(i,e){i.if(Q.default.valCxt,()=>{i.var(Q.default.instancePath,(0,B._)`${Q.default.valCxt}.${Q.default.instancePath}`),i.var(Q.default.parentData,(0,B._)`${Q.default.valCxt}.${Q.default.parentData}`),i.var(Q.default.parentDataProperty,(0,B._)`${Q.default.valCxt}.${Q.default.parentDataProperty}`),i.var(Q.default.rootData,(0,B._)`${Q.default.valCxt}.${Q.default.rootData}`),e.dynamicRef&&i.var(Q.default.dynamicAnchors,(0,B._)`${Q.default.valCxt}.${Q.default.dynamicAnchors}`)},()=>{i.var(Q.default.instancePath,(0,B._)`""`),i.var(Q.default.parentData,(0,B._)`undefined`),i.var(Q.default.parentDataProperty,(0,B._)`undefined`),i.var(Q.default.rootData,Q.default.data),e.dynamicRef&&i.var(Q.default.dynamicAnchors,(0,B._)`{}`)})}function py(i){let{schema:e,opts:t,gen:n}=i;Sp(i,()=>{t.$comment&&e.$comment&&Ep(i),gy(i),n.let(Q.default.vErrors,null),n.let(Q.default.errors,0),t.unevaluated&&hy(i),Dp(i),Cy(i)})}function hy(i){let{gen:e,validateName:t}=i;i.evaluated=e.const("evaluated",(0,B._)`${t}.evaluated`),e.if((0,B._)`${i.evaluated}.dynamicProps`,()=>e.assign((0,B._)`${i.evaluated}.props`,(0,B._)`undefined`)),e.if((0,B._)`${i.evaluated}.dynamicItems`,()=>e.assign((0,B._)`${i.evaluated}.items`,(0,B._)`undefined`))}function Cp(i,e){let t=typeof i=="object"&&i[e.schemaId];return t&&(e.code.source||e.code.process)?(0,B._)`/*# sourceURL=${t} */`:B.nil}function fy(i,e){if(Tp(i)&&(kp(i),wp(i))){my(i,e);return}(0,xp.boolOrEmptySchema)(i,e)}function wp({schema:i,self:e}){if(typeof i=="boolean")return!i;for(let t in i)if(e.RULES.all[t])return!0;return!1}function Tp(i){return typeof i.schema!="boolean"}function my(i,e){let{schema:t,gen:n,opts:r}=i;r.$comment&&t.$comment&&Ep(i),vy(i),yy(i);let o=n.const("_errs",Q.default.errors);Dp(i,o),n.var(e,(0,B._)`${o} === ${Q.default.errors}`)}function kp(i){(0,ji.checkUnknownRules)(i),_y(i)}function Dp(i,e){if(i.opts.jtd)return bp(i,[],!1,e);let t=(0,yp.getSchemaTypes)(i.schema),n=(0,yp.coerceAndCheckDataType)(i,t);bp(i,t,!n,e)}function _y(i){let{schema:e,errSchemaPath:t,opts:n,self:r}=i;e.$ref&&n.ignoreKeywordsWithRef&&(0,ji.schemaHasRulesButRef)(e,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${t}"`)}function gy(i){let{schema:e,opts:t}=i;e.default!==void 0&&t.useDefaults&&t.strictSchema&&(0,ji.checkStrictMode)(i,"default is ignored in the schema root")}function vy(i){let e=i.schema[i.opts.schemaId];e&&(i.baseId=(0,ly.resolveUrl)(i.opts.uriResolver,i.baseId,e))}function yy(i){if(i.schema.$async&&!i.schemaEnv.$async)throw new Error("async schema in sync schema")}function Ep({gen:i,schemaEnv:e,schema:t,errSchemaPath:n,opts:r}){let o=t.$comment;if(r.$comment===!0)i.code((0,B._)`${Q.default.self}.logger.log(${o})`);else if(typeof r.$comment=="function"){let a=(0,B.str)`${n}/$comment`,s=i.scopeValue("root",{ref:e.root});i.code((0,B._)`${Q.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function Cy(i){let{gen:e,schemaEnv:t,validateName:n,ValidationError:r,opts:o}=i;t.$async?e.if((0,B._)`${Q.default.errors} === 0`,()=>e.return(Q.default.data),()=>e.throw((0,B._)`new ${r}(${Q.default.vErrors})`)):(e.assign((0,B._)`${n}.errors`,Q.default.vErrors),o.unevaluated&&by(i),e.return((0,B._)`${Q.default.errors} === 0`))}function by({gen:i,evaluated:e,props:t,items:n}){t instanceof B.Name&&i.assign((0,B._)`${e}.props`,t),n instanceof B.Name&&i.assign((0,B._)`${e}.items`,n)}function bp(i,e,t,n){let{gen:r,schema:o,data:a,allErrors:s,opts:c,self:h}=i,{RULES:f}=h;if(o.$ref&&(c.ignoreKeywordsWithRef||!(0,ji.schemaHasRulesButRef)(o,f))){r.block(()=>Pp(i,"$ref",f.all.$ref.definition));return}c.jtd||zy(i,e),r.block(()=>{for(let S of f.rules)v(S);v(f.post)});function v(S){(0,fl.shouldUseGroup)(o,S)&&(S.type?(r.if((0,Ta.checkDataType)(S.type,a,c.strictNumbers)),zp(i,S),e.length===1&&e[0]===S.type&&t&&(r.else(),(0,Ta.reportTypeError)(i)),r.endIf()):zp(i,S),s||r.if((0,B._)`${Q.default.errors} === ${n||0}`))}}function zp(i,e){let{gen:t,schema:n,opts:{useDefaults:r}}=i;r&&(0,sy.assignDefaults)(i,e.type),t.block(()=>{for(let o of e.rules)(0,fl.shouldUseRule)(n,o)&&Pp(i,o.keyword,o.definition,e.type)})}function zy(i,e){i.schemaEnv.meta||!i.opts.strictTypes||(xy(i,e),i.opts.allowUnionTypes||Sy(i,e),wy(i,i.dataTypes))}function xy(i,e){if(e.length){if(!i.dataTypes.length){i.dataTypes=e;return}e.forEach(t=>{Ip(i.dataTypes,t)||ml(i,`type "${t}" not allowed by context "${i.dataTypes.join(",")}"`)}),ky(i,e)}}function Sy(i,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ml(i,"use allowUnionTypes to allow union type keyword")}function wy(i,e){let t=i.self.RULES.all;for(let n in t){let r=t[n];if(typeof r=="object"&&(0,fl.shouldUseRule)(i.schema,r)){let{type:o}=r.definition;o.length&&!o.some(a=>Ty(e,a))&&ml(i,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function Ty(i,e){return i.includes(e)||e==="number"&&i.includes("integer")}function Ip(i,e){return i.includes(e)||e==="integer"&&i.includes("number")}function ky(i,e){let t=[];for(let n of i.dataTypes)Ip(e,n)?t.push(n):e.includes("integer")&&n==="number"&&t.push("integer");i.dataTypes=t}function ml(i,e){let t=i.schemaEnv.baseId+i.errSchemaPath;e+=` at "${t}" (strictTypes)`,(0,ji.checkStrictMode)(i,e,i.opts.strictTypes)}var ka=class{constructor(e,t,n){if((0,fo.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ji.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",$p(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,fo.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:t.errors!==!1)&&(this.errsCount=e.gen.const("_errs",Q.default.errors))}result(e,t,n){this.failResult((0,B.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,B.not)(e),void 0,t)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,B._)`${t} !== undefined && (${(0,B.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t){this.setParams(t),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,t){(e?ho.reportExtraError:ho.reportError)(this,this.def.error,t)}$dataError(){(0,ho.reportError)(this,this.def.$dataError||ho.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ho.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=B.nil){this.gen.block(()=>{this.check$data(e,n),t()})}check$data(e=B.nil,t=B.nil){if(!this.$data)return;let{gen:n,schemaCode:r,schemaType:o,def:a}=this;n.if((0,B.or)((0,B._)`${r} === undefined`,t)),e!==B.nil&&n.assign(e,!0),(o.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==B.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:n,def:r,it:o}=this;return(0,B.or)(a(),s());function a(){if(n.length){if(!(t instanceof B.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,B._)`${(0,Ta.checkDataTypes)(c,t,o.opts.strictNumbers,Ta.DataType.Wrong)}`}return B.nil}function s(){if(r.validateSchema){let c=e.scopeValue("validate$data",{ref:r.validateSchema});return(0,B._)`!${c}(${t})`}return B.nil}}subschema(e,t){let n=(0,hl.getSubschema)(this.it,e);(0,hl.extendSubschemaData)(n,this.it,e),(0,hl.extendSubschemaMode)(n,e);let r=Ie($($({},this.it),n),{items:void 0,props:void 0});return fy(r,t),r}mergeEvaluated(e,t){let{it:n,gen:r}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=ji.mergeEvaluated.props(r,e.props,n.props,t)),n.items!==!0&&e.items!==void 0&&(n.items=ji.mergeEvaluated.items(r,e.items,n.items,t)))}mergeValidEvaluated(e,t){let{it:n,gen:r}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return r.if(t,()=>this.mergeEvaluated(e,B.Name)),!0}};dn.KeywordCxt=ka;function Pp(i,e,t,n){let r=new ka(i,t,e);"code"in t?t.code(r,n):r.$data&&t.validate?(0,fo.funcKeywordCode)(r,t):"macro"in t?(0,fo.macroKeywordCode)(r,t):(t.compile||t.validate)&&(0,fo.funcKeywordCode)(r,t)}var Dy=/^\/(?:[^~]|~0|~1)*$/,Ey=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function $p(i,{dataLevel:e,dataNames:t,dataPathArr:n}){let r,o;if(i==="")return Q.default.rootData;if(i[0]==="/"){if(!Dy.test(i))throw new Error(`Invalid JSON-pointer: ${i}`);r=i,o=Q.default.rootData}else{let h=Ey.exec(i);if(!h)throw new Error(`Invalid JSON-pointer: ${i}`);let f=+h[1];if(r=h[2],r==="#"){if(f>=e)throw new Error(c("property/index",f));return n[e-f]}if(f>e)throw new Error(c("data",f));if(o=t[e-f],!r)return o}let a=o,s=r.split("/");for(let h of s)h&&(o=(0,B._)`${o}${(0,B.getProperty)((0,ji.unescapeJsonPointer)(h))}`,a=(0,B._)`${a} && ${o}`);return a;function c(h,f){return`Cannot access ${h} ${f} levels up, current level is ${e}`}}dn.getData=$p});var Da=F(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});var _l=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};gl.default=_l});var Ea=F(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});var vl=po(),yl=class extends Error{constructor(e,t,n,r){super(r||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,vl.resolveUrl)(e,t,n),this.missingSchema=(0,vl.normalizeId)((0,vl.getFullPath)(e,this.missingRef))}};Cl.default=yl});var Pa=F(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.resolveSchema=Xt.getCompilingSchema=Xt.resolveRef=Xt.compileSchema=Xt.SchemaEnv=void 0;var si=ie(),Iy=Da(),Rn=Hi(),li=po(),Np=pe(),Py=mo(),wr=class{constructor(e){var t;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(t=e.baseId)!==null&&t!==void 0?t:(0,li.normalizeId)(n?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n?.$async,this.refs={}}};Xt.SchemaEnv=wr;function zl(i){let e=Op.call(this,i);if(e)return e;let t=(0,li.getFullPath)(this.opts.uriResolver,i.root.baseId),{es5:n,lines:r}=this.opts.code,{ownProperties:o}=this.opts,a=new si.CodeGen(this.scope,{es5:n,lines:r,ownProperties:o}),s;i.$async&&(s=a.scopeValue("Error",{ref:Iy.default,code:(0,si._)`require("ajv/dist/runtime/validation_error").default`}));let c=a.scopeName("validate");i.validateName=c;let h={gen:a,allErrors:this.opts.allErrors,data:Rn.default.data,parentData:Rn.default.parentData,parentDataProperty:Rn.default.parentDataProperty,dataNames:[Rn.default.data],dataPathArr:[si.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:i.schema,code:(0,si.stringify)(i.schema)}:{ref:i.schema}),validateName:c,ValidationError:s,schema:i.schema,schemaEnv:i,rootId:t,baseId:i.baseId||t,schemaPath:si.nil,errSchemaPath:i.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,si._)`""`,opts:this.opts,self:this},f;try{this._compilations.add(i),(0,Py.validateFunctionCode)(h),a.optimize(this.opts.code.optimize);let v=a.toString();f=`${a.scopeRefs(Rn.default.scope)}return ${v}`,this.opts.code.process&&(f=this.opts.code.process(f,i));let z=new Function(`${Rn.default.self}`,`${Rn.default.scope}`,f)(this,this.scope.get());if(this.scope.value(c,{ref:z}),z.errors=null,z.schema=i.schema,z.schemaEnv=i,i.$async&&(z.$async=!0),this.opts.code.source===!0&&(z.source={validateName:c,validateCode:v,scopeValues:a._values}),this.opts.unevaluated){let{props:E,items:C}=h;z.evaluated={props:E instanceof si.Name?void 0:E,items:C instanceof si.Name?void 0:C,dynamicProps:E instanceof si.Name,dynamicItems:C instanceof si.Name},z.source&&(z.source.evaluated=(0,si.stringify)(z.evaluated))}return i.validate=z,i}catch(v){throw delete i.validate,delete i.validateName,f&&this.logger.error("Error compiling schema, function code:",f),v}finally{this._compilations.delete(i)}}Xt.compileSchema=zl;function $y(i,e,t){var n;t=(0,li.resolveUrl)(this.opts.uriResolver,e,t);let r=i.refs[t];if(r)return r;let o=My.call(this,i,t);if(o===void 0){let a=(n=i.localRefs)===null||n===void 0?void 0:n[t],{schemaId:s}=this.opts;a&&(o=new wr({schema:a,schemaId:s,root:i,baseId:e}))}if(o!==void 0)return i.refs[t]=Ny.call(this,o)}Xt.resolveRef=$y;function Ny(i){return(0,li.inlineRef)(i.schema,this.opts.inlineRefs)?i.schema:i.validate?i:zl.call(this,i)}function Op(i){for(let e of this._compilations)if(Oy(e,i))return e}Xt.getCompilingSchema=Op;function Oy(i,e){return i.schema===e.schema&&i.root===e.root&&i.baseId===e.baseId}function My(i,e){let t;for(;typeof(t=this.refs[e])=="string";)e=t;return t||this.schemas[e]||Ia.call(this,i,e)}function Ia(i,e){let t=this.opts.uriResolver.parse(e),n=(0,li._getFullPath)(this.opts.uriResolver,t),r=(0,li.getFullPath)(this.opts.uriResolver,i.baseId,void 0);if(Object.keys(i.schema).length>0&&n===r)return bl.call(this,t,i);let o=(0,li.normalizeId)(n),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){let s=Ia.call(this,i,a);return typeof s?.schema!="object"?void 0:bl.call(this,t,s)}if(typeof a?.schema=="object"){if(a.validate||zl.call(this,a),o===(0,li.normalizeId)(e)){let{schema:s}=a,{schemaId:c}=this.opts,h=s[c];return h&&(r=(0,li.resolveUrl)(this.opts.uriResolver,r,h)),new wr({schema:s,schemaId:c,root:i,baseId:r})}return bl.call(this,t,a)}}Xt.resolveSchema=Ia;var Fy=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function bl(i,{baseId:e,schema:t,root:n}){var r;if(((r=i.fragment)===null||r===void 0?void 0:r[0])!=="/")return;for(let s of i.fragment.slice(1).split("/")){if(typeof t=="boolean")return;let c=t[(0,Np.unescapeFragment)(s)];if(c===void 0)return;t=c;let h=typeof t=="object"&&t[this.opts.schemaId];!Fy.has(s)&&h&&(e=(0,li.resolveUrl)(this.opts.uriResolver,e,h))}let o;if(typeof t!="boolean"&&t.$ref&&!(0,Np.schemaHasRulesButRef)(t,this.RULES)){let s=(0,li.resolveUrl)(this.opts.uriResolver,e,t.$ref);o=Ia.call(this,n,s)}let{schemaId:a}=this.opts;if(o=o||new wr({schema:t,schemaId:a,root:n,baseId:e}),o.schema!==o.root.schema)return o}});var Mp=F((Ik,Vy)=>{Vy.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Vp=F(($a,Fp)=>{"use strict";(function(i,e){typeof $a=="object"&&typeof Fp<"u"?e($a):typeof define=="function"&&define.amd?define(["exports"],e):e(i.URI=i.URI||{})})($a,function(i){"use strict";function e(){for(var _=arguments.length,p=Array(_),y=0;y<_;y++)p[y]=arguments[y];if(p.length>1){p[0]=p[0].slice(0,-1);for(var x=p.length-1,w=1;w<x;++w)p[w]=p[w].slice(1,-1);return p[x]=p[x].slice(1),p.join("")}else return p[0]}function t(_){return"(?:"+_+")"}function n(_){return _===void 0?"undefined":_===null?"null":Object.prototype.toString.call(_).split(" ").pop().split("]").shift().toLowerCase()}function r(_){return _.toUpperCase()}function o(_){return _!=null?_ instanceof Array?_:typeof _.length!="number"||_.split||_.setInterval||_.call?[_]:Array.prototype.slice.call(_):[]}function a(_,p){var y=_;if(p)for(var x in p)y[x]=p[x];return y}function s(_){var p="[A-Za-z]",y="[\\x0D]",x="[0-9]",w="[\\x22]",M=e(x,"[A-Fa-f]"),J="[\\x0A]",de="[\\x20]",ve=t(t("%[EFef]"+M+"%"+M+M+"%"+M+M)+"|"+t("%[89A-Fa-f]"+M+"%"+M+M)+"|"+t("%"+M+M)),Ge="[\\:\\/\\?\\#\\[\\]\\@]",le="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ve=e(Ge,le),Qe=_?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Oe=_?"[\\uE000-\\uF8FF]":"[]",he=e(p,x,"[\\-\\.\\_\\~]",Qe),Re=t(p+e(p,x,"[\\+\\-\\.]")+"*"),ze=t(t(ve+"|"+e(he,le,"[\\:]"))+"*"),_n=t(t("25[0-5]")+"|"+t("2[0-4]"+x)+"|"+t("1"+x+x)+"|"+t("[1-9]"+x)+"|"+x),Ht=t(t("25[0-5]")+"|"+t("2[0-4]"+x)+"|"+t("1"+x+x)+"|"+t("0?[1-9]"+x)+"|0?0?"+x),Wt=t(Ht+"\\."+Ht+"\\."+Ht+"\\."+Ht),Te=t(M+"{1,4}"),jt=t(t(Te+"\\:"+Te)+"|"+Wt),Ut=t(t(Te+"\\:")+"{6}"+jt),_i=t("\\:\\:"+t(Te+"\\:")+"{5}"+jt),gn=t(t(Te)+"?\\:\\:"+t(Te+"\\:")+"{4}"+jt),Pi=t(t(t(Te+"\\:")+"{0,1}"+Te)+"?\\:\\:"+t(Te+"\\:")+"{3}"+jt),Lr=t(t(t(Te+"\\:")+"{0,2}"+Te)+"?\\:\\:"+t(Te+"\\:")+"{2}"+jt),$o=t(t(t(Te+"\\:")+"{0,3}"+Te)+"?\\:\\:"+Te+"\\:"+jt),No=t(t(t(Te+"\\:")+"{0,4}"+Te)+"?\\:\\:"+jt),Qn=t(t(t(Te+"\\:")+"{0,5}"+Te)+"?\\:\\:"+Te),Xn=t(t(t(Te+"\\:")+"{0,6}"+Te)+"?\\:\\:"),$i=t([Ut,_i,gn,Pi,Lr,$o,No,Qn,Xn].join("|")),Zn=t(t(he+"|"+ve)+"+"),ss=t($i+"\\%25"+Zn),vn=t($i+t("\\%25|\\%(?!"+M+"{2})")+Zn),Gf=t("[vV]"+M+"+\\."+e(he,le,"[\\:]")+"+"),Qf=t("\\["+t(vn+"|"+$i+"|"+Gf)+"\\]"),Zc=t(t(ve+"|"+e(he,le))+"*"),Br=t(Qf+"|"+Wt+"(?!"+Zc+")|"+Zc),qr=t(x+"*"),Jc=t(t(ze+"@")+"?"+Br+t("\\:"+qr)+"?"),Wr=t(ve+"|"+e(he,le,"[\\:\\@]")),Xf=t(Wr+"*"),ed=t(Wr+"+"),Zf=t(t(ve+"|"+e(he,le,"[\\@]"))+"+"),Ni=t(t("\\/"+Xf)+"*"),Jn=t("\\/"+t(ed+Ni)+"?"),ls=t(Zf+Ni),Oo=t(ed+Ni),er="(?!"+Wr+")",Qx=t(Ni+"|"+Jn+"|"+ls+"|"+Oo+"|"+er),tr=t(t(Wr+"|"+e("[\\/\\?]",Oe))+"*"),Ur=t(t(Wr+"|[\\/\\?]")+"*"),td=t(t("\\/\\/"+Jc+Ni)+"|"+Jn+"|"+Oo+"|"+er),Jf=t(Re+"\\:"+td+t("\\?"+tr)+"?"+t("\\#"+Ur)+"?"),em=t(t("\\/\\/"+Jc+Ni)+"|"+Jn+"|"+ls+"|"+er),tm=t(em+t("\\?"+tr)+"?"+t("\\#"+Ur)+"?"),Xx=t(Jf+"|"+tm),Zx=t(Re+"\\:"+td+t("\\?"+tr)+"?"),Jx="^("+Re+")\\:"+t(t("\\/\\/("+t("("+ze+")@")+"?("+Br+")"+t("\\:("+qr+")")+"?)")+"?("+Ni+"|"+Jn+"|"+Oo+"|"+er+")")+t("\\?("+tr+")")+"?"+t("\\#("+Ur+")")+"?$",eS="^(){0}"+t(t("\\/\\/("+t("("+ze+")@")+"?("+Br+")"+t("\\:("+qr+")")+"?)")+"?("+Ni+"|"+Jn+"|"+ls+"|"+er+")")+t("\\?("+tr+")")+"?"+t("\\#("+Ur+")")+"?$",tS="^("+Re+")\\:"+t(t("\\/\\/("+t("("+ze+")@")+"?("+Br+")"+t("\\:("+qr+")")+"?)")+"?("+Ni+"|"+Jn+"|"+Oo+"|"+er+")")+t("\\?("+tr+")")+"?$",iS="^"+t("\\#("+Ur+")")+"?$",nS="^"+t("("+ze+")@")+"?("+Br+")"+t("\\:("+qr+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",p,x,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",he,le),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",he,le),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",he,le),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",he,le),"g"),NOT_QUERY:new RegExp(e("[^\\%]",he,le,"[\\:\\@\\/\\?]",Oe),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",he,le,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",he,le),"g"),UNRESERVED:new RegExp(he,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",he,Ve),"g"),PCT_ENCODED:new RegExp(ve,"g"),IPV4ADDRESS:new RegExp("^("+Wt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+$i+")"+t(t("\\%25|\\%(?!"+M+"{2})")+"("+Zn+")")+"?\\]?$")}}var c=s(!1),h=s(!0),f=function(){function _(p,y){var x=[],w=!0,M=!1,J=void 0;try{for(var de=p[Symbol.iterator](),ve;!(w=(ve=de.next()).done)&&(x.push(ve.value),!(y&&x.length===y));w=!0);}catch(Ge){M=!0,J=Ge}finally{try{!w&&de.return&&de.return()}finally{if(M)throw J}}return x}return function(p,y){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return _(p,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(_){if(Array.isArray(_)){for(var p=0,y=Array(_.length);p<_.length;p++)y[p]=_[p];return y}else return Array.from(_)},S=2147483647,z=36,E=1,C=26,D=38,N=700,K=72,X=128,_e="-",G=/^xn--/,It=/[^\0-\x7E]/,Pt=/[\x2E\u3002\uFF0E\uFF61]/g,Wn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},fn=z-E,mt=Math.floor,mn=String.fromCharCode;function pi(_){throw new RangeError(Wn[_])}function Io(_,p){for(var y=[],x=_.length;x--;)y[x]=p(_[x]);return y}function Po(_,p){var y=_.split("@"),x="";y.length>1&&(x=y[0]+"@",_=y[1]),_=_.replace(Pt,".");var w=_.split("."),M=Io(w,p).join(".");return x+M}function Oc(_){for(var p=[],y=0,x=_.length;y<x;){var w=_.charCodeAt(y++);if(w>=55296&&w<=56319&&y<x){var M=_.charCodeAt(y++);(M&64512)==56320?p.push(((w&1023)<<10)+(M&1023)+65536):(p.push(w),y--)}else p.push(w)}return p}var wf=function(p){return String.fromCodePoint.apply(String,v(p))},Tf=function(p){return p-48<10?p-22:p-65<26?p-65:p-97<26?p-97:z},Mc=function(p,y){return p+22+75*(p<26)-((y!=0)<<5)},Fc=function(p,y,x){var w=0;for(p=x?mt(p/N):p>>1,p+=mt(p/y);p>fn*C>>1;w+=z)p=mt(p/fn);return mt(w+(fn+1)*p/(p+D))},Vc=function(p){var y=[],x=p.length,w=0,M=X,J=K,de=p.lastIndexOf(_e);de<0&&(de=0);for(var ve=0;ve<de;++ve)p.charCodeAt(ve)>=128&&pi("not-basic"),y.push(p.charCodeAt(ve));for(var Ge=de>0?de+1:0;Ge<x;){for(var le=w,Ve=1,Qe=z;;Qe+=z){Ge>=x&&pi("invalid-input");var Oe=Tf(p.charCodeAt(Ge++));(Oe>=z||Oe>mt((S-w)/Ve))&&pi("overflow"),w+=Oe*Ve;var he=Qe<=J?E:Qe>=J+C?C:Qe-J;if(Oe<he)break;var Re=z-he;Ve>mt(S/Re)&&pi("overflow"),Ve*=Re}var ze=y.length+1;J=Fc(w-le,ze,le==0),mt(w/ze)>S-M&&pi("overflow"),M+=mt(w/ze),w%=ze,y.splice(w++,0,M)}return String.fromCodePoint.apply(String,y)},Rc=function(p){var y=[];p=Oc(p);var x=p.length,w=X,M=0,J=K,de=!0,ve=!1,Ge=void 0;try{for(var le=p[Symbol.iterator](),Ve;!(de=(Ve=le.next()).done);de=!0){var Qe=Ve.value;Qe<128&&y.push(mn(Qe))}}catch(vn){ve=!0,Ge=vn}finally{try{!de&&le.return&&le.return()}finally{if(ve)throw Ge}}var Oe=y.length,he=Oe;for(Oe&&y.push(_e);he<x;){var Re=S,ze=!0,_n=!1,Ht=void 0;try{for(var Wt=p[Symbol.iterator](),Te;!(ze=(Te=Wt.next()).done);ze=!0){var jt=Te.value;jt>=w&&jt<Re&&(Re=jt)}}catch(vn){_n=!0,Ht=vn}finally{try{!ze&&Wt.return&&Wt.return()}finally{if(_n)throw Ht}}var Ut=he+1;Re-w>mt((S-M)/Ut)&&pi("overflow"),M+=(Re-w)*Ut,w=Re;var _i=!0,gn=!1,Pi=void 0;try{for(var Lr=p[Symbol.iterator](),$o;!(_i=($o=Lr.next()).done);_i=!0){var No=$o.value;if(No<w&&++M>S&&pi("overflow"),No==w){for(var Qn=M,Xn=z;;Xn+=z){var $i=Xn<=J?E:Xn>=J+C?C:Xn-J;if(Qn<$i)break;var Zn=Qn-$i,ss=z-$i;y.push(mn(Mc($i+Zn%ss,0))),Qn=mt(Zn/ss)}y.push(mn(Mc(Qn,0))),J=Fc(M,Ut,he==Oe),M=0,++he}}}catch(vn){gn=!0,Pi=vn}finally{try{!_i&&Lr.return&&Lr.return()}finally{if(gn)throw Pi}}++M,++w}return y.join("")},kf=function(p){return Po(p,function(y){return G.test(y)?Vc(y.slice(4).toLowerCase()):y})},Df=function(p){return Po(p,function(y){return It.test(y)?"xn--"+Rc(y):y})},Un={version:"2.1.0",ucs2:{decode:Oc,encode:wf},decode:Vc,encode:Rc,toASCII:Df,toUnicode:kf},qt={};function hi(_){var p=_.charCodeAt(0),y=void 0;return p<16?y="%0"+p.toString(16).toUpperCase():p<128?y="%"+p.toString(16).toUpperCase():p<2048?y="%"+(p>>6|192).toString(16).toUpperCase()+"%"+(p&63|128).toString(16).toUpperCase():y="%"+(p>>12|224).toString(16).toUpperCase()+"%"+(p>>6&63|128).toString(16).toUpperCase()+"%"+(p&63|128).toString(16).toUpperCase(),y}function Yn(_){for(var p="",y=0,x=_.length;y<x;){var w=parseInt(_.substr(y+1,2),16);if(w<128)p+=String.fromCharCode(w),y+=3;else if(w>=194&&w<224){if(x-y>=6){var M=parseInt(_.substr(y+4,2),16);p+=String.fromCharCode((w&31)<<6|M&63)}else p+=_.substr(y,6);y+=6}else if(w>=224){if(x-y>=9){var J=parseInt(_.substr(y+4,2),16),de=parseInt(_.substr(y+7,2),16);p+=String.fromCharCode((w&15)<<12|(J&63)<<6|de&63)}else p+=_.substr(y,9);y+=9}else p+=_.substr(y,3),y+=3}return p}function ns(_,p){function y(x){var w=Yn(x);return w.match(p.UNRESERVED)?w:x}return _.scheme&&(_.scheme=String(_.scheme).replace(p.PCT_ENCODED,y).toLowerCase().replace(p.NOT_SCHEME,"")),_.userinfo!==void 0&&(_.userinfo=String(_.userinfo).replace(p.PCT_ENCODED,y).replace(p.NOT_USERINFO,hi).replace(p.PCT_ENCODED,r)),_.host!==void 0&&(_.host=String(_.host).replace(p.PCT_ENCODED,y).toLowerCase().replace(p.NOT_HOST,hi).replace(p.PCT_ENCODED,r)),_.path!==void 0&&(_.path=String(_.path).replace(p.PCT_ENCODED,y).replace(_.scheme?p.NOT_PATH:p.NOT_PATH_NOSCHEME,hi).replace(p.PCT_ENCODED,r)),_.query!==void 0&&(_.query=String(_.query).replace(p.PCT_ENCODED,y).replace(p.NOT_QUERY,hi).replace(p.PCT_ENCODED,r)),_.fragment!==void 0&&(_.fragment=String(_.fragment).replace(p.PCT_ENCODED,y).replace(p.NOT_FRAGMENT,hi).replace(p.PCT_ENCODED,r)),_}function rs(_){return _.replace(/^0*(.*)/,"$1")||"0"}function os(_,p){var y=_.match(p.IPV4ADDRESS)||[],x=f(y,2),w=x[1];return w?w.split(".").map(rs).join("."):_}function Ac(_,p){var y=_.match(p.IPV6ADDRESS)||[],x=f(y,3),w=x[1],M=x[2];if(w){for(var J=w.toLowerCase().split("::").reverse(),de=f(J,2),ve=de[0],Ge=de[1],le=Ge?Ge.split(":").map(rs):[],Ve=ve.split(":").map(rs),Qe=p.IPV4ADDRESS.test(Ve[Ve.length-1]),Oe=Qe?7:8,he=Ve.length-Oe,Re=Array(Oe),ze=0;ze<Oe;++ze)Re[ze]=le[ze]||Ve[he+ze]||"";Qe&&(Re[Oe-1]=os(Re[Oe-1],p));var _n=Re.reduce(function(Ut,_i,gn){if(!_i||_i==="0"){var Pi=Ut[Ut.length-1];Pi&&Pi.index+Pi.length===gn?Pi.length++:Ut.push({index:gn,length:1})}return Ut},[]),Ht=_n.sort(function(Ut,_i){return _i.length-Ut.length})[0],Wt=void 0;if(Ht&&Ht.length>1){var Te=Re.slice(0,Ht.index),jt=Re.slice(Ht.index+Ht.length);Wt=Te.join(":")+"::"+jt.join(":")}else Wt=Re.join(":");return M&&(Wt+="%"+M),Wt}else return _}var Ef=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,If="".match(/(){0}/)[1]===void 0;function Ei(_){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y={},x=p.iri!==!1?h:c;p.reference==="suffix"&&(_=(p.scheme?p.scheme+":":"")+"//"+_);var w=_.match(Ef);if(w){If?(y.scheme=w[1],y.userinfo=w[3],y.host=w[4],y.port=parseInt(w[5],10),y.path=w[6]||"",y.query=w[7],y.fragment=w[8],isNaN(y.port)&&(y.port=w[5])):(y.scheme=w[1]||void 0,y.userinfo=_.indexOf("@")!==-1?w[3]:void 0,y.host=_.indexOf("//")!==-1?w[4]:void 0,y.port=parseInt(w[5],10),y.path=w[6]||"",y.query=_.indexOf("?")!==-1?w[7]:void 0,y.fragment=_.indexOf("#")!==-1?w[8]:void 0,isNaN(y.port)&&(y.port=_.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?w[4]:void 0)),y.host&&(y.host=Ac(os(y.host,x),x)),y.scheme===void 0&&y.userinfo===void 0&&y.host===void 0&&y.port===void 0&&!y.path&&y.query===void 0?y.reference="same-document":y.scheme===void 0?y.reference="relative":y.fragment===void 0?y.reference="absolute":y.reference="uri",p.reference&&p.reference!=="suffix"&&p.reference!==y.reference&&(y.error=y.error||"URI is not a "+p.reference+" reference.");var M=qt[(p.scheme||y.scheme||"").toLowerCase()];if(!p.unicodeSupport&&(!M||!M.unicodeSupport)){if(y.host&&(p.domainHost||M&&M.domainHost))try{y.host=Un.toASCII(y.host.replace(x.PCT_ENCODED,Yn).toLowerCase())}catch(J){y.error=y.error||"Host's domain name can not be converted to ASCII via punycode: "+J}ns(y,c)}else ns(y,x);M&&M.parse&&M.parse(y,p)}else y.error=y.error||"URI can not be parsed.";return y}function Pf(_,p){var y=p.iri!==!1?h:c,x=[];return _.userinfo!==void 0&&(x.push(_.userinfo),x.push("@")),_.host!==void 0&&x.push(Ac(os(String(_.host),y),y).replace(y.IPV6ADDRESS,function(w,M,J){return"["+M+(J?"%25"+J:"")+"]"})),(typeof _.port=="number"||typeof _.port=="string")&&(x.push(":"),x.push(String(_.port))),x.length?x.join(""):void 0}var Hc=/^\.\.?\//,jc=/^\/\.(\/|$)/,Lc=/^\/\.\.(\/|$)/,$f=/^\/?(?:.|\n)*?(?=\/|$)/;function Kn(_){for(var p=[];_.length;)if(_.match(Hc))_=_.replace(Hc,"");else if(_.match(jc))_=_.replace(jc,"/");else if(_.match(Lc))_=_.replace(Lc,"/"),p.pop();else if(_==="."||_==="..")_="";else{var y=_.match($f);if(y){var x=y[0];_=_.slice(x.length),p.push(x)}else throw new Error("Unexpected dot segment condition")}return p.join("")}function fi(_){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=p.iri?h:c,x=[],w=qt[(p.scheme||_.scheme||"").toLowerCase()];if(w&&w.serialize&&w.serialize(_,p),_.host&&!y.IPV6ADDRESS.test(_.host)){if(p.domainHost||w&&w.domainHost)try{_.host=p.iri?Un.toUnicode(_.host):Un.toASCII(_.host.replace(y.PCT_ENCODED,Yn).toLowerCase())}catch(de){_.error=_.error||"Host's domain name can not be converted to "+(p.iri?"Unicode":"ASCII")+" via punycode: "+de}}ns(_,y),p.reference!=="suffix"&&_.scheme&&(x.push(_.scheme),x.push(":"));var M=Pf(_,p);if(M!==void 0&&(p.reference!=="suffix"&&x.push("//"),x.push(M),_.path&&_.path.charAt(0)!=="/"&&x.push("/")),_.path!==void 0){var J=_.path;!p.absolutePath&&(!w||!w.absolutePath)&&(J=Kn(J)),M===void 0&&(J=J.replace(/^\/\//,"/%2F")),x.push(J)}return _.query!==void 0&&(x.push("?"),x.push(_.query)),_.fragment!==void 0&&(x.push("#"),x.push(_.fragment)),x.join("")}function Bc(_,p){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},x=arguments[3],w={};return x||(_=Ei(fi(_,y),y),p=Ei(fi(p,y),y)),y=y||{},!y.tolerant&&p.scheme?(w.scheme=p.scheme,w.userinfo=p.userinfo,w.host=p.host,w.port=p.port,w.path=Kn(p.path||""),w.query=p.query):(p.userinfo!==void 0||p.host!==void 0||p.port!==void 0?(w.userinfo=p.userinfo,w.host=p.host,w.port=p.port,w.path=Kn(p.path||""),w.query=p.query):(p.path?(p.path.charAt(0)==="/"?w.path=Kn(p.path):((_.userinfo!==void 0||_.host!==void 0||_.port!==void 0)&&!_.path?w.path="/"+p.path:_.path?w.path=_.path.slice(0,_.path.lastIndexOf("/")+1)+p.path:w.path=p.path,w.path=Kn(w.path)),w.query=p.query):(w.path=_.path,p.query!==void 0?w.query=p.query:w.query=_.query),w.userinfo=_.userinfo,w.host=_.host,w.port=_.port),w.scheme=_.scheme),w.fragment=p.fragment,w}function Nf(_,p,y){var x=a({scheme:"null"},y);return fi(Bc(Ei(_,x),Ei(p,x),x,!0),x)}function Of(_,p){return typeof _=="string"?_=fi(Ei(_,p),p):n(_)==="object"&&(_=Ei(fi(_,p),p)),_}function Mf(_,p,y){return typeof _=="string"?_=fi(Ei(_,y),y):n(_)==="object"&&(_=fi(_,y)),typeof p=="string"?p=fi(Ei(p,y),y):n(p)==="object"&&(p=fi(p,y)),_===p}function Ff(_,p){return _&&_.toString().replace(!p||!p.iri?c.ESCAPE:h.ESCAPE,hi)}function Ii(_,p){return _&&_.toString().replace(!p||!p.iri?c.PCT_ENCODED:h.PCT_ENCODED,Yn)}var Hr={scheme:"http",domainHost:!0,parse:function(p,y){return p.host||(p.error=p.error||"HTTP URIs must have a host."),p},serialize:function(p,y){var x=String(p.scheme).toLowerCase()==="https";return(p.port===(x?443:80)||p.port==="")&&(p.port=void 0),p.path||(p.path="/"),p}},qc={scheme:"https",domainHost:Hr.domainHost,parse:Hr.parse,serialize:Hr.serialize};function Wc(_){return typeof _.secure=="boolean"?_.secure:String(_.scheme).toLowerCase()==="wss"}var jr={scheme:"ws",domainHost:!0,parse:function(p,y){var x=p;return x.secure=Wc(x),x.resourceName=(x.path||"/")+(x.query?"?"+x.query:""),x.path=void 0,x.query=void 0,x},serialize:function(p,y){if((p.port===(Wc(p)?443:80)||p.port==="")&&(p.port=void 0),typeof p.secure=="boolean"&&(p.scheme=p.secure?"wss":"ws",p.secure=void 0),p.resourceName){var x=p.resourceName.split("?"),w=f(x,2),M=w[0],J=w[1];p.path=M&&M!=="/"?M:void 0,p.query=J,p.resourceName=void 0}return p.fragment=void 0,p}},Uc={scheme:"wss",domainHost:jr.domainHost,parse:jr.parse,serialize:jr.serialize},Vf={},Rf=!0,Yc="[A-Za-z0-9\\-\\.\\_\\~"+(Rf?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",mi="[0-9A-Fa-f]",Af=t(t("%[EFef]"+mi+"%"+mi+mi+"%"+mi+mi)+"|"+t("%[89A-Fa-f]"+mi+"%"+mi+mi)+"|"+t("%"+mi+mi)),Hf="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",jf="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Lf=e(jf,'[\\"\\\\]'),Bf="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",qf=new RegExp(Yc,"g"),Gn=new RegExp(Af,"g"),Wf=new RegExp(e("[^]",Hf,"[\\.]",'[\\"]',Lf),"g"),Kc=new RegExp(e("[^]",Yc,Bf),"g"),Uf=Kc;function as(_){var p=Yn(_);return p.match(qf)?p:_}var Gc={scheme:"mailto",parse:function(p,y){var x=p,w=x.to=x.path?x.path.split(","):[];if(x.path=void 0,x.query){for(var M=!1,J={},de=x.query.split("&"),ve=0,Ge=de.length;ve<Ge;++ve){var le=de[ve].split("=");switch(le[0]){case"to":for(var Ve=le[1].split(","),Qe=0,Oe=Ve.length;Qe<Oe;++Qe)w.push(Ve[Qe]);break;case"subject":x.subject=Ii(le[1],y);break;case"body":x.body=Ii(le[1],y);break;default:M=!0,J[Ii(le[0],y)]=Ii(le[1],y);break}}M&&(x.headers=J)}x.query=void 0;for(var he=0,Re=w.length;he<Re;++he){var ze=w[he].split("@");if(ze[0]=Ii(ze[0]),y.unicodeSupport)ze[1]=Ii(ze[1],y).toLowerCase();else try{ze[1]=Un.toASCII(Ii(ze[1],y).toLowerCase())}catch(_n){x.error=x.error||"Email address's domain name can not be converted to ASCII via punycode: "+_n}w[he]=ze.join("@")}return x},serialize:function(p,y){var x=p,w=o(p.to);if(w){for(var M=0,J=w.length;M<J;++M){var de=String(w[M]),ve=de.lastIndexOf("@"),Ge=de.slice(0,ve).replace(Gn,as).replace(Gn,r).replace(Wf,hi),le=de.slice(ve+1);try{le=y.iri?Un.toUnicode(le):Un.toASCII(Ii(le,y).toLowerCase())}catch(he){x.error=x.error||"Email address's domain name can not be converted to "+(y.iri?"Unicode":"ASCII")+" via punycode: "+he}w[M]=Ge+"@"+le}x.path=w.join(",")}var Ve=p.headers=p.headers||{};p.subject&&(Ve.subject=p.subject),p.body&&(Ve.body=p.body);var Qe=[];for(var Oe in Ve)Ve[Oe]!==Vf[Oe]&&Qe.push(Oe.replace(Gn,as).replace(Gn,r).replace(Kc,hi)+"="+Ve[Oe].replace(Gn,as).replace(Gn,r).replace(Uf,hi));return Qe.length&&(x.query=Qe.join("&")),x}},Yf=/^([^\:]+)\:(.*)/,Qc={scheme:"urn",parse:function(p,y){var x=p.path&&p.path.match(Yf),w=p;if(x){var M=y.scheme||w.scheme||"urn",J=x[1].toLowerCase(),de=x[2],ve=M+":"+(y.nid||J),Ge=qt[ve];w.nid=J,w.nss=de,w.path=void 0,Ge&&(w=Ge.parse(w,y))}else w.error=w.error||"URN can not be parsed.";return w},serialize:function(p,y){var x=y.scheme||p.scheme||"urn",w=p.nid,M=x+":"+(y.nid||w),J=qt[M];J&&(p=J.serialize(p,y));var de=p,ve=p.nss;return de.path=(w||y.nid)+":"+ve,de}},Kf=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Xc={scheme:"urn:uuid",parse:function(p,y){var x=p;return x.uuid=x.nss,x.nss=void 0,!y.tolerant&&(!x.uuid||!x.uuid.match(Kf))&&(x.error=x.error||"UUID is not valid."),x},serialize:function(p,y){var x=p;return x.nss=(p.uuid||"").toLowerCase(),x}};qt[Hr.scheme]=Hr,qt[qc.scheme]=qc,qt[jr.scheme]=jr,qt[Uc.scheme]=Uc,qt[Gc.scheme]=Gc,qt[Qc.scheme]=Qc,qt[Xc.scheme]=Xc,i.SCHEMES=qt,i.pctEncChar=hi,i.pctDecChars=Yn,i.parse=Ei,i.removeDotSegments=Kn,i.serialize=fi,i.resolveComponents=Bc,i.resolve=Nf,i.normalize=Of,i.equal=Mf,i.escapeComponent=Ff,i.unescapeComponent=Ii,Object.defineProperty(i,"__esModule",{value:!0})})});var Ap=F(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});var Rp=Vp();Rp.code='require("ajv/dist/runtime/uri").default';xl.default=Rp});var Yp=F(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.CodeGen=ht.Name=ht.nil=ht.stringify=ht.str=ht._=ht.KeywordCxt=void 0;var Ry=mo();Object.defineProperty(ht,"KeywordCxt",{enumerable:!0,get:function(){return Ry.KeywordCxt}});var Tr=ie();Object.defineProperty(ht,"_",{enumerable:!0,get:function(){return Tr._}});Object.defineProperty(ht,"str",{enumerable:!0,get:function(){return Tr.str}});Object.defineProperty(ht,"stringify",{enumerable:!0,get:function(){return Tr.stringify}});Object.defineProperty(ht,"nil",{enumerable:!0,get:function(){return Tr.nil}});Object.defineProperty(ht,"Name",{enumerable:!0,get:function(){return Tr.Name}});Object.defineProperty(ht,"CodeGen",{enumerable:!0,get:function(){return Tr.CodeGen}});var Ay=Da(),qp=Ea(),Hy=nl(),_o=Pa(),jy=ie(),go=po(),Na=uo(),wl=pe(),Hp=Mp(),Ly=Ap(),Wp=(i,e)=>new RegExp(i,e);Wp.code="new RegExp";var By=["removeAdditional","useDefaults","coerceTypes"],qy=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Wy={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Uy={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},jp=200;function Yy(i){var e,t,n,r,o,a,s,c,h,f,v,S,z,E,C,D,N,K,X,_e,G,It,Pt,Wn,fn;let mt=i.strict,mn=(e=i.code)===null||e===void 0?void 0:e.optimize,pi=mn===!0||mn===void 0?1:mn||0,Io=(n=(t=i.code)===null||t===void 0?void 0:t.regExp)!==null&&n!==void 0?n:Wp,Po=(r=i.uriResolver)!==null&&r!==void 0?r:Ly.default;return{strictSchema:(a=(o=i.strictSchema)!==null&&o!==void 0?o:mt)!==null&&a!==void 0?a:!0,strictNumbers:(c=(s=i.strictNumbers)!==null&&s!==void 0?s:mt)!==null&&c!==void 0?c:!0,strictTypes:(f=(h=i.strictTypes)!==null&&h!==void 0?h:mt)!==null&&f!==void 0?f:"log",strictTuples:(S=(v=i.strictTuples)!==null&&v!==void 0?v:mt)!==null&&S!==void 0?S:"log",strictRequired:(E=(z=i.strictRequired)!==null&&z!==void 0?z:mt)!==null&&E!==void 0?E:!1,code:i.code?Ie($({},i.code),{optimize:pi,regExp:Io}):{optimize:pi,regExp:Io},loopRequired:(C=i.loopRequired)!==null&&C!==void 0?C:jp,loopEnum:(D=i.loopEnum)!==null&&D!==void 0?D:jp,meta:(N=i.meta)!==null&&N!==void 0?N:!0,messages:(K=i.messages)!==null&&K!==void 0?K:!0,inlineRefs:(X=i.inlineRefs)!==null&&X!==void 0?X:!0,schemaId:(_e=i.schemaId)!==null&&_e!==void 0?_e:"$id",addUsedSchema:(G=i.addUsedSchema)!==null&&G!==void 0?G:!0,validateSchema:(It=i.validateSchema)!==null&&It!==void 0?It:!0,validateFormats:(Pt=i.validateFormats)!==null&&Pt!==void 0?Pt:!0,unicodeRegExp:(Wn=i.unicodeRegExp)!==null&&Wn!==void 0?Wn:!0,int32range:(fn=i.int32range)!==null&&fn!==void 0?fn:!0,uriResolver:Po}}var vo=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=$($({},e),Yy(e));let{es5:t,lines:n}=this.opts.code;this.scope=new jy.ValueScope({scope:{},prefixes:qy,es5:t,lines:n}),this.logger=Jy(e.logger);let r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,Hy.getRules)(),Lp.call(this,Wy,e,"NOT SUPPORTED"),Lp.call(this,Uy,e,"DEPRECATED","warn"),this._metaOpts=Xy.call(this),e.formats&&Gy.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Qy.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Ky.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:n}=this.opts,r=Hp;n==="id"&&(r=$({},Hp),r.id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[n],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[t]||e:void 0}validate(e,t){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let r=n(t);return"$async"in n||(this.errors=n.errors),r}compile(e,t){let n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return r.call(this,e,t);function r(f,v){return ir(this,null,function*(){yield o.call(this,f.$schema);let S=this._addSchema(f,v);return S.validate||a.call(this,S)})}function o(f){return ir(this,null,function*(){f&&!this.getSchema(f)&&(yield r.call(this,{$ref:f},!0))})}function a(f){return ir(this,null,function*(){try{return this._compileSchemaEnv(f)}catch(v){if(!(v instanceof qp.default))throw v;return s.call(this,v),yield c.call(this,v.missingSchema),a.call(this,f)}})}function s({missingSchema:f,missingRef:v}){if(this.refs[f])throw new Error(`AnySchema ${f} is loaded but ${v} cannot be resolved`)}function c(f){return ir(this,null,function*(){let v=yield h.call(this,f);this.refs[f]||(yield o.call(this,v.$schema)),this.refs[f]||this.addSchema(v,f,t)})}function h(f){return ir(this,null,function*(){let v=this._loading[f];if(v)return v;try{return yield this._loading[f]=n(f)}finally{delete this._loading[f]}})}}addSchema(e,t,n,r=this.opts.validateSchema){if(Array.isArray(e)){for(let a of e)this.addSchema(a,void 0,n,r);return this}let o;if(typeof e=="object"){let{schemaId:a}=this.opts;if(o=e[a],o!==void 0&&typeof o!="string")throw new Error(`schema ${a} must be string`)}return t=(0,go.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,r,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let r=this.validate(n,e);if(!r&&t){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return r}getSchema(e){let t;for(;typeof(t=Bp.call(this,e))=="string";)e=t;if(t===void 0){let{schemaId:n}=this.opts,r=new _o.SchemaEnv({schema:{},schemaId:n});if(t=_o.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=Bp.call(this,e);return typeof t=="object"&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,go.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if(typeof e=="string")n=e,typeof t=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else if(typeof e=="object"&&t===void 0){if(t=e,n=t.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(tC.call(this,n,t),!t)return(0,wl.eachItem)(n,o=>Sl.call(this,o)),this;nC.call(this,t);let r=Ie($({},t),{type:(0,Na.getJSONTypes)(t.type),schemaType:(0,Na.getJSONTypes)(t.schemaType)});return(0,wl.eachItem)(n,r.type.length===0?o=>Sl.call(this,o,r):o=>r.type.forEach(a=>Sl.call(this,o,r,a))),this}getKeyword(e){let t=this.RULES.all[e];return typeof t=="object"?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(let n of t.rules){let r=n.rules.findIndex(o=>o.keyword===e);r>=0&&n.rules.splice(r,1)}return this}addFormat(e,t){return typeof t=="string"&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(r=>`${n}${r.instancePath} ${r.message}`).reduce((r,o)=>r+t+o)}$dataMetaSchema(e,t){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let r of t){let o=r.split("/").slice(1),a=e;for(let s of o)a=a[s];for(let s in n){let c=n[s];if(typeof c!="object")continue;let{$data:h}=c.definition,f=a[s];h&&f&&(a[s]=Up(f))}}return e}_removeAllSchemas(e,t){for(let n in e){let r=e[n];(!t||t.test(n))&&(typeof r=="string"?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}_addSchema(e,t,n,r=this.opts.validateSchema,o=this.opts.addUsedSchema){let a,{schemaId:s}=this.opts;if(typeof e=="object")a=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;n=(0,go.normalizeId)(a||n);let h=go.getSchemaRefs.call(this,e,n);return c=new _o.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:h}),this._cache.set(c.schema,c),o&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),r&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):_o.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{_o.compileSchema.call(this,e)}finally{this.opts=t}}};ht.default=vo;vo.ValidationError=Ay.default;vo.MissingRefError=qp.default;function Lp(i,e,t,n="error"){for(let r in i){let o=r;o in e&&this.logger[n](`${t}: option ${r}. ${i[o]}`)}}function Bp(i){return i=(0,go.normalizeId)(i),this.schemas[i]||this.refs[i]}function Ky(){let i=this.opts.schemas;if(i)if(Array.isArray(i))this.addSchema(i);else for(let e in i)this.addSchema(i[e],e)}function Gy(){for(let i in this.opts.formats){let e=this.opts.formats[i];e&&this.addFormat(i,e)}}function Qy(i){if(Array.isArray(i)){this.addVocabulary(i);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in i){let t=i[e];t.keyword||(t.keyword=e),this.addKeyword(t)}}function Xy(){let i=$({},this.opts);for(let e of By)delete i[e];return i}var Zy={log(){},warn(){},error(){}};function Jy(i){if(i===!1)return Zy;if(i===void 0)return console;if(i.log&&i.warn&&i.error)return i;throw new Error("logger must implement log, warn and error methods")}var eC=/^[a-z_$][a-z0-9_$:-]*$/i;function tC(i,e){let{RULES:t}=this;if((0,wl.eachItem)(i,n=>{if(t.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!eC.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function Sl(i,e,t){var n;let r=e?.post;if(t&&r)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,a=r?o.post:o.rules.find(({type:c})=>c===t);if(a||(a={type:t,rules:[]},o.rules.push(a)),o.keywords[i]=!0,!e)return;let s={keyword:i,definition:Ie($({},e),{type:(0,Na.getJSONTypes)(e.type),schemaType:(0,Na.getJSONTypes)(e.schemaType)})};e.before?iC.call(this,a,s,e.before):a.rules.push(s),o.all[i]=s,(n=e.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function iC(i,e,t){let n=i.rules.findIndex(r=>r.keyword===t);n>=0?i.rules.splice(n,0,e):(i.rules.push(e),this.logger.warn(`rule ${t} is not defined`))}function nC(i){let{metaSchema:e}=i;e!==void 0&&(i.$data&&this.opts.$data&&(e=Up(e)),i.validateSchema=this.compile(e,!0))}var rC={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Up(i){return{anyOf:[i,rC]}}});var Kp=F(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});var oC={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Tl.default=oC});var Zp=F(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.callRef=An.getValidate=void 0;var aC=Ea(),Gp=Qt(),At=ie(),kr=Hi(),Qp=Pa(),Oa=pe(),sC={keyword:"$ref",schemaType:"string",code(i){let{gen:e,schema:t,it:n}=i,{baseId:r,schemaEnv:o,validateName:a,opts:s,self:c}=n,{root:h}=o;if((t==="#"||t==="#/")&&r===h.baseId)return v();let f=Qp.resolveRef.call(c,h,r,t);if(f===void 0)throw new aC.default(n.opts.uriResolver,r,t);if(f instanceof Qp.SchemaEnv)return S(f);return z(f);function v(){if(o===h)return Ma(i,a,o,o.$async);let E=e.scopeValue("root",{ref:h});return Ma(i,(0,At._)`${E}.validate`,h,h.$async)}function S(E){let C=Xp(i,E);Ma(i,C,E,E.$async)}function z(E){let C=e.scopeValue("schema",s.code.source===!0?{ref:E,code:(0,At.stringify)(E)}:{ref:E}),D=e.name("valid"),N=i.subschema({schema:E,dataTypes:[],schemaPath:At.nil,topSchemaRef:C,errSchemaPath:t},D);i.mergeEvaluated(N),i.ok(D)}}};function Xp(i,e){let{gen:t}=i;return e.validate?t.scopeValue("validate",{ref:e.validate}):(0,At._)`${t.scopeValue("wrapper",{ref:e})}.validate`}An.getValidate=Xp;function Ma(i,e,t,n){let{gen:r,it:o}=i,{allErrors:a,schemaEnv:s,opts:c}=o,h=c.passContext?kr.default.this:At.nil;n?f():v();function f(){if(!s.$async)throw new Error("async schema referenced by sync schema");let E=r.let("valid");r.try(()=>{r.code((0,At._)`await ${(0,Gp.callValidateCode)(i,e,h)}`),z(e),a||r.assign(E,!0)},C=>{r.if((0,At._)`!(${C} instanceof ${o.ValidationError})`,()=>r.throw(C)),S(C),a||r.assign(E,!1)}),i.ok(E)}function v(){i.result((0,Gp.callValidateCode)(i,e,h),()=>z(e),()=>S(e))}function S(E){let C=(0,At._)`${E}.errors`;r.assign(kr.default.vErrors,(0,At._)`${kr.default.vErrors} === null ? ${C} : ${kr.default.vErrors}.concat(${C})`),r.assign(kr.default.errors,(0,At._)`${kr.default.vErrors}.length`)}function z(E){var C;if(!o.opts.unevaluated)return;let D=(C=t?.validate)===null||C===void 0?void 0:C.evaluated;if(o.props!==!0)if(D&&!D.dynamicProps)D.props!==void 0&&(o.props=Oa.mergeEvaluated.props(r,D.props,o.props));else{let N=r.var("props",(0,At._)`${E}.evaluated.props`);o.props=Oa.mergeEvaluated.props(r,N,o.props,At.Name)}if(o.items!==!0)if(D&&!D.dynamicItems)D.items!==void 0&&(o.items=Oa.mergeEvaluated.items(r,D.items,o.items));else{let N=r.var("items",(0,At._)`${E}.evaluated.items`);o.items=Oa.mergeEvaluated.items(r,N,o.items,At.Name)}}}An.callRef=Ma;An.default=sC});var Jp=F(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});var lC=Kp(),cC=Zp(),dC=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",lC.default,cC.default];kl.default=dC});var eh=F(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});var Fa=ie(),un=Fa.operators,Va={maximum:{okStr:"<=",ok:un.LTE,fail:un.GT},minimum:{okStr:">=",ok:un.GTE,fail:un.LT},exclusiveMaximum:{okStr:"<",ok:un.LT,fail:un.GTE},exclusiveMinimum:{okStr:">",ok:un.GT,fail:un.LTE}},uC={message:({keyword:i,schemaCode:e})=>(0,Fa.str)`must be ${Va[i].okStr} ${e}`,params:({keyword:i,schemaCode:e})=>(0,Fa._)`{comparison: ${Va[i].okStr}, limit: ${e}}`},pC={keyword:Object.keys(Va),type:"number",schemaType:"number",$data:!0,error:uC,code(i){let{keyword:e,data:t,schemaCode:n}=i;i.fail$data((0,Fa._)`${t} ${Va[e].fail} ${n} || isNaN(${t})`)}};Dl.default=pC});var th=F(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});var yo=ie(),hC={message:({schemaCode:i})=>(0,yo.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,yo._)`{multipleOf: ${i}}`},fC={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:hC,code(i){let{gen:e,data:t,schemaCode:n,it:r}=i,o=r.opts.multipleOfPrecision,a=e.let("res"),s=o?(0,yo._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,yo._)`${a} !== parseInt(${a})`;i.fail$data((0,yo._)`(${n} === 0 || (${a} = ${t}/${n}, ${s}))`)}};El.default=fC});var nh=F(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});function ih(i){let e=i.length,t=0,n=0,r;for(;n<e;)t++,r=i.charCodeAt(n++),r>=55296&&r<=56319&&n<e&&(r=i.charCodeAt(n),(r&64512)===56320&&n++);return t}Il.default=ih;ih.code='require("ajv/dist/runtime/ucs2length").default'});var rh=F(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});var Hn=ie(),mC=pe(),_C=nh(),gC={message({keyword:i,schemaCode:e}){let t=i==="maxLength"?"more":"fewer";return(0,Hn.str)`must NOT have ${t} than ${e} characters`},params:({schemaCode:i})=>(0,Hn._)`{limit: ${i}}`},vC={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:gC,code(i){let{keyword:e,data:t,schemaCode:n,it:r}=i,o=e==="maxLength"?Hn.operators.GT:Hn.operators.LT,a=r.opts.unicode===!1?(0,Hn._)`${t}.length`:(0,Hn._)`${(0,mC.useFunc)(i.gen,_C.default)}(${t})`;i.fail$data((0,Hn._)`${a} ${o} ${n}`)}};Pl.default=vC});var oh=F($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});var yC=Qt(),Ra=ie(),CC={message:({schemaCode:i})=>(0,Ra.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,Ra._)`{pattern: ${i}}`},bC={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:CC,code(i){let{data:e,$data:t,schema:n,schemaCode:r,it:o}=i,a=o.opts.unicodeRegExp?"u":"",s=t?(0,Ra._)`(new RegExp(${r}, ${a}))`:(0,yC.usePattern)(i,n);i.fail$data((0,Ra._)`!${s}.test(${e})`)}};$l.default=bC});var ah=F(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});var Co=ie(),zC={message({keyword:i,schemaCode:e}){let t=i==="maxProperties"?"more":"fewer";return(0,Co.str)`must NOT have ${t} than ${e} properties`},params:({schemaCode:i})=>(0,Co._)`{limit: ${i}}`},xC={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:zC,code(i){let{keyword:e,data:t,schemaCode:n}=i,r=e==="maxProperties"?Co.operators.GT:Co.operators.LT;i.fail$data((0,Co._)`Object.keys(${t}).length ${r} ${n}`)}};Nl.default=xC});var sh=F(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});var bo=Qt(),zo=ie(),SC=pe(),wC={message:({params:{missingProperty:i}})=>(0,zo.str)`must have required property '${i}'`,params:({params:{missingProperty:i}})=>(0,zo._)`{missingProperty: ${i}}`},TC={keyword:"required",type:"object",schemaType:"array",$data:!0,error:wC,code(i){let{gen:e,schema:t,schemaCode:n,data:r,$data:o,it:a}=i,{opts:s}=a;if(!o&&t.length===0)return;let c=t.length>=s.loopRequired;if(a.allErrors?h():f(),s.strictRequired){let z=i.parentSchema.properties,{definedProperties:E}=i.it;for(let C of t)if(z?.[C]===void 0&&!E.has(C)){let D=a.schemaEnv.baseId+a.errSchemaPath,N=`required property "${C}" is not defined at "${D}" (strictRequired)`;(0,SC.checkStrictMode)(a,N,a.opts.strictRequired)}}function h(){if(c||o)i.block$data(zo.nil,v);else for(let z of t)(0,bo.checkReportMissingProp)(i,z)}function f(){let z=e.let("missing");if(c||o){let E=e.let("valid",!0);i.block$data(E,()=>S(z,E)),i.ok(E)}else e.if((0,bo.checkMissingProp)(i,t,z)),(0,bo.reportMissingProp)(i,z),e.else()}function v(){e.forOf("prop",n,z=>{i.setParams({missingProperty:z}),e.if((0,bo.noPropertyInData)(e,r,z,s.ownProperties),()=>i.error())})}function S(z,E){i.setParams({missingProperty:z}),e.forOf(z,n,()=>{e.assign(E,(0,bo.propertyInData)(e,r,z,s.ownProperties)),e.if((0,zo.not)(E),()=>{i.error(),e.break()})},zo.nil)}}};Ol.default=TC});var lh=F(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});var xo=ie(),kC={message({keyword:i,schemaCode:e}){let t=i==="maxItems"?"more":"fewer";return(0,xo.str)`must NOT have ${t} than ${e} items`},params:({schemaCode:i})=>(0,xo._)`{limit: ${i}}`},DC={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:kC,code(i){let{keyword:e,data:t,schemaCode:n}=i,r=e==="maxItems"?xo.operators.GT:xo.operators.LT;i.fail$data((0,xo._)`${t}.length ${r} ${n}`)}};Ml.default=DC});var Aa=F(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});var ch=ul();ch.code='require("ajv/dist/runtime/equal").default';Fl.default=ch});var dh=F(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});var Vl=uo(),ft=ie(),EC=pe(),IC=Aa(),PC={message:({params:{i,j:e}})=>(0,ft.str)`must NOT have duplicate items (items ## ${e} and ${i} are identical)`,params:({params:{i,j:e}})=>(0,ft._)`{i: ${i}, j: ${e}}`},$C={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:PC,code(i){let{gen:e,data:t,$data:n,schema:r,parentSchema:o,schemaCode:a,it:s}=i;if(!n&&!r)return;let c=e.let("valid"),h=o.items?(0,Vl.getSchemaTypes)(o.items):[];i.block$data(c,f,(0,ft._)`${a} === false`),i.ok(c);function f(){let E=e.let("i",(0,ft._)`${t}.length`),C=e.let("j");i.setParams({i:E,j:C}),e.assign(c,!0),e.if((0,ft._)`${E} > 1`,()=>(v()?S:z)(E,C))}function v(){return h.length>0&&!h.some(E=>E==="object"||E==="array")}function S(E,C){let D=e.name("item"),N=(0,Vl.checkDataTypes)(h,D,s.opts.strictNumbers,Vl.DataType.Wrong),K=e.const("indices",(0,ft._)`{}`);e.for((0,ft._)`;${E}--;`,()=>{e.let(D,(0,ft._)`${t}[${E}]`),e.if(N,(0,ft._)`continue`),h.length>1&&e.if((0,ft._)`typeof ${D} == "string"`,(0,ft._)`${D} += "_"`),e.if((0,ft._)`typeof ${K}[${D}] == "number"`,()=>{e.assign(C,(0,ft._)`${K}[${D}]`),i.error(),e.assign(c,!1).break()}).code((0,ft._)`${K}[${D}] = ${E}`)})}function z(E,C){let D=(0,EC.useFunc)(e,IC.default),N=e.name("outer");e.label(N).for((0,ft._)`;${E}--;`,()=>e.for((0,ft._)`${C} = ${E}; ${C}--;`,()=>e.if((0,ft._)`${D}(${t}[${E}], ${t}[${C}])`,()=>{i.error(),e.assign(c,!1).break(N)})))}}};Rl.default=$C});var uh=F(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});var Al=ie(),NC=pe(),OC=Aa(),MC={message:"must be equal to constant",params:({schemaCode:i})=>(0,Al._)`{allowedValue: ${i}}`},FC={keyword:"const",$data:!0,error:MC,code(i){let{gen:e,data:t,$data:n,schemaCode:r,schema:o}=i;n||o&&typeof o=="object"?i.fail$data((0,Al._)`!${(0,NC.useFunc)(e,OC.default)}(${t}, ${r})`):i.fail((0,Al._)`${o} !== ${t}`)}};Hl.default=FC});var ph=F(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});var So=ie(),VC=pe(),RC=Aa(),AC={message:"must be equal to one of the allowed values",params:({schemaCode:i})=>(0,So._)`{allowedValues: ${i}}`},HC={keyword:"enum",schemaType:"array",$data:!0,error:AC,code(i){let{gen:e,data:t,$data:n,schema:r,schemaCode:o,it:a}=i;if(!n&&r.length===0)throw new Error("enum must have non-empty array");let s=r.length>=a.opts.loopEnum,c,h=()=>c??(c=(0,VC.useFunc)(e,RC.default)),f;if(s||n)f=e.let("valid"),i.block$data(f,v);else{if(!Array.isArray(r))throw new Error("ajv implementation error");let z=e.const("vSchema",o);f=(0,So.or)(...r.map((E,C)=>S(z,C)))}i.pass(f);function v(){e.assign(f,!1),e.forOf("v",o,z=>e.if((0,So._)`${h()}(${t}, ${z})`,()=>e.assign(f,!0).break()))}function S(z,E){let C=r[E];return typeof C=="object"&&C!==null?(0,So._)`${h()}(${t}, ${z}[${E}])`:(0,So._)`${t} === ${C}`}}};jl.default=HC});var hh=F(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});var jC=eh(),LC=th(),BC=rh(),qC=oh(),WC=ah(),UC=sh(),YC=lh(),KC=dh(),GC=uh(),QC=ph(),XC=[jC.default,LC.default,BC.default,qC.default,WC.default,UC.default,YC.default,KC.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},GC.default,QC.default];Ll.default=XC});var ql=F(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.validateAdditionalItems=void 0;var jn=ie(),Bl=pe(),ZC={message:({params:{len:i}})=>(0,jn.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,jn._)`{limit: ${i}}`},JC={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:ZC,code(i){let{parentSchema:e,it:t}=i,{items:n}=e;if(!Array.isArray(n)){(0,Bl.checkStrictMode)(t,'"additionalItems" is ignored when "items" is not an array of schemas');return}fh(i,n)}};function fh(i,e){let{gen:t,schema:n,data:r,keyword:o,it:a}=i;a.items=!0;let s=t.const("len",(0,jn._)`${r}.length`);if(n===!1)i.setParams({len:e.length}),i.pass((0,jn._)`${s} <= ${e.length}`);else if(typeof n=="object"&&!(0,Bl.alwaysValidSchema)(a,n)){let h=t.var("valid",(0,jn._)`${s} <= ${e.length}`);t.if((0,jn.not)(h),()=>c(h)),i.ok(h)}function c(h){t.forRange("i",e.length,s,f=>{i.subschema({keyword:o,dataProp:f,dataPropType:Bl.Type.Num},h),a.allErrors||t.if((0,jn.not)(h),()=>t.break())})}}wo.validateAdditionalItems=fh;wo.default=JC});var Wl=F(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.validateTuple=void 0;var mh=ie(),Ha=pe(),e1=Qt(),t1={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){let{schema:e,it:t}=i;if(Array.isArray(e))return _h(i,"additionalItems",e);t.items=!0,!(0,Ha.alwaysValidSchema)(t,e)&&i.ok((0,e1.validateArray)(i))}};function _h(i,e,t=i.schema){let{gen:n,parentSchema:r,data:o,keyword:a,it:s}=i;f(r),s.opts.unevaluated&&t.length&&s.items!==!0&&(s.items=Ha.mergeEvaluated.items(n,t.length,s.items));let c=n.name("valid"),h=n.const("len",(0,mh._)`${o}.length`);t.forEach((v,S)=>{(0,Ha.alwaysValidSchema)(s,v)||(n.if((0,mh._)`${h} > ${S}`,()=>i.subschema({keyword:a,schemaProp:S,dataProp:S},c)),i.ok(c))});function f(v){let{opts:S,errSchemaPath:z}=s,E=t.length,C=E===v.minItems&&(E===v.maxItems||v[e]===!1);if(S.strictTuples&&!C){let D=`"${a}" is ${E}-tuple, but minItems or maxItems/${e} are not specified or different at path "${z}"`;(0,Ha.checkStrictMode)(s,D,S.strictTuples)}}}To.validateTuple=_h;To.default=t1});var gh=F(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});var i1=Wl(),n1={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:i=>(0,i1.validateTuple)(i,"items")};Ul.default=n1});var yh=F(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});var vh=ie(),r1=pe(),o1=Qt(),a1=ql(),s1={message:({params:{len:i}})=>(0,vh.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,vh._)`{limit: ${i}}`},l1={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:s1,code(i){let{schema:e,parentSchema:t,it:n}=i,{prefixItems:r}=t;n.items=!0,!(0,r1.alwaysValidSchema)(n,e)&&(r?(0,a1.validateAdditionalItems)(i,r):i.ok((0,o1.validateArray)(i)))}};Yl.default=l1});var Ch=F(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});var Zt=ie(),ja=pe(),c1={message:({params:{min:i,max:e}})=>e===void 0?(0,Zt.str)`must contain at least ${i} valid item(s)`:(0,Zt.str)`must contain at least ${i} and no more than ${e} valid item(s)`,params:({params:{min:i,max:e}})=>e===void 0?(0,Zt._)`{minContains: ${i}}`:(0,Zt._)`{minContains: ${i}, maxContains: ${e}}`},d1={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:c1,code(i){let{gen:e,schema:t,parentSchema:n,data:r,it:o}=i,a,s,{minContains:c,maxContains:h}=n;o.opts.next?(a=c===void 0?1:c,s=h):a=1;let f=e.const("len",(0,Zt._)`${r}.length`);if(i.setParams({min:a,max:s}),s===void 0&&a===0){(0,ja.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,ja.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,ja.alwaysValidSchema)(o,t)){let C=(0,Zt._)`${f} >= ${a}`;s!==void 0&&(C=(0,Zt._)`${C} && ${f} <= ${s}`),i.pass(C);return}o.items=!0;let v=e.name("valid");s===void 0&&a===1?z(v,()=>e.if(v,()=>e.break())):a===0?(e.let(v,!0),s!==void 0&&e.if((0,Zt._)`${r}.length > 0`,S)):(e.let(v,!1),S()),i.result(v,()=>i.reset());function S(){let C=e.name("_valid"),D=e.let("count",0);z(C,()=>e.if(C,()=>E(D)))}function z(C,D){e.forRange("i",0,f,N=>{i.subschema({keyword:"contains",dataProp:N,dataPropType:ja.Type.Num,compositeRule:!0},C),D()})}function E(C){e.code((0,Zt._)`${C}++`),s===void 0?e.if((0,Zt._)`${C} >= ${a}`,()=>e.assign(v,!0).break()):(e.if((0,Zt._)`${C} > ${s}`,()=>e.assign(v,!1).break()),a===1?e.assign(v,!0):e.if((0,Zt._)`${C} >= ${a}`,()=>e.assign(v,!0)))}}};Kl.default=d1});var xh=F(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.validateSchemaDeps=wi.validatePropertyDeps=wi.error=void 0;var Gl=ie(),u1=pe(),ko=Qt();wi.error={message:({params:{property:i,depsCount:e,deps:t}})=>{let n=e===1?"property":"properties";return(0,Gl.str)`must have ${n} ${t} when property ${i} is present`},params:({params:{property:i,depsCount:e,deps:t,missingProperty:n}})=>(0,Gl._)`{property: ${i},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${t}}`};var p1={keyword:"dependencies",type:"object",schemaType:"object",error:wi.error,code(i){let[e,t]=h1(i);bh(i,e),zh(i,t)}};function h1({schema:i}){let e={},t={};for(let n in i){if(n==="__proto__")continue;let r=Array.isArray(i[n])?e:t;r[n]=i[n]}return[e,t]}function bh(i,e=i.schema){let{gen:t,data:n,it:r}=i;if(Object.keys(e).length===0)return;let o=t.let("missing");for(let a in e){let s=e[a];if(s.length===0)continue;let c=(0,ko.propertyInData)(t,n,a,r.opts.ownProperties);i.setParams({property:a,depsCount:s.length,deps:s.join(", ")}),r.allErrors?t.if(c,()=>{for(let h of s)(0,ko.checkReportMissingProp)(i,h)}):(t.if((0,Gl._)`${c} && (${(0,ko.checkMissingProp)(i,s,o)})`),(0,ko.reportMissingProp)(i,o),t.else())}}wi.validatePropertyDeps=bh;function zh(i,e=i.schema){let{gen:t,data:n,keyword:r,it:o}=i,a=t.name("valid");for(let s in e)(0,u1.alwaysValidSchema)(o,e[s])||(t.if((0,ko.propertyInData)(t,n,s,o.opts.ownProperties),()=>{let c=i.subschema({keyword:r,schemaProp:s},a);i.mergeValidEvaluated(c,a)},()=>t.var(a,!0)),i.ok(a))}wi.validateSchemaDeps=zh;wi.default=p1});var wh=F(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});var Sh=ie(),f1=pe(),m1={message:"property name must be valid",params:({params:i})=>(0,Sh._)`{propertyName: ${i.propertyName}}`},_1={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:m1,code(i){let{gen:e,schema:t,data:n,it:r}=i;if((0,f1.alwaysValidSchema)(r,t))return;let o=e.name("valid");e.forIn("key",n,a=>{i.setParams({propertyName:a}),i.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),e.if((0,Sh.not)(o),()=>{i.error(!0),r.allErrors||e.break()})}),i.ok(o)}};Ql.default=_1});var Zl=F(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});var La=Qt(),ci=ie(),g1=Hi(),Ba=pe(),v1={message:"must NOT have additional properties",params:({params:i})=>(0,ci._)`{additionalProperty: ${i.additionalProperty}}`},y1={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:v1,code(i){let{gen:e,schema:t,parentSchema:n,data:r,errsCount:o,it:a}=i;if(!o)throw new Error("ajv implementation error");let{allErrors:s,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,Ba.alwaysValidSchema)(a,t))return;let h=(0,La.allSchemaProperties)(n.properties),f=(0,La.allSchemaProperties)(n.patternProperties);v(),i.ok((0,ci._)`${o} === ${g1.default.errors}`);function v(){e.forIn("key",r,D=>{!h.length&&!f.length?E(D):e.if(S(D),()=>E(D))})}function S(D){let N;if(h.length>8){let K=(0,Ba.schemaRefOrVal)(a,n.properties,"properties");N=(0,La.isOwnProperty)(e,K,D)}else h.length?N=(0,ci.or)(...h.map(K=>(0,ci._)`${D} === ${K}`)):N=ci.nil;return f.length&&(N=(0,ci.or)(N,...f.map(K=>(0,ci._)`${(0,La.usePattern)(i,K)}.test(${D})`))),(0,ci.not)(N)}function z(D){e.code((0,ci._)`delete ${r}[${D}]`)}function E(D){if(c.removeAdditional==="all"||c.removeAdditional&&t===!1){z(D);return}if(t===!1){i.setParams({additionalProperty:D}),i.error(),s||e.break();return}if(typeof t=="object"&&!(0,Ba.alwaysValidSchema)(a,t)){let N=e.name("valid");c.removeAdditional==="failing"?(C(D,N,!1),e.if((0,ci.not)(N),()=>{i.reset(),z(D)})):(C(D,N),s||e.if((0,ci.not)(N),()=>e.break()))}}function C(D,N,K){let X={keyword:"additionalProperties",dataProp:D,dataPropType:Ba.Type.Str};K===!1&&Object.assign(X,{compositeRule:!0,createErrors:!1,allErrors:!1}),i.subschema(X,N)}}};Xl.default=y1});var Dh=F(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});var C1=mo(),Th=Qt(),Jl=pe(),kh=Zl(),b1={keyword:"properties",type:"object",schemaType:"object",code(i){let{gen:e,schema:t,parentSchema:n,data:r,it:o}=i;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&kh.default.code(new C1.KeywordCxt(o,kh.default,"additionalProperties"));let a=(0,Th.allSchemaProperties)(t);for(let v of a)o.definedProperties.add(v);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=Jl.mergeEvaluated.props(e,(0,Jl.toHash)(a),o.props));let s=a.filter(v=>!(0,Jl.alwaysValidSchema)(o,t[v]));if(s.length===0)return;let c=e.name("valid");for(let v of s)h(v)?f(v):(e.if((0,Th.propertyInData)(e,r,v,o.opts.ownProperties)),f(v),o.allErrors||e.else().var(c,!0),e.endIf()),i.it.definedProperties.add(v),i.ok(c);function h(v){return o.opts.useDefaults&&!o.compositeRule&&t[v].default!==void 0}function f(v){i.subschema({keyword:"properties",schemaProp:v,dataProp:v},c)}}};ec.default=b1});var $h=F(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});var Eh=Qt(),qa=ie(),Ih=pe(),Ph=pe(),z1={keyword:"patternProperties",type:"object",schemaType:"object",code(i){let{gen:e,schema:t,data:n,parentSchema:r,it:o}=i,{opts:a}=o,s=(0,Eh.allSchemaProperties)(t),c=s.filter(C=>(0,Ih.alwaysValidSchema)(o,t[C]));if(s.length===0||c.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;let h=a.strictSchema&&!a.allowMatchingProperties&&r.properties,f=e.name("valid");o.props!==!0&&!(o.props instanceof qa.Name)&&(o.props=(0,Ph.evaluatedPropsToName)(e,o.props));let{props:v}=o;S();function S(){for(let C of s)h&&z(C),o.allErrors?E(C):(e.var(f,!0),E(C),e.if(f))}function z(C){for(let D in h)new RegExp(C).test(D)&&(0,Ih.checkStrictMode)(o,`property ${D} matches pattern ${C} (use allowMatchingProperties)`)}function E(C){e.forIn("key",n,D=>{e.if((0,qa._)`${(0,Eh.usePattern)(i,C)}.test(${D})`,()=>{let N=c.includes(C);N||i.subschema({keyword:"patternProperties",schemaProp:C,dataProp:D,dataPropType:Ph.Type.Str},f),o.opts.unevaluated&&v!==!0?e.assign((0,qa._)`${v}[${D}]`,!0):!N&&!o.allErrors&&e.if((0,qa.not)(f),()=>e.break())})})}}};tc.default=z1});var Nh=F(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});var x1=pe(),S1={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(i){let{gen:e,schema:t,it:n}=i;if((0,x1.alwaysValidSchema)(n,t)){i.fail();return}let r=e.name("valid");i.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},r),i.failResult(r,()=>i.reset(),()=>i.error())},error:{message:"must NOT be valid"}};ic.default=S1});var Oh=F(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});var w1=Qt(),T1={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:w1.validateUnion,error:{message:"must match a schema in anyOf"}};nc.default=T1});var Mh=F(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});var Wa=ie(),k1=pe(),D1={message:"must match exactly one schema in oneOf",params:({params:i})=>(0,Wa._)`{passingSchemas: ${i.passing}}`},E1={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:D1,code(i){let{gen:e,schema:t,parentSchema:n,it:r}=i;if(!Array.isArray(t))throw new Error("ajv implementation error");if(r.opts.discriminator&&n.discriminator)return;let o=t,a=e.let("valid",!1),s=e.let("passing",null),c=e.name("_valid");i.setParams({passing:s}),e.block(h),i.result(a,()=>i.reset(),()=>i.error(!0));function h(){o.forEach((f,v)=>{let S;(0,k1.alwaysValidSchema)(r,f)?e.var(c,!0):S=i.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},c),v>0&&e.if((0,Wa._)`${c} && ${a}`).assign(a,!1).assign(s,(0,Wa._)`[${s}, ${v}]`).else(),e.if(c,()=>{e.assign(a,!0),e.assign(s,v),S&&i.mergeEvaluated(S,Wa.Name)})})}}};rc.default=E1});var Fh=F(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});var I1=pe(),P1={keyword:"allOf",schemaType:"array",code(i){let{gen:e,schema:t,it:n}=i;if(!Array.isArray(t))throw new Error("ajv implementation error");let r=e.name("valid");t.forEach((o,a)=>{if((0,I1.alwaysValidSchema)(n,o))return;let s=i.subschema({keyword:"allOf",schemaProp:a},r);i.ok(r),i.mergeEvaluated(s)})}};oc.default=P1});var Ah=F(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});var Ua=ie(),Rh=pe(),$1={message:({params:i})=>(0,Ua.str)`must match "${i.ifClause}" schema`,params:({params:i})=>(0,Ua._)`{failingKeyword: ${i.ifClause}}`},N1={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:$1,code(i){let{gen:e,parentSchema:t,it:n}=i;t.then===void 0&&t.else===void 0&&(0,Rh.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let r=Vh(n,"then"),o=Vh(n,"else");if(!r&&!o)return;let a=e.let("valid",!0),s=e.name("_valid");if(c(),i.reset(),r&&o){let f=e.let("ifClause");i.setParams({ifClause:f}),e.if(s,h("then",f),h("else",f))}else r?e.if(s,h("then")):e.if((0,Ua.not)(s),h("else"));i.pass(a,()=>i.error(!0));function c(){let f=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);i.mergeEvaluated(f)}function h(f,v){return()=>{let S=i.subschema({keyword:f},s);e.assign(a,s),i.mergeValidEvaluated(S,a),v?e.assign(v,(0,Ua._)`${f}`):i.setParams({ifClause:f})}}}};function Vh(i,e){let t=i.schema[e];return t!==void 0&&!(0,Rh.alwaysValidSchema)(i,t)}ac.default=N1});var Hh=F(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});var O1=pe(),M1={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:i,parentSchema:e,it:t}){e.if===void 0&&(0,O1.checkStrictMode)(t,`"${i}" without "if" is ignored`)}};sc.default=M1});var jh=F(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});var F1=ql(),V1=gh(),R1=Wl(),A1=yh(),H1=Ch(),j1=xh(),L1=wh(),B1=Zl(),q1=Dh(),W1=$h(),U1=Nh(),Y1=Oh(),K1=Mh(),G1=Fh(),Q1=Ah(),X1=Hh();function Z1(i=!1){let e=[U1.default,Y1.default,K1.default,G1.default,Q1.default,X1.default,L1.default,B1.default,j1.default,q1.default,W1.default];return i?e.push(V1.default,A1.default):e.push(F1.default,R1.default),e.push(H1.default),e}lc.default=Z1});var Lh=F(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});var Ye=ie(),J1={message:({schemaCode:i})=>(0,Ye.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,Ye._)`{format: ${i}}`},eb={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:J1,code(i,e){let{gen:t,data:n,$data:r,schema:o,schemaCode:a,it:s}=i,{opts:c,errSchemaPath:h,schemaEnv:f,self:v}=s;if(!c.validateFormats)return;r?S():z();function S(){let E=t.scopeValue("formats",{ref:v.formats,code:c.code.formats}),C=t.const("fDef",(0,Ye._)`${E}[${a}]`),D=t.let("fType"),N=t.let("format");t.if((0,Ye._)`typeof ${C} == "object" && !(${C} instanceof RegExp)`,()=>t.assign(D,(0,Ye._)`${C}.type || "string"`).assign(N,(0,Ye._)`${C}.validate`),()=>t.assign(D,(0,Ye._)`"string"`).assign(N,C)),i.fail$data((0,Ye.or)(K(),X()));function K(){return c.strictSchema===!1?Ye.nil:(0,Ye._)`${a} && !${N}`}function X(){let _e=f.$async?(0,Ye._)`(${C}.async ? await ${N}(${n}) : ${N}(${n}))`:(0,Ye._)`${N}(${n})`,G=(0,Ye._)`(typeof ${N} == "function" ? ${_e} : ${N}.test(${n}))`;return(0,Ye._)`${N} && ${N} !== true && ${D} === ${e} && !${G}`}}function z(){let E=v.formats[o];if(!E){K();return}if(E===!0)return;let[C,D,N]=X(E);C===e&&i.pass(_e());function K(){if(c.strictSchema===!1){v.logger.warn(G());return}throw new Error(G());function G(){return`unknown format "${o}" ignored in schema at path "${h}"`}}function X(G){let It=G instanceof RegExp?(0,Ye.regexpCode)(G):c.code.formats?(0,Ye._)`${c.code.formats}${(0,Ye.getProperty)(o)}`:void 0,Pt=t.scopeValue("formats",{key:o,ref:G,code:It});return typeof G=="object"&&!(G instanceof RegExp)?[G.type||"string",G.validate,(0,Ye._)`${Pt}.validate`]:["string",G,Pt]}function _e(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!f.$async)throw new Error("async format in sync schema");return(0,Ye._)`await ${N}(${n})`}return typeof D=="function"?(0,Ye._)`${N}(${n})`:(0,Ye._)`${N}.test(${n})`}}}};cc.default=eb});var Bh=F(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});var tb=Lh(),ib=[tb.default];dc.default=ib});var qh=F(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.contentVocabulary=Dr.metadataVocabulary=void 0;Dr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Dr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Uh=F(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});var nb=Jp(),rb=hh(),ob=jh(),ab=Bh(),Wh=qh(),sb=[nb.default,rb.default,(0,ob.default)(),ab.default,Wh.metadataVocabulary,Wh.contentVocabulary];uc.default=sb});var Yh=F(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.DiscrError=void 0;var lb;(function(i){i.Tag="tag",i.Mapping="mapping"})(lb=Do.DiscrError||(Do.DiscrError={}))});var Gh=F(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});var Er=ie(),pc=Yh(),Kh=Pa(),cb=pe(),db={message:({params:{discrError:i,tagName:e}})=>i===pc.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:i,tag:e,tagName:t}})=>(0,Er._)`{error: ${i}, tag: ${t}, tagValue: ${e}}`},ub={keyword:"discriminator",type:"object",schemaType:"object",error:db,code(i){let{gen:e,data:t,schema:n,parentSchema:r,it:o}=i,{oneOf:a}=r;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let s=n.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),h=e.const("tag",(0,Er._)`${t}${(0,Er.getProperty)(s)}`);e.if((0,Er._)`typeof ${h} == "string"`,()=>f(),()=>i.error(!1,{discrError:pc.DiscrError.Tag,tag:h,tagName:s})),i.ok(c);function f(){let z=S();e.if(!1);for(let E in z)e.elseIf((0,Er._)`${h} === ${E}`),e.assign(c,v(z[E]));e.else(),i.error(!1,{discrError:pc.DiscrError.Mapping,tag:h,tagName:s}),e.endIf()}function v(z){let E=e.name("valid"),C=i.subschema({keyword:"oneOf",schemaProp:z},E);return i.mergeEvaluated(C,Er.Name),E}function S(){var z;let E={},C=N(r),D=!0;for(let _e=0;_e<a.length;_e++){let G=a[_e];G?.$ref&&!(0,cb.schemaHasRulesButRef)(G,o.self.RULES)&&(G=Kh.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,G?.$ref),G instanceof Kh.SchemaEnv&&(G=G.schema));let It=(z=G?.properties)===null||z===void 0?void 0:z[s];if(typeof It!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);D=D&&(C||N(G)),K(It,_e)}if(!D)throw new Error(`discriminator: "${s}" must be required`);return E;function N({required:_e}){return Array.isArray(_e)&&_e.includes(s)}function K(_e,G){if(_e.const)X(_e.const,G);else if(_e.enum)for(let It of _e.enum)X(It,G);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function X(_e,G){if(typeof _e!="string"||_e in E)throw new Error(`discriminator: "${s}" values must be unique strings`);E[_e]=G}}}};hc.default=ub});var Qh=F((y2,pb)=>{pb.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var fc=F((Le,Zh)=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.MissingRefError=Le.ValidationError=Le.CodeGen=Le.Name=Le.nil=Le.stringify=Le.str=Le._=Le.KeywordCxt=void 0;var hb=Yp(),fb=Uh(),mb=Gh(),Xh=Qh(),_b=["/properties"],Ya="http://json-schema.org/draft-07/schema",Ka=class extends hb.default{_addVocabularies(){super._addVocabularies(),fb.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(mb.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Xh,_b):Xh;this.addMetaSchema(e,Ya,!1),this.refs["http://json-schema.org/schema"]=Ya}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Ya)?Ya:void 0)}};Zh.exports=Le=Ka;Object.defineProperty(Le,"__esModule",{value:!0});Le.default=Ka;var gb=mo();Object.defineProperty(Le,"KeywordCxt",{enumerable:!0,get:function(){return gb.KeywordCxt}});var Ir=ie();Object.defineProperty(Le,"_",{enumerable:!0,get:function(){return Ir._}});Object.defineProperty(Le,"str",{enumerable:!0,get:function(){return Ir.str}});Object.defineProperty(Le,"stringify",{enumerable:!0,get:function(){return Ir.stringify}});Object.defineProperty(Le,"nil",{enumerable:!0,get:function(){return Ir.nil}});Object.defineProperty(Le,"Name",{enumerable:!0,get:function(){return Ir.Name}});Object.defineProperty(Le,"CodeGen",{enumerable:!0,get:function(){return Ir.CodeGen}});var vb=Da();Object.defineProperty(Le,"ValidationError",{enumerable:!0,get:function(){return vb.default}});var yb=Ea();Object.defineProperty(Le,"MissingRefError",{enumerable:!0,get:function(){return yb.default}})});var of=F(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.formatNames=Ti.fastFormats=Ti.fullFormats=void 0;function Pr(i,e){return{validate:i,compare:e}}Ti.fullFormats={date:Pr(tf,gc),time:Pr(nf,vc),"date-time":Pr(xb,rf),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Tb,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Nb,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:kb,int32:{type:"number",validate:Ib},int64:{type:"number",validate:Pb},float:{type:"number",validate:ef},double:{type:"number",validate:ef},password:!0,binary:!0};Ti.fastFormats=Ie($({},Ti.fullFormats),{date:Pr(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,gc),time:Pr(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,vc),"date-time":Pr(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,rf),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});Ti.formatNames=Object.keys(Ti.fullFormats);function Cb(i){return i%4===0&&(i%100!==0||i%400===0)}var bb=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,zb=[0,31,28,31,30,31,30,31,31,30,31,30,31];function tf(i){let e=bb.exec(i);if(!e)return!1;let t=+e[1],n=+e[2],r=+e[3];return n>=1&&n<=12&&r>=1&&r<=(n===2&&Cb(t)?29:zb[n])}function gc(i,e){if(i&&e)return i>e?1:i<e?-1:0}var mc=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function nf(i,e){let t=mc.exec(i);if(!t)return!1;let n=+t[1],r=+t[2],o=+t[3],a=t[5];return(n<=23&&r<=59&&o<=59||n===23&&r===59&&o===60)&&(!e||a!=="")}function vc(i,e){if(!(i&&e))return;let t=mc.exec(i),n=mc.exec(e);if(t&&n)return i=t[1]+t[2]+t[3]+(t[4]||""),e=n[1]+n[2]+n[3]+(n[4]||""),i>e?1:i<e?-1:0}var _c=/t|\s/i;function xb(i){let e=i.split(_c);return e.length===2&&tf(e[0])&&nf(e[1],!0)}function rf(i,e){if(!(i&&e))return;let[t,n]=i.split(_c),[r,o]=e.split(_c),a=gc(t,r);if(a!==void 0)return a||vc(n,o)}var Sb=/\/|:/,wb=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Tb(i){return Sb.test(i)&&wb.test(i)}var Jh=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function kb(i){return Jh.lastIndex=0,Jh.test(i)}var Db=-(2**31),Eb=2**31-1;function Ib(i){return Number.isInteger(i)&&i<=Eb&&i>=Db}function Pb(i){return Number.isInteger(i)}function ef(){return!0}var $b=/[^\\]\\Z/;function Nb(i){if($b.test(i))return!1;try{return new RegExp(i),!0}catch{return!1}}});var af=F($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.formatLimitDefinition=void 0;var Ob=fc(),di=ie(),pn=di.operators,Ga={formatMaximum:{okStr:"<=",ok:pn.LTE,fail:pn.GT},formatMinimum:{okStr:">=",ok:pn.GTE,fail:pn.LT},formatExclusiveMaximum:{okStr:"<",ok:pn.LT,fail:pn.GTE},formatExclusiveMinimum:{okStr:">",ok:pn.GT,fail:pn.LTE}},Mb={message:({keyword:i,schemaCode:e})=>di.str`should be ${Ga[i].okStr} ${e}`,params:({keyword:i,schemaCode:e})=>di._`{comparison: ${Ga[i].okStr}, limit: ${e}}`};$r.formatLimitDefinition={keyword:Object.keys(Ga),type:"string",schemaType:"string",$data:!0,error:Mb,code(i){let{gen:e,data:t,schemaCode:n,keyword:r,it:o}=i,{opts:a,self:s}=o;if(!a.validateFormats)return;let c=new Ob.KeywordCxt(o,s.RULES.all.format.definition,"format");c.$data?h():f();function h(){let S=e.scopeValue("formats",{ref:s.formats,code:a.code.formats}),z=e.const("fmt",di._`${S}[${c.schemaCode}]`);i.fail$data(di.or(di._`typeof ${z} != "object"`,di._`${z} instanceof RegExp`,di._`typeof ${z}.compare != "function"`,v(z)))}function f(){let S=c.schema,z=s.formats[S];if(!z||z===!0)return;if(typeof z!="object"||z instanceof RegExp||typeof z.compare!="function")throw new Error(`"${r}": format "${S}" does not define "compare" function`);let E=e.scopeValue("formats",{key:S,ref:z,code:a.code.formats?di._`${a.code.formats}${di.getProperty(S)}`:void 0});i.fail$data(v(E))}function v(S){return di._`${S}.compare(${t}, ${n}) ${Ga[r].fail} 0`}},dependencies:["format"]};var Fb=i=>(i.addKeyword($r.formatLimitDefinition),i);$r.default=Fb});var df=F((Eo,cf)=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});var Nr=of(),Vb=af(),yc=ie(),sf=new yc.Name("fullFormats"),Rb=new yc.Name("fastFormats"),Cc=(i,e={keywords:!0})=>{if(Array.isArray(e))return lf(i,e,Nr.fullFormats,sf),i;let[t,n]=e.mode==="fast"?[Nr.fastFormats,Rb]:[Nr.fullFormats,sf],r=e.formats||Nr.formatNames;return lf(i,r,t,n),e.keywords&&Vb.default(i),i};Cc.get=(i,e="full")=>{let n=(e==="fast"?Nr.fastFormats:Nr.fullFormats)[i];if(!n)throw new Error(`Unknown format "${i}"`);return n};function lf(i,e,t,n){var r,o;(r=(o=i.opts.code).formats)!==null&&r!==void 0||(o.formats=yc._`require("ajv-formats/dist/formats").${n}`);for(let a of e)i.addFormat(a,t[a])}cf.exports=Eo=Cc;Object.defineProperty(Eo,"__esModule",{value:!0});Eo.default=Cc});var du=["*"],nm=["inputElement"],rm=["nz-checkbox",""];function om(i,e){if(i&1){let t=q();m(0,"label",1),P("nzCheckedChange",function(r){let a=T(t).$implicit,s=d();return k(s.onCheckedChange(a,r))}),m(1,"span"),R(2),g()()}if(i&2){let t=e.$implicit,n=d();u("nzDisabled",t.disabled||n.nzDisabled)("nzChecked",t.checked),l(2),ke(t.label)}}var gs=(()=>{let e=class e{constructor(){this.nzOnChange=new ge,this.checkboxList=[]}addCheckbox(n){this.checkboxList.push(n)}removeCheckbox(n){this.checkboxList.splice(this.checkboxList.indexOf(n),1)}onChange(){let n=this.checkboxList.filter(r=>r.nzChecked).map(r=>r.nzValue);this.nzOnChange.emit(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=L({type:e,selectors:[["nz-checkbox-wrapper"]],hostAttrs:[1,"ant-checkbox-group"],outputs:{nzOnChange:"nzOnChange"},exportAs:["nzCheckboxWrapper"],ngContentSelectors:du,decls:1,vars:0,template:function(r,o){r&1&&(at(),st(0))},encapsulation:2,changeDetection:0});let i=e;return i})(),wn=class wn{innerCheckedChange(e){this.nzDisabled||(this.nzChecked=e,this.onChange(this.nzChecked),this.nzCheckedChange.emit(this.nzChecked),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.onChange())}writeValue(e){this.nzChecked=e,this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(e,t,n,r,o,a,s){this.ngZone=e,this.elementRef=t,this.nzCheckboxWrapperComponent=n,this.cdr=r,this.focusMonitor=o,this.directionality=a,this.nzFormStatusService=s,this.dir="ltr",this.destroy$=new Ce,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.nzCheckedChange=new ge,this.nzValue=null,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzChecked=!1,this.nzId=null}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).pipe(U(this.destroy$)).subscribe(e=>{e||Promise.resolve().then(()=>this.onTouched())}),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.addCheckbox(this),this.directionality.change.pipe(U(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{gi(this.elementRef.nativeElement,"click").pipe(U(this.destroy$)).subscribe(e=>{e.preventDefault(),this.focus(),!this.nzDisabled&&this.ngZone.run(()=>{this.innerCheckedChange(!this.nzChecked),this.cdr.markForCheck()})}),gi(this.inputElement.nativeElement,"click").pipe(U(this.destroy$)).subscribe(e=>e.stopPropagation())})}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.removeCheckbox(this),this.destroy$.next(),this.destroy$.complete()}};wn.\u0275fac=function(t){return new(t||wn)(I(ot),I(St),I(gs,8),I(qe),I(Gr),I(Ft,8),I(rt,8))},wn.\u0275cmp=L({type:wn,selectors:[["","nz-checkbox",""]],viewQuery:function(t,n){if(t&1&&Xe(nm,7),t&2){let r;Me(r=Fe())&&(n.inputElement=r.first)}},hostAttrs:[1,"ant-checkbox-wrapper"],hostVars:6,hostBindings:function(t,n){t&2&&W("ant-checkbox-wrapper-in-form-item",!!n.nzFormStatusService)("ant-checkbox-wrapper-checked",n.nzChecked)("ant-checkbox-rtl",n.dir==="rtl")},inputs:{nzValue:"nzValue",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzChecked:"nzChecked",nzId:"nzId"},outputs:{nzCheckedChange:"nzCheckedChange"},exportAs:["nzCheckbox"],features:[lt([{provide:ii,useExisting:Wi(()=>wn),multi:!0}])],attrs:rm,ngContentSelectors:du,decls:6,vars:11,consts:[[1,"ant-checkbox"],["type","checkbox",1,"ant-checkbox-input",3,"checked","ngModel","disabled","ngModelChange"],["inputElement",""],[1,"ant-checkbox-inner"]],template:function(t,n){t&1&&(at(),m(0,"span",0)(1,"input",1,2),P("ngModelChange",function(o){return n.innerCheckedChange(o)}),g(),O(3,"span",3),g(),m(4,"span"),st(5),g()),t&2&&(W("ant-checkbox-checked",n.nzChecked&&!n.nzIndeterminate)("ant-checkbox-disabled",n.nzDisabled)("ant-checkbox-indeterminate",n.nzIndeterminate),l(1),u("checked",n.nzChecked)("ngModel",n.nzChecked)("disabled",n.nzDisabled),xe("autofocus",n.nzAutoFocus?"autofocus":null)("id",n.nzId))},dependencies:[Ad,je,$e],encapsulation:2,changeDetection:0});var Vi=wn;V([ee()],Vi.prototype,"nzAutoFocus",void 0);V([ee()],Vi.prototype,"nzDisabled",void 0);V([ee()],Vi.prototype,"nzIndeterminate",void 0);V([ee()],Vi.prototype,"nzChecked",void 0);var Tn=class Tn{trackByOption(e,t){return t.value}onCheckedChange(e,t){e.checked=t,this.onChange(this.options)}constructor(e,t,n,r){this.elementRef=e,this.focusMonitor=t,this.cdr=n,this.directionality=r,this.onChange=()=>{},this.onTouched=()=>{},this.options=[],this.nzDisabled=!1,this.dir="ltr",this.destroy$=new Ce,this.isNzDisableFirstChange=!0}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).pipe(U(this.destroy$)).subscribe(e=>{e||Promise.resolve().then(()=>this.onTouched())}),this.directionality.change?.pipe(U(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}writeValue(e){this.options=e,this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}};Tn.\u0275fac=function(t){return new(t||Tn)(I(St),I(Gr),I(qe),I(Ft,8))},Tn.\u0275cmp=L({type:Tn,selectors:[["nz-checkbox-group"]],hostAttrs:[1,"ant-checkbox-group"],hostVars:2,hostBindings:function(t,n){t&2&&W("ant-checkbox-group-rtl",n.dir==="rtl")},inputs:{nzDisabled:"nzDisabled"},exportAs:["nzCheckboxGroup"],features:[lt([{provide:ii,useExisting:Wi(()=>Tn),multi:!0}])],decls:1,vars:2,consts:[["nz-checkbox","","class","ant-checkbox-group-item",3,"nzDisabled","nzChecked","nzCheckedChange",4,"ngFor","ngForOf","ngForTrackBy"],["nz-checkbox","",1,"ant-checkbox-group-item",3,"nzDisabled","nzChecked","nzCheckedChange"]],template:function(t,n){t&1&&b(0,om,3,3,"label",0),t&2&&u("ngForOf",n.options)("ngForTrackBy",n.trackByOption)},dependencies:[dt,Vi],encapsulation:2});var Zr=Tn;V([ee()],Zr.prototype,"nzDisabled",void 0);var uu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=xt({type:e}),e.\u0275inj=zt({imports:[Yt,wt,ni,$d]});let i=e;return i})();var pu=["*"],sm=["inputElement"],lm=["nz-radio",""],ys=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Be({type:e,selectors:[["","nz-radio-button",""]]});let i=e;return i})(),vs=(()=>{let e=class e{constructor(){this.selected$=new nr(1),this.touched$=new Ce,this.disabled$=new nr(1),this.name$=new nr(1)}touch(){this.touched$.next()}select(n){this.selected$.next(n)}setDisabled(n){this.disabled$.next(n)}setName(n){this.name$.next(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=bt({token:e,factory:e.\u0275fac});let i=e;return i})(),kn=class kn{constructor(e,t,n){this.cdr=e,this.nzRadioService=t,this.directionality=n,this.value=null,this.destroy$=new Ce,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.nzDisabled=!1,this.nzButtonStyle="outline",this.nzSize="default",this.nzName=null,this.dir="ltr"}ngOnInit(){this.nzRadioService.selected$.pipe(U(this.destroy$)).subscribe(e=>{this.value!==e&&(this.value=e,this.onChange(this.value))}),this.nzRadioService.touched$.pipe(U(this.destroy$)).subscribe(()=>{Promise.resolve().then(()=>this.onTouched())}),this.directionality.change?.pipe(U(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){let{nzDisabled:t,nzName:n}=e;t&&this.nzRadioService.setDisabled(this.nzDisabled),n&&this.nzRadioService.setName(this.nzName)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}writeValue(e){this.value=e,this.nzRadioService.select(e),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.nzRadioService.setDisabled(this.nzDisabled),this.cdr.markForCheck()}};kn.\u0275fac=function(t){return new(t||kn)(I(qe),I(vs),I(Ft,8))},kn.\u0275cmp=L({type:kn,selectors:[["nz-radio-group"]],hostAttrs:[1,"ant-radio-group"],hostVars:8,hostBindings:function(t,n){t&2&&W("ant-radio-group-large",n.nzSize==="large")("ant-radio-group-small",n.nzSize==="small")("ant-radio-group-solid",n.nzButtonStyle==="solid")("ant-radio-group-rtl",n.dir==="rtl")},inputs:{nzDisabled:"nzDisabled",nzButtonStyle:"nzButtonStyle",nzSize:"nzSize",nzName:"nzName"},exportAs:["nzRadioGroup"],features:[lt([vs,{provide:ii,useExisting:Wi(()=>kn),multi:!0}]),Ae],ngContentSelectors:pu,decls:1,vars:0,template:function(t,n){t&1&&(at(),st(0))},encapsulation:2,changeDetection:0});var to=kn;V([ee()],to.prototype,"nzDisabled",void 0);var Dn=class Dn{focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(e,t,n,r,o,a,s,c){this.ngZone=e,this.elementRef=t,this.cdr=n,this.focusMonitor=r,this.directionality=o,this.nzRadioService=a,this.nzRadioButtonDirective=s,this.nzFormStatusService=c,this.isNgModel=!1,this.destroy$=new Ce,this.isNzDisableFirstChange=!0,this.isChecked=!1,this.name=null,this.isRadioButton=!!this.nzRadioButtonDirective,this.onChange=()=>{},this.onTouched=()=>{},this.nzValue=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.dir="ltr"}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}writeValue(e){this.isChecked=e,this.cdr.markForCheck()}registerOnChange(e){this.isNgModel=!0,this.onChange=e}registerOnTouched(e){this.onTouched=e}ngOnInit(){this.nzRadioService&&(this.nzRadioService.name$.pipe(U(this.destroy$)).subscribe(e=>{this.name=e,this.cdr.markForCheck()}),this.nzRadioService.disabled$.pipe(U(this.destroy$)).subscribe(e=>{this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}),this.nzRadioService.selected$.pipe(U(this.destroy$)).subscribe(e=>{let t=this.isChecked;this.isChecked=this.nzValue===e,this.isNgModel&&t!==this.isChecked&&this.isChecked===!1&&this.onChange(!1),this.cdr.markForCheck()})),this.focusMonitor.monitor(this.elementRef,!0).pipe(U(this.destroy$)).subscribe(e=>{e||(Promise.resolve().then(()=>this.onTouched()),this.nzRadioService&&this.nzRadioService.touch())}),this.directionality.change.pipe(U(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.setupClickListener()}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.focusMonitor.stopMonitoring(this.elementRef)}setupClickListener(){this.ngZone.runOutsideAngular(()=>{gi(this.elementRef.nativeElement,"click").pipe(U(this.destroy$)).subscribe(e=>{e.stopPropagation(),e.preventDefault(),!(this.nzDisabled||this.isChecked)&&this.ngZone.run(()=>{this.focus(),this.nzRadioService?.select(this.nzValue),this.isNgModel&&(this.isChecked=!0,this.onChange(!0)),this.cdr.markForCheck()})})})}};Dn.\u0275fac=function(t){return new(t||Dn)(I(ot),I(St),I(qe),I(Gr),I(Ft,8),I(vs,8),I(ys,8),I(rt,8))},Dn.\u0275cmp=L({type:Dn,selectors:[["","nz-radio",""],["","nz-radio-button",""]],viewQuery:function(t,n){if(t&1&&Xe(sm,7),t&2){let r;Me(r=Fe())&&(n.inputElement=r.first)}},hostVars:18,hostBindings:function(t,n){t&2&&W("ant-radio-wrapper-in-form-item",!!n.nzFormStatusService)("ant-radio-wrapper",!n.isRadioButton)("ant-radio-button-wrapper",n.isRadioButton)("ant-radio-wrapper-checked",n.isChecked&&!n.isRadioButton)("ant-radio-button-wrapper-checked",n.isChecked&&n.isRadioButton)("ant-radio-wrapper-disabled",n.nzDisabled&&!n.isRadioButton)("ant-radio-button-wrapper-disabled",n.nzDisabled&&n.isRadioButton)("ant-radio-wrapper-rtl",!n.isRadioButton&&n.dir==="rtl")("ant-radio-button-wrapper-rtl",n.isRadioButton&&n.dir==="rtl")},inputs:{nzValue:"nzValue",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus"},exportAs:["nzRadio"],features:[lt([{provide:ii,useExisting:Wi(()=>Dn),multi:!0}])],attrs:lm,ngContentSelectors:pu,decls:6,vars:24,consts:[["type","radio",3,"disabled","checked"],["inputElement",""]],template:function(t,n){t&1&&(at(),m(0,"span"),O(1,"input",0,1)(3,"span"),g(),m(4,"span"),st(5),g()),t&2&&(W("ant-radio",!n.isRadioButton)("ant-radio-checked",n.isChecked&&!n.isRadioButton)("ant-radio-disabled",n.nzDisabled&&!n.isRadioButton)("ant-radio-button",n.isRadioButton)("ant-radio-button-checked",n.isChecked&&n.isRadioButton)("ant-radio-button-disabled",n.nzDisabled&&n.isRadioButton),l(1),W("ant-radio-input",!n.isRadioButton)("ant-radio-button-input",n.isRadioButton),u("disabled",n.nzDisabled)("checked",n.isChecked),xe("autofocus",n.nzAutoFocus?"autofocus":null)("name",n.name),l(2),W("ant-radio-inner",!n.isRadioButton)("ant-radio-button-inner",n.isRadioButton))},encapsulation:2,changeDetection:0});var ur=Dn;V([ee()],ur.prototype,"nzDisabled",void 0);V([ee()],ur.prototype,"nzAutoFocus",void 0);var hu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=xt({type:e}),e.\u0275inj=zt({imports:[Yt,wt,ni]});let i=e;return i})();var pm=["hourListElement"],hm=["minuteListElement"],fm=["secondListElement"],mm=["use12HoursListElement"];function _m(i,e){if(i&1&&(m(0,"div",4)(1,"div",5),R(2),g()()),i&2){let t=d();l(2),ke(t.dateHelper.format(t.time==null?null:t.time.value,t.format)||"\xA0")}}function gm(i,e){if(i&1){let t=q();m(0,"li",10),P("click",function(){T(t);let r=d().$implicit,o=d(2);return k(o.selectHour(r))}),m(1,"div",11),R(2),Yi(3,"number"),g()()}if(i&2){let t=d().$implicit,n=d(2);W("ant-picker-time-panel-cell-selected",n.isSelectedHour(t))("ant-picker-time-panel-cell-disabled",t.disabled),l(2),ke(Ho(3,5,t.index,"2.0-0"))}}function vm(i,e){if(i&1&&(H(0),b(1,gm,4,8,"li",9),j()),i&2){let t=e.$implicit,n=d(2);l(1),u("ngIf",!(n.nzHideDisabledOptions&&t.disabled))}}function ym(i,e){if(i&1&&(m(0,"ul",6,7),b(2,vm,2,1,"ng-container",8),g()),i&2){let t=d();l(2),u("ngForOf",t.hourRange)("ngForTrackBy",t.trackByFn)}}function Cm(i,e){if(i&1){let t=q();m(0,"li",10),P("click",function(){T(t);let r=d().$implicit,o=d(2);return k(o.selectMinute(r))}),m(1,"div",11),R(2),Yi(3,"number"),g()()}if(i&2){let t=d().$implicit,n=d(2);W("ant-picker-time-panel-cell-selected",n.isSelectedMinute(t))("ant-picker-time-panel-cell-disabled",t.disabled),l(2),ke(Ho(3,5,t.index,"2.0-0"))}}function bm(i,e){if(i&1&&(H(0),b(1,Cm,4,8,"li",9),j()),i&2){let t=e.$implicit,n=d(2);l(1),u("ngIf",!(n.nzHideDisabledOptions&&t.disabled))}}function zm(i,e){if(i&1&&(m(0,"ul",6,12),b(2,bm,2,1,"ng-container",8),g()),i&2){let t=d();l(2),u("ngForOf",t.minuteRange)("ngForTrackBy",t.trackByFn)}}function xm(i,e){if(i&1){let t=q();m(0,"li",10),P("click",function(){T(t);let r=d().$implicit,o=d(2);return k(o.selectSecond(r))}),m(1,"div",11),R(2),Yi(3,"number"),g()()}if(i&2){let t=d().$implicit,n=d(2);W("ant-picker-time-panel-cell-selected",n.isSelectedSecond(t))("ant-picker-time-panel-cell-disabled",t.disabled),l(2),ke(Ho(3,5,t.index,"2.0-0"))}}function Sm(i,e){if(i&1&&(H(0),b(1,xm,4,8,"li",9),j()),i&2){let t=e.$implicit,n=d(2);l(1),u("ngIf",!(n.nzHideDisabledOptions&&t.disabled))}}function wm(i,e){if(i&1&&(m(0,"ul",6,13),b(2,Sm,2,1,"ng-container",8),g()),i&2){let t=d();l(2),u("ngForOf",t.secondRange)("ngForTrackBy",t.trackByFn)}}function Tm(i,e){if(i&1){let t=q();H(0),m(1,"li",10),P("click",function(){let o=T(t).$implicit,a=d(2);return k(a.select12Hours(o))}),m(2,"div",11),R(3),g()(),j()}if(i&2){let t=e.$implicit,n=d(2);l(1),W("ant-picker-time-panel-cell-selected",n.isSelected12Hours(t)),l(2),ke(t.value)}}function km(i,e){if(i&1&&(m(0,"ul",6,14),b(2,Tm,4,3,"ng-container",15),g()),i&2){let t=d();l(2),u("ngForOf",t.use12HoursRange)}}function Dm(i,e){}function Em(i,e){if(i&1&&(m(0,"div",23),b(1,Dm,0,0,"ng-template",24),g()),i&2){let t=d(2);l(1),u("ngTemplateOutlet",t.nzAddOn)}}function Im(i,e){if(i&1){let t=q();m(0,"div",16),b(1,Em,2,1,"div",17),m(2,"ul",18)(3,"li",19)(4,"a",20),P("click",function(){T(t);let r=d();return k(r.onClickNow())}),R(5),Yi(6,"nzI18n"),g()(),m(7,"li",21)(8,"button",22),P("click",function(){T(t);let r=d();return k(r.onClickOk())}),R(9),Yi(10,"nzI18n"),g()()()()}if(i&2){let t=d();l(1),u("ngIf",t.nzAddOn),l(4),Z(" ",t.nzNowText||Yr(6,3,"Calendar.lang.now")," "),l(4),Z(" ",t.nzOkText||Yr(10,5,"Calendar.lang.ok")," ")}}var Pm=["inputElement"];function $m(i,e){if(i&1&&(H(0),O(1,"span",8),j()),i&2){let t=e.$implicit;l(1),u("nzType",t)}}function Nm(i,e){if(i&1&&O(0,"nz-form-item-feedback-icon",9),i&2){let t=d();u("status",t.status)}}function Om(i,e){if(i&1){let t=q();m(0,"span",10),P("click",function(r){T(t);let o=d();return k(o.onClickClearBtn(r))}),O(1,"span",11),g()}if(i&2){let t=d();l(1),xe("aria-label",t.nzClearText)("title",t.nzClearText)}}function Mm(i,e){if(i&1){let t=q();m(0,"div",12)(1,"div",13)(2,"div",14)(3,"nz-time-picker-panel",15),P("ngModelChange",function(r){T(t);let o=d();return k(o.value=r)})("ngModelChange",function(r){T(t);let o=d();return k(o.onPanelValueChange(r))})("closePanel",function(){T(t);let r=d();return k(r.closePanel())}),Yi(4,"async"),g()()()()}if(i&2){let t=d();u("@slideMotion","enter"),l(3),u("ngClass",t.nzPopupClassName)("format",t.nzFormat)("nzHourStep",t.nzHourStep)("nzMinuteStep",t.nzMinuteStep)("nzSecondStep",t.nzSecondStep)("nzDisabledHours",t.nzDisabledHours)("nzDisabledMinutes",t.nzDisabledMinutes)("nzDisabledSeconds",t.nzDisabledSeconds)("nzPlaceHolder",t.nzPlaceHolder||Yr(4,19,t.i18nPlaceHolder$))("nzHideDisabledOptions",t.nzHideDisabledOptions)("nzUse12Hours",t.nzUse12Hours)("nzDefaultOpenValue",t.nzDefaultOpenValue)("nzAddOn",t.nzAddOn)("nzClearText",t.nzClearText)("nzNowText",t.nzNowText)("nzOkText",t.nzOkText)("nzAllowEmpty",t.nzAllowEmpty)("ngModel",t.value)}}var bs=class{setMinutes(e,t){return t||(this.initValue(),this.value.setMinutes(e),this.update()),this}setHours(e,t){return t||(this.initValue(),this._use12Hours?this.selected12Hours==="PM"&&e!==12?this.value.setHours(e+12):this.selected12Hours==="AM"&&e===12?this.value.setHours(0):this.value.setHours(e):this.value.setHours(e),this.update()),this}setSeconds(e,t){return t||(this.initValue(),this.value.setSeconds(e),this.update()),this}setUse12Hours(e){return this._use12Hours=e,this}get changes(){return this._changes.asObservable()}setValue(e,t){return it(t)&&(this._use12Hours=t),e!==this.value&&(this._value=e,it(this.value)?this._use12Hours&&it(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}initValue(){ds(this.value)&&this.setValue(new Date,this._use12Hours)}clear(){this._clear(),this.update()}get isEmpty(){return!(it(this.hours)||it(this.minutes)||it(this.seconds))}_clear(){this._value=void 0,this.selected12Hours=void 0}update(){this.isEmpty?this._value=void 0:(it(this.hours)&&this.value.setHours(this.hours),it(this.minutes)&&this.value.setMinutes(this.minutes),it(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&(this.selected12Hours==="PM"&&this.hours<12&&this.value.setHours(this.hours+12),this.selected12Hours==="AM"&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}changed(){this._changes.next(this.value)}get viewHours(){return this._use12Hours&&it(this.hours)?this.calculateViewHour(this.hours):this.hours}setSelected12Hours(e){e.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=e.toUpperCase(),this.update())}get value(){return this._value||this._defaultOpenValue}get hours(){return this.value?.getHours()}get minutes(){return this.value?.getMinutes()}get seconds(){return this.value?.getSeconds()}setDefaultOpenValue(e){return this._defaultOpenValue=e,this}constructor(){this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new Ce}calculateViewHour(e){let t=this.selected12Hours;return t==="PM"&&e>12?e-12:t==="AM"&&e===0?12:e}};function Cs(i,e=1,t=0){return new Array(Math.ceil(i/e)).fill(0).map((n,r)=>(r+t)*e)}var En=class En{set nzAllowEmpty(e){it(e)&&(this._allowEmpty=e)}get nzAllowEmpty(){return this._allowEmpty}set nzDisabledHours(e){this._disabledHours=e,this._disabledHours&&this.buildHours()}get nzDisabledHours(){return this._disabledHours}set nzDisabledMinutes(e){it(e)&&(this._disabledMinutes=e,this.buildMinutes())}get nzDisabledMinutes(){return this._disabledMinutes}set nzDisabledSeconds(e){it(e)&&(this._disabledSeconds=e,this.buildSeconds())}get nzDisabledSeconds(){return this._disabledSeconds}set format(e){if(it(e)){this._format=e,this.enabledColumns=0;let t=new Set(e);this.hourEnabled=t.has("H")||t.has("h"),this.minuteEnabled=t.has("m"),this.secondEnabled=t.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}}get format(){return this._format}set nzHourStep(e){it(e)&&(this._nzHourStep=e,this.buildHours())}get nzHourStep(){return this._nzHourStep}set nzMinuteStep(e){it(e)&&(this._nzMinuteStep=e,this.buildMinutes())}get nzMinuteStep(){return this._nzMinuteStep}set nzSecondStep(e){it(e)&&(this._nzSecondStep=e,this.buildSeconds())}get nzSecondStep(){return this._nzSecondStep}trackByFn(e){return e}buildHours(){let e=24,t=this.nzDisabledHours?.(),n=0;if(this.nzUse12Hours&&(e=12,t&&(this.time.selected12Hours==="PM"?t=t.filter(r=>r>=12).map(r=>r>12?r-12:r):t=t.filter(r=>r<12||r===24).map(r=>r===24||r===0?12:r)),n=1),this.hourRange=Cs(e,this.nzHourStep,n).map(r=>({index:r,disabled:!!t&&t.indexOf(r)!==-1})),this.nzUse12Hours&&this.hourRange[this.hourRange.length-1].index===12){let r=[...this.hourRange];r.unshift(r[r.length-1]),r.splice(r.length-1,1),this.hourRange=r}}buildMinutes(){this.minuteRange=Cs(60,this.nzMinuteStep).map(e=>({index:e,disabled:!!this.nzDisabledMinutes&&this.nzDisabledMinutes(this.time.hours).indexOf(e)!==-1}))}buildSeconds(){this.secondRange=Cs(60,this.nzSecondStep).map(e=>({index:e,disabled:!!this.nzDisabledSeconds&&this.nzDisabledSeconds(this.time.hours,this.time.minutes).indexOf(e)!==-1}))}build12Hours(){let e=this._format.includes("A");this.use12HoursRange=[{index:0,value:e?"AM":"am"},{index:1,value:e?"PM":"pm"}]}buildTimes(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}scrollToTime(e=0){if(this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,e,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,e,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,e,"second"),this.nzUse12Hours&&this.use12HoursListElement){let n=this.time.selected12Hours==="AM"?0:1;this.scrollToSelected(this.use12HoursListElement.nativeElement,n,e,"12-hour")}}selectHour(e){this.time.setHours(e.index,e.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}selectMinute(e){this.time.setMinutes(e.index,e.disabled),this._disabledSeconds&&this.buildSeconds()}selectSecond(e){this.time.setSeconds(e.index,e.disabled)}select12Hours(e){this.time.setSelected12Hours(e.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}scrollToSelected(e,t,n=0,r){if(!e)return;let o=this.translateIndex(t,r),a=e.children[o]||e.children[0];this.scrollTo(e,a.offsetTop,n)}translateIndex(e,t){return t==="hour"?this.calcIndex(this.nzDisabledHours?.(),this.hourRange.map(n=>n.index).indexOf(e)):t==="minute"?this.calcIndex(this.nzDisabledMinutes?.(this.time.hours),this.minuteRange.map(n=>n.index).indexOf(e)):t==="second"?this.calcIndex(this.nzDisabledSeconds?.(this.time.hours,this.time.minutes),this.secondRange.map(n=>n.index).indexOf(e)):this.calcIndex([],this.use12HoursRange.map(n=>n.index).indexOf(e))}scrollTo(e,t,n){if(n<=0){e.scrollTop=t;return}let o=(t-e.scrollTop)/n*10;this.ngZone.runOutsideAngular(()=>{Id(()=>{e.scrollTop=e.scrollTop+o,e.scrollTop!==t&&this.scrollTo(e,t,n-10)})})}calcIndex(e,t){return e?.length&&this.nzHideDisabledOptions?t-e.reduce((n,r)=>n+(r<t?1:0),0):t}changed(){this.onChange&&this.onChange(this.time.value)}touched(){this.onTouch&&this.onTouch()}timeDisabled(e){let t=e.getHours(),n=e.getMinutes(),r=e.getSeconds();return(this.nzDisabledHours?.().indexOf(t)??-1)>-1||(this.nzDisabledMinutes?.(t).indexOf(n)??-1)>-1||(this.nzDisabledSeconds?.(t,n).indexOf(r)??-1)>-1}onClickNow(){let e=new Date;this.timeDisabled(e)||(this.time.setValue(e),this.changed(),this.closePanel.emit())}onClickOk(){this.time.setValue(this.time.value,this.nzUse12Hours),this.changed(),this.closePanel.emit()}isSelectedHour(e){return e.index===this.time.viewHours}isSelectedMinute(e){return e.index===this.time.minutes}isSelectedSecond(e){return e.index===this.time.seconds}isSelected12Hours(e){return e.value.toUpperCase()===this.time.selected12Hours}constructor(e,t,n,r){this.ngZone=e,this.cdr=t,this.dateHelper=n,this.elementRef=r,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new Ce,this._format="HH:mm:ss",this._disabledHours=()=>[],this._disabledMinutes=()=>[],this._disabledSeconds=()=>[],this._allowEmpty=!0,this.time=new bs,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new ge}ngOnInit(){this.time.changes.pipe(U(this.unsubscribe$)).subscribe(()=>{this.changed(),this.touched(),this.scrollToTime(120)}),this.buildTimes(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollToTime(),this.firstScrolled=!0}),gi(this.elementRef.nativeElement,"mousedown").pipe(U(this.unsubscribe$)).subscribe(e=>{e.preventDefault()})})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(e){let{nzUse12Hours:t,nzDefaultOpenValue:n}=e;!t?.previousValue&&t?.currentValue&&(this.build12Hours(),this.enabledColumns++),n?.currentValue&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}writeValue(e){this.time.setValue(e,this.nzUse12Hours),this.buildTimes(),e&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}};En.\u0275fac=function(t){return new(t||En)(I(ot),I(qe),I(ti),I(St))},En.\u0275cmp=L({type:En,selectors:[["nz-time-picker-panel"]],viewQuery:function(t,n){if(t&1&&(Xe(pm,5),Xe(hm,5),Xe(fm,5),Xe(mm,5)),t&2){let r;Me(r=Fe())&&(n.hourListElement=r.first),Me(r=Fe())&&(n.minuteListElement=r.first),Me(r=Fe())&&(n.secondListElement=r.first),Me(r=Fe())&&(n.use12HoursListElement=r.first)}},hostAttrs:[1,"ant-picker-time-panel"],hostVars:12,hostBindings:function(t,n){t&2&&W("ant-picker-time-panel-column-0",n.enabledColumns===0&&!n.nzInDatePicker)("ant-picker-time-panel-column-1",n.enabledColumns===1&&!n.nzInDatePicker)("ant-picker-time-panel-column-2",n.enabledColumns===2&&!n.nzInDatePicker)("ant-picker-time-panel-column-3",n.enabledColumns===3&&!n.nzInDatePicker)("ant-picker-time-panel-narrow",n.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!n.nzInDatePicker)},inputs:{nzInDatePicker:"nzInDatePicker",nzAddOn:"nzAddOn",nzHideDisabledOptions:"nzHideDisabledOptions",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPlaceHolder:"nzPlaceHolder",nzUse12Hours:"nzUse12Hours",nzDefaultOpenValue:"nzDefaultOpenValue",nzAllowEmpty:"nzAllowEmpty",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep"},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],features:[lt([{provide:ii,useExisting:En,multi:!0}]),Ae],decls:7,vars:6,consts:[["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["class","ant-picker-time-panel-column","style","position: relative;",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-column",2,"position","relative"],["hourListElement",""],[4,"ngFor","ngForOf","ngForTrackBy"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled","click",4,"ngIf"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],[4,"ngFor","ngForOf"],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(t,n){t&1&&(b(0,_m,3,1,"div",0),m(1,"div",1),b(2,ym,3,2,"ul",2)(3,zm,3,2,"ul",2)(4,wm,3,2,"ul",2)(5,km,3,1,"ul",2),g(),b(6,Im,11,7,"div",3)),t&2&&(u("ngIf",n.nzInDatePicker),l(2),u("ngIf",n.hourEnabled),l(1),u("ngIf",n.minuteEnabled),l(1),u("ngIf",n.secondEnabled),l(1),u("ngIf",n.nzUse12Hours),l(1),u("ngIf",!n.nzInDatePicker))},dependencies:[dt,ut,Pe,Zi,Ze,Xi,xd,Od],encapsulation:2,changeDetection:0});var pr=En;V([ee()],pr.prototype,"nzUse12Hours",void 0);var Fm="timePicker",In=class In{emitValue(e){this.setValue(e,!0),this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}setValue(e,t=!1){t&&(this.preValue=Qr(e)?new Date(e):null),this.value=Qr(e)?new Date(e):null,this.inputValue=this.dateHelper.format(e,this.nzFormat),this.cdr.markForCheck()}open(){this.nzDisabled||this.nzOpen||(this.focus(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}close(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}updateAutoFocus(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}onClickClearBtn(e){e.stopPropagation(),this.emitValue(null)}onClickOutside(e){this.element.nativeElement.contains(e.target)||this.setCurrentValueAndClose()}onFocus(e){this.focused=e,e||(this.checkTimeValid(this.value)?this.setCurrentValueAndClose():(this.setValue(this.preValue),this.close()))}focus(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}blur(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}onKeyupEsc(){this.setValue(this.preValue)}onKeyupEnter(){this.nzOpen&&Qr(this.value)?this.setCurrentValueAndClose():this.nzOpen||this.open()}onInputChange(e){!this.platform.TRIDENT&&document.activeElement===this.inputRef.nativeElement&&(this.open(),this.parseTimeString(e))}onPanelValueChange(e){this.setValue(e),this.focus()}closePanel(){this.inputRef.nativeElement.blur()}setCurrentValueAndClose(){this.emitValue(this.value),this.close()}constructor(e,t,n,r,o,a,s,c,h,f){this.nzConfigService=e,this.i18n=t,this.element=n,this.renderer=r,this.cdr=o,this.dateHelper=a,this.platform=s,this.directionality=c,this.nzFormStatusService=h,this.nzFormNoStatusService=f,this._nzModuleName=Fm,this.destroy$=new Ce,this.isNzDisableFirstChange=!0,this.isInit=!1,this.focused=!1,this.inputValue="",this.value=null,this.preValue=null,this.i18nPlaceHolder$=yn(void 0),this.overlayPositions=[{offsetY:3,originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{offsetY:-3,originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{offsetY:3,originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{offsetY:-3,originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],this.dir="ltr",this.prefixCls="ant-picker",this.statusCls={},this.status="",this.hasFeedback=!1,this.nzId=null,this.nzSize=null,this.nzStatus="",this.nzHourStep=1,this.nzMinuteStep=1,this.nzSecondStep=1,this.nzClearText="clear",this.nzNowText="",this.nzOkText="",this.nzPopupClassName="",this.nzPlaceHolder="",this.nzFormat="HH:mm:ss",this.nzOpen=!1,this.nzUse12Hours=!1,this.nzSuffixIcon="clock-circle",this.nzOpenChange=new ge,this.nzHideDisabledOptions=!1,this.nzAllowEmpty=!0,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzBackdrop=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(qi((e,t)=>e.status===t.status&&e.hasFeedback===t.hasFeedback),Ro(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:yn(!1)),Lt(([{status:e,hasFeedback:t},n])=>({status:n?"":e,hasFeedback:t})),U(this.destroy$)).subscribe(({status:e,hasFeedback:t})=>{this.setStatusStyles(e,t)}),this.inputSize=Math.max(8,this.nzFormat.length)+2,this.origin=new Wo(this.element),this.i18nPlaceHolder$=this.i18n.localeChange.pipe(Lt(e=>e.TimePicker.placeholder)),this.dir=this.directionality.value,this.directionality.change?.pipe(U(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){let{nzUse12Hours:t,nzFormat:n,nzDisabled:r,nzAutoFocus:o,nzStatus:a}=e;if(t&&!t.previousValue&&t.currentValue&&!n&&(this.nzFormat="h:mm:ss a"),r){let s=r.currentValue,c=this.inputRef.nativeElement;s?this.renderer.setAttribute(c,"disabled",""):this.renderer.removeAttribute(c,"disabled")}o&&this.updateAutoFocus(),a&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}parseTimeString(e){let t=this.dateHelper.parseTime(e,this.nzFormat)||null;Qr(t)&&(this.value=t,this.cdr.markForCheck())}ngAfterViewInit(){this.isInit=!0,this.updateAutoFocus()}writeValue(e){let t;e instanceof Date?t=e:ds(e)?t=null:(Ed('Non-Date type is not recommended for time-picker, use "Date" type.'),t=new Date(e)),this.setValue(t,!0)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}checkTimeValid(e){if(!e)return!0;let t=this.nzDisabledHours?.(),n=this.nzDisabledMinutes?.(e.getHours()),r=this.nzDisabledSeconds?.(e.getHours(),e.getMinutes());return!(t?.includes(e.getHours())||n?.includes(e.getMinutes())||r?.includes(e.getSeconds()))}setStatusStyles(e,t){this.status=e,this.hasFeedback=t,this.cdr.markForCheck(),this.statusCls=qo(this.prefixCls,e,t),Object.keys(this.statusCls).forEach(n=>{this.statusCls[n]?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)})}};In.\u0275fac=function(t){return new(t||In)(I(Gi),I(Sn),I(St),I(rr),I(qe),I(ti),I(sr),I(Ft,8),I(rt,8),I(Zo,8))},In.\u0275cmp=L({type:In,selectors:[["nz-time-picker"]],viewQuery:function(t,n){if(t&1&&Xe(Pm,7),t&2){let r;Me(r=Fe())&&(n.inputRef=r.first)}},hostAttrs:[1,"ant-picker"],hostVars:12,hostBindings:function(t,n){t&1&&P("click",function(){return n.open()}),t&2&&W("ant-picker-large",n.nzSize==="large")("ant-picker-small",n.nzSize==="small")("ant-picker-disabled",n.nzDisabled)("ant-picker-focused",n.focused)("ant-picker-rtl",n.dir==="rtl")("ant-picker-borderless",n.nzBorderless)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:"nzUse12Hours",nzSuffixIcon:"nzSuffixIcon",nzHideDisabledOptions:"nzHideDisabledOptions",nzAllowEmpty:"nzAllowEmpty",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzBackdrop:"nzBackdrop",nzBorderless:"nzBorderless",nzInputReadOnly:"nzInputReadOnly"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],features:[lt([{provide:ii,useExisting:In,multi:!0}]),Ae],decls:9,vars:16,consts:[[1,"ant-picker-input"],["type","text","autocomplete","off",3,"size","placeholder","ngModel","disabled","readOnly","ngModelChange","focus","blur","keyup.enter","keyup.escape"],["inputElement",""],[1,"ant-picker-suffix"],[4,"nzStringTemplateOutlet"],[3,"status",4,"ngIf"],["class","ant-picker-clear",3,"click",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn","detach","overlayOutsideClick"],["nz-icon","",3,"nzType"],[3,"status"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown",2,"position","relative"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzNowText","nzOkText","nzAllowEmpty","ngModel","ngModelChange","closePanel"]],template:function(t,n){t&1&&(m(0,"div",0)(1,"input",1,2),P("ngModelChange",function(o){return n.inputValue=o})("focus",function(){return n.onFocus(!0)})("blur",function(){return n.onFocus(!1)})("keyup.enter",function(){return n.onKeyupEnter()})("keyup.escape",function(){return n.onKeyupEsc()})("ngModelChange",function(o){return n.onInputChange(o)}),Yi(3,"async"),g(),m(4,"span",3),b(5,$m,2,1,"ng-container",4)(6,Nm,1,1,"nz-form-item-feedback-icon",5),g(),b(7,Om,2,2,"span",6),g(),b(8,Mm,5,21,"ng-template",7),P("detach",function(){return n.close()})("overlayOutsideClick",function(o){return n.onClickOutside(o)})),t&2&&(l(1),u("size",n.inputSize)("placeholder",n.nzPlaceHolder||Yr(3,14,n.i18nPlaceHolder$))("ngModel",n.inputValue)("disabled",n.nzDisabled)("readOnly",n.nzInputReadOnly),xe("id",n.nzId),l(4),u("nzStringTemplateOutlet",n.nzSuffixIcon),l(1),u("ngIf",n.hasFeedback&&!!n.status),l(1),u("ngIf",n.nzAllowEmpty&&!n.nzDisabled&&n.value),l(1),u("cdkConnectedOverlayHasBackdrop",n.nzBackdrop)("cdkConnectedOverlayPositions",n.overlayPositions)("cdkConnectedOverlayOrigin",n.origin)("cdkConnectedOverlayOpen",n.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-picker-dropdown"))},dependencies:[ct,ut,Ji,je,$e,lr,nt,ia,Mi,Ze,Jo,pr,zd],encapsulation:2,data:{animation:[Xo]},changeDetection:0});var tt=In;V([De()],tt.prototype,"nzHourStep",void 0);V([De()],tt.prototype,"nzMinuteStep",void 0);V([De()],tt.prototype,"nzSecondStep",void 0);V([De()],tt.prototype,"nzClearText",void 0);V([De()],tt.prototype,"nzNowText",void 0);V([De()],tt.prototype,"nzOkText",void 0);V([De()],tt.prototype,"nzPopupClassName",void 0);V([De()],tt.prototype,"nzFormat",void 0);V([De(),ee()],tt.prototype,"nzUse12Hours",void 0);V([De()],tt.prototype,"nzSuffixIcon",void 0);V([ee()],tt.prototype,"nzHideDisabledOptions",void 0);V([De(),ee()],tt.prototype,"nzAllowEmpty",void 0);V([ee()],tt.prototype,"nzDisabled",void 0);V([ee()],tt.prototype,"nzAutoFocus",void 0);V([De()],tt.prototype,"nzBackdrop",void 0);V([ee()],tt.prototype,"nzBorderless",void 0);V([ee()],tt.prototype,"nzInputReadOnly",void 0);var Ts=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=xt({type:e}),e.\u0275inj=zt({imports:[Yt,wt,ni,Ko,Uo,Qi,na,Fi,dr,ea]});let i=e;return i})();function Rm(i,e){i&1&&Se(0)}function Am(i,e){if(i&1&&(H(0),b(1,Rm,1,0,"ng-container",4),j()),i&2){let t=d(2);l(1),u("ngTemplateOutlet",t.extraFooter)}}function Hm(i,e){if(i&1&&(H(0),O(1,"span",5),j()),i&2){let t=d(2);l(1),u("innerHTML",t.extraFooter,_t)}}function jm(i,e){if(i&1&&(m(0,"div"),H(1,2),b(2,Am,2,1,"ng-container",3)(3,Hm,2,1,"ng-container",3),j(),g()),i&2){let t=d();A("",t.prefixCls,"-footer-extra"),l(1),u("ngSwitch",!0),l(1),u("ngSwitchCase",t.isTemplateRef(t.extraFooter)),l(1),u("ngSwitchCase",t.isNonEmptyString(t.extraFooter))}}function Lm(i,e){if(i&1){let t=q();m(0,"a",6),P("click",function(){T(t);let r=d();return k(r.isTodayDisabled?null:r.onClickToday())}),R(1),g()}if(i&2){let t=d();or("",t.prefixCls,"-today-btn ",t.isTodayDisabled?t.prefixCls+"-today-btn-disabled":"",""),me("title",t.todayTitle),l(1),Z(" ",t.locale.today," ")}}function Bm(i,e){i&1&&Se(0)}function qm(i,e){if(i&1){let t=q();m(0,"li")(1,"a",7),P("click",function(){T(t);let r=d(2);return k(r.isTodayDisabled?null:r.onClickToday())}),R(2),g()()}if(i&2){let t=d(2);A("",t.prefixCls,"-now"),l(1),A("",t.prefixCls,"-now-btn"),l(1),Z(" ",t.locale.now," ")}}function Wm(i,e){if(i&1){let t=q();m(0,"li")(1,"button",8),P("click",function(){T(t);let r=d(2);return k(r.okDisabled?null:r.clickOk.emit())}),R(2),g()()}if(i&2){let t=d(2);A("",t.prefixCls,"-ok"),l(1),u("disabled",t.okDisabled),l(1),Z(" ",t.locale.ok," ")}}function Um(i,e){if(i&1&&(m(0,"ul"),b(1,Bm,1,0,"ng-container",4)(2,qm,3,7,"li",0)(3,Wm,3,5,"li",0),g()),i&2){let t=d();A("",t.prefixCls,"-ranges"),l(1),u("ngTemplateOutlet",t.rangeQuickSelector),l(1),u("ngIf",t.showNow),l(1),u("ngIf",t.hasTimePicker)}}function Ym(i,e){if(i&1){let t=q();H(0),m(1,"button",6),P("click",function(){let o=T(t).$implicit;return k(o.onClick())}),R(2),g(),j()}if(i&2){let t=e.$implicit;l(1),ei(t.className),me("title",t.title||null),l(1),Z(" ",t.label," ")}}function Km(i,e){i&1&&O(0,"th",6)}function Gm(i,e){if(i&1&&(m(0,"th",7),R(1),g()),i&2){let t=e.$implicit;me("title",t.title),l(1),Z(" ",t.content," ")}}function Qm(i,e){if(i&1&&(m(0,"thead")(1,"tr",3),b(2,Km,1,0,"th",4)(3,Gm,2,2,"th",5),g()()),i&2){let t=d();l(2),u("ngIf",t.showWeek),l(1),u("ngForOf",t.headRow)}}function Xm(i,e){if(i&1&&(m(0,"td",11),R(1),g()),i&2){let t=d().$implicit,n=d();A("",n.prefixCls,"-cell-week"),l(1),Z(" ",t.weekNum," ")}}function Zm(i,e){i&1&&Se(0)}var Kt=i=>({$implicit:i});function Jm(i,e){if(i&1&&(H(0),b(1,Zm,1,0,"ng-container",16),j()),i&2){let t=d(2).$implicit;l(1),u("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",et(2,Kt,t.value))}}function e0(i,e){if(i&1&&(H(0),O(1,"span",17),j()),i&2){let t=d(2).$implicit;l(1),u("innerHTML",t.cellRender,_t)}}function t0(i,e){if(i&1&&(H(0),m(1,"div"),R(2),g(),j()),i&2){let t=d(2).$implicit,n=d(2);l(1),A("",n.prefixCls,"-cell-inner"),xe("aria-selected",t.isSelected)("aria-disabled",t.isDisabled),l(1),Z(" ",t.content," ")}}function i0(i,e){if(i&1&&(H(0)(1,13),b(2,Jm,2,4,"ng-container",14)(3,e0,2,1,"ng-container",14)(4,t0,3,6,"ng-container",15),j()()),i&2){let t=d().$implicit,n=d(2);l(1),u("ngSwitch",!0),l(1),u("ngSwitchCase",n.isTemplateRef(t.cellRender)),l(1),u("ngSwitchCase",n.isNonEmptyString(t.cellRender))}}function n0(i,e){i&1&&Se(0)}function r0(i,e){if(i&1&&(H(0),b(1,n0,1,0,"ng-container",16),j()),i&2){let t=d(2).$implicit;l(1),u("ngTemplateOutlet",t.fullCellRender)("ngTemplateOutletContext",et(2,Kt,t.value))}}function o0(i,e){i&1&&Se(0)}function a0(i,e){if(i&1&&(m(0,"div"),R(1),g(),m(2,"div"),b(3,o0,1,0,"ng-container",16),g()),i&2){let t=d(2).$implicit,n=d(2);A("",n.prefixCls,"-date-value"),l(1),ke(t.content),l(1),A("",n.prefixCls,"-date-content"),l(1),u("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",et(9,Kt,t.value))}}function s0(i,e){if(i&1&&(H(0),m(1,"div"),b(2,r0,2,4,"ng-container",18)(3,a0,4,11,"ng-template",null,19,ye),g(),j()),i&2){let t=ae(4),n=d().$implicit,r=d(2);l(1),A("",r.prefixCls,"-date ant-picker-cell-inner"),W("ant-picker-calendar-date-today",n.isToday),l(1),u("ngIf",n.fullCellRender)("ngIfElse",t)}}function l0(i,e){if(i&1){let t=q();m(0,"td",12),P("click",function(){let o=T(t).$implicit;return k(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=T(t).$implicit;return k(o.onMouseEnter())}),H(1,13),b(2,i0,5,3,"ng-container",14)(3,s0,5,7,"ng-container",14),j(),g()}if(i&2){let t=e.$implicit,n=d(2);me("title",t.title),u("ngClass",t.classMap),l(1),u("ngSwitch",n.prefixCls),l(1),u("ngSwitchCase","ant-picker"),l(1),u("ngSwitchCase","ant-picker-calendar")}}function c0(i,e){if(i&1&&(m(0,"tr",8),b(1,Xm,2,4,"td",9)(2,l0,4,5,"td",10),g()),i&2){let t=e.$implicit,n=d();u("ngClass",t.classMap),l(1),u("ngIf",t.weekNum),l(1),u("ngForOf",t.dateCells)("ngForTrackBy",n.trackByBodyColumn)}}function d0(i,e){if(i&1){let t=q();H(0),m(1,"button",6),P("click",function(){let o=T(t).$implicit;return k(o.onClick())}),R(2),g(),j()}if(i&2){let t=e.$implicit;l(1),ei(t.className),me("title",t.title||null),l(1),Z(" ",t.label," ")}}function u0(i,e){i&1&&O(0,"th",6)}function p0(i,e){if(i&1&&(m(0,"th",7),R(1),g()),i&2){let t=e.$implicit;me("title",t.title),l(1),Z(" ",t.content," ")}}function h0(i,e){if(i&1&&(m(0,"thead")(1,"tr",3),b(2,u0,1,0,"th",4)(3,p0,2,2,"th",5),g()()),i&2){let t=d();l(2),u("ngIf",t.showWeek),l(1),u("ngForOf",t.headRow)}}function f0(i,e){if(i&1&&(m(0,"td",11),R(1),g()),i&2){let t=d().$implicit,n=d();A("",n.prefixCls,"-cell-week"),l(1),Z(" ",t.weekNum," ")}}function m0(i,e){i&1&&Se(0)}function _0(i,e){if(i&1&&(H(0),b(1,m0,1,0,"ng-container",16),j()),i&2){let t=d(2).$implicit;l(1),u("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",et(2,Kt,t.value))}}function g0(i,e){if(i&1&&(H(0),O(1,"span",17),j()),i&2){let t=d(2).$implicit;l(1),u("innerHTML",t.cellRender,_t)}}function v0(i,e){if(i&1&&(H(0),m(1,"div"),R(2),g(),j()),i&2){let t=d(2).$implicit,n=d(2);l(1),A("",n.prefixCls,"-cell-inner"),xe("aria-selected",t.isSelected)("aria-disabled",t.isDisabled),l(1),Z(" ",t.content," ")}}function y0(i,e){if(i&1&&(H(0)(1,13),b(2,_0,2,4,"ng-container",14)(3,g0,2,1,"ng-container",14)(4,v0,3,6,"ng-container",15),j()()),i&2){let t=d().$implicit,n=d(2);l(1),u("ngSwitch",!0),l(1),u("ngSwitchCase",n.isTemplateRef(t.cellRender)),l(1),u("ngSwitchCase",n.isNonEmptyString(t.cellRender))}}function C0(i,e){i&1&&Se(0)}function b0(i,e){if(i&1&&(H(0),b(1,C0,1,0,"ng-container",16),j()),i&2){let t=d(2).$implicit;l(1),u("ngTemplateOutlet",t.fullCellRender)("ngTemplateOutletContext",et(2,Kt,t.value))}}function z0(i,e){i&1&&Se(0)}function x0(i,e){if(i&1&&(m(0,"div"),R(1),g(),m(2,"div"),b(3,z0,1,0,"ng-container",16),g()),i&2){let t=d(2).$implicit,n=d(2);A("",n.prefixCls,"-date-value"),l(1),ke(t.content),l(1),A("",n.prefixCls,"-date-content"),l(1),u("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",et(9,Kt,t.value))}}function S0(i,e){if(i&1&&(H(0),m(1,"div"),b(2,b0,2,4,"ng-container",18)(3,x0,4,11,"ng-template",null,19,ye),g(),j()),i&2){let t=ae(4),n=d().$implicit,r=d(2);l(1),A("",r.prefixCls,"-date ant-picker-cell-inner"),W("ant-picker-calendar-date-today",n.isToday),l(1),u("ngIf",n.fullCellRender)("ngIfElse",t)}}function w0(i,e){if(i&1){let t=q();m(0,"td",12),P("click",function(){let o=T(t).$implicit;return k(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=T(t).$implicit;return k(o.onMouseEnter())}),H(1,13),b(2,y0,5,3,"ng-container",14)(3,S0,5,7,"ng-container",14),j(),g()}if(i&2){let t=e.$implicit,n=d(2);me("title",t.title),u("ngClass",t.classMap),l(1),u("ngSwitch",n.prefixCls),l(1),u("ngSwitchCase","ant-picker"),l(1),u("ngSwitchCase","ant-picker-calendar")}}function T0(i,e){if(i&1&&(m(0,"tr",8),b(1,f0,2,4,"td",9)(2,w0,4,5,"td",10),g()),i&2){let t=e.$implicit,n=d();u("ngClass",t.classMap),l(1),u("ngIf",t.weekNum),l(1),u("ngForOf",t.dateCells)("ngForTrackBy",n.trackByBodyColumn)}}function k0(i,e){if(i&1){let t=q();H(0),m(1,"button",6),P("click",function(){let o=T(t).$implicit;return k(o.onClick())}),R(2),g(),j()}if(i&2){let t=e.$implicit;l(1),ei(t.className),me("title",t.title||null),l(1),Z(" ",t.label," ")}}function D0(i,e){i&1&&O(0,"th",6)}function E0(i,e){if(i&1&&(m(0,"th",7),R(1),g()),i&2){let t=e.$implicit;me("title",t.title),l(1),Z(" ",t.content," ")}}function I0(i,e){if(i&1&&(m(0,"thead")(1,"tr",3),b(2,D0,1,0,"th",4)(3,E0,2,2,"th",5),g()()),i&2){let t=d();l(2),u("ngIf",t.showWeek),l(1),u("ngForOf",t.headRow)}}function P0(i,e){if(i&1&&(m(0,"td",11),R(1),g()),i&2){let t=d().$implicit,n=d();A("",n.prefixCls,"-cell-week"),l(1),Z(" ",t.weekNum," ")}}function $0(i,e){i&1&&Se(0)}function N0(i,e){if(i&1&&(H(0),b(1,$0,1,0,"ng-container",16),j()),i&2){let t=d(2).$implicit;l(1),u("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",et(2,Kt,t.value))}}function O0(i,e){if(i&1&&(H(0),O(1,"span",17),j()),i&2){let t=d(2).$implicit;l(1),u("innerHTML",t.cellRender,_t)}}function M0(i,e){if(i&1&&(H(0),m(1,"div"),R(2),g(),j()),i&2){let t=d(2).$implicit,n=d(2);l(1),A("",n.prefixCls,"-cell-inner"),xe("aria-selected",t.isSelected)("aria-disabled",t.isDisabled),l(1),Z(" ",t.content," ")}}function F0(i,e){if(i&1&&(H(0)(1,13),b(2,N0,2,4,"ng-container",14)(3,O0,2,1,"ng-container",14)(4,M0,3,6,"ng-container",15),j()()),i&2){let t=d().$implicit,n=d(2);l(1),u("ngSwitch",!0),l(1),u("ngSwitchCase",n.isTemplateRef(t.cellRender)),l(1),u("ngSwitchCase",n.isNonEmptyString(t.cellRender))}}function V0(i,e){i&1&&Se(0)}function R0(i,e){if(i&1&&(H(0),b(1,V0,1,0,"ng-container",16),j()),i&2){let t=d(2).$implicit;l(1),u("ngTemplateOutlet",t.fullCellRender)("ngTemplateOutletContext",et(2,Kt,t.value))}}function A0(i,e){i&1&&Se(0)}function H0(i,e){if(i&1&&(m(0,"div"),R(1),g(),m(2,"div"),b(3,A0,1,0,"ng-container",16),g()),i&2){let t=d(2).$implicit,n=d(2);A("",n.prefixCls,"-date-value"),l(1),ke(t.content),l(1),A("",n.prefixCls,"-date-content"),l(1),u("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",et(9,Kt,t.value))}}function j0(i,e){if(i&1&&(H(0),m(1,"div"),b(2,R0,2,4,"ng-container",18)(3,H0,4,11,"ng-template",null,19,ye),g(),j()),i&2){let t=ae(4),n=d().$implicit,r=d(2);l(1),A("",r.prefixCls,"-date ant-picker-cell-inner"),W("ant-picker-calendar-date-today",n.isToday),l(1),u("ngIf",n.fullCellRender)("ngIfElse",t)}}function L0(i,e){if(i&1){let t=q();m(0,"td",12),P("click",function(){let o=T(t).$implicit;return k(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=T(t).$implicit;return k(o.onMouseEnter())}),H(1,13),b(2,F0,5,3,"ng-container",14)(3,j0,5,7,"ng-container",14),j(),g()}if(i&2){let t=e.$implicit,n=d(2);me("title",t.title),u("ngClass",t.classMap),l(1),u("ngSwitch",n.prefixCls),l(1),u("ngSwitchCase","ant-picker"),l(1),u("ngSwitchCase","ant-picker-calendar")}}function B0(i,e){if(i&1&&(m(0,"tr",8),b(1,P0,2,4,"td",9)(2,L0,4,5,"td",10),g()),i&2){let t=e.$implicit,n=d();u("ngClass",t.classMap),l(1),u("ngIf",t.weekNum),l(1),u("ngForOf",t.dateCells)("ngForTrackBy",n.trackByBodyColumn)}}function q0(i,e){if(i&1){let t=q();H(0),m(1,"button",6),P("click",function(){let o=T(t).$implicit;return k(o.onClick())}),R(2),g(),j()}if(i&2){let t=e.$implicit;l(1),ei(t.className),me("title",t.title||null),l(1),Z(" ",t.label," ")}}function W0(i,e){i&1&&O(0,"th",6)}function U0(i,e){if(i&1&&(m(0,"th",7),R(1),g()),i&2){let t=e.$implicit;me("title",t.title),l(1),Z(" ",t.content," ")}}function Y0(i,e){if(i&1&&(m(0,"thead")(1,"tr",3),b(2,W0,1,0,"th",4)(3,U0,2,2,"th",5),g()()),i&2){let t=d();l(2),u("ngIf",t.showWeek),l(1),u("ngForOf",t.headRow)}}function K0(i,e){if(i&1&&(m(0,"td",11),R(1),g()),i&2){let t=d().$implicit,n=d();A("",n.prefixCls,"-cell-week"),l(1),Z(" ",t.weekNum," ")}}function G0(i,e){i&1&&Se(0)}function Q0(i,e){if(i&1&&(H(0),b(1,G0,1,0,"ng-container",16),j()),i&2){let t=d(2).$implicit;l(1),u("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",et(2,Kt,t.value))}}function X0(i,e){if(i&1&&(H(0),O(1,"span",17),j()),i&2){let t=d(2).$implicit;l(1),u("innerHTML",t.cellRender,_t)}}function Z0(i,e){if(i&1&&(H(0),m(1,"div"),R(2),g(),j()),i&2){let t=d(2).$implicit,n=d(2);l(1),A("",n.prefixCls,"-cell-inner"),xe("aria-selected",t.isSelected)("aria-disabled",t.isDisabled),l(1),Z(" ",t.content," ")}}function J0(i,e){if(i&1&&(H(0)(1,13),b(2,Q0,2,4,"ng-container",14)(3,X0,2,1,"ng-container",14)(4,Z0,3,6,"ng-container",15),j()()),i&2){let t=d().$implicit,n=d(2);l(1),u("ngSwitch",!0),l(1),u("ngSwitchCase",n.isTemplateRef(t.cellRender)),l(1),u("ngSwitchCase",n.isNonEmptyString(t.cellRender))}}function e_(i,e){i&1&&Se(0)}function t_(i,e){if(i&1&&(H(0),b(1,e_,1,0,"ng-container",16),j()),i&2){let t=d(2).$implicit;l(1),u("ngTemplateOutlet",t.fullCellRender)("ngTemplateOutletContext",et(2,Kt,t.value))}}function i_(i,e){i&1&&Se(0)}function n_(i,e){if(i&1&&(m(0,"div"),R(1),g(),m(2,"div"),b(3,i_,1,0,"ng-container",16),g()),i&2){let t=d(2).$implicit,n=d(2);A("",n.prefixCls,"-date-value"),l(1),ke(t.content),l(1),A("",n.prefixCls,"-date-content"),l(1),u("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",et(9,Kt,t.value))}}function r_(i,e){if(i&1&&(H(0),m(1,"div"),b(2,t_,2,4,"ng-container",18)(3,n_,4,11,"ng-template",null,19,ye),g(),j()),i&2){let t=ae(4),n=d().$implicit,r=d(2);l(1),A("",r.prefixCls,"-date ant-picker-cell-inner"),W("ant-picker-calendar-date-today",n.isToday),l(1),u("ngIf",n.fullCellRender)("ngIfElse",t)}}function o_(i,e){if(i&1){let t=q();m(0,"td",12),P("click",function(){let o=T(t).$implicit;return k(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=T(t).$implicit;return k(o.onMouseEnter())}),H(1,13),b(2,J0,5,3,"ng-container",14)(3,r_,5,7,"ng-container",14),j(),g()}if(i&2){let t=e.$implicit,n=d(2);me("title",t.title),u("ngClass",t.classMap),l(1),u("ngSwitch",n.prefixCls),l(1),u("ngSwitchCase","ant-picker"),l(1),u("ngSwitchCase","ant-picker-calendar")}}function a_(i,e){if(i&1&&(m(0,"tr",8),b(1,K0,2,4,"td",9)(2,o_,4,5,"td",10),g()),i&2){let t=e.$implicit,n=d();u("ngClass",t.classMap),l(1),u("ngIf",t.weekNum),l(1),u("ngForOf",t.dateCells)("ngForTrackBy",n.trackByBodyColumn)}}function s_(i,e){if(i&1){let t=q();H(0),m(1,"decade-header",4),P("valueChange",function(r){T(t);let o=d();return k(o.activeDate=r)})("panelModeChange",function(r){T(t);let o=d();return k(o.panelModeChange.emit(r))})("valueChange",function(r){T(t);let o=d();return k(o.headerChange.emit(r))}),g(),m(2,"div")(3,"decade-table",5),P("valueChange",function(r){T(t);let o=d();return k(o.onChooseDecade(r))}),g()(),j()}if(i&2){let t=d();l(1),u("value",t.activeDate)("locale",t.locale)("showSuperPreBtn",t.enablePrevNext("prev","decade"))("showSuperNextBtn",t.enablePrevNext("next","decade"))("showNextBtn",!1)("showPreBtn",!1),l(1),A("",t.prefixCls,"-body"),l(1),u("activeDate",t.activeDate)("value",t.value)("locale",t.locale)("disabledDate",t.disabledDate)}}function l_(i,e){if(i&1){let t=q();H(0),m(1,"year-header",4),P("valueChange",function(r){T(t);let o=d();return k(o.activeDate=r)})("panelModeChange",function(r){T(t);let o=d();return k(o.panelModeChange.emit(r))})("valueChange",function(r){T(t);let o=d();return k(o.headerChange.emit(r))}),g(),m(2,"div")(3,"year-table",6),P("valueChange",function(r){T(t);let o=d();return k(o.onChooseYear(r))})("cellHover",function(r){T(t);let o=d();return k(o.cellHover.emit(r))}),g()(),j()}if(i&2){let t=d();l(1),u("value",t.activeDate)("locale",t.locale)("showSuperPreBtn",t.enablePrevNext("prev","year"))("showSuperNextBtn",t.enablePrevNext("next","year"))("showNextBtn",!1)("showPreBtn",!1),l(1),A("",t.prefixCls,"-body"),l(1),u("activeDate",t.activeDate)("value",t.value)("locale",t.locale)("disabledDate",t.disabledDate)("selectedValue",t.selectedValue)("hoverValue",t.hoverValue)}}function c_(i,e){if(i&1){let t=q();H(0),m(1,"month-header",4),P("valueChange",function(r){T(t);let o=d();return k(o.activeDate=r)})("panelModeChange",function(r){T(t);let o=d();return k(o.panelModeChange.emit(r))})("valueChange",function(r){T(t);let o=d();return k(o.headerChange.emit(r))}),g(),m(2,"div")(3,"month-table",7),P("valueChange",function(r){T(t);let o=d();return k(o.onChooseMonth(r))})("cellHover",function(r){T(t);let o=d();return k(o.cellHover.emit(r))}),g()(),j()}if(i&2){let t=d();l(1),u("value",t.activeDate)("locale",t.locale)("showSuperPreBtn",t.enablePrevNext("prev","month"))("showSuperNextBtn",t.enablePrevNext("next","month"))("showNextBtn",!1)("showPreBtn",!1),l(1),A("",t.prefixCls,"-body"),l(1),u("value",t.value)("activeDate",t.activeDate)("locale",t.locale)("disabledDate",t.disabledDate)("selectedValue",t.selectedValue)("hoverValue",t.hoverValue)}}function d_(i,e){if(i&1){let t=q();H(0),m(1,"date-header",8),P("valueChange",function(r){T(t);let o=d();return k(o.activeDate=r)})("panelModeChange",function(r){T(t);let o=d();return k(o.panelModeChange.emit(r))})("valueChange",function(r){T(t);let o=d();return k(o.headerChange.emit(r))}),g(),m(2,"div")(3,"date-table",9),P("valueChange",function(r){T(t);let o=d();return k(o.onSelectDate(r))})("cellHover",function(r){T(t);let o=d();return k(o.cellHover.emit(r))}),g()(),j()}if(i&2){let t=d();l(1),u("value",t.activeDate)("locale",t.locale)("showSuperPreBtn",t.panelMode==="week"?t.enablePrevNext("prev","week"):t.enablePrevNext("prev","date"))("showSuperNextBtn",t.panelMode==="week"?t.enablePrevNext("next","week"):t.enablePrevNext("next","date"))("showPreBtn",t.panelMode==="week"?t.enablePrevNext("prev","week"):t.enablePrevNext("prev","date"))("showNextBtn",t.panelMode==="week"?t.enablePrevNext("next","week"):t.enablePrevNext("next","date")),l(1),A("",t.prefixCls,"-body"),l(1),u("locale",t.locale)("showWeek",t.showWeek)("value",t.value)("activeDate",t.activeDate)("disabledDate",t.disabledDate)("cellRender",t.dateRender)("selectedValue",t.selectedValue)("hoverValue",t.hoverValue)("canSelectWeek",t.panelMode==="week")}}function u_(i,e){if(i&1){let t=q();H(0),m(1,"nz-time-picker-panel",10),P("ngModelChange",function(r){T(t);let o=d();return k(o.onSelectTime(r))}),g(),j()}if(i&2){let t=d();l(1),u("nzInDatePicker",!0)("ngModel",t.value==null?null:t.value.nativeDate)("format",t.timeOptions.nzFormat)("nzHourStep",t.timeOptions.nzHourStep)("nzMinuteStep",t.timeOptions.nzMinuteStep)("nzSecondStep",t.timeOptions.nzSecondStep)("nzDisabledHours",t.timeOptions.nzDisabledHours)("nzDisabledMinutes",t.timeOptions.nzDisabledMinutes)("nzDisabledSeconds",t.timeOptions.nzDisabledSeconds)("nzHideDisabledOptions",!!t.timeOptions.nzHideDisabledOptions)("nzDefaultOpenValue",t.timeOptions.nzDefaultOpenValue)("nzUse12Hours",!!t.timeOptions.nzUse12Hours)("nzAddOn",t.timeOptions.nzAddOn)}}function p_(i,e){i&1&&Se(0)}var h_=i=>({partType:i});function f_(i,e){if(i&1&&(H(0),b(1,p_,1,0,"ng-container",7),j()),i&2){let t=d(2),n=ae(4);l(1),u("ngTemplateOutlet",n)("ngTemplateOutletContext",et(2,h_,t.datePickerService.activeInput))}}function m_(i,e){i&1&&Se(0)}function __(i,e){i&1&&Se(0)}var vu=()=>({partType:"left"}),yu=()=>({partType:"right"});function g_(i,e){if(i&1&&b(0,m_,1,0,"ng-container",7)(1,__,1,0,"ng-container",7),i&2){d(2);let t=ae(4);u("ngTemplateOutlet",t)("ngTemplateOutletContext",Ui(4,vu)),l(1),u("ngTemplateOutlet",t)("ngTemplateOutletContext",Ui(5,yu))}}function v_(i,e){i&1&&Se(0)}function y_(i,e){if(i&1&&(H(0),m(1,"div"),O(2,"div"),m(3,"div")(4,"div"),b(5,f_,2,4,"ng-container",0)(6,g_,2,6,"ng-template",null,5,ye),g(),b(8,v_,1,0,"ng-container",6),g()(),j()),i&2){let t=ae(7),n=d(),r=ae(6);l(1),or("",n.prefixCls,"-range-wrapper ",n.prefixCls,"-date-range-wrapper"),l(1),fd(n.arrowPosition),A("",n.prefixCls,"-range-arrow"),l(1),or("",n.prefixCls,"-panel-container ",n.showWeek?n.prefixCls+"-week-number":"",""),l(1),A("",n.prefixCls,"-panels"),l(1),u("ngIf",n.hasTimePicker)("ngIfElse",t),l(3),u("ngTemplateOutlet",r)}}function C_(i,e){i&1&&Se(0)}function b_(i,e){i&1&&Se(0)}function z_(i,e){if(i&1&&(m(0,"div")(1,"div",8),b(2,C_,1,0,"ng-container",6)(3,b_,1,0,"ng-container",6),g()()),i&2){let t=d(),n=ae(4),r=ae(6);md("",t.prefixCls,"-panel-container ",t.showWeek?t.prefixCls+"-week-number":""," ",t.hasTimePicker?t.prefixCls+"-time":""," ",t.isRange?t.prefixCls+"-range":"",""),l(1),A("",t.prefixCls,"-panel"),W("ant-picker-panel-rtl",t.dir==="rtl"),l(1),u("ngTemplateOutlet",n),l(1),u("ngTemplateOutlet",r)}}function x_(i,e){if(i&1){let t=q();m(0,"div")(1,"inner-popup",9),P("panelModeChange",function(r){let a=T(t).partType,s=d();return k(s.onPanelModeChange(r,a))})("cellHover",function(r){T(t);let o=d();return k(o.onCellHover(r))})("selectDate",function(r){T(t);let o=d();return k(o.changeValueFromSelect(r,!o.showTime))})("selectTime",function(r){let a=T(t).partType,s=d();return k(s.onSelectTime(r,a))})("headerChange",function(r){let a=T(t).partType,s=d();return k(s.onActiveDateChange(r,a))}),g()()}if(i&2){let t=e.partType,n=d();A("",n.prefixCls,"-panel"),W("ant-picker-panel-rtl",n.dir==="rtl"),l(1),u("showWeek",n.showWeek)("endPanelMode",n.getPanelMode(n.endPanelMode,t))("partType",t)("locale",n.locale)("showTimePicker",n.hasTimePicker)("timeOptions",n.getTimeOptions(t))("panelMode",n.getPanelMode(n.panelMode,t))("activeDate",n.getActiveDate(t))("value",n.getValue(t))("disabledDate",n.disabledDate)("dateRender",n.dateRender)("selectedValue",n.datePickerService==null?null:n.datePickerService.value)("hoverValue",n.hoverValue)}}function S_(i,e){if(i&1){let t=q();m(0,"calendar-footer",11),P("clickOk",function(){T(t);let r=d(2);return k(r.onClickOk())})("clickToday",function(r){T(t);let o=d(2);return k(o.onClickToday(r))}),g()}if(i&2){let t=d(2),n=ae(8);u("locale",t.locale)("isRange",t.isRange)("showToday",t.showToday)("showNow",t.showNow)("hasTimePicker",t.hasTimePicker)("okDisabled",!t.isAllowed(t.datePickerService==null?null:t.datePickerService.value))("extraFooter",t.extraFooter)("rangeQuickSelector",t.ranges?n:null)}}function w_(i,e){if(i&1&&b(0,S_,1,8,"calendar-footer",10),i&2){let t=d();u("ngIf",t.hasFooter)}}function T_(i,e){if(i&1){let t=q();m(0,"li",13),P("click",function(){let o=T(t).$implicit,a=d(2);return k(a.onClickPresetRange(a.ranges[o]))})("mouseenter",function(){let o=T(t).$implicit,a=d(2);return k(a.onHoverPresetRange(a.ranges[o]))})("mouseleave",function(){T(t);let r=d(2);return k(r.onPresetRangeMouseLeave())}),m(1,"span",14),R(2),g()()}if(i&2){let t=e.$implicit,n=d(2);A("",n.prefixCls,"-preset"),l(2),ke(t)}}function k_(i,e){if(i&1&&b(0,T_,3,4,"li",12),i&2){let t=d();u("ngForOf",t.getObjectKeys(t.ranges))}}var D_=["separatorElement"],E_=["pickerInput"],I_=["rangePickerInput"];function P_(i,e){i&1&&Se(0)}function $_(i,e){if(i&1){let t=q();m(0,"div")(1,"input",7,8),P("ngModelChange",function(r){T(t);let o=d(2);return k(o.inputValue=r)})("focus",function(r){T(t);let o=d(2);return k(o.onFocus(r))})("focusout",function(r){T(t);let o=d(2);return k(o.onFocusout(r))})("ngModelChange",function(r){T(t);let o=d(2);return k(o.onInputChange(r))})("keyup.enter",function(r){T(t);let o=d(2);return k(o.onKeyupEnter(r))}),g(),b(3,P_,1,0,"ng-container",9),g()}if(i&2){let t=d(2),n=ae(4);A("",t.prefixCls,"-input"),l(1),W("ant-input-disabled",t.nzDisabled),me("placeholder",t.getPlaceholder()),u("disabled",t.nzDisabled)("readOnly",t.nzInputReadOnly)("ngModel",t.inputValue)("size",t.inputSize),xe("id",t.nzId),l(2),u("ngTemplateOutlet",n)}}function N_(i,e){i&1&&Se(0)}function O_(i,e){if(i&1&&(H(0),R(1),j()),i&2){let t=d(4);l(1),ke(t.nzSeparator)}}function M_(i,e){i&1&&O(0,"span",14)}function F_(i,e){if(i&1&&(H(0),b(1,O_,2,1,"ng-container",0)(2,M_,1,0,"ng-template",null,13,ye),j()),i&2){let t=ae(3),n=d(3);l(1),u("ngIf",n.nzSeparator)("ngIfElse",t)}}function V_(i,e){i&1&&Se(0)}function R_(i,e){i&1&&Se(0)}function A_(i,e){if(i&1&&(H(0),m(1,"div"),b(2,N_,1,0,"ng-container",10),g(),m(3,"div",null,11)(5,"span"),b(6,F_,4,2,"ng-container",12),g()(),m(7,"div"),b(8,V_,1,0,"ng-container",10),g(),b(9,R_,1,0,"ng-container",9),j()),i&2){let t=d(2),n=ae(2),r=ae(4);l(1),A("",t.prefixCls,"-input"),l(1),u("ngTemplateOutlet",n)("ngTemplateOutletContext",Ui(18,vu)),l(1),A("",t.prefixCls,"-range-separator"),l(2),A("",t.prefixCls,"-separator"),l(1),u("nzStringTemplateOutlet",t.nzSeparator),l(1),A("",t.prefixCls,"-input"),l(1),u("ngTemplateOutlet",n)("ngTemplateOutletContext",Ui(19,yu)),l(1),u("ngTemplateOutlet",r)}}function H_(i,e){if(i&1&&(H(0),b(1,$_,4,12,"div",5)(2,A_,10,20,"ng-container",6),j()),i&2){let t=d();l(1),u("ngIf",!t.isRange),l(1),u("ngIf",t.isRange)}}function j_(i,e){if(i&1){let t=q();m(0,"input",15,16),P("click",function(r){T(t);let o=d();return k(o.onClickInputBox(r))})("focusout",function(r){T(t);let o=d();return k(o.onFocusout(r))})("focus",function(r){let a=T(t).partType,s=d();return k(s.onFocus(r,a))})("keyup.enter",function(r){T(t);let o=d();return k(o.onKeyupEnter(r))})("ngModelChange",function(r){let a=T(t).partType,s=d();return k(s.inputValue[s.datePickerService.getActiveIndex(a)]=r)})("ngModelChange",function(r){T(t);let o=d();return k(o.onInputChange(r))}),g()}if(i&2){let t=e.partType,n=d();me("placeholder",n.getPlaceholder(t)),u("disabled",n.nzDisabled)("readOnly",n.nzInputReadOnly)("size",n.inputSize)("ngModel",n.inputValue[n.datePickerService.getActiveIndex(t)]),xe("id",n.nzId)}}function L_(i,e){if(i&1){let t=q();m(0,"span",20),P("click",function(r){T(t);let o=d(2);return k(o.onClickClear(r))}),O(1,"span",21),g()}if(i&2){let t=d(2);A("",t.prefixCls,"-clear")}}function B_(i,e){if(i&1&&(H(0),O(1,"span",22),j()),i&2){let t=e.$implicit;l(1),u("nzType",t)}}function q_(i,e){if(i&1&&O(0,"nz-form-item-feedback-icon",23),i&2){let t=d(2);u("status",t.status)}}function W_(i,e){if(i&1&&(O(0,"div",17),b(1,L_,2,3,"span",18),m(2,"span"),b(3,B_,2,1,"ng-container",12)(4,q_,1,1,"nz-form-item-feedback-icon",19),g()),i&2){let t=d();A("",t.prefixCls,"-active-bar"),u("ngStyle",t.activeBarStyle),l(1),u("ngIf",t.showClear()),l(1),A("",t.prefixCls,"-suffix"),l(1),u("nzStringTemplateOutlet",t.nzSuffixIcon),l(1),u("ngIf",t.hasFeedback&&!!t.status)}}function U_(i,e){if(i&1){let t=q();m(0,"div",17)(1,"date-range-popup",24),P("panelModeChange",function(r){T(t);let o=d();return k(o.onPanelModeChange(r))})("calendarChange",function(r){T(t);let o=d();return k(o.onCalendarChange(r))})("resultOk",function(){T(t);let r=d();return k(r.onResultOk())}),g()()}if(i&2){let t=d();or("",t.prefixCls,"-dropdown ",t.nzDropdownClassName,""),W("ant-picker-dropdown-rtl",t.dir==="rtl")("ant-picker-dropdown-placement-bottomLeft",t.currentPositionY==="bottom"&&t.currentPositionX==="start")("ant-picker-dropdown-placement-topLeft",t.currentPositionY==="top"&&t.currentPositionX==="start")("ant-picker-dropdown-placement-bottomRight",t.currentPositionY==="bottom"&&t.currentPositionX==="end")("ant-picker-dropdown-placement-topRight",t.currentPositionY==="top"&&t.currentPositionX==="end")("ant-picker-dropdown-range",t.isRange)("ant-picker-active-left",t.datePickerService.activeInput==="left")("ant-picker-active-right",t.datePickerService.activeInput==="right"),u("ngStyle",t.nzPopupStyle),l(1),u("isRange",t.isRange)("inline",t.nzInline)("defaultPickerValue",t.nzDefaultPickerValue)("showWeek",t.nzShowWeekNumber||t.nzMode==="week")("panelMode",t.panelMode)("locale",t.nzLocale==null?null:t.nzLocale.lang)("showToday",t.nzMode==="date"&&t.nzShowToday&&!t.isRange&&!t.nzShowTime)("showNow",t.nzMode==="date"&&t.nzShowNow&&!t.isRange&&!!t.nzShowTime)("showTime",t.nzShowTime)("dateRender",t.nzDateRender)("disabledDate",t.nzDisabledDate)("disabledTime",t.nzDisabledTime)("extraFooter",t.extraFooter)("ranges",t.nzRanges)("dir",t.dir)}}function Y_(i,e){i&1&&Se(0)}function K_(i,e){if(i&1&&(m(0,"div",25),b(1,Y_,1,0,"ng-container",9),g()),i&2){let t=d(),n=ae(6);u("nzNoAnimation",!!(t.noAnimation!=null&&t.noAnimation.nzNoAnimation))("@slideMotion","enter"),l(1),u("ngTemplateOutlet",n)}}var sa="ant-picker",G_={nzDisabledHours(){return[]},nzDisabledMinutes(){return[]},nzDisabledSeconds(){return[]}};function Cu(i,e){let t=e?e(i&&i.nativeDate):{};return t=$($({},G_),t),t}function Q_(i,e){let t=!1;if(i){let n=i.getHours(),r=i.getMinutes(),o=i.getSeconds();e.nzDisabledHours().indexOf(n)===-1&&e.nzDisabledMinutes(n).indexOf(r)===-1?t=e.nzDisabledSeconds(n,r).indexOf(o)!==-1:t=!0}return!t}function X_(i,e){let t=Cu(i,e);return Q_(i,t)}function aa(i,e,t){return!(!i||e&&e(i.nativeDate)||t&&!X_(i,t))}function la(i){return i&&i.replace(/Y/g,"y").replace(/D/g,"d")}var Z_=(()=>{let e=class e{constructor(n){this.dateHelper=n,this.showToday=!1,this.showNow=!1,this.hasTimePicker=!1,this.isRange=!1,this.okDisabled=!1,this.rangeQuickSelector=null,this.clickOk=new ge,this.clickToday=new ge,this.prefixCls=sa,this.isTemplateRef=ps,this.isNonEmptyString=us,this.isTodayDisabled=!1,this.todayTitle=""}ngOnChanges(n){let r=new Date;if(n.disabledDate&&(this.isTodayDisabled=!!(this.disabledDate&&this.disabledDate(r))),n.locale){let o=la(this.locale.dateFormat);this.todayTitle=this.dateHelper.format(r,o)}}onClickToday(){let n=new We;this.clickToday.emit(n.clone())}};e.\u0275fac=function(r){return new(r||e)(I(ti))},e.\u0275cmp=L({type:e,selectors:[["calendar-footer"]],inputs:{locale:"locale",showToday:"showToday",showNow:"showNow",hasTimePicker:"hasTimePicker",isRange:"isRange",okDisabled:"okDisabled",disabledDate:"disabledDate",extraFooter:"extraFooter",rangeQuickSelector:"rangeQuickSelector"},outputs:{clickOk:"clickOk",clickToday:"clickToday"},exportAs:["calendarFooter"],features:[Ae],decls:4,vars:6,consts:[[3,"class",4,"ngIf"],["role","button",3,"class","title","click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[3,"innerHTML"],["role","button",3,"title","click"],[3,"click"],["nz-button","","type","button","nzType","primary","nzSize","small",3,"disabled","click"]],template:function(r,o){r&1&&(m(0,"div"),b(1,jm,4,6,"div",0)(2,Lm,2,6,"a",1)(3,Um,4,6,"ul",0),g()),r&2&&(A("",o.prefixCls,"-footer"),l(1),u("ngIf",o.extraFooter),l(1),u("ngIf",o.showToday),l(1),u("ngIf",o.hasTimePicker||o.rangeQuickSelector))},dependencies:[ut,Pe,Cn,bn,Zi,Ze,Xi],encapsulation:2,changeDetection:0});let i=e;return i})(),Ds=(()=>{let e=class e{constructor(){this.activeInput="left",this.arrowLeft=0,this.isRange=!1,this.valueChange$=new nr(1),this.emitValue$=new Ce,this.inputPartChange$=new Ce}initValue(n=!1){n&&(this.initialValue=this.isRange?[]:null),this.setValue(this.initialValue)}hasValue(n=this.value){return Array.isArray(n)?!!n[0]||!!n[1]:!!n}makeValue(n){return this.isRange?n?n.map(r=>new We(r)):[]:n?new We(n):null}setActiveDate(n,r=!1,o="month"){let a={date:"month",month:"year",year:"decade"};this.isRange?this.activeDate=Nd(n,r,a[o],this.activeInput):this.activeDate=cr(n)}setValue(n){this.value=n,this.valueChange$.next(this.value)}getActiveIndex(n=this.activeInput){return{left:0,right:1}[n]}ngOnDestroy(){this.valueChange$.complete(),this.emitValue$.complete(),this.inputPartChange$.complete()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=bt({token:e,factory:e.\u0275fac});let i=e;return i})(),ca=(()=>{let e=class e{constructor(){this.prefixCls="ant-picker-header",this.selectors=[],this.showSuperPreBtn=!0,this.showSuperNextBtn=!0,this.showPreBtn=!0,this.showNextBtn=!0,this.panelModeChange=new ge,this.valueChange=new ge}superPreviousTitle(){return this.locale.previousYear}previousTitle(){return this.locale.previousMonth}superNextTitle(){return this.locale.nextYear}nextTitle(){return this.locale.nextMonth}superPrevious(){this.changeValue(this.value.addYears(-1))}superNext(){this.changeValue(this.value.addYears(1))}previous(){this.changeValue(this.value.addMonths(-1))}next(){this.changeValue(this.value.addMonths(1))}changeValue(n){this.value!==n&&(this.value=n,this.valueChange.emit(this.value),this.render())}changeMode(n){this.panelModeChange.emit(n)}render(){this.value&&(this.selectors=this.getSelectors())}ngOnInit(){this.value||(this.value=new We),this.selectors=this.getSelectors()}ngOnChanges(n){(n.value||n.locale)&&this.render()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Be({type:e,inputs:{value:"value",locale:"locale",showSuperPreBtn:"showSuperPreBtn",showSuperNextBtn:"showSuperNextBtn",showPreBtn:"showPreBtn",showNextBtn:"showNextBtn"},outputs:{panelModeChange:"panelModeChange",valueChange:"valueChange"},features:[Ae]});let i=e;return i})(),J_=(()=>{let e=class e extends ca{constructor(n){super(),this.dateHelper=n}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,la(this.locale.yearFormat))},{className:`${this.prefixCls}-month-btn`,title:this.locale.monthSelect,onClick:()=>this.changeMode("month"),label:this.dateHelper.format(this.value.nativeDate,this.locale.monthFormat||"MMM")}]}};e.\u0275fac=function(r){return new(r||e)(I(ti))},e.\u0275cmp=L({type:e,selectors:[["date-header"]],exportAs:["dateHeader"],features:[oe],decls:11,vars:31,consts:[["role","button","type","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[4,"ngFor","ngForOf"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"]],template:function(r,o){r&1&&(m(0,"div")(1,"button",0),P("click",function(){return o.superPrevious()}),O(2,"span",1),g(),m(3,"button",0),P("click",function(){return o.previous()}),O(4,"span",2),g(),m(5,"div"),b(6,Ym,3,5,"ng-container",3),g(),m(7,"button",0),P("click",function(){return o.next()}),O(8,"span",4),g(),m(9,"button",0),P("click",function(){return o.superNext()}),O(10,"span",5),g()()),r&2&&(ei(o.prefixCls),l(1),A("",o.prefixCls,"-super-prev-btn"),He("visibility",o.showSuperPreBtn?"visible":"hidden"),me("title",o.superPreviousTitle()),l(2),A("",o.prefixCls,"-prev-btn"),He("visibility",o.showPreBtn?"visible":"hidden"),me("title",o.previousTitle()),l(2),A("",o.prefixCls,"-view"),l(1),u("ngForOf",o.selectors),l(1),A("",o.prefixCls,"-next-btn"),He("visibility",o.showNextBtn?"visible":"hidden"),me("title",o.nextTitle()),l(2),A("",o.prefixCls,"-super-next-btn"),He("visibility",o.showSuperNextBtn?"visible":"hidden"),me("title",o.superNextTitle()))},dependencies:[dt],encapsulation:2,changeDetection:0});let i=e;return i})(),da=(()=>{let e=class e{constructor(){this.isTemplateRef=ps,this.isNonEmptyString=us,this.headRow=[],this.bodyRows=[],this.MAX_ROW=6,this.MAX_COL=7,this.prefixCls="ant-picker",this.activeDate=new We,this.showWeek=!1,this.selectedValue=[],this.hoverValue=[],this.canSelectWeek=!1,this.valueChange=new ge,this.cellHover=new ge}render(){this.activeDate&&(this.headRow=this.makeHeadRow(),this.bodyRows=this.makeBodyRows())}trackByBodyRow(n,r){return r.trackByIndex}trackByBodyColumn(n,r){return r.trackByIndex}hasRangeValue(){return this.selectedValue?.length>0||this.hoverValue?.length>0}getClassMap(n){return{"ant-picker-cell":!0,"ant-picker-cell-in-view":!0,"ant-picker-cell-selected":n.isSelected,"ant-picker-cell-disabled":n.isDisabled,"ant-picker-cell-in-range":!!n.isInSelectedRange,"ant-picker-cell-range-start":!!n.isSelectedStart,"ant-picker-cell-range-end":!!n.isSelectedEnd,"ant-picker-cell-range-start-single":!!n.isStartSingle,"ant-picker-cell-range-end-single":!!n.isEndSingle,"ant-picker-cell-range-hover":!!n.isInHoverRange,"ant-picker-cell-range-hover-start":!!n.isHoverStart,"ant-picker-cell-range-hover-end":!!n.isHoverEnd,"ant-picker-cell-range-hover-edge-start":!!n.isFirstCellInPanel,"ant-picker-cell-range-hover-edge-end":!!n.isLastCellInPanel,"ant-picker-cell-range-start-near-hover":!!n.isRangeStartNearHover,"ant-picker-cell-range-end-near-hover":!!n.isRangeEndNearHover}}ngOnInit(){this.render()}ngOnChanges(n){n.activeDate&&!n.activeDate.currentValue&&(this.activeDate=new We),(n.disabledDate||n.locale||n.showWeek||n.selectWeek||this.isDateRealChange(n.activeDate)||this.isDateRealChange(n.value)||this.isDateRealChange(n.selectedValue)||this.isDateRealChange(n.hoverValue))&&this.render()}isDateRealChange(n){if(n){let r=n.previousValue,o=n.currentValue;return Array.isArray(o)?!Array.isArray(r)||o.length!==r.length||o.some((a,s)=>{let c=r[s];return c instanceof We?c.isSameDay(a):c!==a}):!this.isSameDate(r,o)}return!1}isSameDate(n,r){return!n&&!r||n&&r&&r.isSameDay(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Be({type:e,inputs:{prefixCls:"prefixCls",value:"value",locale:"locale",activeDate:"activeDate",showWeek:"showWeek",selectedValue:"selectedValue",hoverValue:"hoverValue",disabledDate:"disabledDate",cellRender:"cellRender",fullCellRender:"fullCellRender",canSelectWeek:"canSelectWeek"},outputs:{valueChange:"valueChange",cellHover:"cellHover"},features:[Ae]});let i=e;return i})(),eg=(()=>{let e=class e extends da{constructor(n,r){super(),this.i18n=n,this.dateHelper=r}changeValueFromInside(n){this.activeDate=this.activeDate.setYear(n.getYear()).setMonth(n.getMonth()).setDate(n.getDate()),this.valueChange.emit(this.activeDate),this.activeDate.isSameMonth(this.value)||this.render()}makeHeadRow(){let n=[],r=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let o=0;o<this.MAX_COL;o++){let a=r.addDays(o);n.push({trackByIndex:null,value:a.nativeDate,title:this.dateHelper.format(a.nativeDate,"E"),content:this.dateHelper.format(a.nativeDate,this.getVeryShortWeekFormat()),isSelected:!1,isDisabled:!1,onClick(){},onMouseEnter(){}})}return n}getVeryShortWeekFormat(){return this.i18n.getLocaleId().toLowerCase().indexOf("zh")===0?"EEEEE":"EEEEEE"}makeBodyRows(){let n=[],r=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let o=0;o<this.MAX_ROW;o++){let a=r.addDays(o*7),s={isActive:!1,dateCells:[],trackByIndex:o};for(let c=0;c<7;c++){let h=a.addDays(c),f=la(this.i18n.getLocaleData("DatePicker.lang.dateFormat","YYYY-MM-DD")),v=this.dateHelper.format(h.nativeDate,f),S=this.dateHelper.format(h.nativeDate,"dd"),z={trackByIndex:c,value:h.nativeDate,label:S,isSelected:!1,isDisabled:!1,isToday:!1,title:v,cellRender:Ki(this.cellRender,h),fullCellRender:Ki(this.fullCellRender,h),content:`${h.getDate()}`,onClick:()=>this.changeValueFromInside(h),onMouseEnter:()=>this.cellHover.emit(h)};this.addCellProperty(z,h),this.showWeek&&!s.weekNum&&(s.weekNum=this.dateHelper.getISOWeek(h.nativeDate)),h.isSameDay(this.value)&&(s.isActive=h.isSameDay(this.value)),s.dateCells.push(z)}s.classMap={"ant-picker-week-panel-row":this.canSelectWeek,"ant-picker-week-panel-row-selected":this.canSelectWeek&&s.isActive},n.push(s)}return n}addCellProperty(n,r){if(this.hasRangeValue()&&!this.canSelectWeek){let[o,a]=this.hoverValue,[s,c]=this.selectedValue;s?.isSameDay(r)&&(n.isSelectedStart=!0,n.isSelected=!0),c?.isSameDay(r)&&(n.isSelectedEnd=!0,n.isSelected=!0),o&&a&&(n.isHoverStart=o.isSameDay(r),n.isHoverEnd=a.isSameDay(r),n.isLastCellInPanel=r.isLastDayOfMonth(),n.isFirstCellInPanel=r.isFirstDayOfMonth(),n.isInHoverRange=o.isBeforeDay(r)&&r.isBeforeDay(a)),n.isStartSingle=s&&!c,n.isEndSingle=!s&&c,n.isInSelectedRange=s?.isBeforeDay(r)&&r.isBeforeDay(c),n.isRangeStartNearHover=s&&n.isInHoverRange,n.isRangeEndNearHover=c&&n.isInHoverRange}n.isToday=r.isToday(),n.isSelected=r.isSameDay(this.value),n.isDisabled=!!this.disabledDate?.(r.nativeDate),n.classMap=this.getClassMap(n)}getClassMap(n){let r=new We(n.value);return Ie($({},super.getClassMap(n)),{"ant-picker-cell-today":!!n.isToday,"ant-picker-cell-in-view":r.isSameMonth(this.activeDate)})}};e.\u0275fac=function(r){return new(r||e)(I(Sn),I(ti))},e.\u0275cmp=L({type:e,selectors:[["date-table"]],inputs:{locale:"locale"},exportAs:["dateTable"],features:[oe],decls:4,vars:3,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],[4,"ngIf"],["role","row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","row"],["role","columnheader",4,"ngIf"],["role","columnheader",3,"title",4,"ngFor","ngForOf"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class",4,"ngIf"],["role","gridcell",3,"title","ngClass","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["defaultCell",""]],template:function(r,o){r&1&&(m(0,"table",0),b(1,Qm,4,2,"thead",1),m(2,"tbody"),b(3,c0,3,4,"tr",2),g()()),r&2&&(l(1),u("ngIf",o.headRow&&o.headRow.length>0),l(2),u("ngForOf",o.bodyRows)("ngForTrackBy",o.trackByBodyRow))},dependencies:[ct,dt,ut,Pe,Cn,bn,ar],encapsulation:2,changeDetection:0});let i=e;return i})(),tg=(()=>{let e=class e extends ca{previous(){}next(){}get startYear(){return parseInt(`${this.value.getYear()/100}`,10)*100}get endYear(){return this.startYear+99}superPrevious(){this.changeValue(this.value.addYears(-100))}superNext(){this.changeValue(this.value.addYears(100))}getSelectors(){return[{className:`${this.prefixCls}-decade-btn`,title:"",onClick:()=>{},label:`${this.startYear}-${this.endYear}`}]}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["decade-header"]],exportAs:["decadeHeader"],features:[oe],decls:11,vars:31,consts:[["role","button","type","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[4,"ngFor","ngForOf"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"]],template:function(r,o){r&1&&(m(0,"div")(1,"button",0),P("click",function(){return o.superPrevious()}),O(2,"span",1),g(),m(3,"button",0),P("click",function(){return o.previous()}),O(4,"span",2),g(),m(5,"div"),b(6,d0,3,5,"ng-container",3),g(),m(7,"button",0),P("click",function(){return o.next()}),O(8,"span",4),g(),m(9,"button",0),P("click",function(){return o.superNext()}),O(10,"span",5),g()()),r&2&&(ei(o.prefixCls),l(1),A("",o.prefixCls,"-super-prev-btn"),He("visibility",o.showSuperPreBtn?"visible":"hidden"),me("title",o.superPreviousTitle()),l(2),A("",o.prefixCls,"-prev-btn"),He("visibility",o.showPreBtn?"visible":"hidden"),me("title",o.previousTitle()),l(2),A("",o.prefixCls,"-view"),l(1),u("ngForOf",o.selectors),l(1),A("",o.prefixCls,"-next-btn"),He("visibility",o.showNextBtn?"visible":"hidden"),me("title",o.nextTitle()),l(2),A("",o.prefixCls,"-super-next-btn"),He("visibility",o.showSuperNextBtn?"visible":"hidden"),me("title",o.superNextTitle()))},dependencies:[dt],encapsulation:2,changeDetection:0});let i=e;return i})(),ig=4,ng=3,rg=(()=>{let e=class e extends da{get startYear(){return parseInt(`${this.activeDate.getYear()/100}`,10)*100}get endYear(){return this.startYear+99}makeHeadRow(){return[]}makeBodyRows(){let n=[],r=this.value&&this.value.getYear(),o=this.startYear,a=this.endYear,s=o-10,c=0;for(let h=0;h<ig;h++){let f={dateCells:[],trackByIndex:h};for(let v=0;v<ng;v++){let S=s+c*10,z=s+c*10+9,E=`${S}-${z}`,C={trackByIndex:v,value:this.activeDate.setYear(S).nativeDate,content:E,title:E,isDisabled:!1,isSelected:r>=S&&r<=z,isLowerThanStart:z<o,isBiggerThanEnd:S>a,classMap:{},onClick(){},onMouseEnter(){}};C.classMap=this.getClassMap(C),C.onClick=()=>this.chooseDecade(S),c++,f.dateCells.push(C)}n.push(f)}return n}getClassMap(n){return{[`${this.prefixCls}-cell`]:!0,[`${this.prefixCls}-cell-in-view`]:!n.isBiggerThanEnd&&!n.isLowerThanStart,[`${this.prefixCls}-cell-selected`]:n.isSelected,[`${this.prefixCls}-cell-disabled`]:n.isDisabled}}chooseDecade(n){this.value=this.activeDate.setYear(n),this.valueChange.emit(this.value)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["decade-table"]],exportAs:["decadeTable"],features:[oe],decls:4,vars:3,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],[4,"ngIf"],["role","row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","row"],["role","columnheader",4,"ngIf"],["role","columnheader",3,"title",4,"ngFor","ngForOf"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class",4,"ngIf"],["role","gridcell",3,"title","ngClass","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["defaultCell",""]],template:function(r,o){r&1&&(m(0,"table",0),b(1,h0,4,2,"thead",1),m(2,"tbody"),b(3,T0,3,4,"tr",2),g()()),r&2&&(l(1),u("ngIf",o.headRow&&o.headRow.length>0),l(2),u("ngForOf",o.bodyRows)("ngForTrackBy",o.trackByBodyRow))},dependencies:[ct,dt,ut,Pe,Cn,bn,ar],encapsulation:2,changeDetection:0});let i=e;return i})(),og=(()=>{let e=class e extends ca{constructor(n){super(),this.dateHelper=n}getSelectors(){return[{className:`${this.prefixCls}-month-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,la(this.locale.yearFormat))}]}};e.\u0275fac=function(r){return new(r||e)(I(ti))},e.\u0275cmp=L({type:e,selectors:[["month-header"]],exportAs:["monthHeader"],features:[oe],decls:11,vars:31,consts:[["role","button","type","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[4,"ngFor","ngForOf"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"]],template:function(r,o){r&1&&(m(0,"div")(1,"button",0),P("click",function(){return o.superPrevious()}),O(2,"span",1),g(),m(3,"button",0),P("click",function(){return o.previous()}),O(4,"span",2),g(),m(5,"div"),b(6,k0,3,5,"ng-container",3),g(),m(7,"button",0),P("click",function(){return o.next()}),O(8,"span",4),g(),m(9,"button",0),P("click",function(){return o.superNext()}),O(10,"span",5),g()()),r&2&&(ei(o.prefixCls),l(1),A("",o.prefixCls,"-super-prev-btn"),He("visibility",o.showSuperPreBtn?"visible":"hidden"),me("title",o.superPreviousTitle()),l(2),A("",o.prefixCls,"-prev-btn"),He("visibility",o.showPreBtn?"visible":"hidden"),me("title",o.previousTitle()),l(2),A("",o.prefixCls,"-view"),l(1),u("ngForOf",o.selectors),l(1),A("",o.prefixCls,"-next-btn"),He("visibility",o.showNextBtn?"visible":"hidden"),me("title",o.nextTitle()),l(2),A("",o.prefixCls,"-super-next-btn"),He("visibility",o.showSuperNextBtn?"visible":"hidden"),me("title",o.superNextTitle()))},dependencies:[dt],encapsulation:2,changeDetection:0});let i=e;return i})(),ag=(()=>{let e=class e extends da{constructor(n){super(),this.dateHelper=n,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){let n=[],r=0;for(let o=0;o<this.MAX_ROW;o++){let a={dateCells:[],trackByIndex:o};for(let s=0;s<this.MAX_COL;s++){let c=this.activeDate.setMonth(r),h=this.isDisabledMonth(c),f=this.dateHelper.format(c.nativeDate,"MMM"),v={trackByIndex:s,value:c.nativeDate,isDisabled:h,isSelected:c.isSameMonth(this.value),content:f,title:f,classMap:{},cellRender:Ki(this.cellRender,c),fullCellRender:Ki(this.fullCellRender,c),onClick:()=>this.chooseMonth(v.value.getMonth()),onMouseEnter:()=>this.cellHover.emit(c)};this.addCellProperty(v,c),a.dateCells.push(v),r++}n.push(a)}return n}isDisabledMonth(n){if(!this.disabledDate)return!1;let r=n.setDate(1);for(let o=r;o.getMonth()===n.getMonth();o=o.addDays(1))if(!this.disabledDate(o.nativeDate))return!1;return!0}addCellProperty(n,r){if(this.hasRangeValue()){let[o,a]=this.hoverValue,[s,c]=this.selectedValue;s?.isSameMonth(r)&&(n.isSelectedStart=!0,n.isSelected=!0),c?.isSameMonth(r)&&(n.isSelectedEnd=!0,n.isSelected=!0),o&&a&&(n.isHoverStart=o.isSameMonth(r),n.isHoverEnd=a.isSameMonth(r),n.isLastCellInPanel=r.getMonth()===11,n.isFirstCellInPanel=r.getMonth()===0,n.isInHoverRange=o.isBeforeMonth(r)&&r.isBeforeMonth(a)),n.isStartSingle=s&&!c,n.isEndSingle=!s&&c,n.isInSelectedRange=s?.isBeforeMonth(r)&&r?.isBeforeMonth(c),n.isRangeStartNearHover=s&&n.isInHoverRange,n.isRangeEndNearHover=c&&n.isInHoverRange}else r.isSameMonth(this.value)&&(n.isSelected=!0);n.classMap=this.getClassMap(n)}chooseMonth(n){this.value=this.activeDate.setMonth(n),this.valueChange.emit(this.value)}};e.\u0275fac=function(r){return new(r||e)(I(ti))},e.\u0275cmp=L({type:e,selectors:[["month-table"]],exportAs:["monthTable"],features:[oe],decls:4,vars:3,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],[4,"ngIf"],["role","row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","row"],["role","columnheader",4,"ngIf"],["role","columnheader",3,"title",4,"ngFor","ngForOf"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class",4,"ngIf"],["role","gridcell",3,"title","ngClass","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["defaultCell",""]],template:function(r,o){r&1&&(m(0,"table",0),b(1,I0,4,2,"thead",1),m(2,"tbody"),b(3,B0,3,4,"tr",2),g()()),r&2&&(l(1),u("ngIf",o.headRow&&o.headRow.length>0),l(2),u("ngForOf",o.bodyRows)("ngForTrackBy",o.trackByBodyRow))},dependencies:[ct,dt,ut,Pe,Cn,bn,ar],encapsulation:2,changeDetection:0});let i=e;return i})(),sg=(()=>{let e=class e extends ca{get startYear(){return parseInt(`${this.value.getYear()/10}`,10)*10}get endYear(){return this.startYear+9}superPrevious(){this.changeValue(this.value.addYears(-10))}superNext(){this.changeValue(this.value.addYears(10))}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:"",onClick:()=>this.changeMode("decade"),label:`${this.startYear}-${this.endYear}`}]}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["year-header"]],exportAs:["yearHeader"],features:[oe],decls:11,vars:31,consts:[["role","button","type","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[4,"ngFor","ngForOf"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"]],template:function(r,o){r&1&&(m(0,"div")(1,"button",0),P("click",function(){return o.superPrevious()}),O(2,"span",1),g(),m(3,"button",0),P("click",function(){return o.previous()}),O(4,"span",2),g(),m(5,"div"),b(6,q0,3,5,"ng-container",3),g(),m(7,"button",0),P("click",function(){return o.next()}),O(8,"span",4),g(),m(9,"button",0),P("click",function(){return o.superNext()}),O(10,"span",5),g()()),r&2&&(ei(o.prefixCls),l(1),A("",o.prefixCls,"-super-prev-btn"),He("visibility",o.showSuperPreBtn?"visible":"hidden"),me("title",o.superPreviousTitle()),l(2),A("",o.prefixCls,"-prev-btn"),He("visibility",o.showPreBtn?"visible":"hidden"),me("title",o.previousTitle()),l(2),A("",o.prefixCls,"-view"),l(1),u("ngForOf",o.selectors),l(1),A("",o.prefixCls,"-next-btn"),He("visibility",o.showNextBtn?"visible":"hidden"),me("title",o.nextTitle()),l(2),A("",o.prefixCls,"-super-next-btn"),He("visibility",o.showSuperNextBtn?"visible":"hidden"),me("title",o.superNextTitle()))},dependencies:[dt],encapsulation:2,changeDetection:0});let i=e;return i})(),lg=(()=>{let e=class e extends da{constructor(n){super(),this.dateHelper=n,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){let n=this.activeDate&&this.activeDate.getYear(),r=parseInt(`${n/10}`,10)*10,o=r+9,a=r-1,s=[],c=0;for(let h=0;h<this.MAX_ROW;h++){let f={dateCells:[],trackByIndex:h};for(let v=0;v<this.MAX_COL;v++){let S=a+c,z=this.activeDate.setYear(S),E=this.dateHelper.format(z.nativeDate,"yyyy"),C=this.isDisabledYear(z),D={trackByIndex:v,value:z.nativeDate,isDisabled:C,isSameDecade:S>=r&&S<=o,isSelected:S===(this.value&&this.value.getYear()),content:E,title:E,classMap:{},isLastCellInPanel:z.getYear()===o,isFirstCellInPanel:z.getYear()===r,cellRender:Ki(this.cellRender,z),fullCellRender:Ki(this.fullCellRender,z),onClick:()=>this.chooseYear(D.value.getFullYear()),onMouseEnter:()=>this.cellHover.emit(z)};this.addCellProperty(D,z),f.dateCells.push(D),c++}s.push(f)}return s}getClassMap(n){return Ie($({},super.getClassMap(n)),{"ant-picker-cell-in-view":!!n.isSameDecade})}isDisabledYear(n){if(!this.disabledDate)return!1;let r=n.setMonth(0).setDate(1);for(let o=r;o.getYear()===n.getYear();o=o.addDays(1))if(!this.disabledDate(o.nativeDate))return!1;return!0}addCellProperty(n,r){if(this.hasRangeValue()){let[o,a]=this.hoverValue,[s,c]=this.selectedValue;s?.isSameYear(r)&&(n.isSelectedStart=!0,n.isSelected=!0),c?.isSameYear(r)&&(n.isSelectedEnd=!0,n.isSelected=!0),o&&a&&(n.isHoverStart=o.isSameYear(r),n.isHoverEnd=a.isSameYear(r),n.isInHoverRange=o.isBeforeYear(r)&&r.isBeforeYear(a)),n.isStartSingle=s&&!c,n.isEndSingle=!s&&c,n.isInSelectedRange=s?.isBeforeYear(r)&&r?.isBeforeYear(c),n.isRangeStartNearHover=s&&n.isInHoverRange,n.isRangeEndNearHover=c&&n.isInHoverRange}else r.isSameYear(this.value)&&(n.isSelected=!0);n.classMap=this.getClassMap(n)}chooseYear(n){this.value=this.activeDate.setYear(n),this.valueChange.emit(this.value),this.render()}};e.\u0275fac=function(r){return new(r||e)(I(ti))},e.\u0275cmp=L({type:e,selectors:[["year-table"]],exportAs:["yearTable"],features:[oe],decls:4,vars:3,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],[4,"ngIf"],["role","row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","row"],["role","columnheader",4,"ngIf"],["role","columnheader",3,"title",4,"ngFor","ngForOf"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class",4,"ngIf"],["role","gridcell",3,"title","ngClass","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["defaultCell",""]],template:function(r,o){r&1&&(m(0,"table",0),b(1,Y0,4,2,"thead",1),m(2,"tbody"),b(3,a_,3,4,"tr",2),g()()),r&2&&(l(1),u("ngIf",o.headRow&&o.headRow.length>0),l(2),u("ngForOf",o.bodyRows)("ngForTrackBy",o.trackByBodyRow))},dependencies:[ct,dt,ut,Pe,Cn,bn,ar],encapsulation:2,changeDetection:0});let i=e;return i})(),cg=(()=>{let e=class e{constructor(){this.panelModeChange=new ge,this.headerChange=new ge,this.selectDate=new ge,this.selectTime=new ge,this.cellHover=new ge,this.prefixCls=sa}enablePrevNext(n,r){return!(!this.showTimePicker&&r===this.endPanelMode&&(this.partType==="left"&&n==="next"||this.partType==="right"&&n==="prev"))}onSelectTime(n){this.selectTime.emit(new We(n))}onSelectDate(n){let r=n instanceof We?n:new We(n),o=this.timeOptions&&this.timeOptions.nzDefaultOpenValue;!this.value&&o&&r.setHms(o.getHours(),o.getMinutes(),o.getSeconds()),this.selectDate.emit(r)}onChooseMonth(n){this.activeDate=this.activeDate.setMonth(n.getMonth()),this.endPanelMode==="month"?(this.value=n,this.selectDate.emit(n)):(this.headerChange.emit(n),this.panelModeChange.emit(this.endPanelMode))}onChooseYear(n){this.activeDate=this.activeDate.setYear(n.getYear()),this.endPanelMode==="year"?(this.value=n,this.selectDate.emit(n)):(this.headerChange.emit(n),this.panelModeChange.emit(this.endPanelMode))}onChooseDecade(n){this.activeDate=this.activeDate.setYear(n.getYear()),this.endPanelMode==="decade"?(this.value=n,this.selectDate.emit(n)):(this.headerChange.emit(n),this.panelModeChange.emit("year"))}ngOnChanges(n){n.activeDate&&!n.activeDate.currentValue&&(this.activeDate=new We),n.panelMode&&n.panelMode.currentValue==="time"&&(this.panelMode="date")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=L({type:e,selectors:[["inner-popup"]],inputs:{activeDate:"activeDate",endPanelMode:"endPanelMode",panelMode:"panelMode",showWeek:"showWeek",locale:"locale",showTimePicker:"showTimePicker",timeOptions:"timeOptions",disabledDate:"disabledDate",dateRender:"dateRender",selectedValue:"selectedValue",hoverValue:"hoverValue",value:"value",partType:"partType"},outputs:{panelModeChange:"panelModeChange",headerChange:"headerChange",selectDate:"selectDate",selectTime:"selectTime",cellHover:"cellHover"},exportAs:["innerPopup"],features:[Ae],decls:8,vars:11,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngIf"],[3,"value","locale","showSuperPreBtn","showSuperNextBtn","showNextBtn","showPreBtn","valueChange","panelModeChange"],[3,"activeDate","value","locale","disabledDate","valueChange"],[3,"activeDate","value","locale","disabledDate","selectedValue","hoverValue","valueChange","cellHover"],[3,"value","activeDate","locale","disabledDate","selectedValue","hoverValue","valueChange","cellHover"],[3,"value","locale","showSuperPreBtn","showSuperNextBtn","showPreBtn","showNextBtn","valueChange","panelModeChange"],[3,"locale","showWeek","value","activeDate","disabledDate","cellRender","selectedValue","hoverValue","canSelectWeek","valueChange","cellHover"],[3,"nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn","ngModelChange"]],template:function(r,o){r&1&&(m(0,"div")(1,"div"),H(2,0),b(3,s_,4,13,"ng-container",1)(4,l_,4,15,"ng-container",1)(5,c_,4,15,"ng-container",1)(6,d_,4,18,"ng-container",2),j(),g(),b(7,u_,2,13,"ng-container",3),g()),r&2&&(W("ant-picker-datetime-panel",o.showTimePicker),l(1),or("",o.prefixCls,"-",o.panelMode,"-panel"),l(1),u("ngSwitch",o.panelMode),l(1),u("ngSwitchCase","decade"),l(1),u("ngSwitchCase","year"),l(1),u("ngSwitchCase","month"),l(2),u("ngIf",o.showTimePicker&&o.timeOptions))},dependencies:[ut,Cn,bn,ar,je,$e,J_,eg,tg,rg,og,ag,sg,lg,pr],encapsulation:2,changeDetection:0});let i=e;return i})(),_u=(()=>{let e=class e{get hasTimePicker(){return!!this.showTime}get hasFooter(){return this.showToday||this.hasTimePicker||!!this.extraFooter||!!this.ranges}get arrowPosition(){return this.dir==="rtl"?{right:`${this.datePickerService?.arrowLeft}px`}:{left:`${this.datePickerService?.arrowLeft}px`}}constructor(n,r,o,a){this.datePickerService=n,this.cdr=r,this.ngZone=o,this.host=a,this.inline=!1,this.dir="ltr",this.panelModeChange=new ge,this.calendarChange=new ge,this.resultOk=new ge,this.prefixCls=sa,this.endPanelMode="date",this.timeOptions=null,this.hoverValue=[],this.checkedPartArr=[!1,!1],this.destroy$=new Ce,this.disabledStartTime=s=>this.disabledTime&&this.disabledTime(s,"start"),this.disabledEndTime=s=>this.disabledTime&&this.disabledTime(s,"end")}ngOnInit(){Mo(this.datePickerService.valueChange$,this.datePickerService.inputPartChange$).pipe(U(this.destroy$)).subscribe(()=>{this.updateActiveDate(),this.cdr.markForCheck()}),this.ngZone.runOutsideAngular(()=>{gi(this.host.nativeElement,"mousedown").pipe(U(this.destroy$)).subscribe(n=>n.preventDefault())})}ngOnChanges(n){(n.showTime||n.disabledTime)&&this.showTime&&this.buildTimeOptions(),n.panelMode&&(this.endPanelMode=this.panelMode),n.defaultPickerValue&&this.updateActiveDate()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}updateActiveDate(){let n=this.datePickerService.hasValue()?this.datePickerService.value:this.datePickerService.makeValue(this.defaultPickerValue);this.datePickerService.setActiveDate(n,this.hasTimePicker,this.getPanelMode(this.endPanelMode))}onClickOk(){let n={left:0,right:1}[this.datePickerService.activeInput],r=this.isRange?this.datePickerService.value[n]:this.datePickerService.value;this.changeValueFromSelect(r),this.resultOk.emit()}onClickToday(n){this.changeValueFromSelect(n,!this.showTime)}onCellHover(n){if(!this.isRange)return;let r={left:1,right:0}[this.datePickerService.activeInput],o=this.datePickerService.value[r];o&&(o.isBeforeDay(n)?this.hoverValue=[o,n]:this.hoverValue=[n,o])}onPanelModeChange(n,r){this.isRange?this.datePickerService.getActiveIndex(r)===0?this.panelMode=[n,this.panelMode[1]]:this.panelMode=[this.panelMode[0],n]:this.panelMode=n,this.panelModeChange.emit(this.panelMode)}onActiveDateChange(n,r){if(this.isRange){let o=[];o[this.datePickerService.getActiveIndex(r)]=n,this.datePickerService.setActiveDate(o,this.hasTimePicker,this.getPanelMode(this.endPanelMode,r))}else this.datePickerService.setActiveDate(n)}onSelectTime(n,r){if(this.isRange){let o=cr(this.datePickerService.value),a=this.datePickerService.getActiveIndex(r);o[a]=this.overrideHms(n,o[a]),this.datePickerService.setValue(o)}else{let o=this.overrideHms(n,this.datePickerService.value);this.datePickerService.setValue(o)}this.datePickerService.inputPartChange$.next(null),this.buildTimeOptions()}changeValueFromSelect(n,r=!0){if(this.isRange){let o=cr(this.datePickerService.value),a=this.datePickerService.activeInput,s=a;o[this.datePickerService.getActiveIndex(a)]=n,this.checkedPartArr[this.datePickerService.getActiveIndex(a)]=!0,this.hoverValue=o,r?this.inline?(s=this.reversedPart(a),s==="right"&&(o[this.datePickerService.getActiveIndex(s)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(s)]=!1),this.datePickerService.setValue(o),this.calendarChange.emit(o),this.isBothAllowed(o)&&this.checkedPartArr[0]&&this.checkedPartArr[1]&&(this.clearHoverValue(),this.datePickerService.emitValue$.next())):(fs(o)&&(s=this.reversedPart(a),o[this.datePickerService.getActiveIndex(s)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(s)]=!1),this.datePickerService.setValue(o),this.isBothAllowed(o)&&this.checkedPartArr[0]&&this.checkedPartArr[1]?(this.calendarChange.emit(o),this.clearHoverValue(),this.datePickerService.emitValue$.next()):this.isAllowed(o)&&(s=this.reversedPart(a),this.calendarChange.emit([n.clone()]))):this.datePickerService.setValue(o),this.datePickerService.inputPartChange$.next(s)}else this.datePickerService.setValue(n),this.datePickerService.inputPartChange$.next(null),r&&this.isAllowed(n)&&this.datePickerService.emitValue$.next();this.buildTimeOptions()}reversedPart(n){return n==="left"?"right":"left"}getPanelMode(n,r){return this.isRange?n[this.datePickerService.getActiveIndex(r)]:n}getValue(n){return this.isRange?(this.datePickerService.value||[])[this.datePickerService.getActiveIndex(n)]:this.datePickerService.value}getActiveDate(n){return this.isRange?this.datePickerService.activeDate[this.datePickerService.getActiveIndex(n)]:this.datePickerService.activeDate}isOneAllowed(n){let r=this.datePickerService.getActiveIndex(),o=[this.disabledStartTime,this.disabledEndTime];return aa(n[r],this.disabledDate,o[r])}isBothAllowed(n){return aa(n[0],this.disabledDate,this.disabledStartTime)&&aa(n[1],this.disabledDate,this.disabledEndTime)}isAllowed(n,r=!1){return this.isRange?r?this.isBothAllowed(n):this.isOneAllowed(n):aa(n,this.disabledDate,this.disabledTime)}getTimeOptions(n){return this.showTime&&this.timeOptions?this.timeOptions instanceof Array?this.timeOptions[this.datePickerService.getActiveIndex(n)]:this.timeOptions:null}onClickPresetRange(n){let r=typeof n=="function"?n():n;r&&(this.datePickerService.setValue([new We(r[0]),new We(r[1])]),this.datePickerService.emitValue$.next())}onPresetRangeMouseLeave(){this.clearHoverValue()}onHoverPresetRange(n){typeof n!="function"&&(this.hoverValue=[new We(n[0]),new We(n[1])])}getObjectKeys(n){return n?Object.keys(n):[]}show(n){return!(this.showTime&&this.isRange&&this.datePickerService.activeInput!==n)}clearHoverValue(){this.hoverValue=[]}buildTimeOptions(){if(this.showTime){let n=typeof this.showTime=="object"?this.showTime:{};if(this.isRange){let r=this.datePickerService.value;this.timeOptions=[this.overrideTimeOptions(n,r[0],"start"),this.overrideTimeOptions(n,r[1],"end")]}else this.timeOptions=this.overrideTimeOptions(n,this.datePickerService.value)}else this.timeOptions=null}overrideTimeOptions(n,r,o){let a;return o?a=o==="start"?this.disabledStartTime:this.disabledEndTime:a=this.disabledTime,$($({},n),Cu(r,a))}overrideHms(n,r){return n=n||new We,r=r||new We,r.setHms(n.getHours(),n.getMinutes(),n.getSeconds())}};e.\u0275fac=function(r){return new(r||e)(I(Ds),I(qe),I(ot),I(St))},e.\u0275cmp=L({type:e,selectors:[["date-range-popup"]],inputs:{isRange:"isRange",inline:"inline",showWeek:"showWeek",locale:"locale",disabledDate:"disabledDate",disabledTime:"disabledTime",showToday:"showToday",showNow:"showNow",showTime:"showTime",extraFooter:"extraFooter",ranges:"ranges",dateRender:"dateRender",panelMode:"panelMode",defaultPickerValue:"defaultPickerValue",dir:"dir"},outputs:{panelModeChange:"panelModeChange",calendarChange:"calendarChange",resultOk:"resultOk"},exportAs:["dateRangePopup"],features:[Ae],decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["singlePanel",""],["tplInnerPopup",""],["tplFooter",""],["tplRangeQuickSelector",""],["noTimePicker",""],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","-1"],[3,"showWeek","endPanelMode","partType","locale","showTimePicker","timeOptions","panelMode","activeDate","value","disabledDate","dateRender","selectedValue","hoverValue","panelModeChange","cellHover","selectDate","selectTime","headerChange"],[3,"locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector","clickOk","clickToday",4,"ngIf"],[3,"locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector","clickOk","clickToday"],[3,"class","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[3,"click","mouseenter","mouseleave"],[1,"ant-tag","ant-tag-blue"]],template:function(r,o){if(r&1&&b(0,y_,9,19,"ng-container",0)(1,z_,4,13,"ng-template",null,1,ye)(3,x_,2,18,"ng-template",null,2,ye)(5,w_,1,1,"ng-template",null,3,ye)(7,k_,1,1,"ng-template",null,4,ye),r&2){let a=ae(2);u("ngIf",o.isRange)("ngIfElse",a)}},dependencies:[dt,ut,Pe,Z_,cg],encapsulation:2,changeDetection:0});let i=e;return i})(),ks={position:"relative"},dg="datePicker",Pn=class Pn{get nzShowTime(){return this.showTime}set nzShowTime(e){this.showTime=typeof e=="object"?e:xn(e)}get realOpenState(){return this.isOpenHandledByUser()?!!this.nzOpen:this.overlayOpen}ngAfterViewInit(){this.nzAutoFocus&&this.focus(),this.isRange&&this.platform.isBrowser&&this.nzResizeObserver.observe(this.elementRef).pipe(U(this.destroy$)).subscribe(()=>{this.updateInputWidthAndArrowLeft()}),this.datePickerService.inputPartChange$.pipe(U(this.destroy$)).subscribe(e=>{e&&(this.datePickerService.activeInput=e),this.focus(),this.updateInputWidthAndArrowLeft()}),this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>gi(this.elementRef.nativeElement,"mousedown").pipe(U(this.destroy$)).subscribe(e=>{e.target.tagName.toLowerCase()!=="input"&&e.preventDefault()}))}updateInputWidthAndArrowLeft(){this.inputWidth=this.rangePickerInputs?.first?.nativeElement.offsetWidth||0;let e={position:"absolute",width:`${this.inputWidth}px`};this.datePickerService.arrowLeft=this.datePickerService.activeInput==="left"?0:this.inputWidth+this.separatorElement?.nativeElement.offsetWidth||0,this.dir==="rtl"?this.activeBarStyle=Ie($({},e),{right:`${this.datePickerService.arrowLeft}px`}):this.activeBarStyle=Ie($({},e),{left:`${this.datePickerService.arrowLeft}px`}),this.cdr.markForCheck()}getInput(e){if(!this.nzInline)return this.isRange?e==="left"?this.rangePickerInputs?.first.nativeElement:this.rangePickerInputs?.last.nativeElement:this.pickerInput.nativeElement}focus(){let e=this.getInput(this.datePickerService.activeInput);this.document.activeElement!==e&&e?.focus()}onFocus(e,t){e.preventDefault(),t&&this.datePickerService.inputPartChange$.next(t),this.renderClass(!0)}onFocusout(e){e.preventDefault(),this.onTouchedFn(),this.elementRef.nativeElement.contains(e.relatedTarget)||this.checkAndClose(),this.renderClass(!1)}open(){this.nzInline||!this.realOpenState&&!this.nzDisabled&&(this.updateInputWidthAndArrowLeft(),this.overlayOpen=!0,this.nzOnOpenChange.emit(!0),this.focus(),this.cdr.markForCheck())}close(){this.nzInline||this.realOpenState&&(this.overlayOpen=!1,this.nzOnOpenChange.emit(!1))}showClear(){return!this.nzDisabled&&!this.isEmptyValue(this.datePickerService.value)&&this.nzAllowClear}checkAndClose(){if(this.realOpenState)if(this.panel.isAllowed(this.datePickerService.value,!0)){if(Array.isArray(this.datePickerService.value)&&fs(this.datePickerService.value)){let e=this.datePickerService.getActiveIndex(),t=this.datePickerService.value[e];this.panel.changeValueFromSelect(t,!0);return}this.updateInputValue(),this.datePickerService.emitValue$.next()}else this.datePickerService.setValue(this.datePickerService.initialValue),this.close()}onClickInputBox(e){e.stopPropagation(),this.focus(),this.isOpenHandledByUser()||this.open()}onOverlayKeydown(e){e.keyCode===27&&this.datePickerService.initValue()}onPositionChange(e){this.currentPositionX=e.connectionPair.originX,this.currentPositionY=e.connectionPair.originY,this.cdr.detectChanges()}onClickClear(e){e.preventDefault(),e.stopPropagation(),this.datePickerService.initValue(!0),this.datePickerService.emitValue$.next()}updateInputValue(){let e=this.datePickerService.value;this.isRange?this.inputValue=e?e.map(t=>this.formatValue(t)):["",""]:this.inputValue=this.formatValue(e),this.cdr.markForCheck()}formatValue(e){return this.dateHelper.format(e&&e.nativeDate,this.nzFormat)}onInputChange(e,t=!1){if(!this.platform.TRIDENT&&this.document.activeElement===this.getInput(this.datePickerService.activeInput)&&!this.realOpenState){this.open();return}let n=this.checkValidDate(e);n&&this.realOpenState&&this.panel.changeValueFromSelect(n,t)}onKeyupEnter(e){this.onInputChange(e.target.value,!0)}checkValidDate(e){let t=new We(this.dateHelper.parseDate(e,this.nzFormat));return!t.isValid()||e!==this.dateHelper.format(t.nativeDate,this.nzFormat)?null:t}getPlaceholder(e){return this.isRange?this.nzPlaceHolder[this.datePickerService.getActiveIndex(e)]:this.nzPlaceHolder}isEmptyValue(e){return e===null?!0:this.isRange?!e||!Array.isArray(e)||e.every(t=>!t):!e}isOpenHandledByUser(){return this.nzOpen!==void 0}constructor(e,t,n,r,o,a,s,c,h,f,v,S,z,E,C,D){this.nzConfigService=e,this.datePickerService=t,this.i18n=n,this.cdr=r,this.renderer=o,this.ngZone=a,this.elementRef=s,this.dateHelper=c,this.nzResizeObserver=h,this.platform=f,this.destroy$=v,this.directionality=z,this.noAnimation=E,this.nzFormStatusService=C,this.nzFormNoStatusService=D,this._nzModuleName=dg,this.isRange=!1,this.dir="ltr",this.statusCls={},this.status="",this.hasFeedback=!1,this.panelMode="date",this.isCustomPlaceHolder=!1,this.isCustomFormat=!1,this.showTime=!1,this.isNzDisableFirstChange=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1,this.nzInline=!1,this.nzPlaceHolder="",this.nzPopupStyle=ks,this.nzSize="default",this.nzStatus="",this.nzShowToday=!0,this.nzMode="date",this.nzShowNow=!0,this.nzDefaultPickerValue=null,this.nzSeparator=void 0,this.nzSuffixIcon="calendar",this.nzBackdrop=!1,this.nzId=null,this.nzPlacement="bottomLeft",this.nzShowWeekNumber=!1,this.nzOnPanelChange=new ge,this.nzOnCalendarChange=new ge,this.nzOnOk=new ge,this.nzOnOpenChange=new ge,this.inputSize=12,this.prefixCls=sa,this.activeBarStyle={},this.overlayOpen=!1,this.overlayPositions=[..._s],this.currentPositionX="start",this.currentPositionY="bottom",this.onChangeFn=()=>{},this.onTouchedFn=()=>{},this.document=S,this.origin=new Wo(this.elementRef)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(qi((e,t)=>e.status===t.status&&e.hasFeedback===t.hasFeedback),Ro(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:yn(!1)),Lt(([{status:e,hasFeedback:t},n])=>({status:n?"":e,hasFeedback:t})),U(this.destroy$)).subscribe(({status:e,hasFeedback:t})=>{this.setStatusStyles(e,t)}),this.nzLocale||this.i18n.localeChange.pipe(U(this.destroy$)).subscribe(()=>this.setLocale()),this.datePickerService.isRange=this.isRange,this.datePickerService.initValue(!0),this.datePickerService.emitValue$.pipe(U(this.destroy$)).subscribe(()=>{let e=this.showTime?"second":"day",t=this.datePickerService.value,n=this.datePickerService.initialValue;if(!this.isRange&&t?.isSame(n?.nativeDate,e))return this.onTouchedFn(),this.close();if(this.isRange){let[r,o]=n,[a,s]=t;if(r?.isSame(a?.nativeDate,e)&&o?.isSame(s?.nativeDate,e))return this.onTouchedFn(),this.close()}if(this.datePickerService.initialValue=cr(t),this.isRange){let r=t;r.length?this.onChangeFn([r[0]?.nativeDate??null,r[1]?.nativeDate??null]):this.onChangeFn([])}else t?this.onChangeFn(t.nativeDate):this.onChangeFn(null);this.onTouchedFn(),this.close()}),this.directionality.change?.pipe(U(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.inputValue=this.isRange?["",""]:"",this.setModeAndFormat(),this.datePickerService.valueChange$.pipe(U(this.destroy$)).subscribe(()=>{this.updateInputValue()})}ngOnChanges(e){let{nzStatus:t,nzPlacement:n}=e;e.nzPopupStyle&&(this.nzPopupStyle=this.nzPopupStyle?$($({},this.nzPopupStyle),ks):ks),e.nzPlaceHolder?.currentValue&&(this.isCustomPlaceHolder=!0),e.nzFormat?.currentValue&&(this.isCustomFormat=!0),e.nzLocale&&this.setDefaultPlaceHolder(),e.nzRenderExtraFooter&&(this.extraFooter=Ki(this.nzRenderExtraFooter)),e.nzMode&&(this.setDefaultPlaceHolder(),this.setModeAndFormat()),t&&this.setStatusStyles(this.nzStatus,this.hasFeedback),n&&this.setPlacement(this.nzPlacement)}setModeAndFormat(){let e={year:"yyyy",month:"yyyy-MM",week:"YYYY-ww",date:this.nzShowTime?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd"};this.nzMode||(this.nzMode="date"),this.panelMode=this.isRange?[this.nzMode,this.nzMode]:this.nzMode,this.isCustomFormat||(this.nzFormat=e[this.nzMode]),this.inputSize=Math.max(10,this.nzFormat.length)+2,this.updateInputValue()}onOpenChange(e){this.nzOnOpenChange.emit(e)}writeValue(e){this.setValue(e),this.cdr.markForCheck()}registerOnChange(e){this.onChangeFn=e}registerOnTouched(e){this.onTouchedFn=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.cdr.markForCheck(),this.isNzDisableFirstChange=!1}setLocale(){this.nzLocale=this.i18n.getLocaleData("DatePicker",{}),this.setDefaultPlaceHolder(),this.cdr.markForCheck()}setDefaultPlaceHolder(){if(!this.isCustomPlaceHolder&&this.nzLocale){let e={year:this.getPropertyOfLocale("yearPlaceholder"),month:this.getPropertyOfLocale("monthPlaceholder"),week:this.getPropertyOfLocale("weekPlaceholder"),date:this.getPropertyOfLocale("placeholder")},t={year:this.getPropertyOfLocale("rangeYearPlaceholder"),month:this.getPropertyOfLocale("rangeMonthPlaceholder"),week:this.getPropertyOfLocale("rangeWeekPlaceholder"),date:this.getPropertyOfLocale("rangePlaceholder")};this.nzPlaceHolder=this.isRange?t[this.nzMode]:e[this.nzMode]}}getPropertyOfLocale(e){return this.nzLocale.lang[e]||this.i18n.getLocaleData(`DatePicker.lang.${e}`)}setValue(e){let t=this.datePickerService.makeValue(e);this.datePickerService.setValue(t),this.datePickerService.initialValue=cr(t),this.cdr.detectChanges()}renderClass(e){e?this.renderer.addClass(this.elementRef.nativeElement,"ant-picker-focused"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-picker-focused")}onPanelModeChange(e){this.nzOnPanelChange.emit(e)}onCalendarChange(e){if(this.isRange&&Array.isArray(e)){let t=e.filter(n=>n instanceof We).map(n=>n.nativeDate);this.nzOnCalendarChange.emit(t)}}onResultOk(){if(this.isRange){let e=this.datePickerService.value;e.length?this.nzOnOk.emit([e[0]?.nativeDate||null,e[1]?.nativeDate||null]):this.nzOnOk.emit([])}else this.datePickerService.value?this.nzOnOk.emit(this.datePickerService.value.nativeDate):this.nzOnOk.emit(null)}setStatusStyles(e,t){this.status=e,this.hasFeedback=t,this.cdr.markForCheck(),this.statusCls=qo(this.prefixCls,e,t),Object.keys(this.statusCls).forEach(n=>{this.statusCls[n]?this.renderer.addClass(this.elementRef.nativeElement,n):this.renderer.removeClass(this.elementRef.nativeElement,n)})}setPlacement(e){let t=Gd[e];this.overlayPositions=[t,..._s],this.currentPositionX=t.originX,this.currentPositionY=t.originY}};Pn.\u0275fac=function(t){return new(t||Pn)(I(Gi),I(Ds),I(Sn),I(qe),I(rr),I(ot),I(St),I(ti),I(Qd),I(sr),I(ta),I(Cd),I(Ft,8),I(ms,9),I(rt,8),I(Zo,8))},Pn.\u0275cmp=L({type:Pn,selectors:[["nz-date-picker"],["nz-week-picker"],["nz-month-picker"],["nz-year-picker"],["nz-range-picker"]],viewQuery:function(t,n){if(t&1&&(Xe(lr,5),Xe(_u,5),Xe(D_,5),Xe(E_,5),Xe(I_,5)),t&2){let r;Me(r=Fe())&&(n.cdkConnectedOverlay=r.first),Me(r=Fe())&&(n.panel=r.first),Me(r=Fe())&&(n.separatorElement=r.first),Me(r=Fe())&&(n.pickerInput=r.first),Me(r=Fe())&&(n.rangePickerInputs=r)}},hostVars:16,hostBindings:function(t,n){t&1&&P("click",function(o){return n.onClickInputBox(o)}),t&2&&W("ant-picker",!0)("ant-picker-range",n.isRange)("ant-picker-large",n.nzSize==="large")("ant-picker-small",n.nzSize==="small")("ant-picker-disabled",n.nzDisabled)("ant-picker-rtl",n.dir==="rtl")("ant-picker-borderless",n.nzBorderless)("ant-picker-inline",n.nzInline)},inputs:{nzAllowClear:"nzAllowClear",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzBorderless:"nzBorderless",nzInputReadOnly:"nzInputReadOnly",nzInline:"nzInline",nzOpen:"nzOpen",nzDisabledDate:"nzDisabledDate",nzLocale:"nzLocale",nzPlaceHolder:"nzPlaceHolder",nzPopupStyle:"nzPopupStyle",nzDropdownClassName:"nzDropdownClassName",nzSize:"nzSize",nzStatus:"nzStatus",nzFormat:"nzFormat",nzDateRender:"nzDateRender",nzDisabledTime:"nzDisabledTime",nzRenderExtraFooter:"nzRenderExtraFooter",nzShowToday:"nzShowToday",nzMode:"nzMode",nzShowNow:"nzShowNow",nzRanges:"nzRanges",nzDefaultPickerValue:"nzDefaultPickerValue",nzSeparator:"nzSeparator",nzSuffixIcon:"nzSuffixIcon",nzBackdrop:"nzBackdrop",nzId:"nzId",nzPlacement:"nzPlacement",nzShowWeekNumber:"nzShowWeekNumber",nzShowTime:"nzShowTime"},outputs:{nzOnPanelChange:"nzOnPanelChange",nzOnCalendarChange:"nzOnCalendarChange",nzOnOk:"nzOnOk",nzOnOpenChange:"nzOnOpenChange"},exportAs:["nzDatePicker"],features:[lt([ta,Ds,{provide:ii,multi:!0,useExisting:Wi(()=>Pn)}]),Ae],decls:8,vars:7,consts:[[4,"ngIf","ngIfElse"],["tplRangeInput",""],["tplRightRest",""],["inlineMode",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn","positionChange","detach","overlayKeydown"],[3,"class",4,"ngIf"],[4,"ngIf"],["autocomplete","off",3,"disabled","readOnly","ngModel","placeholder","size","ngModelChange","focus","focusout","keyup.enter"],["pickerInput",""],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["separatorElement",""],[4,"nzStringTemplateOutlet"],["defaultSeparator",""],["nz-icon","","nzType","swap-right","nzTheme","outline"],["autocomplete","off",3,"disabled","readOnly","size","ngModel","placeholder","click","focusout","focus","keyup.enter","ngModelChange"],["rangePickerInput",""],[3,"ngStyle"],[3,"class","click",4,"ngIf"],[3,"status",4,"ngIf"],[3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],["nz-icon","",3,"nzType"],[3,"status"],[3,"isRange","inline","defaultPickerValue","showWeek","panelMode","locale","showToday","showNow","showTime","dateRender","disabledDate","disabledTime","extraFooter","ranges","dir","panelModeChange","calendarChange","resultOk"],[1,"ant-picker-wrapper",2,"position","relative",3,"nzNoAnimation"]],template:function(t,n){if(t&1&&(b(0,H_,3,2,"ng-container",0)(1,j_,2,6,"ng-template",null,1,ye)(3,W_,5,10,"ng-template",null,2,ye)(5,U_,2,36,"ng-template",null,3,ye)(7,K_,2,3,"ng-template",4),P("positionChange",function(o){return n.onPositionChange(o)})("detach",function(){return n.close()})("overlayKeydown",function(o){return n.onOverlayKeydown(o)})),t&2){let r=ae(6);u("ngIf",!n.nzInline)("ngIfElse",r),l(7),u("cdkConnectedOverlayHasBackdrop",n.nzBackdrop)("cdkConnectedOverlayOrigin",n.origin)("cdkConnectedOverlayOpen",n.realOpenState)("cdkConnectedOverlayPositions",n.overlayPositions)("cdkConnectedOverlayTransformOriginOn",".ant-picker-wrapper")}},dependencies:[Dd,ut,Pe,Lo,Ji,je,$e,lr,nt,ia,ms,Jo,Mi,Ze,_u],encapsulation:2,data:{animation:[Xo]},changeDetection:0});var Ue=Pn;V([ee()],Ue.prototype,"nzAllowClear",void 0);V([ee()],Ue.prototype,"nzAutoFocus",void 0);V([ee()],Ue.prototype,"nzDisabled",void 0);V([ee()],Ue.prototype,"nzBorderless",void 0);V([ee()],Ue.prototype,"nzInputReadOnly",void 0);V([ee()],Ue.prototype,"nzInline",void 0);V([ee()],Ue.prototype,"nzOpen",void 0);V([ee()],Ue.prototype,"nzShowToday",void 0);V([ee()],Ue.prototype,"nzShowNow",void 0);V([De()],Ue.prototype,"nzSeparator",void 0);V([De()],Ue.prototype,"nzSuffixIcon",void 0);V([De()],Ue.prototype,"nzBackdrop",void 0);V([ee()],Ue.prototype,"nzShowWeekNumber",void 0);var gu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=xt({type:e}),e.\u0275inj=zt({imports:[wt,ni,Ko,Ts,Fi]});let i=e;return i})(),bu=(()=>{let e=class e{constructor(n){this.datePicker=n,this.datePicker.nzMode="month"}};e.\u0275fac=function(r){return new(r||e)(I(Ue,9))},e.\u0275dir=Be({type:e,selectors:[["nz-month-picker"]],exportAs:["nzMonthPicker"]});let i=e;return i})(),zu=(()=>{let e=class e{constructor(n){this.datePicker=n,this.datePicker.isRange=!0}};e.\u0275fac=function(r){return new(r||e)(I(Ue,9))},e.\u0275dir=Be({type:e,selectors:[["nz-range-picker"]],exportAs:["nzRangePicker"]});let i=e;return i})(),xu=(()=>{let e=class e{constructor(n){this.datePicker=n,this.datePicker.nzMode="week"}};e.\u0275fac=function(r){return new(r||e)(I(Ue,9))},e.\u0275dir=Be({type:e,selectors:[["nz-week-picker"]],exportAs:["nzWeekPicker"]});let i=e;return i})(),Su=(()=>{let e=class e{constructor(n){this.datePicker=n,this.datePicker.nzMode="year"}};e.\u0275fac=function(r){return new(r||e)(I(Ue,9))},e.\u0275dir=Be({type:e,selectors:[["nz-year-picker"]],exportAs:["nzYearPicker"]});let i=e;return i})(),wu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=xt({type:e}),e.\u0275inj=zt({imports:[Yt,wt,ni,Uo,gu,Qi,na,Md,ea,Fi,Ts,dr,gu]});let i=e;return i})();var Is=["*"];function pg(i,e){if(i&1&&(H(0),R(1),j()),i&2){let t=d(2);l(1),ke(t.innerTip)}}var hg=i=>[i],fg=i=>({$implicit:i});function mg(i,e){if(i&1&&(m(0,"div",4)(1,"div",5),b(2,pg,2,1,"ng-container",6),g()()),i&2){let t=d();u("@helpMotion",void 0),l(1),u("ngClass",et(4,hg,"ant-form-item-explain-"+t.status)),l(1),u("nzStringTemplateOutlet",t.innerTip)("nzStringTemplateOutletContext",et(6,fg,t.validateControl))}}function _g(i,e){if(i&1&&(H(0),R(1),j()),i&2){let t=d(2);l(1),ke(t.nzExtra)}}function gg(i,e){if(i&1&&(m(0,"div",7),b(1,_g,2,1,"ng-container",8),g()),i&2){let t=d();l(1),u("nzStringTemplateOutlet",t.nzExtra)}}function vg(i,e){if(i&1&&(H(0),O(1,"span",3),j()),i&2){let t=e.$implicit,n=d(2);l(1),u("nzType",t)("nzTheme",n.tooltipIcon.theme)}}function yg(i,e){if(i&1&&(m(0,"span",1),b(1,vg,2,2,"ng-container",2),g()),i&2){let t=d();u("nzTooltipTitle",t.nzTooltipTitle),l(1),u("nzStringTemplateOutlet",t.tooltipIcon.type)}}var $n=(()=>{let e=class e{setWithHelpViaTips(n){this.withHelpClass=n,this.cdr.markForCheck()}setStatus(n){this.status=n,this.cdr.markForCheck()}setHasFeedback(n){this.hasFeedback=n,this.cdr.markForCheck()}constructor(n){this.cdr=n,this.status="",this.hasFeedback=!1,this.withHelpClass=!1,this.destroy$=new Ce}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};e.\u0275fac=function(r){return new(r||e)(I(qe))},e.\u0275cmp=L({type:e,selectors:[["nz-form-item"]],hostAttrs:[1,"ant-form-item"],hostVars:12,hostBindings:function(r,o){r&2&&W("ant-form-item-has-success",o.status==="success")("ant-form-item-has-warning",o.status==="warning")("ant-form-item-has-error",o.status==="error")("ant-form-item-is-validating",o.status==="validating")("ant-form-item-has-feedback",o.hasFeedback&&o.status)("ant-form-item-with-help",o.withHelpClass)},exportAs:["nzFormItem"],ngContentSelectors:Is,decls:1,vars:0,template:function(r,o){r&1&&(at(),st(0))},encapsulation:2,changeDetection:0});let i=e;return i})(),Cg="form",Ps={type:"question-circle",theme:"outline"},hr=class hr{getInputObservable(e){return this.inputChanges$.pipe(Oi(t=>e in t),Lt(t=>t[e]))}constructor(e,t){this.nzConfigService=e,this.directionality=t,this._nzModuleName=Cg,this.nzLayout="horizontal",this.nzNoColon=!1,this.nzAutoTips={},this.nzDisableAutoTips=!1,this.nzTooltipIcon=Ps,this.nzLabelAlign="right",this.nzLabelWrap=!1,this.dir="ltr",this.destroy$=new Ce,this.inputChanges$=new Ce,this.dir=this.directionality.value,this.directionality.change?.pipe(U(this.destroy$)).subscribe(n=>{this.dir=n})}ngOnChanges(e){this.inputChanges$.next(e)}ngOnDestroy(){this.inputChanges$.complete(),this.destroy$.next(!0),this.destroy$.complete()}};hr.\u0275fac=function(t){return new(t||hr)(I(Gi),I(Ft,8))},hr.\u0275dir=Be({type:hr,selectors:[["","nz-form",""]],hostAttrs:[1,"ant-form"],hostVars:8,hostBindings:function(t,n){t&2&&W("ant-form-horizontal",n.nzLayout==="horizontal")("ant-form-vertical",n.nzLayout==="vertical")("ant-form-inline",n.nzLayout==="inline")("ant-form-rtl",n.dir==="rtl")},inputs:{nzLayout:"nzLayout",nzNoColon:"nzNoColon",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzTooltipIcon:"nzTooltipIcon",nzLabelAlign:"nzLabelAlign",nzLabelWrap:"nzLabelWrap"},exportAs:["nzForm"],features:[Ae]});var oi=hr;V([De(),ee()],oi.prototype,"nzNoColon",void 0);V([De()],oi.prototype,"nzAutoTips",void 0);V([ee()],oi.prototype,"nzDisableAutoTips",void 0);V([De()],oi.prototype,"nzTooltipIcon",void 0);V([De(),ee()],oi.prototype,"nzLabelWrap",void 0);var fT=(()=>{let e=class e{get disableAutoTips(){return this.nzDisableAutoTips!=="default"?xn(this.nzDisableAutoTips):this.nzFormDirective?.nzDisableAutoTips}set nzHasFeedback(n){this._hasFeedback=xn(n),this.nzFormStatusService.formStatusChanges.next({status:this.status,hasFeedback:this._hasFeedback}),this.nzFormItemComponent&&this.nzFormItemComponent.setHasFeedback(this._hasFeedback)}get nzHasFeedback(){return this._hasFeedback}set nzValidateStatus(n){n instanceof Ld||n instanceof $e?(this.validateControl=n,this.validateString=null,this.watchControl()):n instanceof Ud?(this.validateControl=n.control,this.validateString=null,this.watchControl()):(this.validateString=n,this.validateControl=null,this.setStatus())}watchControl(){this.validateChanges.unsubscribe(),this.validateControl&&this.validateControl.statusChanges&&(this.validateChanges=this.validateControl.statusChanges.pipe(ld(null),U(this.destroyed$)).subscribe(()=>{this.disableAutoTips||this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck()}))}setStatus(){this.status=this.getControlStatus(this.validateString),this.innerTip=this.getInnerTip(this.status),this.nzFormStatusService.formStatusChanges.next({status:this.status,hasFeedback:this.nzHasFeedback}),this.nzFormItemComponent&&(this.nzFormItemComponent.setWithHelpViaTips(!!this.innerTip),this.nzFormItemComponent.setStatus(this.status))}getControlStatus(n){let r;return n==="warning"||this.validateControlStatus("INVALID","warning")?r="warning":n==="error"||this.validateControlStatus("INVALID")?r="error":n==="validating"||n==="pending"||this.validateControlStatus("PENDING")?r="validating":n==="success"||this.validateControlStatus("VALID")?r="success":r="",r}validateControlStatus(n,r){if(this.validateControl){let{dirty:o,touched:a,status:s}=this.validateControl;return(!!o||!!a)&&(r?this.validateControl.hasError(r):s===n)}else return!1}getInnerTip(n){switch(n){case"error":return!this.disableAutoTips&&this.autoErrorTip||this.nzErrorTip||null;case"validating":return this.nzValidatingTip||null;case"success":return this.nzSuccessTip||null;case"warning":return this.nzWarningTip||null;default:return null}}updateAutoErrorTip(){if(this.validateControl){let n=this.validateControl.errors||{},r="";for(let o in n)if(n.hasOwnProperty(o)&&(r=n[o]?.[this.localeId]??this.nzAutoTips?.[this.localeId]?.[o]??this.nzAutoTips.default?.[o]??this.nzFormDirective?.nzAutoTips?.[this.localeId]?.[o]??this.nzFormDirective?.nzAutoTips.default?.[o]),r)break;this.autoErrorTip=r}}subscribeAutoTips(n){n?.pipe(U(this.destroyed$)).subscribe(()=>{this.disableAutoTips||(this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck())})}constructor(n,r,o,a,s){this.nzFormItemComponent=n,this.cdr=r,this.nzFormDirective=a,this.nzFormStatusService=s,this._hasFeedback=!1,this.validateChanges=rd.EMPTY,this.validateString=null,this.destroyed$=new Ce,this.status="",this.validateControl=null,this.innerTip=null,this.nzAutoTips={},this.nzDisableAutoTips="default",this.subscribeAutoTips(o.localeChange.pipe(cd(c=>this.localeId=c.locale))),this.subscribeAutoTips(this.nzFormDirective?.getInputObservable("nzAutoTips")),this.subscribeAutoTips(this.nzFormDirective?.getInputObservable("nzDisableAutoTips").pipe(Oi(()=>this.nzDisableAutoTips==="default")))}ngOnChanges(n){let{nzDisableAutoTips:r,nzAutoTips:o,nzSuccessTip:a,nzWarningTip:s,nzErrorTip:c,nzValidatingTip:h}=n;r||o?(this.updateAutoErrorTip(),this.setStatus()):(a||s||c||h)&&this.setStatus()}ngOnInit(){this.setStatus()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}ngAfterContentInit(){!this.validateControl&&!this.validateString&&(this.defaultValidateControl instanceof Wd?this.nzValidateStatus=this.defaultValidateControl.control:this.nzValidateStatus=this.defaultValidateControl)}};e.\u0275fac=function(r){return new(r||e)(I($n,9),I(qe),I(Sn),I(oi,8),I(rt))},e.\u0275cmp=L({type:e,selectors:[["nz-form-control"]],contentQueries:function(r,o,a){if(r&1&&Kr(a,Hd,5),r&2){let s;Me(s=Fe())&&(o.defaultValidateControl=s.first)}},hostAttrs:[1,"ant-form-item-control"],inputs:{nzSuccessTip:"nzSuccessTip",nzWarningTip:"nzWarningTip",nzErrorTip:"nzErrorTip",nzValidatingTip:"nzValidatingTip",nzExtra:"nzExtra",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzHasFeedback:"nzHasFeedback",nzValidateStatus:"nzValidateStatus"},exportAs:["nzFormControl"],features:[lt([rt]),Ae],ngContentSelectors:Is,decls:5,vars:2,consts:[[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["class","ant-form-item-explain ant-form-item-explain-connected",4,"ngIf"],["class","ant-form-item-extra",4,"ngIf"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],["role","alert",3,"ngClass"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-form-item-extra"],[4,"nzStringTemplateOutlet"]],template:function(r,o){r&1&&(at(),m(0,"div",0)(1,"div",1),st(2),g()(),b(3,mg,3,8,"div",2)(4,gg,2,1,"div",3)),r&2&&(l(3),u("ngIf",o.innerTip),l(1),u("ngIf",o.nzExtra))},dependencies:[ct,ut,Mi],encapsulation:2,data:{animation:[Qo]},changeDetection:0});let i=e;return i})();function Tu(i){let e=typeof i=="string"?{type:i}:i;return $($({},Ps),e)}var fr=class fr{set nzNoColon(e){this.noColon=xn(e)}get nzNoColon(){return this.noColon!=="default"?this.noColon:this.nzFormDirective?.nzNoColon}set nzTooltipIcon(e){this._tooltipIcon=Tu(e)}get tooltipIcon(){return this._tooltipIcon!=="default"?this._tooltipIcon:Tu(this.nzFormDirective?.nzTooltipIcon||Ps)}set nzLabelAlign(e){this.labelAlign=e}get nzLabelAlign(){return this.labelAlign!=="default"?this.labelAlign:this.nzFormDirective?.nzLabelAlign||"right"}set nzLabelWrap(e){this.labelWrap=xn(e)}get nzLabelWrap(){return this.labelWrap!=="default"?this.labelWrap:this.nzFormDirective?.nzLabelWrap}constructor(e,t){this.cdr=e,this.nzFormDirective=t,this.nzRequired=!1,this.noColon="default",this._tooltipIcon="default",this.labelAlign="default",this.labelWrap="default",this.destroy$=new Ce,this.nzFormDirective&&(this.nzFormDirective.getInputObservable("nzNoColon").pipe(Oi(()=>this.noColon==="default"),U(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzTooltipIcon").pipe(Oi(()=>this._tooltipIcon==="default"),U(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzLabelAlign").pipe(Oi(()=>this.labelAlign==="default"),U(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzLabelWrap").pipe(Oi(()=>this.labelWrap==="default"),U(this.destroy$)).subscribe(()=>this.cdr.markForCheck()))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};fr.\u0275fac=function(t){return new(t||fr)(I(qe),I(oi,12))},fr.\u0275cmp=L({type:fr,selectors:[["nz-form-label"]],hostAttrs:[1,"ant-form-item-label"],hostVars:4,hostBindings:function(t,n){t&2&&W("ant-form-item-label-left",n.nzLabelAlign==="left")("ant-form-item-label-wrap",n.nzLabelWrap)},inputs:{nzFor:"nzFor",nzRequired:"nzRequired",nzNoColon:"nzNoColon",nzTooltipTitle:"nzTooltipTitle",nzTooltipIcon:"nzTooltipIcon",nzLabelAlign:"nzLabelAlign",nzLabelWrap:"nzLabelWrap"},exportAs:["nzFormLabel"],ngContentSelectors:Is,decls:3,vars:6,consts:[["class","ant-form-item-tooltip","nz-tooltip","",3,"nzTooltipTitle",4,"ngIf"],["nz-tooltip","",1,"ant-form-item-tooltip",3,"nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType","nzTheme"]],template:function(t,n){t&1&&(at(),m(0,"label"),st(1),b(2,yg,2,2,"span",0),g()),t&2&&(W("ant-form-item-no-colon",n.nzNoColon)("ant-form-item-required",n.nzRequired),xe("for",n.nzFor),l(2),u("ngIf",n.nzTooltipTitle))},dependencies:[ut,nt,yi,Mi],encapsulation:2,changeDetection:0});var Es=fr;V([ee()],Es.prototype,"nzRequired",void 0);var ku=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=xt({type:e}),e.\u0275inj=zt({imports:[Yt,wt,Xr,Qi,ra,Pd,kd,Fi,Xr]});let i=e;return i})();var bg={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ingoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function mr(i){return i.merge("sf",bg)}var gt="/";function Os(i){return i==null}function Tt(i,e){return Yd(i,e)}function _r(i,...e){}function zg(i,e){let t=/^#\/definitions\/(.*)$/.exec(i);if(t&&t[1]){let n=t[1].split(gt),r=e;for(let o of n)if(o=o.replace(/~1/g,gt).replace(/~0/g,"~"),r.hasOwnProperty(o))r=r[o];else throw new Error(`Could not find a definition for ${i}.`);return r}throw new Error(`Could not find a definition for ${i}.`)}function io(i,e={}){if(i.hasOwnProperty("$ref")){let n=zg(i.$ref,e),t=i,{$ref:r}=t,o=id(t,["$ref"]);return io($($({},n),o),e)}return i}function Du(i,e){let t=(n,r)=>{xg(n,r),Object.keys(n.properties).forEach(o=>{let a=n.properties[o],s=`$${o}`;a.items&&t(a.items,r[s].$items),a.properties&&t(a,r[s])})};t(i,e)}function xg(i,e){if(!(i.hasOwnProperty("if")&&i.hasOwnProperty("then")))return null;if(!i.if.properties)throw new Error("if: does not contain 'properties'");let t=Object.keys(i.properties),n=Object.keys(i.if.properties);Ns(t,n),Ns(t,i.then.required),i.required=i.required.concat(i.then.required);let r=i.hasOwnProperty("else");r&&(Ns(t,i.else.required),i.required=i.required.concat(i.else.required));let o={},a={};return n.forEach(s=>{let c=i.if.properties[s].enum;o[s]=c,r&&(a[s]=h=>!c.includes(h))}),i.then.required.forEach(s=>e[`$${s}`].visibleIf=o),r&&i.else.required.forEach(s=>e[`$${s}`].visibleIf=a),i}function Ns(i,e){e.forEach(t=>{if(!i.includes(t))throw new Error(`if: properties does not contain '${t}'`)})}function Eu(i,e){if(!Array.isArray(e))return i;let t=f=>f.reduce((v,S)=>(v[S]=!0,v),{}),n=f=>`property [${f.join("', '")}]`,r=t(i),o=t(e),a=e.filter(f=>f!=="*"&&!r[f]);if(a.length)throw new Error(`ui schema order list contains extraneous ${n(a)}`);let s=i.filter(f=>!o[f]),c=e.indexOf("*");if(c===-1){if(s.length)throw new Error(`ui schema order list does not contain ${n(s)}`);return e}if(c!==e.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let h=[...e];return h.splice(c,1,...s),h}function Iu(i,e,t){return Os(i)||!Array.isArray(i)||i.length===0?[]:(typeof i[0]!="object"&&(i=i.map(n=>({label:n,value:n}))),e&&(Array.isArray(e)||(e=[e]),i.forEach(n=>{~e.indexOf(n.value)&&(n.checked=!0)})),t&&i.forEach(n=>n.disabled=!0),i)}function Sg(i,e,t){return Iu(zn(i||[]),e,t)}function gr(i,e,t,n){return typeof e.asyncData=="function"?e.asyncData(n).pipe(Lt(r=>Iu(r,t,i.readOnly))):yn(Sg(i.enum,t,i.readOnly))}var no=class{constructor(e,t,n,r,o,a,s,c){this.injector=e,this._options=c,this._errors=null,this._valueChanges=new Bi({path:null,pathValue:null,value:null}),this._errorsChanges=new Bi(null),this._visible=!0,this._visibilityChanges=new Bi(!0),this._objErrors={},this._value=null,this.schema=n,this.ui=r,this.schemaValidator=t.createValidatorFn(n,{ingoreKeywords:this.ui.ingoreKeywords,debug:r.debug}),this.formData=o||n.default,this._parent=a,a?this._root=a.root:this._root=this,this.path=s}get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(e=!1){this.widget?.detectChanges(e)}updateValueAndValidity(e){e=$({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updatePath:"",updateValue:null},e),this._updateValue(),e.emitValueEvent&&(e.updatePath=e.updatePath||this.path,e.updateValue=e.updateValue==null?this.value:e.updateValue,this.valueChanges.next({value:this.value,path:e.updatePath,pathValue:e.updateValue})),e.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!e.onlySelf&&this.parent.updateValueAndValidity(Ie($({},e),{emitValidator:!1}))}searchProperty(e){let t=this,n=null,r=null;if(e[0]===gt)n=this.findRoot(),r=n.getProperty(e.substring(1));else for(;r===null&&t.parent!==null;)t=n=t.parent,r=n.getProperty(e);return r}findRoot(){let e=this;for(;e.parent!==null;)e=e.parent;return e}isEmptyData(e){if(Os(e))return!0;switch(this.type){case"string":return`${e}`.length===0}return!1}_runValidation(){let e,t=this.isEmptyData(this._value);t&&this.ui._required?e=[{keyword:"required"}]:t?e=[]:e=this.schemaValidator(this._value)||[];let n=this.ui.validator;if(typeof n=="function"){let r=n(this.value,this,this.findRoot());if(r instanceof od){r.subscribe(o=>{this.setCustomErrors(e,o),this.cd(!1)});return}this.setCustomErrors(e,r);return}this._errors=e,this.setErrors(this._errors)}setCustomErrors(e,t){let n=Array.isArray(t)&&t.length>0;n&&t.forEach(r=>{if(!r.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");r.keyword=null}),this._errors=n?e.concat(...t):e,this.setErrors(this._errors)}setErrors(e=[],t=!0){let n=Array.isArray(e)?e:[e];if(t&&n&&!this.ui.onlyVisual){let r=this.widget&&this.widget.l.error||{};n=n.map(o=>{let a=o.keyword==null&&o.message?o.message:(this.ui.errors||{})[o.keyword]||this._options.errors[o.keyword]||r[o.keyword]||"";return a&&typeof a=="function"&&(a=a(o)),a&&(~a.indexOf("{")&&o.params&&(a=a.replace(/{([\.a-zA-Z0-9]+)}/g,(s,c)=>o.params[c]||"")),o.message=a),o})}this._errors=n,this._errorsChanges.next(n),this._parent&&this._parent.setParentAndPlatErrors(n,this.path)}setParentAndPlatErrors(e,t){this._objErrors[t]=e;let n=[];Object.keys(this._objErrors).forEach(r=>{let o=this.searchProperty(r);o&&!o.visible||n.push(...this._objErrors[r])}),this.setErrors(n,!1)}setVisible(e){return this._visible=e,this._visibilityChanges.next(e),e&&this.injector.get(ot).onStable.pipe(sd(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let e=this.ui.visibleIf;if(typeof e=="object"&&Object.keys(e).length===0)this.setVisible(!1);else if(e!=null){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=this.searchProperty(n);if(r){let o=r.valueChanges.pipe(Lt(c=>{let h=e[n];if(typeof h=="function"){let f=h(c.value,r);if(typeof f=="object"){let v=$({show:!1,required:!1},f),S=this.parent?.schema.required;if(S&&this.propertyId){let z=S.findIndex(E=>E===this.propertyId);v.required?z===-1&&S.push(this.propertyId):z!==-1&&S.splice(z,1),this.ui._required=v.required}return v.show}return f}return h.indexOf("$ANY$")!==-1?c.value&&c.value.length>0:h.indexOf(c.value)!==-1})),a=r._visibilityChanges,s=cs([o,a]).pipe(Lt(c=>c[0]&&c[1]));t.push(s)}}cs(t).pipe(Lt(n=>this.ui.visibleIfLogical==="and"?n.every(r=>r):n.some(r=>r)),qi()).subscribe(n=>this.setVisible(n))}}updateFeedback(e=""){this.ui.feedback=e,this.widget?.injector.get(rt).formStatusChanges.next({status:e,hasFeedback:!!e}),this.cd(!0)}},zi=class i extends no{constructor(){super(...arguments),this.properties=null}getProperty(e){let t=e.indexOf(gt),n=t!==-1?e.substring(0,t):e,r=this.properties[n];if(r!==null&&t!==-1&&r instanceof i){let o=e.substring(t+1);r=r.getProperty(o)}return r}forEachChild(e){for(let t in this.properties)if(this.properties.hasOwnProperty(t)){let n=this.properties[t];e(n,t)}}forEachChildRecursive(e){this.forEachChild(t=>{e(t),t instanceof i&&t.forEachChildRecursive(e)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(e=>{e._bindVisibility()})}isRoot(){return this===this.root}};var vr=class extends zi{get propertiesId(){return this._propertiesId}constructor(e,t,n,r,o,a,s,c,h){super(e,n,r,o,a,s,c,h),this.formPropertyFactory=t,this._propertiesId=[],this.createProperties()}createProperties(){this.properties={},this._propertiesId=[];let e;try{e=Eu(Object.keys(this.schema.properties),this.ui.order)}catch(t){console.error(`Invalid ${this.schema.title||"root"} object field configuration:`,t)}e.forEach(t=>{this.properties[t]=this.formPropertyFactory.createProperty(this.schema.properties[t],this.ui[`$${t}`],(this.formData||{})[t],this,t),this._propertiesId.push(t)})}setValue(e,t){let n=this.properties;for(let r in e)e.hasOwnProperty(r)&&n[r]&&n[r].setValue(e[r],!0);this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}resetValue(e,t){e=e||this.schema.default||{};let n=this.properties;for(let r in this.schema.properties)this.schema.properties.hasOwnProperty(r)&&n[r].resetValue(e[r],!0);this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let e={};this.forEachChild((t,n)=>{t.visible&&t._hasValue()&&(e[n]=t.value)}),this._value=e}};var yr=class extends zi{constructor(e,t,n,r,o,a,s,c,h){super(e,n,r,o,a,s,c,h),this.formPropertyFactory=t,this.properties=[]}getProperty(e){let t=e.indexOf(gt),n=+(t!==-1?e.substring(0,t):e),r=this.properties;if(isNaN(n)||n>=r.length)return;let o=e.substring(t+1);return r[n].getProperty(o)}setValue(e,t){this.properties=[],this.clearErrors(),this.resetProperties(e),this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}resetValue(e,t){this._value=e||this.schema.default||[],this.setValue(this._value,t)}_hasValue(){return!0}_updateValue(){let e=[];this.forEachChild(t=>{t.visible&&e.push($($({},this.widget?.cleanValue?null:t.formData),t.value))}),this._value=e}addProperty(e){let t=this.formPropertyFactory.createProperty(zn(this.schema.items),zn(this.ui.$items),e,this);return this.properties.push(t),t}resetProperties(e){for(let t of e)this.addProperty(t).resetValue(t,!0)}clearErrors(e){(e||this)._objErrors={}}add(e){let t=this.addProperty(e);return t.resetValue(e,!1),t}remove(e){let t=this.properties;this.clearErrors(),t.splice(e,1),t.forEach((n,r)=>{n.path=[n.parent.path,r].join(gt),this.clearErrors(n),n instanceof vr&&n.forEachChild(o=>{o.updateValueAndValidity()})}),t.length===0&&this.updateValueAndValidity()}};var nn=class extends no{setValue(e,t){this._value=e,this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}resetValue(e,t){e==null&&(e=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=e,this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0}),this.widget&&(this.widget.reset(e),this.cd(t))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}};var pa=class extends nn{fallbackValue(){return null}};var ha=class extends nn{fallbackValue(){return null}setValue(e,t){typeof e=="string"&&(e.length?e=e.indexOf(".")>-1?parseFloat(e):parseInt(e,10):e=void 0),this._value=e,this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}};var fa=class extends nn{fallbackValue(){return null}setValue(e,t){this._value=e??"",this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}};var Nn=class{constructor(e,t,n){this.injector=e,this.schemaValidatorFactory=t,this.options=mr(n)}createProperty(e,t,n,r=null,o){let a=null,s="";if(r)switch(s+=r.path,r.parent!==null&&(s+=gt),r.type){case"object":s+=o;break;case"array":s+=r.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${r.type}`)}else s=gt;if(e.$ref){let c=io(e,r.root.schema.definitions);a=this.createProperty(c,t,n,r,s)}else switch((o&&r.schema.required.indexOf(o.split(gt).pop())!==-1||t.showRequired===!0)&&(t._required=!0),e.title==null&&(e.title=o),(e.type==="string"||e.type==="number")&&!e.format&&!t.format?t.widget==="date"?t._format=e.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:t.widget==="time"&&(t._format=e.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):t._format=t.format,e.type){case"integer":case"number":a=new ha(this.injector,this.schemaValidatorFactory,e,t,n,r,s,this.options);break;case"string":a=new fa(this.injector,this.schemaValidatorFactory,e,t,n,r,s,this.options);break;case"boolean":a=new pa(this.injector,this.schemaValidatorFactory,e,t,n,r,s,this.options);break;case"object":a=new vr(this.injector,this,this.schemaValidatorFactory,e,t,n,r,s,this.options);break;case"array":a=new yr(this.injector,this,this.schemaValidatorFactory,e,t,n,r,s,this.options);break;default:throw new TypeError(`Undefined type ${e.type}`)}return a.propertyId=o,a instanceof zi&&this.initializeRoot(a),a}initializeRoot(e){e._bindVisibility()}};var rn=class{constructor(){this.onDestroy=new Ce}destroy(){this.onDestroy.next(!0)}};var hf=nd(fc()),ff=nd(df());function w2(i,e){if(!i)return"";let t=$({},typeof e=="string"?{mask:e}:e),n=$({0:{pattern:/\d/,default:"0"},9:{pattern:/\d/},"#":{pattern:/[a-zA-Z0-9]/},U:{pattern:/[a-zA-Z]/,transform:o=>o.toLocaleUpperCase()},L:{pattern:/[a-zA-Z]/,transform:o=>o.toLocaleLowerCase()},"*":{pattern:/.*/,transform:o=>"*"}},t.tokens),r=i.split("");return t.mask.split("").reduce((o,a)=>{let s=n[a];if(!s)return o.push(a),o;let c=r.shift()??"";return s.pattern.test(c)?(typeof s.transform=="function"?o.push(s.transform(c)):o.push(c),o):(s.default&&o.push(s.default),o)},[]).join("")}var Ln={num:"(([-+]?\\d+\\.\\d+)|([-+]?\\d+)|([-+]?\\.\\d+))(?:[eE]([-+]?\\d+))?",idCard:"(^\\d{15}$)|(^\\d{17}(?:[0-9]|X)$)",mobile:"^(0|\\+?86|17951)?1[0-9]{10}$",url:"(((^https?:(?://)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+(?::\\d+)?|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))?)",ip:"(?:^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$)|(?:^(?:(?:[a-fA-F\\d]{1,4}:){7}(?:[a-fA-F\\d]{1,4}|:)|(?:[a-fA-F\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-fA-F\\d]{1,4}|:)|(?:[a-fA-F\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,2}|:)|(?:[a-fA-F\\d]{1,4}:){4}(?:(?::[a-fA-F\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,3}|:)|(?:[a-fA-F\\d]{1,4}:){3}(?:(?::[a-fA-F\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,4}|:)|(?:[a-fA-F\\d]{1,4}:){2}(?:(?::[a-fA-F\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,5}|:)|(?:[a-fA-F\\d]{1,4}:){1}(?:(?::[a-fA-F\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,6}|:)|(?::(?:(?::[a-fA-F\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,7}|:)))(?:%[0-9a-zA-Z]{1,})?$)",color:"(?:#|0x)(?:[a-f0-9]{3}|[a-f0-9]{6})\\b|(?:rgb|hsl)a?\\([^\\)]*\\)",chinese:"[\u4E00-\u9FA5]+"};function Bn(i,e){return new RegExp(`^${i}$`,e)}var Qa={num:Bn(Ln.num),idCard:Bn(Ln.idCard,"i"),mobile:Bn(Ln.mobile),url:Bn(Ln.url),ip:Bn(Ln.ip),color:Bn(Ln.color),chinese:Bn(Ln.chinese)};var uf=[{unit:"Q",value:Math.pow(10,15)},{unit:"T",value:Math.pow(10,12)},{unit:"B",value:Math.pow(10,9)},{unit:"M",value:Math.pow(10,6)},{unit:"K",value:1e3}];var M2=(()=>{let e=class e{constructor(n,r,o="USD"){this.locale=r,this.currencyPipe=new Sd(r,o),this.c=n.merge("utilCurrency",{startingUnit:"yuan",megaUnit:{Q:"\u4EAC",T:"\u5146",B:"\u4EBF",M:"\u4E07",K:"\u5343"},precision:2,ingoreZeroPrecision:!0})}format(n,r){r=$({startingUnit:this.c.startingUnit,precision:this.c.precision,ingoreZeroPrecision:this.c.ingoreZeroPrecision,ngCurrency:this.c.ngCurrency},r);let o=Number(n);if(n==null||isNaN(o))return"";if(r.startingUnit==="cent"&&(o=o/100),r.ngCurrency!=null){let s=r.ngCurrency;return this.currencyPipe.transform(o,s.currencyCode,s.display,s.digitsInfo,s.locale||this.locale)}let a=bd(o,this.locale,`.${r.ingoreZeroPrecision?1:r.precision}-${r.precision}`);return r.ingoreZeroPrecision?a.replace(/(?:\.[0]+)$/g,""):a}mega(n,r){r=$({precision:this.c.precision,unitI18n:this.c.megaUnit,startingUnit:this.c.startingUnit},r);let o=Number(n),a={raw:n,value:"",unit:"",unitI18n:""};if(isNaN(o)||o===0)return a.value=n.toString(),a;r.startingUnit==="cent"&&(o=o/100);let s=Math.abs(+o),c=Math.pow(10,r.precision),h=o<0;for(let f of uf){let v=s/f.value;if(v=Math.round(v*c)/c,v>=1){s=v,a.unit=f.unit;break}}return a.value=(h?"-":"")+s,a.unitI18n=r.unitI18n[a.unit],a}cny(n,r){if(r=$({inWords:!0,minusSymbol:"\u8D1F",startingUnit:this.c.startingUnit},r),n=Number(n),isNaN(n))return"";r.startingUnit==="cent"&&(n=n/100),n=n.toString();let o,a;[o,a]=n.split(".");let s="";o.startsWith("-")&&(s=r.minusSymbol,o=o.substring(1)),/^-?\d+$/.test(n)&&(a=null),o=(+o).toString();let c=r.inWords,h={num:c?["","\u58F9","\u8D30","\u53C1","\u8086","\u4F0D","\u9646","\u67D2","\u634C","\u7396","\u70B9"]:["","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u70B9"],radice:c?["","\u62FE","\u4F70","\u4EDF","\u4E07","\u62FE","\u4F70","\u4EDF","\u4EBF","\u62FE","\u4F70","\u4EDF","\u4E07\u4EBF","\u62FE","\u4F70","\u4EDF","\u5146","\u62FE","\u4F70","\u4EDF"]:["","\u5341","\u767E","\u5343","\u4E07","\u5341","\u767E","\u5343","\u4EBF","\u5341","\u767E","\u5343","\u4E07\u4EBF","\u5341","\u767E","\u5343","\u5146","\u5341","\u767E","\u5343"],dec:["\u89D2","\u5206","\u5398","\u6BEB"]};c&&(n=(+n).toFixed(5).toString());let f="",v=o.length;if(o==="0"||v===0)f="\u96F6";else{let C="";for(let D=0;D<v;D++){let N=+o[D],K=v-D-1,_e=D>1&&N!==0&&o[D-1]==="0"?"\u96F6":"",G=N===0&&K%4!==0||o.substring(D-3,D-3+4)==="0000",It=C,Pt=h.num[N];C=G?"":h.radice[K],D===0&&Pt==="\u4E00"&&C==="\u5341"&&(Pt=""),N>1&&Pt==="\u4E8C"&&["","\u5341","\u767E"].indexOf(C)===-1&&It!=="\u5341"&&(Pt="\u4E24"),f+=_e+Pt+C}}let S="",z=a?a.toString().length:0;if(a===null)S=c?"\u6574":"";else if(a==="0")S="\u96F6";else for(let C=0;C<z&&!(c&&C>h.dec.length-1);C++){let D=a[C],N=D==="0"?"\u96F6":"",K=h.num[+D],X=c?h.dec[C]:"";S+=N+K+X}return s+(c?f+(S==="\u96F6"?"\u5143\u6574":`\u5143${S}`):f+(S===""?"":`\u70B9${S}`))}};e.\u0275fac=function(r){return new(r||e)(Jt(Mt),Jt(vd),Jt(yd))},e.\u0275prov=bt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var qn=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=bt({token:e,factory:e.\u0275fac});let i=e;return i})(),Xa=(()=>{let e=class e extends qn{constructor(n,r){if(super(),this.ngZone=r,!(typeof document=="object"&&document))return;this.options=mr(n);let o=this.options.ajv||{};this.ngZone.runOutsideAngular(()=>{this.ajv=new hf.default(Ie($({allErrors:!0,loopEnum:50},o),{formats:$({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:Qa.color,mobile:Qa.mobile,"id-card":Qa.idCard},o.formats)})),(0,ff.default)(this.ajv)})}createValidatorFn(n,r){let o=[...this.options.ingoreKeywords,...r.ingoreKeywords||[]];return a=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(n,a))}catch{}let s=this.ajv.errors;return this.options&&o&&s&&(s=s.filter(c=>o.indexOf(c.keyword)===-1)),s}}};e.\u0275fac=function(r){return new(r||e)(Jt(Mt),Jt(ot))},e.\u0275prov=bt({token:e,factory:e.\u0275fac});let i=e;return i})();var ki=class{constructor(){this._widgets={}}get widgets(){return this._widgets}setDefault(e){this.defaultWidget=e}register(e,t){this._widgets[e]=t}has(e){return this._widgets.hasOwnProperty(e)}getType(e){return this.has(e)?this._widgets[e]:this.defaultWidget}},Za=(()=>{let e=class e{constructor(n){this.registry=n}createWidget(n,r){this.registry.has(r);let o=this.registry.getType(r);return n.createComponent(o)}};e.\u0275fac=function(r){return new(r||e)(Jt(ki))},e.\u0275prov=bt({token:e,factory:e.\u0275fac});let i=e;return i})();var Hb=["target"];function jb(i,e){}function Lb(i,e){i&1&&Se(0)}var Bb=0,Li=(()=>{let e=class e{constructor(n,r){this.widgetFactory=n,this.terminator=r,this.destroy$=new Ce,this.widget=null,this.footer=null}onWidgetInstanciated(n){this.widget=n;let r=`_sf-${Bb++}`,o=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=o,this.widget.id=r,this.formProperty.widget=n}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let n=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,n.ui.widget||n.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:n}=this;n.next(),n.complete(),this.ref.destroy()}};e.\u0275fac=function(r){return new(r||e)(I(Za),I(rn))},e.\u0275cmp=L({type:e,selectors:[["sf-item"]],viewQuery:function(r,o){if(r&1&&Xe(Hb,7,_d),r&2){let a;Me(a=Fe())&&(o.container=a.first)}},hostVars:2,hostBindings:function(r,o){r&2&&W("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],features:[lt([rt]),Ae],decls:3,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(r,o){r&1&&b(0,jb,0,0,"ng-template",null,0,ye)(2,Lb,1,0,"ng-container",1),r&2&&(l(2),u("ngTemplateOutlet",o.footer))},dependencies:[Pe],encapsulation:2});let i=e;return i})();var Or=class Or{init(){if(!this._inited||this.num==null||this.num<=0)return;let e=this.el.nativeElement,t=e.querySelector(".ant-row")||e;this.render.addClass(t,"sf__fixed");let n=t.querySelector(".ant-form-item-label"),r=t.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),o=`${this.num}px`;n?(this.render.setStyle(n,"flex",`0 0 ${o}`),this.render.setStyle(r,"max-width",`calc(100% - ${o})`)):this.render.setStyle(r,"margin-left",o)}constructor(e,t){this.el=e,this.render=t,this._inited=!1}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}};Or.\u0275fac=function(t){return new(t||Or)(I(St),I(rr))},Or.\u0275dir=Be({type:Or,selectors:[["","fixed-label",""]],inputs:{num:["fixed-label","num"]},features:[Ae]});var hn=Or;V([Kd()],hn.prototype,"num",void 0);function qb(i,e){i&1&&st(0)}function Wb(i,e){if(i&1&&O(0,"i",10),i&2){let t=d(5);u("nzType",t._btn.submit_icon.type)("nzTheme",t._btn.submit_icon.theme)("nzTwotoneColor",t._btn.submit_icon.twoToneColor)("nzIconfont",t._btn.submit_icon.iconfont)}}function Ub(i,e){if(i&1&&O(0,"i",10),i&2){let t=d(6);u("nzType",t._btn.reset_icon.type)("nzTheme",t._btn.reset_icon.theme)("nzTwotoneColor",t._btn.reset_icon.twoToneColor)("nzIconfont",t._btn.reset_icon.iconfont)}}function Yb(i,e){if(i&1){let t=q();m(0,"button",12),P("click",function(){T(t);let r=d(5);return k(r.reset(!0))}),b(1,Ub,1,4,"i",10),R(2),g()}if(i&2){let t=d(5);u("nzType",t._btn.reset_type)("nzSize",t._btn.render.size)("disabled",t.loading),l(1),Y(1,t._btn.reset_icon?1:-1),l(1),Z(" ",t._btn.reset," ")}}function Kb(i,e){if(i&1&&(m(0,"button",9),b(1,Wb,1,4,"i",10),R(2),g(),b(3,Yb,3,5,"button",11)),i&2){let t=d(4);u("nzType",t._btn.submit_type)("nzSize",t._btn.render.size)("nzLoading",t.loading)("disabled",t.liveValidate&&!t.valid),l(1),Y(1,t._btn.submit_icon?1:-1),l(1),Z(" ",t._btn.submit," "),l(1),Y(3,t._btn.reset?3:-1)}}function Gb(i,e){}function Qb(i,e){if(i&1&&b(0,Gb,0,0,"ng-template",13),i&2){d(4);let t=ae(1);u("ngTemplateOutlet",t)}}function Xb(i,e){if(i&1&&(m(0,"nz-form-item",5)(1,"div",6)(2,"div",7)(3,"div",8),b(4,Kb,4,7)(5,Qb,1,1),g()()()()),i&2){let t=d(3);u("ngClass",t._btn.render.class)("fixed-label",t._btn.render.spanLabelFixed),l(1),u("nzSpan",t.btnGrid.span)("nzOffset",t.btnGrid.offset)("nzXs",t.btnGrid.xs)("nzSm",t.btnGrid.sm)("nzMd",t.btnGrid.md)("nzLg",t.btnGrid.lg)("nzXl",t.btnGrid.xl)("nzXXl",t.btnGrid.xxl),l(3),Y(4,t.button?4:5)}}function Zb(i,e){if(i&1&&b(0,Xb,6,11,"nz-form-item",4),i&2){let t=d(2);Y(0,t._btn&&t._btn.render?0:-1)}}function Jb(i,e){}function ez(i,e){if(i&1&&b(0,Jb,0,0,"ng-template",13),i&2){d(2);let t=ae(1);u("ngTemplateOutlet",t)}}function tz(i,e){if(i&1&&b(0,Zb,1,1)(1,ez,1,1),i&2){let t=d();Y(0,t.button!=="none"?0:1)}}function iz(i,e){if(i&1&&O(0,"sf-item",3),i&2){let t=d(),n=ae(3);u("formProperty",t.rootProperty)("footer",n)}}var nz=["*"];function rz(i,e,t){return new Nn(i,e,t)}var Mr=class Mr{get btnGrid(){return this._btn.render.grid}set mode(e){switch(e){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=e}get mode(){return this._mode}get valid(){return this._valid}get value(){return this._item}getProperty(e){return this.rootProperty?.searchProperty(e)}getValue(e){return this.getProperty(e)?.value}setValue(e,t){let n=this.getProperty(e);if(!n)throw new Error(`Invalid path: ${e}`);return n.resetValue(t,!1),this}updateFeedback(e,t=""){return this.getProperty(e)?.updateFeedback(t),this}onSubmit(e){e.preventDefault(),e.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(e,t,n,r,o,a,s,c,h){this.formPropertyFactory=e,this.terminator=t,this.dom=n,this.cdr=r,this.localeSrv=o,this.aclSrv=a,this.i18nSrv=s,this.platform=h,this._renders=new Map,this._valid=!0,this._inited=!1,this.locale={},this.rootProperty=null,this.layout="horizontal",this.button={},this.liveValidate=!0,this.firstVisual=!0,this.onlyVisual=!1,this.compact=!1,this.loading=!1,this.disabled=!1,this.noColon=!1,this.cleanValue=!1,this.delay=!1,this.formValueChange=new ge,this.formChange=new ge,this.formSubmit=new ge,this.formReset=new ge,this.formError=new ge,this.options=mr(c),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(hs()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())});let f=[this.aclSrv?this.aclSrv.change:null,this.i18nSrv?this.i18nSrv.change:null].filter(v=>v!=null);f.length>0&&Mo(...f).pipe(Oi(()=>this._inited),hs()).subscribe(()=>this.refreshSchema())}fanyi(e){return(this.i18nSrv?this.i18nSrv.fanyi(e):"")||e}inheritUI(e){["optionalHelp"].filter(t=>!!this._defUi[t]).forEach(t=>e[t]=$($({},this._defUi[t]),e[t]))}coverProperty(){let e=this.layout==="horizontal",t=zn(this.schema),{definitions:n}=t,r=(o,a,s,c,h)=>{Array.isArray(o.required)||(o.required=[]),Object.keys(o.properties).forEach(f=>{let v="$",S=v+f,z=io(o.properties[f],n),E=$($({},z.ui),s[S]),C=$($($($(Ie($($({},this._defUi),c),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:z.type}),z.format&&this.options.formatMap[z.format]),typeof z.ui=="string"?{widget:z.ui}:null),!z.format&&!z.ui&&Array.isArray(z.enum)&&z.enum.length>0?{widget:"select"}:null),E);if(Object.keys(C).filter(D=>D.startsWith(v)).forEach(D=>delete C[D]),e?c.spanLabelFixed?E.spanLabelFixed||(C.spanLabelFixed=c.spanLabelFixed):(C.spanLabel||(C.spanLabel=typeof c.spanLabel>"u"?5:c.spanLabel),C.spanControl||(C.spanControl=typeof c.spanControl>"u"?19:c.spanControl),C.offsetControl||(C.offsetControl=typeof c.offsetControl>"u"?null:c.offsetControl)):(C.spanLabel=null,C.spanControl=null,C.offsetControl=null),this.layout==="inline"&&delete C.grid,this.layout!=="horizontal"&&(C.spanLabelFixed=null),C.spanLabelFixed!=null&&C.spanLabelFixed>0&&(C.spanLabel=null,C.spanControl=null),C.widget==="date"&&C.end!=null){let D=o.properties[C.end];D?D.ui=Ie($({},D.ui),{widget:C.widget,hidden:!0}):C.end=null}if(this.inheritUI(C),C.optionalHelp){typeof C.optionalHelp=="string"&&(C.optionalHelp={text:C.optionalHelp});let D=C.optionalHelp=$({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},C.optionalHelp);D.i18n&&(D.text=this.fanyi(D.i18n)),D.text||(C.optionalHelp=void 0)}if(C.i18n&&(z.title=this.fanyi(C.i18n)),C.descriptionI18n&&(z.description=this.fanyi(C.descriptionI18n)),z.description&&(C._description=this.dom.bypassSecurityTrustHtml(z.description)),C.hidden=typeof C.hidden=="boolean"?C.hidden:!1,C.hidden===!1&&C.acl&&this.aclSrv&&!this.aclSrv.can(C.acl)&&(C.hidden=!0),h[S]=C,delete z.ui,C.hidden===!0){let D=o.required.indexOf(f);D!==-1&&o.required.splice(D,1)}z.items&&(C.$items=$($($({},z.items.ui),s[S]),C.$items),r(z.items,z.items,s[S]?.$items??{},C.$items,C.$items)),z.properties&&Object.keys(z.properties).length&&r(z,o,s[S]||{},C,C)})};this.ui==null&&(this.ui={}),this._defUi=$($($({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),t.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=$({},this._defUi),r(t,t,this.ui,this.ui,this._ui),Du(t,this._ui),this._schema=t,delete t.ui,_r(this._ui,"cover schema & ui",this._ui,t)}coverButtonProperty(){this._btn=$($($({render:{size:"default"}},this.locale),this.options.button),this.button);let e=Object.keys(this._ui).find(n=>n.startsWith("$")),t=this._btn.render;if(this.layout==="horizontal"){let n=e?this._ui[e]:this._defUi;t.grid||(t.grid={offset:n.spanLabel,span:n.spanControl}),t.spanLabelFixed==null&&(t.spanLabelFixed=n.spanLabelFixed),!t.class&&typeof n.spanLabelFixed=="number"&&n.spanLabelFixed>0&&(t.class="text-center")}else t.grid={};this._mode&&(this.mode=this._mode),_r(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(e){if(!this.platform.isBrowser)return;let t=["disabled","loading"];if(Object.keys(e).every(n=>t.includes(n))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(e,t){this._inited&&(this._renders.has(e)||(this._renders.set(e,t),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((e,t)=>{let n=this.rootProperty?.searchProperty(t);n!=null&&(n.ui._render=e)})}validator(e={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let t=r=>{r._runValidation(),!(!(r instanceof zi)||!r.properties)&&(Array.isArray(r.properties)?r.properties.forEach(o=>t(o)):Object.keys(r.properties).forEach(o=>t(r.properties[o])))};e.onlyRoot?this.rootProperty._runValidation():t(this.rootProperty);let n=this.rootProperty.errors;return this._valid=!(n&&n.length),e.emitError&&!this._valid&&this.formError.emit(n),this.cdr.detectChanges(),this._valid}refreshSchema(e,t){if(!this.platform.isBrowser)return this;if(e&&(this.schema=e),t&&(this.ui=t),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=$({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let n=!0;return this.rootProperty.valueChanges.subscribe(r=>{if(this._item=$($({},this.cleanValue?null:this.formData),r.value),n){n=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:r.path,pathValue:r.pathValue})}),this.rootProperty.errorsChanges.subscribe(r=>{this._valid=!(r&&r.length),this.formError.emit(r),this.cdr.detectChanges()}),this}reset(e=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),e&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}};Mr.\u0275fac=function(t){return new(t||Mr)(I(Nn),I(rn),I(Bo),I(qe),I(Vd),I(Td,8),I(wd,8),I(Mt),I(sr))},Mr.\u0275cmp=L({type:Mr,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(t,n){t&2&&W("sf",!0)("sf__inline",n.layout==="inline")("sf__horizontal",n.layout==="horizontal")("sf__search",n.mode==="search")("sf__edit",n.mode==="edit")("sf__no-error",n.onlyVisual)("sf__no-colon",n.noColon)("sf__compact",n.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:"liveValidate",autocomplete:"autocomplete",firstVisual:"firstVisual",onlyVisual:"onlyVisual",compact:"compact",mode:"mode",loading:"loading",disabled:"disabled",noColon:"noColon",cleanValue:"cleanValue",delay:"delay"},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],features:[lt([Za,{provide:Nn,useFactory:rz,deps:[Ao,qn,Mt]},rn]),Ae],ngContentSelectors:nz,decls:6,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"nzLayout","submit"],[3,"formProperty","footer"],["class","sf-btns",3,"ngClass","fixed-label"],[1,"sf-btns",3,"ngClass","fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],["nz-icon","",3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled","click"],[3,"ngTemplateOutlet"]],template:function(t,n){t&1&&(at(),b(0,qb,1,0,"ng-template",null,0,ye)(2,tz,2,1,"ng-template",null,1,ye),m(4,"form",2),P("submit",function(o){return n.onSubmit(o)}),b(5,iz,1,2,"sf-item",3),g()),t&2&&(l(4),u("nzLayout",n.layout),xe("autocomplete",n.autocomplete),l(1),Y(5,n.rootProperty?5:-1))},dependencies:[ct,Pe,qd,jd,Bd,Zi,Ze,Xi,bi,Ci,oi,$n,nt,Li,hn],encapsulation:2,changeDetection:0});var Ct=Mr;V([vi()],Ct.prototype,"liveValidate",void 0);V([vi()],Ct.prototype,"firstVisual",void 0);V([vi()],Ct.prototype,"onlyVisual",void 0);V([vi()],Ct.prototype,"compact",void 0);V([vi()],Ct.prototype,"loading",void 0);V([vi()],Ct.prototype,"disabled",void 0);V([vi()],Ct.prototype,"noColon",void 0);V([vi()],Ct.prototype,"cleanValue",void 0);V([vi()],Ct.prototype,"delay",void 0);function az(i,e){i&1&&st(0)}var gf=["*"];function sz(i,e){if(i&1&&(m(0,"div",4),O(1,"div",5),g()),i&2){let t=e.$implicit;u("ngClass",t)}}function lz(i,e){if(i&1&&(m(0,"div",2),b(1,sz,2,1,"div",3),g()),i&2){let t=e.$implicit;l(1),u("ngForOf",t)}}function cz(i,e){if(i&1&&(H(0),R(1),j()),i&2){let t=d(3);l(1),ke(t.nzTitle)}}function dz(i,e){if(i&1&&(m(0,"div",11),b(1,cz,2,1,"ng-container",12),g()),i&2){let t=d(2);l(1),u("nzStringTemplateOutlet",t.nzTitle)}}function uz(i,e){if(i&1&&(H(0),R(1),j()),i&2){let t=d(3);l(1),ke(t.nzExtra)}}function pz(i,e){if(i&1&&(m(0,"div",13),b(1,uz,2,1,"ng-container",12),g()),i&2){let t=d(2);l(1),u("nzStringTemplateOutlet",t.nzExtra)}}function hz(i,e){}function fz(i,e){if(i&1&&(H(0),b(1,hz,0,0,"ng-template",14),j()),i&2){let t=d(2);l(1),u("ngTemplateOutlet",t.listOfNzCardTabComponent.template)}}function mz(i,e){if(i&1&&(m(0,"div",6)(1,"div",7),b(2,dz,2,1,"div",8)(3,pz,2,1,"div",9),g(),b(4,fz,2,1,"ng-container",10),g()),i&2){let t=d();l(2),u("ngIf",t.nzTitle),l(1),u("ngIf",t.nzExtra),l(1),u("ngIf",t.listOfNzCardTabComponent)}}function _z(i,e){}function gz(i,e){if(i&1&&(m(0,"div",15),b(1,_z,0,0,"ng-template",14),g()),i&2){let t=d();l(1),u("ngTemplateOutlet",t.nzCover)}}function vz(i,e){i&1&&(H(0),st(1),j())}function yz(i,e){i&1&&O(0,"nz-card-loading")}function Cz(i,e){}function bz(i,e){if(i&1&&(m(0,"li")(1,"span"),b(2,Cz,0,0,"ng-template",14),g()()),i&2){let t=e.$implicit,n=d(2);He("width",100/n.nzActions.length,"%"),l(2),u("ngTemplateOutlet",t)}}function zz(i,e){if(i&1&&(m(0,"ul",16),b(1,bz,3,3,"li",17),g()),i&2){let t=d();l(1),u("ngForOf",t.nzActions)}}var Fr=class Fr{constructor(){this.nzHoverable=!0}};Fr.\u0275fac=function(t){return new(t||Fr)},Fr.\u0275dir=Be({type:Fr,selectors:[["","nz-card-grid",""]],hostAttrs:[1,"ant-card-grid"],hostVars:2,hostBindings:function(t,n){t&2&&W("ant-card-hoverable",n.nzHoverable)},inputs:{nzHoverable:"nzHoverable"},exportAs:["nzCardGrid"]});var es=Fr;V([ee()],es.prototype,"nzHoverable",void 0);var xz=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=L({type:e,selectors:[["nz-card-tab"]],viewQuery:function(r,o){if(r&1&&Xe(jo,7),r&2){let a;Me(a=Fe())&&(o.template=a.first)}},exportAs:["nzCardTab"],ngContentSelectors:gf,decls:1,vars:0,template:function(r,o){r&1&&(at(),b(0,az,1,0,"ng-template"))},encapsulation:2,changeDetection:0});let i=e;return i})(),Sz=(()=>{let e=class e{constructor(){this.listOfLoading=[["ant-col-22"],["ant-col-8","ant-col-15"],["ant-col-6","ant-col-18"],["ant-col-13","ant-col-9"],["ant-col-4","ant-col-3","ant-col-16"],["ant-col-8","ant-col-6","ant-col-8"]]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=L({type:e,selectors:[["nz-card-loading"]],hostAttrs:[1,"ant-card-loading-content"],exportAs:["nzCardLoading"],decls:2,vars:1,consts:[[1,"ant-card-loading-content"],["class","ant-row","style","margin-left: -4px; margin-right: -4px;",4,"ngFor","ngForOf"],[1,"ant-row",2,"margin-left","-4px","margin-right","-4px"],["style","padding-left: 4px; padding-right: 4px;",3,"ngClass",4,"ngFor","ngForOf"],[2,"padding-left","4px","padding-right","4px",3,"ngClass"],[1,"ant-card-loading-block"]],template:function(r,o){r&1&&(m(0,"div",0),b(1,lz,2,1,"div",1),g()),r&2&&(l(1),u("ngForOf",o.listOfLoading))},dependencies:[ct,dt],encapsulation:2,changeDetection:0});let i=e;return i})(),_f="card",Vr=class Vr{constructor(e,t,n){this.nzConfigService=e,this.cdr=t,this.directionality=n,this._nzModuleName=_f,this.nzBordered=!0,this.nzBorderless=!1,this.nzLoading=!1,this.nzHoverable=!1,this.nzBodyStyle=null,this.nzActions=[],this.nzType=null,this.nzSize="default",this.dir="ltr",this.destroy$=new Ce,this.nzConfigService.getConfigChangeEventForComponent(_f).pipe(U(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe(U(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};Vr.\u0275fac=function(t){return new(t||Vr)(I(Gi),I(qe),I(Ft,8))},Vr.\u0275cmp=L({type:Vr,selectors:[["nz-card"]],contentQueries:function(t,n,r){if(t&1&&(Kr(r,xz,5),Kr(r,es,4)),t&2){let o;Me(o=Fe())&&(n.listOfNzCardTabComponent=o.first),Me(o=Fe())&&(n.listOfNzCardGridDirective=o)}},hostAttrs:[1,"ant-card"],hostVars:16,hostBindings:function(t,n){t&2&&W("ant-card-loading",n.nzLoading)("ant-card-bordered",n.nzBorderless===!1&&n.nzBordered)("ant-card-hoverable",n.nzHoverable)("ant-card-small",n.nzSize==="small")("ant-card-contain-grid",n.listOfNzCardGridDirective&&n.listOfNzCardGridDirective.length)("ant-card-type-inner",n.nzType==="inner")("ant-card-contain-tabs",!!n.listOfNzCardTabComponent)("ant-card-rtl",n.dir==="rtl")},inputs:{nzBordered:"nzBordered",nzBorderless:"nzBorderless",nzLoading:"nzLoading",nzHoverable:"nzHoverable",nzBodyStyle:"nzBodyStyle",nzCover:"nzCover",nzActions:"nzActions",nzType:"nzType",nzSize:"nzSize",nzTitle:"nzTitle",nzExtra:"nzExtra"},exportAs:["nzCard"],ngContentSelectors:gf,decls:7,vars:6,consts:[["class","ant-card-head",4,"ngIf"],["class","ant-card-cover",4,"ngIf"],[1,"ant-card-body",3,"ngStyle"],[4,"ngIf","ngIfElse"],["loadingTemplate",""],["class","ant-card-actions",4,"ngIf"],[1,"ant-card-head"],[1,"ant-card-head-wrapper"],["class","ant-card-head-title",4,"ngIf"],["class","ant-card-extra",4,"ngIf"],[4,"ngIf"],[1,"ant-card-head-title"],[4,"nzStringTemplateOutlet"],[1,"ant-card-extra"],[3,"ngTemplateOutlet"],[1,"ant-card-cover"],[1,"ant-card-actions"],[3,"width",4,"ngFor","ngForOf"]],template:function(t,n){if(t&1&&(at(),b(0,mz,5,3,"div",0)(1,gz,2,1,"div",1),m(2,"div",2),b(3,vz,2,0,"ng-container",3)(4,yz,1,0,"ng-template",null,4,ye),g(),b(6,zz,2,1,"ul",5)),t&2){let r=ae(5);u("ngIf",n.nzTitle||n.nzExtra||n.listOfNzCardTabComponent),l(1),u("ngIf",n.nzCover),l(1),u("ngStyle",n.nzBodyStyle),l(1),u("ngIf",!n.nzLoading)("ngIfElse",r),l(3),u("ngIf",n.nzActions.length)}},dependencies:[dt,ut,Pe,Lo,Mi,Sz],encapsulation:2,changeDetection:0});var ui=Vr;V([De(),ee()],ui.prototype,"nzBordered",void 0);V([De(),ee()],ui.prototype,"nzBorderless",void 0);V([ee()],ui.prototype,"nzLoading",void 0);V([De(),ee()],ui.prototype,"nzHoverable",void 0);V([De()],ui.prototype,"nzSize",void 0);var vf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=xt({type:e}),e.\u0275inj=zt({imports:[wt,Fi,Yt]});let i=e;return i})();var wz=(()=>{let e=class e{constructor(n,r){this.templateRef=n,this.table=r}ngOnInit(){this.table._addTpl(this.path.startsWith(gt)?this.path:gt+this.path,this.templateRef)}};e.\u0275fac=function(r){return new(r||e)(I(jo),I(Ct))},e.\u0275dir=Be({type:e,selectors:[["","sf-template",""]],inputs:{path:["sf-template","path"]}});let i=e;return i})();function Tz(i,e){if(i&1&&O(0,"i",11),i&2){let t=d(4);u("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipColor",t.oh.bgColor)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function kz(i,e){if(i&1&&(m(0,"span",10),R(1),b(2,Tz,1,9,"i",11),g()),i&2){let t=d(3);l(1),Z(" ",t.ui.optional," "),l(1),Y(2,t.oh?2:-1)}}function Dz(i,e){if(i&1&&(m(0,"label")(1,"span",8),R(2),g(),b(3,kz,3,2,"span",9),g()),i&2){let t=d(2);W("ant-form-item-required",t.ui._required),xe("for",t.id),l(2),ke(t.t),l(1),Y(3,t.ui.optional||t.oh?3:-1)}}function Ez(i,e){if(i&1&&(m(0,"div",6),b(1,Dz,4,5,"label",7),g()),i&2){let t=d();u("nzSpan",t.ui.spanLabel),l(1),Y(1,t.t?1:-1)}}function Iz(i,e){if(i&1&&(m(0,"div",12)(1,"div",13),R(2),g()()),i&2){let t=d();u("@helpMotion",void 0),l(2),Z(" ",t.error," ")}}function Pz(i,e){if(i&1&&O(0,"div",14),i&2){let t=d();u("innerHTML",t.ui._description,_t)}}var $z=["*"],Ke=(()=>{let e=class e{set showTitle(n){this._showTitle=!!n}get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}constructor(n){this.statusSrv=n,this._showTitle=!1,this.title=null}ngOnChanges(){let n=!!this.error;this.statusSrv.formStatusChanges.next({status:n?"error":"",hasFeedback:!!this.ui.feedback})}};e.\u0275fac=function(r){return new(r||e)(I(rt))},e.\u0275cmp=L({type:e,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},features:[Ae],ngContentSelectors:$z,decls:8,vars:21,consts:[["nz-col","","class","ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["class","ant-form-item-explain ant-form-item-explain-connected"],["class","ant-form-item-extra",3,"innerHTML"],["nz-col","",1,"ant-form-item-label",3,"nzSpan"],[3,"ant-form-item-required"],[1,"sf__label-text"],["class","sf__optional"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],["role","alert",1,"ant-form-item-explain-error"],[1,"ant-form-item-extra",3,"innerHTML"]],template:function(r,o){r&1&&(at(),m(0,"nz-form-item"),b(1,Ez,2,2,"div",0),m(2,"div",1)(3,"div",2)(4,"div",3),st(5),g()(),b(6,Iz,3,2,"div",4)(7,Pz,1,1,"div",5),g()()),r&2&&(He("width",o.ui.width,"px"),W("ant-form-item-has-error",o.showError)("ant-form-item-with-help",o.showError)("ant-form-item-has-success",o.ui.feedback==="success")("ant-form-item-has-warning",o.ui.feedback==="warning")("ant-form-item-has-error",o.ui.feedback==="error")("ant-form-item-is-validating",o.ui.feedback==="validating")("ant-form-item-has-feedback",o.ui.feedback),l(1),Y(1,o._showTitle?1:-1),l(1),u("nzSpan",o.ui.spanControl)("nzOffset",o.ui.offsetControl),l(4),Y(6,!o.ui.onlyVisual&&o.showError?6:-1),l(1),Y(7,o.schema.description?7:-1))},dependencies:[Ze,bi,Ci,$n,nt,yi],encapsulation:2,data:{animation:[Qo]}});let i=e;return i})();var zc=(()=>{let e=class e{get cls(){return this.ui.class||""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(Bo)}get cleanValue(){return this.sfComp?.cleanValue}constructor(n,r,o,a){this.cd=n,this.injector=r,this.sfItemComp=o,this.sfComp=a,this.showError=!1,this.id=""}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(U(this.sfItemComp.destroy$)).subscribe(n=>{if(n==null)return;_r(this.ui,"errorsChanges",this.formProperty.path,n);let r=this.sfComp?.firstVisual;(r||!r&&this.sfComp?._inited)&&(this.showError=n.length>0,this.error=this.showError?n[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(n){this.formProperty.setValue(n,!1),_r(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(n=!1){n?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}};e.\u0275fac=function(r){return new(r||e)(I(qe),I(Ao),I(Li),I(Ct))},e.\u0275dir=Be({type:e,hostVars:2,hostBindings:function(r,o){r&2&&ei(o.cls)}});let i=e;return i})();var Je=(()=>{let e=class e extends zc{reset(n){}afterViewInit(){}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275dir=Be({type:e,features:[oe]});let i=e;return i})(),Cf=(()=>{let e=class e extends zc{reset(n){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(U(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275dir=Be({type:e,features:[oe]});let i=e;return i})(),bf=(()=>{let e=class e extends zc{reset(n){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(U(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275dir=Be({type:e,features:[oe]});let i=e;return i})();function Nz(i,e){if(i&1&&O(0,"i",8),i&2){let t=d(2);u("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function Oz(i,e){if(i&1){let t=q();m(0,"div",6)(1,"label"),R(2),m(3,"span",7),R(4),b(5,Nz,1,8,"i",8),g()(),m(6,"div",9)(7,"button",10),P("click",function(){T(t);let r=d();return k(r.addItem())}),g()()()}if(i&2){let t=d();u("nzSpan",t.ui.spanLabel),l(1),W("ant-form-item-required",t.ui.required),l(1),Z(" ",t.schema.title," "),l(2),Z(" ",t.ui.optional," "),l(1),Y(5,t.oh?5:-1),l(2),u("nzType",t.addType)("disabled",t.addDisabled)("innerHTML",t.addTitle,_t)}}function Mz(i,e){if(i&1){let t=q();m(0,"span",15),P("click",function(){T(t);let r=d(2).$index,o=d();return k(o.removeItem(r))}),O(1,"i",16),g()}if(i&2){let t=d(3);xe("title",t.removeTitle)}}function Fz(i,e){if(i&1&&(m(0,"div",12)(1,"nz-card"),O(2,"sf-item",13),b(3,Mz,2,1,"span",14),g()()),i&2){let t=d(),n=t.$index,r=t.$implicit,o=d();u("nzSpan",o.arraySpan),xe("data-index",n),l(2),u("formProperty",r),l(1),Y(3,o.showRemove?3:-1)}}function Vz(i,e){if(i&1&&b(0,Fz,4,4,"div",11),i&2){let t=e.$implicit;Y(0,t.visible&&!t.ui.hidden?0:-1)}}function Rz(i,e){if(i&1&&(m(0,"div",17),R(1),g()),i&2){let t=d();l(1),ke(t.error)}}function Az(i,e){if(i&1&&O(0,"div",18),i&2){let t=d();u("innerHTML",t.ui._description,_t)}}var xc=(()=>{let e=class e extends Cf{constructor(){super(...arguments),this.arraySpan=8}get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:n,addTitle:r,addType:o,removable:a,removeTitle:s}=this.ui;n&&n.arraySpan&&(this.arraySpan=n.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(r||this.l.addText),this.addType=o||"dashed",this.removeTitle=a===!1?null:s||this.l.removeText}reValid(){this.formProperty.updateValueAndValidity({onlySelf:!1,emitValueEvent:!1,emitValidator:!0})}addItem(){let n=this.formProperty.add({});this.reValid(),this.ui.add&&this.ui.add(n)}removeItem(n){this.formProperty.remove(n),this.reValid(),this.ui.remove&&this.ui.remove(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["sf-array"]],hostVars:2,hostBindings:function(r,o){r&2&&W("sf__array",!0)},features:[oe],decls:9,vars:9,consts:[["nz-col","","class","ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],["class","ant-form-explain"],["class","ant-form-extra",3,"innerHTML"],["nz-col","",1,"ant-form-item-label",3,"nzSpan"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__array-add"],["type","button","nz-button","",3,"nzType","disabled","innerHTML","click"],["nz-col","","class","sf__array-item",3,"nzSpan"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],["class","sf__array-remove"],[1,"sf__array-remove",3,"click"],["nz-icon","","nzType","delete"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"]],template:function(r,o){r&1&&(m(0,"nz-form-item"),b(1,Oz,8,9,"div",0),m(2,"div",1)(3,"div",2)(4,"div",3),Nt(5,Vz,1,1,null,null,$t),g(),b(7,Rz,2,1,"div",4)(8,Az,1,1,"div",5),g()()()),r&2&&(W("ant-form-item-with-help",o.showError),l(1),Y(1,o.schema.title?1:-1),l(1),u("nzSpan",o.ui.spanControl)("nzOffset",o.ui.offsetControl),l(1),W("has-error",o.showError),Ot(5,o.formProperty.properties),l(4),Y(7,!o.ui.onlyVisual&&o.showError?7:-1),l(1),Y(8,o.schema.description?8:-1))},dependencies:[Zi,Ze,Xi,ui,bi,Ci,$n,nt,yi,Li],encapsulation:2});let i=e;return i})();var Sc=(()=>{let e=class e extends Je{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["sf-boolean"]],features:[oe],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading","ngModelChange"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0)(1,"nz-switch",1),P("ngModelChange",function(s){return o.setValue(s)}),g()()),r&2&&(u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),l(1),u("ngModel",o.value)("nzDisabled",o.disabled)("nzSize",o.ui.size)("nzCheckedChildren",o.ui.checkedChildren)("nzUnCheckedChildren",o.ui.unCheckedChildren)("nzLoading",o.ui.loading))},dependencies:[je,$e,lu,Ke],encapsulation:2});let i=e;return i})();function Hz(i,e){if(i&1){let t=q();m(0,"label",3),P("ngModelChange",function(r){T(t);let o=d(2);return k(o.allChecked=r)})("ngModelChange",function(){T(t);let r=d(2);return k(r.onAllChecked())}),R(1),g()}if(i&2){let t=d(2);u("ngModel",t.allChecked)("nzIndeterminate",t.indeterminate),l(1),Z(" ",t.ui.checkAllText||t.l.checkAllText," ")}}function jz(i,e){if(i&1&&b(0,Hz,2,3,"label",2),i&2){let t=d();Y(0,t.ui.checkAll?0:-1)}}function Lz(i,e){if(i&1&&O(0,"i",7),i&2){let t=d(3);u("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function Bz(i,e){if(i&1){let t=q();m(0,"label",5),P("ngModelChange",function(r){T(t);let o=d(2);return k(o._setValue(r))}),R(1),m(2,"span",6),R(3),b(4,Lz,1,8,"i",7),g()()}if(i&2){let t=d(2);u("nzDisabled",t.disabled)("ngModel",t.value),l(1),Z(" ",t.schema.title," "),l(2),Z(" ",t.ui.optional," "),l(1),Y(4,t.oh?4:-1)}}function qz(i,e){}function Wz(i,e){if(i&1){let t=q();b(0,qz,0,0,"ng-template",8),m(1,"nz-checkbox-group",9),P("ngModelChange",function(){T(t);let r=d(3);return k(r.notifySet())}),g()}if(i&2){let t=d(3),n=ae(1);u("ngTemplateOutlet",n),l(1),u("ngModel",t.data)}}function Uz(i,e){}function Yz(i,e){if(i&1&&(m(0,"div",12),b(1,Uz,0,0,"ng-template",8),g()),i&2){let t=d(4),n=ae(1);u("nzSpan",t.grid_span),l(1),u("ngTemplateOutlet",n)}}function Kz(i,e){if(i&1&&(m(0,"div",12)(1,"label",13),R(2),g()()),i&2){let t=e.$implicit,n=d(4);u("nzSpan",n.grid_span),l(1),u("nzValue",t.value)("ngModel",t.checked)("nzDisabled",t.disabled),l(1),Z(" ",t.label," ")}}function Gz(i,e){if(i&1){let t=q();m(0,"nz-checkbox-wrapper",10),P("nzOnChange",function(r){T(t);let o=d(3);return k(o.groupInGridChange(r))}),m(1,"div",11),b(2,Yz,2,2,"div",12),Nt(3,Kz,3,5,"div",12,$t),g()()}if(i&2){let t=d(3);l(2),Y(2,t.ui.checkAll?2:-1),Ot(3,t.data)}}function Qz(i,e){if(i&1&&b(0,Wz,2,2)(1,Gz,5,1),i&2){let t=d(2);Y(0,t.grid_span===0?0:1)}}function Xz(i,e){if(i&1&&b(0,Bz,5,5,"label",4)(1,Qz,2,1),i&2){let t=d();Y(0,t.data.length===0?0:1)}}var wc=(()=>{let e=class e extends Je{constructor(){super(...arguments),this.data=[],this.allChecked=!1,this.indeterminate=!1,this.labelTitle="",this.inited=!1}reset(n){this.inited=!1,gr(this.schema,this.ui,n).subscribe(r=>{this.data=r,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=r.length===0?"":this.schema.title;let{span:o}=this.ui;this.grid_span=o&&o>0?o:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(n){this.setValue(n),this.detectChanges(),this.notifyChange(n)}notifySet(){let n=this.data.filter(r=>r.checked);this.updateAllChecked().setValue(n.map(r=>r.value)),this.notifyChange(n)}groupInGridChange(n){this.data.forEach(r=>r.checked=n.indexOf(r.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(n=>n.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(n=>n.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(n=>n.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(n){this.ui.change&&this.ui.change(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["sf-checkbox"]],features:[oe],decls:4,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","","class","sf__checkbox-all mr-sm",3,"ngModel","nzIndeterminate"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModel","nzIndeterminate","ngModelChange"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-checkbox","",3,"nzDisabled","ngModel","ngModelChange"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[3,"ngTemplateOutlet"],[3,"ngModel","ngModelChange"],[1,"sf__checkbox-list",3,"nzOnChange"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(r,o){r&1&&(b(0,jz,1,1,"ng-template",null,0,ye),m(2,"sf-item-wrap",1),b(3,Xz,2,1),g()),r&2&&(l(2),u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",!0)("title",o.labelTitle),l(1),Y(3,o.inited?3:-1))},dependencies:[Pe,je,$e,Ze,Vi,Zr,gs,bi,Ci,nt,yi,Ke],encapsulation:2});let i=e;return i})();function Zz(i,e){}var Jz=(i,e,t)=>({$implicit:i,schema:e,ui:t}),Tc=(()=>{let e=class e extends Je{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["sf-custom"]],features:[oe],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0),b(1,Zz,0,0,"ng-template",1),g()),r&2&&(u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),l(1),u("ngTemplateOutlet",o.ui._render)("ngTemplateOutletContext",gd(8,Jz,o,o.schema,o.ui)))},dependencies:[Pe,Ke],encapsulation:2});let i=e;return i})();function ex(i,e){if(i&1){let t=q();m(0,"nz-year-picker",1),P("ngModelChange",function(r){T(t);let o=d();return k(o.displayValue=r)})("ngModelChange",function(r){T(t);let o=d();return k(o._change(r))})("nzOnOpenChange",function(r){T(t);let o=d();return k(o._openChange(r))}),g()}if(i&2){let t=d();u("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function tx(i,e){if(i&1){let t=q();m(0,"nz-month-picker",1),P("ngModelChange",function(r){T(t);let o=d();return k(o.displayValue=r)})("ngModelChange",function(r){T(t);let o=d();return k(o._change(r))})("nzOnOpenChange",function(r){T(t);let o=d();return k(o._openChange(r))}),g()}if(i&2){let t=d();u("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function ix(i,e){if(i&1){let t=q();m(0,"nz-week-picker",2),P("ngModelChange",function(r){T(t);let o=d();return k(o.displayValue=r)})("ngModelChange",function(r){T(t);let o=d();return k(o._change(r))})("nzOnOpenChange",function(r){T(t);let o=d();return k(o._openChange(r))}),g()}if(i&2){let t=d();u("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function nx(i,e){if(i&1){let t=q();m(0,"nz-range-picker",3),P("ngModelChange",function(r){T(t);let o=d();return k(o.displayValue=r)})("ngModelChange",function(r){T(t);let o=d();return k(o._change(r))})("nzOnOpenChange",function(r){T(t);let o=d();return k(o._openChange(r))})("nzOnOk",function(r){T(t);let o=d();return k(o._ok(r))}),g()}if(i&2){let t=d();u("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzDisabledTime",t.ui.disabledTime)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzRanges",t.ui.ranges)("nzShowTime",t.ui.showTime)("nzSeparator",t.ui.separator)("nzShowWeekNumber",t.ui.showWeekNumber||!1)("nzMode",t.ui.rangeMode)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function rx(i,e){if(i&1){let t=q();m(0,"nz-date-picker",4),P("ngModelChange",function(r){T(t);let o=d();return k(o.displayValue=r)})("ngModelChange",function(r){T(t);let o=d();return k(o._change(r))})("nzOnOpenChange",function(r){T(t);let o=d();return k(o._openChange(r))})("nzOnOk",function(r){T(t);let o=d();return k(o._ok(r))}),g()}if(i&2){let t=d();u("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzDisabledTime",t.ui.disabledTime)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzShowTime",t.ui.showTime)("nzShowToday",t.i.showToday)("nzShowWeekNumber",t.ui.showWeekNumber||!1)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}var kc=(()=>{let e=class e extends Je{constructor(){super(...arguments),this.flatRange=!1,this.displayValue=null}ngOnInit(){let{mode:n,end:r,displayFormat:o,allowClear:a,showToday:s}=this.ui;if(this.mode=n||"date",this.flatRange=r!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let c=this.endProperty.ui;this.endFormat=c.format?c._format:this.startFormat}if(o)this.displayFormat=o;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:Tt(a,!0),showToday:Tt(s,!0)}}reset(n){let r={formatString:this.startFormat,defaultValue:null};if(Array.isArray(n)?n=n.map(o=>Go(o,r)):n=Go(n,r),this.flatRange){let o=Go(this.endProperty.formData,{formatString:this.endFormat||this.startFormat,defaultValue:null});this.displayValue=n==null||o==null?[]:[n,o]}else this.displayValue=n;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(n,r=!0){if(r&&this.ui.change&&this.ui.change(n),n==null||Array.isArray(n)&&n.length<2){this.setValue(null),this.setEnd(null);return}let o=Array.isArray(n)?[Yo(n[0],this.startFormat),Yo(n[1],this.endFormat||this.startFormat)]:Yo(n,this.startFormat);this.flatRange?(this.setValue(o[0]),this.setEnd(o[1])):this.setValue(o)}_openChange(n){this.ui.onOpenChange&&this.ui.onOpenChange(n)}_ok(n){this.ui.onOk&&this.ui.onOk(n)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(n){this.flatRange&&(this.endProperty.setValue(n,!0),this.endProperty.updateValueAndValidity())}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["sf-date"]],features:[oe],decls:6,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange","nzOnOk"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange","nzOnOk"]],template:function(r,o){if(r&1&&(m(0,"sf-item-wrap",0),b(1,ex,1,15)(2,tx,1,15)(3,ix,1,14)(4,nx,1,21)(5,rx,1,19),g()),r&2){let a;u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),l(1),Y(1,(a=o.mode)==="year"?1:a==="month"?2:a==="week"?3:a==="range"?4:5)}},dependencies:[ct,je,$e,Ue,zu,bu,Su,xu,Ke],encapsulation:2});let i=e;return i})();var ox=i=>({"ant-input-number__hide-step":i}),ts=(()=>{let e=class e extends Je{constructor(){super(...arguments),this.formatter=n=>n,this.parser=n=>n,this.width=""}ngOnInit(){let{minimum:n,exclusiveMinimum:r,maximum:o,exclusiveMaximum:a,multipleOf:s,type:c}=this.schema;this.step=s||1,typeof n<"u"&&(this.min=r?n+this.step:n),typeof o<"u"&&(this.max=a?o-this.step:o),c==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let h=this.ui;h.prefix!=null&&(h.formatter=f=>f==null?"":`${h.prefix} ${f}`,h.parser=f=>f.replace(`${h.prefix} `,"")),h.unit!=null&&(h.formatter=f=>f==null?"":`${f} ${h.unit}`,h.parser=f=>f.replace(` ${h.unit}`,"")),h.formatter&&(this.formatter=h.formatter),h.parser&&(this.parser=h.parser),this.width=typeof h.widgetWidth=="number"?`${h.widgetWidth}px`:h.widgetWidth??"90px"}_setValue(n){this.setValue(this.schema.type==="integer"?Math.floor(n):n),this.ui.change&&this.ui.change(this.value)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["sf-number"]],features:[oe],decls:2,vars:22,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder","ngClass","ngModelChange"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0)(1,"nz-input-number",1),P("ngModelChange",function(s){return o._setValue(s)}),g()()),r&2&&(u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),l(1),He("width",o.width),u("nzId",o.id)("ngModel",o.value)("nzDisabled",o.disabled)("nzSize",o.ui.size)("nzMin",o.min)("nzMax",o.max)("nzStep",o.step)("nzFormatter",o.formatter)("nzParser",o.parser)("nzPrecision",o.ui.precision)("nzPlaceHolder",o.ui.placeholder||"")("ngClass",et(20,ox,o.ui.hideStep)))},dependencies:[ct,je,$e,au,Ke],encapsulation:2});let i=e;return i})();function ax(i,e){if(i&1&&(m(0,"div",4),R(1),g()),i&2){let t=d(2);l(1),ke(t.title)}}function sx(i,e){if(i&1&&(m(0,"div",5),O(1,"sf-item",6),g()),i&2){let t=d().$implicit;u("nzSpan",t.grid.span)("nzOffset",t.grid.offset)("nzXs",t.grid.xs)("nzSm",t.grid.sm)("nzMd",t.grid.md)("nzLg",t.grid.lg)("nzXl",t.grid.xl)("nzXXl",t.grid.xxl),l(1),u("formProperty",t.property)("fixed-label",t.spanLabelFixed)}}function lx(i,e){if(i&1&&b(0,sx,2,10,"div",5),i&2){let t=e.$implicit;Y(0,t.property.visible&&t.show?0:-1)}}function cx(i,e){if(i&1&&(m(0,"div",3),Nt(1,lx,1,1,null,null,$t),g()),i&2){let t=d(2);u("nzGutter",t.grid.gutter),Ot(1,t.list)}}function dx(i,e){if(i&1&&O(0,"sf-item",6),i&2){let t=d().$implicit;u("formProperty",t.property)("fixed-label",t.spanLabelFixed)}}function ux(i,e){if(i&1&&b(0,dx,1,2,"sf-item",6),i&2){let t=e.$implicit;Y(0,t.property.visible&&t.show?0:-1)}}function px(i,e){if(i&1&&Nt(0,ux,1,1,null,null,$t),i&2){let t=d(2);Ot(0,t.list)}}function hx(i,e){if(i&1&&b(0,ax,2,1,"div",2)(1,cx,3,1,"div",3)(2,px,2,0),i&2){let t=e.$implicit,n=d();Y(0,!t&&n.title?0:-1),l(1),Y(1,n.grid?1:2)}}function fx(i,e){if(i&1&&O(0,"i",13),i&2){let t=d(3);u("nzType",t.expand?"down":"up")}}function mx(i,e){if(i&1&&O(0,"i",15),i&2){let t=d(4);u("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipColor",t.oh.bgColor)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function _x(i,e){if(i&1&&(m(0,"span",14),R(1),b(2,mx,1,9,"i",15),g()),i&2){let t=d(3);l(1),Z(" ",t.ui.optional," "),l(1),Y(2,t.oh?2:-1)}}function gx(i,e){if(i&1){let t=q();m(0,"div",10),P("click",function(){T(t);let r=d(2);return k(r.changeExpand())}),b(1,fx,1,1,"i",11),R(2),b(3,_x,3,2,"span",12),g()}if(i&2){let t=d(2);W("point",t.showExpand),l(1),Y(1,t.showExpand?1:-1),l(1),Z(" ",t.title," "),l(1),Y(3,t.ui.optional||t.oh?3:-1)}}function vx(i,e){}var yx=()=>[],Cx=()=>({$implicit:!0});function bx(i,e){if(i&1&&(m(0,"nz-card",7),b(1,gx,4,5,"ng-template",null,8,ye)(3,vx,0,0,"ng-template",9),g()),i&2){let t=ae(2),n=d(),r=ae(1);W("sf__object-card-fold",!n.expand),u("nzTitle",t)("nzExtra",n.ui.cardExtra)("nzSize",n.ui.cardSize||"small")("nzActions",n.ui.cardActions||Ui(11,yx))("nzBodyStyle",n.ui.cardBodyStyle)("nzBordered",n.ui.cardBordered||!0)("nzBorderless",n.ui.cardBorderless||!1),l(3),u("ngTemplateOutlet",r)("ngTemplateOutletContext",Ui(12,Cx))}}function zx(i,e){}function xx(i,e){if(i&1&&b(0,zx,0,0,"ng-template",16),i&2){d();let t=ae(1);u("ngTemplateOutlet",t)}}var Dc=(()=>{let e=class e extends bf{constructor(){super(...arguments),this.type="default",this.list=[],this.showExpand=!0,this.expand=!0}ngOnInit(){let{formProperty:n,ui:r}=this,{grid:o,showTitle:a,type:s}=r;this.showExpand=Tt(r.showExpand,!0),this.expand=Tt(r.expand,!0),this.type=s??"default",(this.type==="card"||!n.isRoot()&&!(n.parent instanceof yr)&&a===!0)&&(this.title=this.schema.title),this.grid=o;let c=[];for(let h of n.propertiesId){let f=n.properties[h],v={property:f,grid:f.ui.grid||o||{},spanLabelFixed:f.ui.spanLabelFixed,show:f.ui.hidden===!1};c.push(v)}this.list=c}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["sf-object"]],features:[oe],decls:4,vars:1,consts:[["default",""],["class","sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless","sf__object-card-fold"],["class","sf__title"],["nz-row","",3,"nzGutter"],[1,"sf__title"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless"],["cardTitleTpl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],["nz-icon","","class","mr-xs text-xs",3,"nzType"],["class","sf__optional"],["nz-icon","",1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["s","","nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[3,"ngTemplateOutlet"]],template:function(r,o){r&1&&b(0,hx,3,2,"ng-template",null,0,ye)(2,bx,4,13,"nz-card",1)(3,xx,1,1),r&2&&(l(2),Y(2,o.type==="card"?2:3))},dependencies:[Pe,Ze,ui,bi,Ci,nt,yi,Li,hn],encapsulation:2});let i=e;return i})();function Sx(i,e){if(i&1&&(m(0,"label",2),O(1,"span",3),g()),i&2){let t=e.$implicit,n=d(2);u("nzValue",t.value)("nzDisabled",n.disabled||t.disabled),l(1),u("innerHTML",t.label,_t)}}function wx(i,e){if(i&1&&Nt(0,Sx,2,3,"label",2,$t),i&2){let t=d();Ot(0,t.data)}}function Tx(i,e){if(i&1&&(m(0,"label",4),O(1,"span",3),g()),i&2){let t=e.$implicit,n=d(2);u("nzValue",t.value)("nzDisabled",n.disabled||t.disabled),l(1),u("innerHTML",t.label,_t)}}function kx(i,e){if(i&1&&Nt(0,Tx,2,3,"label",4,$t),i&2){let t=d();Ot(0,t.data)}}var Ec=(()=>{let e=class e extends Je{constructor(){super(...arguments),this.data=[]}reset(n){this.styleType=(this.ui.styleType||"default")==="default",gr(this.schema,this.ui,n).subscribe(r=>{this.data=r,this.detectChanges()})}_setValue(n){this.setValue(n),this.ui.change&&this.ui.change(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["sf-radio"]],features:[oe],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzSize","nzName","ngModel","nzButtonStyle","ngModelChange"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0)(1,"nz-radio-group",1),P("ngModelChange",function(s){return o._setValue(s)}),b(2,wx,2,0)(3,kx,2,0),g()()),r&2&&(u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),l(1),u("nzSize",o.ui.size)("nzName",o.id)("ngModel",o.value)("nzButtonStyle",o.ui.buttonStyle||"outline"),l(1),Y(2,o.styleType?2:3))},dependencies:[je,$e,ur,ys,to,Ke],encapsulation:2});let i=e;return i})();var Rr=class i{get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}constructor(e,t=null,n=null){if(this._title="",this.level=0,this.parentNode=null,this._icon="",this._children=[],this._isLeaf=!1,this._isChecked=!1,this._isSelectable=!1,this._isDisabled=!1,this._isDisableCheckbox=!1,this._isExpanded=!1,this._isHalfChecked=!1,this._isSelected=!1,this._isLoading=!1,this.canHide=!1,this.isMatched=!1,this.service=null,e instanceof i)return e;this.service=n||null,this.origin=e,this.key=e.key,this.parentNode=t,this._title=e.title||"---",this._icon=e.icon||"",this._isLeaf=e.isLeaf||!1,this._children=[],this._isChecked=e.checked||!1,this._isSelectable=e.disabled||e.selectable!==!1,this._isDisabled=e.disabled||!1,this._isDisableCheckbox=e.disableCheckbox||!1,this._isExpanded=e.isLeaf?!1:e.expanded||!1,this._isHalfChecked=!1,this._isSelected=!e.disabled&&e.selected||!1,this._isLoading=!1,this.isMatched=!1,t?this.level=t.level+1:this.level=0,typeof e.children<"u"&&e.children!==null&&e.children.forEach(r=>{let o=this.treeService;o&&!o.isCheckStrictly&&e.checked&&!e.disabled&&!r.disabled&&!r.disableCheckbox&&(r.checked=e.checked),this._children.push(new i(r,this))})}get title(){return this._title}set title(e){this._title=e,this.update()}get icon(){return this._icon}set icon(e){this._icon=e,this.update()}get children(){return this._children}set children(e){this._children=e,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(e){this._isLeaf=e,this.update()}get isChecked(){return this._isChecked}set isChecked(e){this._isChecked=e,this.origin.checked=e,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(e){this._isHalfChecked=e,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(e){this._isSelectable=e,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(e){this._isDisabled=e,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(e){this._isDisableCheckbox=e,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(e){this._isExpanded=e,this.origin.expanded=e,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(e){this._isSelected=e,this.origin.selected=e,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(e){this._isLoading=e,this.update()}setSyncChecked(e=!1,t=!1){this.setChecked(e,t),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(e=!1,t=!1){this.origin.checked=e,this.isChecked=e,this.isHalfChecked=t}setExpanded(e){this._isExpanded=e,this.origin.expanded=e,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(e,t=-1){this.isLeaf||(e.forEach(n=>{let r=a=>{a.getChildren().forEach(s=>{s.level=s.getParentNode().level+1,s.origin.level=s.level,r(s)})},o=n;o instanceof i?o.parentNode=this:o=new i(n,this),o.level=this.level+1,o.origin.level=o.level,r(o);try{t===-1?this.children.push(o):this.children.splice(t,0,o)}catch{}}),this.origin.children=this.getChildren().map(n=>n.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){let e=this.getParentNode();e&&(e.children=e.getChildren().filter(t=>t.key!==this.key),e.origin.children=e.origin.children.filter(t=>t.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(e){if(this.treeService)switch(e){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(t=>t.key));break}this.update()}update(){this.component&&this.component.markForCheck()}};function Ic(i){let{isDisabled:e,isDisableCheckbox:t}=i;return!!(e||t)}function zf(i,e){return e.length>0&&e.indexOf(i)>-1}function Dx(i,e){return`${i}-${e}`}function Ex(i,e){return i??e}function Ix(i=[],e=[]){let t=new Set(e===!0?[]:e),n=[];function r(o,a=null){return o.map((s,c)=>{let h=Dx(a?a.pos:"0",c),f=Ex(s.key,h);s.isStart=[...a?a.isStart:[],c===0],s.isEnd=[...a?a.isEnd:[],c===o.length-1];let v={parent:a,pos:h,children:[],data:s,isStart:[...a?a.isStart:[],c===0],isEnd:[...a?a.isEnd:[],c===o.length-1]};return n.push(v),e===!0||t.has(f)||s.isExpanded?v.children=r(s.children||[],v):v.children=[],v})}return r(i),n}var ME=(()=>{let e=class e{constructor(){this.DRAG_SIDE_RANGE=.25,this.DRAG_MIN_GAP=2,this.isCheckStrictly=!1,this.isMultiple=!1,this.rootNodes=[],this.flattenNodes$=new Bi([]),this.selectedNodeList=[],this.expandedNodeList=[],this.checkedNodeList=[],this.halfCheckedNodeList=[],this.matchedNodeList=[]}initTree(n){this.rootNodes=n,this.expandedNodeList=[],this.selectedNodeList=[],this.halfCheckedNodeList=[],this.checkedNodeList=[],this.matchedNodeList=[]}flattenTreeData(n,r=[]){this.flattenNodes$.next(Ix(n,r).map(o=>o.data))}getSelectedNode(){return this.selectedNode}getSelectedNodeList(){return this.conductNodeState("select")}getCheckedNodeKeys(){let n=[],r=this.getCheckedNodeList(),o=a=>{a.forEach(s=>{n.push(s.key),!(s.children.length<1)&&o(s.children)})};return o(r),n}getCheckedNodeList(){return this.conductNodeState("check")}getHalfCheckedNodeList(){return this.conductNodeState("halfCheck")}getExpandedNodeList(){return this.conductNodeState("expand")}getMatchedNodeList(){return this.conductNodeState("match")}isArrayOfNzTreeNode(n){return n.every(r=>r instanceof Rr)}setSelectedNode(n){this.selectedNode=n}setNodeActive(n){!this.isMultiple&&n.isSelected&&(this.selectedNodeList.forEach(r=>{n.key!==r.key&&(r.isSelected=!1)}),this.selectedNodeList=[]),this.setSelectedNodeList(n,this.isMultiple)}setSelectedNodeList(n,r=!1){let o=this.getIndexOfArray(this.selectedNodeList,n.key);r?n.isSelected&&o===-1&&this.selectedNodeList.push(n):n.isSelected&&o===-1&&(this.selectedNodeList=[n]),n.isSelected||(this.selectedNodeList=this.selectedNodeList.filter(a=>a.key!==n.key))}setHalfCheckedNodeList(n){let r=this.getIndexOfArray(this.halfCheckedNodeList,n.key);n.isHalfChecked&&r===-1?this.halfCheckedNodeList.push(n):!n.isHalfChecked&&r>-1&&(this.halfCheckedNodeList=this.halfCheckedNodeList.filter(o=>n.key!==o.key))}setCheckedNodeList(n){let r=this.getIndexOfArray(this.checkedNodeList,n.key);n.isChecked&&r===-1?this.checkedNodeList.push(n):!n.isChecked&&r>-1&&(this.checkedNodeList=this.checkedNodeList.filter(o=>n.key!==o.key))}conductNodeState(n="check"){let r=[];switch(n){case"select":r=this.selectedNodeList;break;case"expand":r=this.expandedNodeList;break;case"match":r=this.matchedNodeList;break;case"check":r=this.checkedNodeList;let o=a=>{let s=a.getParentNode();return s?this.checkedNodeList.findIndex(c=>c.key===s.key)>-1?!0:o(s):!1};this.isCheckStrictly||(r=this.checkedNodeList.filter(a=>!o(a)));break;case"halfCheck":this.isCheckStrictly||(r=this.halfCheckedNodeList);break}return r}setExpandedNodeList(n){if(n.isLeaf)return;let r=this.getIndexOfArray(this.expandedNodeList,n.key);n.isExpanded&&r===-1?this.expandedNodeList.push(n):!n.isExpanded&&r>-1&&this.expandedNodeList.splice(r,1)}setMatchedNodeList(n){let r=this.getIndexOfArray(this.matchedNodeList,n.key);n.isMatched&&r===-1?this.matchedNodeList.push(n):!n.isMatched&&r>-1&&this.matchedNodeList.splice(r,1)}refreshCheckState(n=!1){n||this.checkedNodeList.forEach(r=>{this.conduct(r,n)})}conduct(n,r=!1){let o=n.isChecked;n&&!r&&(this.conductUp(n),this.conductDown(n,o))}conductUp(n){let r=n.getParentNode();r&&(Ic(r)||(r.children.every(o=>Ic(o)||!o.isHalfChecked&&o.isChecked)?(r.isChecked=!0,r.isHalfChecked=!1):r.children.some(o=>o.isHalfChecked||o.isChecked)?(r.isChecked=!1,r.isHalfChecked=!0):(r.isChecked=!1,r.isHalfChecked=!1)),this.setCheckedNodeList(r),this.setHalfCheckedNodeList(r),this.conductUp(r))}conductDown(n,r){Ic(n)||(n.isChecked=r,n.isHalfChecked=!1,this.setCheckedNodeList(n),this.setHalfCheckedNodeList(n),n.children.forEach(o=>{this.conductDown(o,r)}))}afterRemove(n){let r=o=>{this.selectedNodeList=this.selectedNodeList.filter(a=>a.key!==o.key),this.expandedNodeList=this.expandedNodeList.filter(a=>a.key!==o.key),this.checkedNodeList=this.checkedNodeList.filter(a=>a.key!==o.key),o.children&&o.children.forEach(a=>{r(a)})};n.forEach(o=>{r(o)}),this.refreshCheckState(this.isCheckStrictly)}refreshDragNode(n){n.children.length===0?this.conductUp(n):n.children.forEach(r=>{this.refreshDragNode(r)})}resetNodeLevel(n){let r=n.getParentNode();r?n.level=r.level+1:n.level=0;for(let o of n.children)this.resetNodeLevel(o)}calcDropPosition(n){let{clientY:r}=n,{top:o,bottom:a,height:s}=n.target.getBoundingClientRect(),c=Math.max(s*this.DRAG_SIDE_RANGE,this.DRAG_MIN_GAP);return r<=o+c?-1:r>=a-c?1:0}dropAndApply(n,r=-1){if(!n||r>1)return;let o=n.treeService,a=n.getParentNode(),s=this.selectedNode.getParentNode();switch(s?s.children=s.children.filter(c=>c.key!==this.selectedNode.key):this.rootNodes=this.rootNodes.filter(c=>c.key!==this.selectedNode.key),r){case 0:n.addChildren([this.selectedNode]),this.resetNodeLevel(n);break;case-1:case 1:let c=r===1?1:0;if(a){a.addChildren([this.selectedNode],a.children.indexOf(n)+c);let h=this.selectedNode.getParentNode();h&&this.resetNodeLevel(h)}else{let h=this.rootNodes.indexOf(n)+c;this.rootNodes.splice(h,0,this.selectedNode),this.rootNodes[h].parentNode=null,this.resetNodeLevel(this.rootNodes[h])}break}this.rootNodes.forEach(c=>{c.treeService||(c.service=o),this.refreshDragNode(c)})}formatEvent(n,r,o){let a={eventName:n,node:r,event:o};switch(n){case"dragstart":case"dragenter":case"dragover":case"dragleave":case"drop":case"dragend":Object.assign(a,{dragNode:this.getSelectedNode()});break;case"click":case"dblclick":Object.assign(a,{selectedKeys:this.selectedNodeList}),Object.assign(a,{nodes:this.selectedNodeList}),Object.assign(a,{keys:this.selectedNodeList.map(c=>c.key)});break;case"check":let s=this.getCheckedNodeList();Object.assign(a,{checkedKeys:s}),Object.assign(a,{nodes:s}),Object.assign(a,{keys:s.map(c=>c.key)});break;case"search":Object.assign(a,{matchedKeys:this.getMatchedNodeList()}),Object.assign(a,{nodes:this.getMatchedNodeList()}),Object.assign(a,{keys:this.getMatchedNodeList().map(c=>c.key)});break;case"expand":Object.assign(a,{nodes:this.expandedNodeList}),Object.assign(a,{keys:this.expandedNodeList.map(c=>c.key)});break}return a}getIndexOfArray(n,r){return n.findIndex(o=>o.key===r)}conductCheck(n,r){this.checkedNodeList=[],this.halfCheckedNodeList=[];let o=a=>{a.forEach(s=>{n===null?s.isChecked=!!s.origin.checked:zf(s.key,n||[])?(s.isChecked=!0,s.isHalfChecked=!1):(s.isChecked=!1,s.isHalfChecked=!1),s.children.length>0&&o(s.children)})};o(this.rootNodes),this.refreshCheckState(r)}conductExpandedKeys(n=[]){let r=new Set(n===!0?[]:n);this.expandedNodeList=[];let o=a=>{a.forEach(s=>{s.setExpanded(n===!0||r.has(s.key)||s.isExpanded===!0),s.isExpanded&&this.setExpandedNodeList(s),s.children.length>0&&o(s.children)})};o(this.rootNodes)}conductSelectedKeys(n,r){this.selectedNodeList.forEach(a=>a.isSelected=!1),this.selectedNodeList=[];let o=a=>a.every(s=>{if(zf(s.key,n)){if(s.isSelected=!0,this.setSelectedNodeList(s),!r)return!1}else s.isSelected=!1;return s.children.length>0?o(s.children):!0});o(this.rootNodes)}expandNodeAllParentBySearch(n){let r=o=>{if(o&&(o.canHide=!1,o.setExpanded(!0),this.setExpandedNodeList(o),o.getParentNode()))return r(o.getParentNode())};r(n.getParentNode())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=bt({token:e,factory:e.\u0275fac});let i=e;return i})(),FE=new dd("NzTreeHigherOrder"),xf=class{constructor(e){this.nzTreeService=e}coerceTreeNodes(e){let t=[];return this.nzTreeService.isArrayOfNzTreeNode(e)?t=e.map(n=>(n.service=this.nzTreeService,n)):t=e.map(n=>new Rr(n,null,this.nzTreeService)),t}getTreeNodes(){return this.nzTreeService.rootNodes}getTreeNodeByKey(e){let t=[],n=r=>{t.push(r),r.getChildren().forEach(o=>{n(o)})};return this.getTreeNodes().forEach(r=>{n(r)}),t.find(r=>r.key===e)||null}getCheckedNodeList(){return this.nzTreeService.getCheckedNodeList()}getSelectedNodeList(){return this.nzTreeService.getSelectedNodeList()}getHalfCheckedNodeList(){return this.nzTreeService.getHalfCheckedNodeList()}getExpandedNodeList(){return this.nzTreeService.getExpandedNodeList()}getMatchedNodeList(){return this.nzTreeService.getMatchedNodeList()}};var Sf=(()=>{let e=class e{constructor(n){this.c=n.merge("utilArray",{deepMapName:"deep",parentMapName:"parent",idMapName:"id",parentIdMapName:"parent_id",childrenMapName:"children",titleMapName:"title",checkedMapname:"checked",selectedMapname:"selected",expandedMapname:"expanded",disabledMapname:"disabled"})}treeToArr(n,r){let o=$({deepMapName:this.c.deepMapName,parentMapName:this.c.parentMapName,childrenMapName:this.c.childrenMapName,clearChildren:!0,cb:null},r),a=[],s=(c,h,f=0)=>{for(let v of c){v[o.deepMapName]=f,v[o.parentMapName]=h,o.cb&&o.cb(v,h,f),a.push(v);let S=v[o.childrenMapName];S!=null&&Array.isArray(S)&&S.length>0&&s(S,v,f+1),o.clearChildren&&delete v[o.childrenMapName]}};return s(n,null),a}arrToTree(n,r){if(!Array.isArray(n)||n.length===0)return[];let o=$({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,childrenMapName:this.c.childrenMapName,cb:null},r),a=[],s={},c=o.rootParentIdValue,h=n;if(!c){let f=h.map(S=>S[o.parentIdMapName]),v=f.findIndex(S=>S==null);c=v!==-1?f[v]:f.sort()[0]}for(let f of h){let v=f[o.idMapName],S=f[o.parentIdMapName];s[v]=s[v]||[],f[o.childrenMapName]=s[v],o.cb&&o.cb(f),S!==c?(s[S]=s[S]||[],s[S].push(f)):a.push(f)}return a}arrToTreeNode(n,r){let o=$({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,titleMapName:this.c.titleMapName,isLeafMapName:"isLeaf",checkedMapname:this.c.checkedMapname,selectedMapname:this.c.selectedMapname,expandedMapname:this.c.expandedMapname,disabledMapname:this.c.disabledMapname,cb:null},r),a=this.arrToTree(n,{idMapName:o.idMapName,parentIdMapName:o.parentIdMapName,childrenMapName:"children"});return this.visitTree(a,(s,c,h)=>{s.key=s[o.idMapName],s.title=s[o.titleMapName],s.checked=s[o.checkedMapname],s.selected=s[o.selectedMapname],s.expanded=s[o.expandedMapname],s.disabled=s[o.disabledMapname],s[o.isLeafMapName]==null?s.isLeaf=s.children.length===0:s.isLeaf=s[o.isLeafMapName],o.cb&&o.cb(s,c,h)}),a.map(s=>new Rr(s))}visitTree(n,r,o){o=$({childrenMapName:this.c.childrenMapName},o);let a=(s,c,h)=>{for(let f of s){r(f,c,h);let v=f[o.childrenMapName];Array.isArray(v)&&v.length>0&&a(v,f,h+1)}};a(n,null,1)}findTree(n,r,o){let a;return this.visitTree(n,s=>{a===void 0&&r(s)&&(a=s)},o),a}getKeysByTreeNode(n,r){let o=$({includeHalfChecked:!0},r),a=[];return this.visitTree(n,(s,c,h)=>{(s.isChecked||o.includeHalfChecked&&s.isHalfChecked)&&a.push(o.cb?o.cb(s,c,h):o.keyMapName?s.origin[o.keyMapName]:s.key)}),a}baseFlat(n,r,o=[]){let a=-1;for(;++a<n.length;){let s=n[a];if(r>0&&Array.isArray(s))if(r>1)this.baseFlat(s,r-1,o);else{let c=-1,h=o.length;for(;++c<s.length;)o[h+c]=s[c]}else o[o.length]=s}return o}flat(n,r=1/0){return Array.isArray(n)?this.baseFlat(n,r):n}groupBy(n,r){return Array.isArray(n)?n.reduce((o,a)=>{let s=r(a);return Object.prototype.hasOwnProperty.call(o,s)?o[s].push(a):o[s]=[a],o},{}):{}}uniq(n,r){return Array.from(n.reduce((o,a)=>{let s=r?typeof r=="string"?a[r]:r(a):a;return o.has(s)||o.set(s,a),o},new Map).values())}};e.\u0275fac=function(r){return new(r||e)(Jt(Mt))},e.\u0275prov=bt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Px(i,e){if(i&1&&O(0,"nz-option",3),i&2){let t=e.$implicit;u("nzLabel",t.label)("nzValue",t.value)("nzHide",t.hide)("nzDisabled",t.disabled)}}function $x(i,e){if(i&1&&Nt(0,Px,1,4,"nz-option",3,$t),i&2){let t=d();Ot(0,t.data)}}function Nx(i,e){if(i&1&&O(0,"nz-option",5),i&2){let t=e.$implicit;u("nzLabel",t.label)("nzValue",t.value)("nzDisabled",t.disabled)("nzHide",t.hide)}}function Ox(i,e){if(i&1&&(m(0,"nz-option-group",4),Nt(1,Nx,1,4,"nz-option",5,$t),g()),i&2){let t=e.$implicit;u("nzLabel",t.label),Ot(1,t.children)}}function Mx(i,e){if(i&1&&Nt(0,Ox,3,1,"nz-option-group",4,$t),i&2){let t=d();Ot(0,t.data)}}function Fx(i,e){if(i&1&&(m(0,"nz-option",2),O(1,"i",6),R(2),g()),i&2){let t=d();l(2),Z(" ",t.ui.searchLoadingText," ")}}var Pc=(()=>{let e=class e extends Je{constructor(){super(...arguments),this.search$=new Ce,this.data=[],this.hasGroup=!1,this.loading=!1}checkGroup(n){this.hasGroup=(n||[]).filter(r=>r.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:n,borderless:r,autoFocus:o,dropdownMatchSelectWidth:a,serverSearch:s,maxMultipleCount:c,mode:h,showSearch:f,tokenSeparators:v,maxTagCount:S,compareWith:z,optionHeightPx:E,optionOverflowSize:C,showArrow:D}=this.ui;this.i={autoClearSearchValue:Tt(n,!0),borderless:Tt(r,!1),autoFocus:Tt(o,!1),dropdownMatchSelectWidth:Tt(a,!0),serverSearch:Tt(s,!1),maxMultipleCount:c||1/0,mode:h||"default",showSearch:Tt(f,!0),tokenSeparators:v||[],maxTagCount:S||void 0,optionHeightPx:E||32,optionOverflowSize:C||8,showArrow:typeof D!="boolean"?void 0:D,compareWith:z||((K,X)=>K===X)};let N=this.ui.onSearch;N&&this.search$.pipe(U(this.sfItemComp.destroy$),qi(),Fo(this.ui.searchDebounceTime||300),Vo(K=>N(K)),ad(()=>[])).subscribe(K=>{this.data=K,this.checkGroup(K),this.loading=!1,this.detectChanges()})}reset(n){let r=this.ui.onSearch;gr(this.schema,this.ui,n).subscribe(o=>{this._value=n,r==null&&(this.data=o),this.checkGroup(o),this.detectChanges()}),n&&r!=null&&this.search$.next(n)}change(n){this.ui.change&&this.ui.change(n,this.getOrgData(n)),this.setValue(n??void 0)}getOrgData(n){let r=this.injector.get(Sf);return Array.isArray(n)?n.map(o=>r.findTree(this.data,a=>a.value===o)):r.findTree(this.data,o=>o.value===n)}openChange(n){this.ui.openChange&&this.ui.openChange(n)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(n){this.ui.onSearch&&(this.loading=!0,this.search$.next(n))}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["sf-select"]],features:[oe],decls:5,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzBorderless","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize","ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom"],["nzDisabled","","nzCustomContent",""],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nz-icon","","nzType","loading"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0)(1,"nz-select",1),P("ngModelChange",function(s){return o._value=s})("ngModelChange",function(s){return o.change(s)})("nzOpenChange",function(s){return o.openChange(s)})("nzOnSearch",function(s){return o.onSearch(s)})("nzScrollToBottom",function(){return o.scrollToBottom()}),b(2,$x,2,0)(3,Mx,2,0)(4,Fx,3,1,"nz-option",2),g()()),r&2&&(u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),l(1),u("nzId",o.id)("nzDisabled",o.disabled)("ngModel",o._value)("nzSize",o.ui.size)("nzPlaceHolder",o.ui.placeholder)("nzNotFoundContent",o.ui.notFoundContent)("nzDropdownClassName",o.ui.dropdownClassName)("nzAllowClear",o.ui.allowClear)("nzDropdownStyle",o.ui.dropdownStyle)("nzCustomTemplate",o.ui.customTemplate)("nzSuffixIcon",o.ui.suffixIcon)("nzRemoveIcon",o.ui.removeIcon)("nzClearIcon",o.ui.clearIcon)("nzMenuItemSelectedIcon",o.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",o.ui.maxTagPlaceholder)("nzDropdownRender",o.ui.dropdownRender)("nzAutoClearSearchValue",o.i.autoClearSearchValue)("nzBorderless",o.i.borderless)("nzAutoFocus",o.i.autoFocus)("nzDropdownMatchSelectWidth",o.i.dropdownMatchSelectWidth)("nzServerSearch",o.i.serverSearch)("nzMaxMultipleCount",o.i.maxMultipleCount)("nzMode",o.i.mode)("nzShowSearch",o.i.showSearch)("nzShowArrow",o.i.showArrow)("nzTokenSeparators",o.i.tokenSeparators)("nzMaxTagCount",o.i.maxTagCount)("compareWith",o.i.compareWith)("nzOptionHeightPx",o.i.optionHeightPx)("nzOptionOverflowSize",o.i.optionOverflowSize),l(1),Y(2,!o.loading&&!o.hasGroup?2:-1),l(1),Y(3,!o.loading&&o.hasGroup?3:-1),l(1),Y(4,o.loading?4:-1))},dependencies:[je,$e,Ze,nt,Zd,Jd,Xd,Ke],encapsulation:2});let i=e;return i})();function Rx(i,e){if(i&1){let t=q();m(0,"input",3),P("ngModelChange",function(r){T(t);let o=d();return k(o.change(r))})("keyup.enter",function(r){T(t);let o=d();return k(o.enter(r))})("focus",function(r){T(t);let o=d();return k(o.focus(r))})("blur",function(r){T(t);let o=d();return k(o.blur(r))}),g()}if(i&2){let t=d();u("disabled",t.disabled)("nzSize",t.ui.size)("nzBorderless",t.ui.borderless)("ngModel",t.value),xe("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength||null)("type",t.ui.type||"text")("placeholder",t.ui.placeholder)("autocomplete",t.ui.autocomplete)("autoFocus",t.ui.autofocus)}}function Ax(i,e){}function Hx(i,e){if(i&1&&(m(0,"nz-input-group",2),b(1,Ax,0,0,"ng-template",4),g()),i&2){let t=d(),n=ae(2);u("nzAddOnBefore",t.ui.addOnBefore)("nzAddOnAfter",t.ui.addOnAfter)("nzAddOnBeforeIcon",t.ui.addOnBeforeIcon)("nzAddOnAfterIcon",t.ui.addOnAfterIcon)("nzPrefix",t.ui.prefix)("nzPrefixIcon",t.ui.prefixIcon)("nzSuffix",t.ui.suffix)("nzSuffixIcon",t.ui.suffixIcon),l(1),u("ngTemplateOutlet",n)}}function jx(i,e){}function Lx(i,e){if(i&1&&b(0,jx,0,0,"ng-template",4),i&2){d();let t=ae(2);u("ngTemplateOutlet",t)}}var is=(()=>{let e=class e extends Je{constructor(){super(...arguments),this.change$=null}ngOnInit(){let{addOnAfter:n,addOnAfterIcon:r,addOnBefore:o,addOnBeforeIcon:a,prefix:s,prefixIcon:c,suffix:h,suffixIcon:f,autofocus:v}=this.ui;this.type=n||o||r||a||s||c||h||f?"addon":"",v===!0&&setTimeout(()=>{this.injector.get(St).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(n){!n&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let n=this.ui.changeDebounceTime,r=this.ui.change;if(n==null||n<=0||r==null)return;this.change$=new Bi(this.value);let o=this.change$.asObservable().pipe(Fo(n),U(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(o=o.pipe(Vo(this.ui.changeMap))),o.subscribe(a=>r(a))}change(n){if(this.setValue(n),this.change$!=null){this.change$.next(n);return}this.ui.change&&this.ui.change(n)}focus(n){this.ui.focus&&this.ui.focus(n)}blur(n){this.ui.blur&&this.ui.blur(n)}enter(n){this.ui.enter&&this.ui.enter(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["sf-string"]],features:[oe],decls:5,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],["ipt",""],[3,"nzAddOnBefore","nzAddOnAfter","nzAddOnBeforeIcon","nzAddOnAfterIcon","nzPrefix","nzPrefixIcon","nzSuffix","nzSuffixIcon"],["nz-input","",3,"disabled","nzSize","nzBorderless","ngModel","ngModelChange","keyup.enter","focus","blur"],[3,"ngTemplateOutlet"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0),b(1,Rx,1,11,"ng-template",null,1,ye)(3,Hx,2,9,"nz-input-group",2)(4,Lx,1,1),g()),r&2&&(u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),l(3),Y(3,o.type==="addon"?3:4))},dependencies:[Pe,Ji,je,$e,Ze,oa,iu,tu,Ke],encapsulation:2});let i=e;return i})();function Bx(i,e){if(i&1&&O(0,"span",1),i&2){let t=d();u("innerHTML",t.text,_t)}}function qx(i,e){if(i&1&&O(0,"span",2),i&2){let t=d();u("innerText",t.text)}}var $c=(()=>{let e=class e extends Je{constructor(){super(...arguments),this.text=""}ngOnInit(){this.ui._required=!1,this.ui.html=Tt(this.ui.html,!0)}reset(n){this.text=n||this.ui.defaultText||"-"}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["sf-text"]],features:[oe],decls:3,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0),b(1,Bx,1,1,"span",1)(2,qx,1,1),g()),r&2&&(W("sf__text-html",o.ui.html),u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),l(1),Y(1,o.ui.html?1:2))},dependencies:[Ke],encapsulation:2});let i=e;return i})();function Wx(i,e){if(i&1){let t=q();m(0,"textarea",3),P("ngModelChange",function(r){T(t);let o=d();return k(o.change(r))})("focus",function(r){T(t);let o=d();return k(o.focus(r))})("blur",function(r){T(t);let o=d();return k(o.blur(r))}),R(1,"      "),g()}if(i&2){let t=d();u("disabled",t.disabled)("nzSize",t.ui.size)("ngModel",t.value)("nzAutosize",t.autosize)("nzBorderless",t.ui.borderless),xe("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength||null)("placeholder",t.ui.placeholder)}}function Ux(i,e){if(i&1){let t=q();m(0,"nz-textarea-count",2)(1,"textarea",3),P("ngModelChange",function(r){T(t);let o=d();return k(o.change(r))})("focus",function(r){T(t);let o=d();return k(o.focus(r))})("blur",function(r){T(t);let o=d();return k(o.blur(r))}),R(2,"        "),g()()}if(i&2){let t=d();u("nzMaxCharacterCount",t.ui.maxCharacterCount)("nzComputeCharacterCount",t.ui.computeCharacterCount),l(1),u("disabled",t.disabled)("nzSize",t.ui.size)("ngModel",t.value)("nzAutosize",t.autosize)("nzBorderless",t.ui.borderless),xe("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength||null)("placeholder",t.ui.placeholder)}}function Yx(i,e){}function Kx(i,e){if(i&1&&b(0,Yx,0,0,"ng-template",4),i&2){d();let t=ae(2);u("ngTemplateOutlet",t)}}var Nc=(()=>{let e=class e extends Je{constructor(){super(...arguments),this.autosize=!0}ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=n=>n.length)}change(n){this.setValue(n),this.ui.change&&this.ui.change(n)}focus(n){this.ui.focus&&this.ui.focus(n)}blur(n){this.ui.blur&&this.ui.blur(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=fe(e)))(o||e)}})(),e.\u0275cmp=L({type:e,selectors:[["sf-textarea"]],features:[oe],decls:5,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],["ipt",""],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],["nz-input","",3,"disabled","nzSize","ngModel","nzAutosize","nzBorderless","ngModelChange","focus","blur"],[3,"ngTemplateOutlet"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0),b(1,Wx,2,9,"ng-template",null,1,ye)(3,Ux,3,11,"nz-textarea-count",2)(4,Kx,1,1),g()),r&2&&(u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),l(3),Y(3,o.ui.maxCharacterCount?3:4))},dependencies:[Pe,Ji,je,$e,ru,oa,nu,Ke],encapsulation:2});let i=e;return i})();var Ar=class extends ki{constructor(){super(),this.register("object",Dc),this.register("array",xc),this.register("text",$c),this.register("string",is),this.register("number",ts),this.register("integer",ts),this.register("date",kc),this.register("radio",Ec),this.register("checkbox",wc),this.register("boolean",Sc),this.register("textarea",Nc),this.register("select",Pc),this.register("custom",Tc),this.setDefault(is)}};var Gx=[dr,vf,uu,wu,ku,Xr,Qi,ou,su,Fd,hu,eu,cu,ra];var sP=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:qn,useClass:Xa,deps:[Mt,ot]},{provide:ki,useClass:Ar}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=xt({type:e}),e.\u0275inj=zt({imports:[wt,ni,Rd,Gx]});let i=e;return i})();function fP(i){let e=[{provide:qn,useClass:Xa,deps:[Mt,ot]},{provide:ki,useClass:Ar}];return i?.widgets&&e.push({provide:pd,multi:!0,useValue:()=>{let t=ud(ki);i?.widgets?.forEach(n=>t.register(n.KEY,n.type))}}),hd(e)}export{Vi as a,Zr as b,uu as c,ys as d,to as e,ur as f,hu as g,w2 as h,M2 as i,tt as j,Ts as k,Ue as l,zu as m,wu as n,Tt as o,Iu as p,Sg as q,gr as r,$n as s,oi as t,fT as u,Es as v,ku as w,Ct as x,Ke as y,ui as z,vf as A,wz as B,Je as C,Ix as D,ME as E,FE as F,xf as G,sP as H,fP as I};
