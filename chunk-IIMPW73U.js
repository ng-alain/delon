import{a as yn,b as tc}from"./chunk-J2LCNZEP.js";import{b as _n,f as Bl,g as Kl,h as Gl,i as Jl,j as Xl,k as Zl,l as jr,m as Yl,p as ec,u as nc}from"./chunk-35MVPD5B.js";import{a as El,b as xl,c as Tl,d as Pl,e as Il,f as Ol,g as Dl,h as Nl}from"./chunk-MHPFZSWD.js";import{a as rc,b as ic}from"./chunk-SH4AI75J.js";import{h as Vl,i as Ml,o as Rl,p as Fl,s as bt,t as $t,u as Ql}from"./chunk-NBMMYNLY.js";import{F as Bt,H as kl,I as gn,J as Al,K as jl,L as ql,M as Wl,N as Ll,O as Ul,P as Hl,d as hn,g as Oe,h as vl,k as Cl,m as De,n as wl,v as bl,z as Ar}from"./chunk-QFGZFXPV.js";import{$a as O,Ab as Se,Ag as gl,Ba as vt,Bg as yl,Cb as cn,Eb as _o,F as Hs,Fa as nn,Fb as nl,Fg as mn,Ga as el,H as Bs,Hb as ol,J as Ks,Ja as S,Jc as un,Ka as ce,L as Yi,La as on,M as Gs,Na as Mr,Oa as Ht,P as en,Pa as oe,Pb as al,Qb as sl,Ra as it,Rb as ll,Sa as $,Ta as an,Tb as cl,Tg as $l,Ua as ze,Ub as Ue,Ug as wt,Wa as tl,Wg as Sl,X as tn,Y as Lt,Ze as dn,_a as rl,_g as zl,a as I,ab as N,ad as dr,b as ge,bb as qe,bg as nt,c as qs,ca as yi,cg as ml,d as x,da as Js,db as We,dg as Be,eb as Le,ed as Ct,ee as go,f as Ws,fa as vi,fb as T,fd as dl,fg as fn,g as Dr,ga as Xs,gb as P,gc as Fr,ha as ee,hb as re,hd as fl,hg as pn,ia as Zs,j as Ls,ja as Mt,jg as hl,k as Nr,kb as il,kd as pl,l as kr,lb as he,ma as Ut,na as R,nc as He,oa as F,og as _l,pb as Q,q as rt,ra as ne,rb as v,s as Us,sb as sn,ta as Qs,tb as ln,ua as Ys,uc as ul,w as Vr,wa as rn,x as ho,xb as Ie,yb as ue,zb as Rr}from"./chunk-7RYH264L.js";var Si=x(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.regexpCode=J.getEsmExportName=J.getProperty=J.safeStringify=J.stringify=J.strConcat=J.addCodeArg=J.str=J._=J.nil=J._Code=J.Name=J.IDENTIFIER=J._CodeOrName=void 0;var bi=class{};J._CodeOrName=bi;J.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var pr=class extends bi{constructor(e){if(super(),!J.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};J.Name=pr;var ot=class extends bi{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((t,i)=>`${t}${i}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((t,i)=>(i instanceof pr&&(t[i.str]=(t[i.str]||0)+1),t),{})}};J._Code=ot;J.nil=new ot("");function cc(r,...e){let t=[r[0]],i=0;for(;i<e.length;)wo(t,e[i]),t.push(r[++i]);return new ot(t)}J._=cc;var Co=new ot("+");function uc(r,...e){let t=[$i(r[0])],i=0;for(;i<e.length;)t.push(Co),wo(t,e[i]),t.push(Co,$i(r[++i]));return If(t),new ot(t)}J.str=uc;function wo(r,e){e instanceof ot?r.push(...e._items):e instanceof pr?r.push(e):r.push(Nf(e))}J.addCodeArg=wo;function If(r){let e=1;for(;e<r.length-1;){if(r[e]===Co){let t=Of(r[e-1],r[e+1]);if(t!==void 0){r.splice(e-1,3,t);continue}r[e++]="+"}e++}}function Of(r,e){if(e==='""')return r;if(r==='""')return e;if(typeof r=="string")return e instanceof pr||r[r.length-1]!=='"'?void 0:typeof e!="string"?`${r.slice(0,-1)}${e}"`:e[0]==='"'?r.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(r instanceof pr))return`"${r}${e.slice(1)}`}function Df(r,e){return e.emptyStr()?r:r.emptyStr()?e:uc`${r}${e}`}J.strConcat=Df;function Nf(r){return typeof r=="number"||typeof r=="boolean"||r===null?r:$i(Array.isArray(r)?r.join(","):r)}function kf(r){return new ot($i(r))}J.stringify=kf;function $i(r){return JSON.stringify(r).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}J.safeStringify=$i;function Vf(r){return typeof r=="string"&&J.IDENTIFIER.test(r)?new ot(`.${r}`):cc`[${r}]`}J.getProperty=Vf;function Mf(r){if(typeof r=="string"&&J.IDENTIFIER.test(r))return new ot(`${r}`);throw new Error(`CodeGen: invalid export name: ${r}, use explicit $id name mapping`)}J.getEsmExportName=Mf;function Rf(r){return new ot(r.toString())}J.regexpCode=Rf});var zo=x(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.ValueScope=Fe.ValueScopeName=Fe.Scope=Fe.varKinds=Fe.UsedValueState=void 0;var Ke=Si(),bo=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},$o;(function(r){r[r.Started=0]="Started",r[r.Completed=1]="Completed"})($o=Fe.UsedValueState||(Fe.UsedValueState={}));Fe.varKinds={const:new Ke.Name("const"),let:new Ke.Name("let"),var:new Ke.Name("var")};var bn=class{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof Ke.Name?e:this.name(e)}name(e){return new Ke.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,i;if(!((i=(t=this._parent)===null||t===void 0?void 0:t._prefixes)===null||i===void 0)&&i.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};Fe.Scope=bn;var $n=class extends Ke.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:i}){this.value=e,this.scopePath=(0,Ke._)`.${new Ke.Name(t)}[${i}]`}};Fe.ValueScopeName=$n;var Ff=(0,Ke._)`\n`,So=class extends bn{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=ge(I({},e),{_n:e.lines?Ff:Ke.nil})}get(){return this._scope}name(e){return new $n(e,this._newName(e))}value(e,t){var i;if(t.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(e),{prefix:o}=n,a=(i=t.key)!==null&&i!==void 0?i:t.ref,s=this._values[o];if(s){let f=s.get(a);if(f)return f}else s=this._values[o]=new Map;s.set(a,n);let c=this._scope[o]||(this._scope[o]=[]),p=c.length;return c[p]=t.ref,n.setValue(t,{property:o,itemIndex:p}),n}getValue(e,t){let i=this._values[e];if(i)return i.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,Ke._)`${e}${i.scopePath}`})}scopeCode(e=this._values,t,i){return this._reduceValues(e,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},t,i)}_reduceValues(e,t,i={},n){let o=Ke.nil;for(let a in e){let s=e[a];if(!s)continue;let c=i[a]=i[a]||new Map;s.forEach(p=>{if(c.has(p))return;c.set(p,$o.Started);let f=t(p);if(f){let h=this.opts.es5?Fe.varKinds.var:Fe.varKinds.const;o=(0,Ke._)`${o}${h} ${p} = ${f};${this.opts._n}`}else if(f=n?.(p))o=(0,Ke._)`${o}${f}${this.opts._n}`;else throw new bo(p);c.set(p,$o.Completed)})}return o}};Fe.ValueScope=So});var W=x(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.or=L.and=L.not=L.CodeGen=L.operators=L.varKinds=L.ValueScopeName=L.ValueScope=L.Scope=L.Name=L.regexpCode=L.stringify=L.getProperty=L.nil=L.strConcat=L.str=L._=void 0;var H=Si(),ct=zo(),Jt=Si();Object.defineProperty(L,"_",{enumerable:!0,get:function(){return Jt._}});Object.defineProperty(L,"str",{enumerable:!0,get:function(){return Jt.str}});Object.defineProperty(L,"strConcat",{enumerable:!0,get:function(){return Jt.strConcat}});Object.defineProperty(L,"nil",{enumerable:!0,get:function(){return Jt.nil}});Object.defineProperty(L,"getProperty",{enumerable:!0,get:function(){return Jt.getProperty}});Object.defineProperty(L,"stringify",{enumerable:!0,get:function(){return Jt.stringify}});Object.defineProperty(L,"regexpCode",{enumerable:!0,get:function(){return Jt.regexpCode}});Object.defineProperty(L,"Name",{enumerable:!0,get:function(){return Jt.Name}});var Tn=zo();Object.defineProperty(L,"Scope",{enumerable:!0,get:function(){return Tn.Scope}});Object.defineProperty(L,"ValueScope",{enumerable:!0,get:function(){return Tn.ValueScope}});Object.defineProperty(L,"ValueScopeName",{enumerable:!0,get:function(){return Tn.ValueScopeName}});Object.defineProperty(L,"varKinds",{enumerable:!0,get:function(){return Tn.varKinds}});L.operators={GT:new H._Code(">"),GTE:new H._Code(">="),LT:new H._Code("<"),LTE:new H._Code("<="),EQ:new H._Code("==="),NEQ:new H._Code("!=="),NOT:new H._Code("!"),OR:new H._Code("||"),AND:new H._Code("&&"),ADD:new H._Code("+")};var Rt=class{optimizeNodes(){return this}optimizeNames(e,t){return this}},Eo=class extends Rt{constructor(e,t,i){super(),this.varKind=e,this.name=t,this.rhs=i}render({es5:e,_n:t}){let i=e?ct.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=Br(this.rhs,e,t)),this}get names(){return this.rhs instanceof H._CodeOrName?this.rhs.names:{}}},zn=class extends Rt{constructor(e,t,i){super(),this.lhs=e,this.rhs=t,this.sideEffects=i}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof H.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Br(this.rhs,e,t),this}get names(){let e=this.lhs instanceof H.Name?{}:I({},this.lhs.names);return xn(e,this.rhs)}},xo=class extends zn{constructor(e,t,i,n){super(e,i,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},To=class extends Rt{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},Po=class extends Rt{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},Io=class extends Rt{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},Oo=class extends Rt{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=Br(this.code,e,t),this}get names(){return this.code instanceof H._CodeOrName?this.code.names:{}}},zi=class extends Rt{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,i)=>t+i.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let i=e[t].optimizeNodes();Array.isArray(i)?e.splice(t,1,...i):i?e[t]=i:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:i}=this,n=i.length;for(;n--;){let o=i[n];o.optimizeNames(e,t)||(Af(e,o.names),i.splice(n,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>mr(e,t.names),{})}},Ft=class extends zi{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Do=class extends zi{},No=(()=>{class r extends Ft{}return r.kind="else",r})(),Sn=(()=>{class r extends Ft{constructor(t,i){super(i),this.condition=t}render(t){let i=`if(${this.condition})`+super.render(t);return this.else&&(i+="else "+this.else.render(t)),i}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let i=this.else;if(i){let n=i.optimizeNodes();i=this.else=Array.isArray(n)?new No(n):n}if(i)return t===!1?i instanceof r?i:i.nodes:this.nodes.length?this:new r(hc(t),i instanceof r?[i]:i.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,i){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,i),!!(super.optimizeNames(t,i)||this.else))return this.condition=Br(this.condition,t,i),this}get names(){let t=super.names;return xn(t,this.condition),this.else&&mr(t,this.else.names),t}}return r.kind="if",r})(),Pn=(()=>{class r extends Ft{}return r.kind="for",r})(),ko=class extends Pn{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=Br(this.iteration,e,t),this}get names(){return mr(super.names,this.iteration.names)}},Vo=class extends Pn{constructor(e,t,i,n){super(),this.varKind=e,this.name=t,this.from=i,this.to=n}render(e){let t=e.es5?ct.varKinds.var:this.varKind,{name:i,from:n,to:o}=this;return`for(${t} ${i}=${n}; ${i}<${o}; ${i}++)`+super.render(e)}get names(){let e=xn(super.names,this.from);return xn(e,this.to)}},En=class extends Pn{constructor(e,t,i,n){super(),this.loop=e,this.varKind=t,this.name=i,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=Br(this.iterable,e,t),this}get names(){return mr(super.names,this.iterable.names)}},dc=(()=>{class r extends Ft{constructor(t,i,n){super(),this.name=t,this.args=i,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}}return r.kind="func",r})(),fc=(()=>{class r extends zi{render(t){return"return "+super.render(t)}}return r.kind="return",r})(),Mo=class extends Ft{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(t=this.finally)===null||t===void 0||t.optimizeNodes(),this}optimizeNames(e,t){var i,n;return super.optimizeNames(e,t),(i=this.catch)===null||i===void 0||i.optimizeNames(e,t),(n=this.finally)===null||n===void 0||n.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&mr(e,this.catch.names),this.finally&&mr(e,this.finally.names),e}},pc=(()=>{class r extends Ft{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}}return r.kind="catch",r})(),mc=(()=>{class r extends Ft{render(t){return"finally"+super.render(t)}}return r.kind="finally",r})(),Ro=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts=ge(I({},t),{_n:t.lines?`
`:""}),this._extScope=e,this._scope=new ct.Scope({parent:e}),this._nodes=[new Do]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let i=this._extScope.value(e,t);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,i,n){let o=this._scope.toName(t);return i!==void 0&&n&&(this._constants[o.str]=i),this._leafNode(new Eo(e,o,i)),o}const(e,t,i){return this._def(ct.varKinds.const,e,t,i)}let(e,t,i){return this._def(ct.varKinds.let,e,t,i)}var(e,t,i){return this._def(ct.varKinds.var,e,t,i)}assign(e,t,i){return this._leafNode(new zn(e,t,i))}add(e,t){return this._leafNode(new xo(e,L.operators.ADD,t))}code(e){return typeof e=="function"?e():e!==H.nil&&this._leafNode(new Oo(e)),this}object(...e){let t=["{"];for(let[i,n]of e)t.length>1&&t.push(","),t.push(i),(i!==n||this.opts.es5)&&(t.push(":"),(0,H.addCodeArg)(t,n));return t.push("}"),new H._Code(t)}if(e,t,i){if(this._blockNode(new Sn(e)),t&&i)this.code(t).else().code(i).endIf();else if(t)this.code(t).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Sn(e))}else(){return this._elseNode(new No)}endIf(){return this._endBlockNode(Sn,No)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new ko(e),t)}forRange(e,t,i,n,o=this.opts.es5?ct.varKinds.var:ct.varKinds.let){let a=this._scope.toName(e);return this._for(new Vo(o,a,t,i),()=>n(a))}forOf(e,t,i,n=ct.varKinds.const){let o=this._scope.toName(e);if(this.opts.es5){let a=t instanceof H.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,H._)`${a}.length`,s=>{this.var(o,(0,H._)`${a}[${s}]`),i(o)})}return this._for(new En("of",n,o,t),()=>i(o))}forIn(e,t,i,n=this.opts.es5?ct.varKinds.var:ct.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,H._)`Object.keys(${t})`,i);let o=this._scope.toName(e);return this._for(new En("in",n,o,t),()=>i(o))}endFor(){return this._endBlockNode(Pn)}label(e){return this._leafNode(new To(e))}break(e){return this._leafNode(new Po(e))}return(e){let t=new fc;if(this._blockNode(t),this.code(e),t.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(fc)}try(e,t,i){if(!t&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new Mo;if(this._blockNode(n),this.code(e),t){let o=this.name("e");this._currNode=n.catch=new pc(o),t(o)}return i&&(this._currNode=n.finally=new mc,this.code(i)),this._endBlockNode(pc,mc)}throw(e){return this._leafNode(new Io(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(t===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-t;if(i<0||e!==void 0&&i!==e)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=H.nil,i,n){return this._blockNode(new dc(e,t,i)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(dc)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let i=this._currNode;if(i instanceof e||t&&i instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof Sn))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}};L.CodeGen=Ro;function mr(r,e){for(let t in e)r[t]=(r[t]||0)+(e[t]||0);return r}function xn(r,e){return e instanceof H._CodeOrName?mr(r,e.names):r}function Br(r,e,t){if(r instanceof H.Name)return i(r);if(!n(r))return r;return new H._Code(r._items.reduce((o,a)=>(a instanceof H.Name&&(a=i(a)),a instanceof H._Code?o.push(...a._items):o.push(a),o),[]));function i(o){let a=t[o.str];return a===void 0||e[o.str]!==1?o:(delete e[o.str],a)}function n(o){return o instanceof H._Code&&o._items.some(a=>a instanceof H.Name&&e[a.str]===1&&t[a.str]!==void 0)}}function Af(r,e){for(let t in e)r[t]=(r[t]||0)-(e[t]||0)}function hc(r){return typeof r=="boolean"||typeof r=="number"||r===null?!r:(0,H._)`!${Fo(r)}`}L.not=hc;var jf=_c(L.operators.AND);function qf(...r){return r.reduce(jf)}L.and=qf;var Wf=_c(L.operators.OR);function Lf(...r){return r.reduce(Wf)}L.or=Lf;function _c(r){return(e,t)=>e===H.nil?t:t===H.nil?e:(0,H._)`${Fo(e)} ${r} ${Fo(t)}`}function Fo(r){return r instanceof H.Name?r:(0,H._)`(${r})`}});var X=x(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.checkStrictMode=U.getErrorPath=U.Type=U.useFunc=U.setEvaluated=U.evaluatedPropsToName=U.mergeEvaluated=U.eachItem=U.unescapeJsonPointer=U.escapeJsonPointer=U.escapeFragment=U.unescapeFragment=U.schemaRefOrVal=U.schemaHasRulesButRef=U.schemaHasRules=U.checkUnknownRules=U.alwaysValidSchema=U.toHash=void 0;var le=W(),Uf=Si();function Hf(r){let e={};for(let t of r)e[t]=!0;return e}U.toHash=Hf;function Bf(r,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(vc(r,e),!Cc(e,r.self.RULES.all))}U.alwaysValidSchema=Bf;function vc(r,e=r.schema){let{opts:t,self:i}=r;if(!t.strictSchema||typeof e=="boolean")return;let n=i.RULES.keywords;for(let o in e)n[o]||Sc(r,`unknown keyword: "${o}"`)}U.checkUnknownRules=vc;function Cc(r,e){if(typeof r=="boolean")return!r;for(let t in r)if(e[t])return!0;return!1}U.schemaHasRules=Cc;function Kf(r,e){if(typeof r=="boolean")return!r;for(let t in r)if(t!=="$ref"&&e.all[t])return!0;return!1}U.schemaHasRulesButRef=Kf;function Gf({topSchemaRef:r,schemaPath:e},t,i,n){if(!n){if(typeof t=="number"||typeof t=="boolean")return t;if(typeof t=="string")return(0,le._)`${t}`}return(0,le._)`${r}${e}${(0,le.getProperty)(i)}`}U.schemaRefOrVal=Gf;function Jf(r){return wc(decodeURIComponent(r))}U.unescapeFragment=Jf;function Xf(r){return encodeURIComponent(Ao(r))}U.escapeFragment=Xf;function Ao(r){return typeof r=="number"?`${r}`:r.replace(/~/g,"~0").replace(/\//g,"~1")}U.escapeJsonPointer=Ao;function wc(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}U.unescapeJsonPointer=wc;function Zf(r,e){if(Array.isArray(r))for(let t of r)e(t);else e(r)}U.eachItem=Zf;function gc({mergeNames:r,mergeToName:e,mergeValues:t,resultToName:i}){return(n,o,a,s)=>{let c=a===void 0?o:a instanceof le.Name?(o instanceof le.Name?r(n,o,a):e(n,o,a),a):o instanceof le.Name?(e(n,a,o),o):t(o,a);return s===le.Name&&!(c instanceof le.Name)?i(n,c):c}}U.mergeEvaluated={props:gc({mergeNames:(r,e,t)=>r.if((0,le._)`${t} !== true && ${e} !== undefined`,()=>{r.if((0,le._)`${e} === true`,()=>r.assign(t,!0),()=>r.assign(t,(0,le._)`${t} || {}`).code((0,le._)`Object.assign(${t}, ${e})`))}),mergeToName:(r,e,t)=>r.if((0,le._)`${t} !== true`,()=>{e===!0?r.assign(t,!0):(r.assign(t,(0,le._)`${t} || {}`),jo(r,t,e))}),mergeValues:(r,e)=>r===!0?!0:I(I({},r),e),resultToName:bc}),items:gc({mergeNames:(r,e,t)=>r.if((0,le._)`${t} !== true && ${e} !== undefined`,()=>r.assign(t,(0,le._)`${e} === true ? true : ${t} > ${e} ? ${t} : ${e}`)),mergeToName:(r,e,t)=>r.if((0,le._)`${t} !== true`,()=>r.assign(t,e===!0?!0:(0,le._)`${t} > ${e} ? ${t} : ${e}`)),mergeValues:(r,e)=>r===!0?!0:Math.max(r,e),resultToName:(r,e)=>r.var("items",e)})};function bc(r,e){if(e===!0)return r.var("props",!0);let t=r.var("props",(0,le._)`{}`);return e!==void 0&&jo(r,t,e),t}U.evaluatedPropsToName=bc;function jo(r,e,t){Object.keys(t).forEach(i=>r.assign((0,le._)`${e}${(0,le.getProperty)(i)}`,!0))}U.setEvaluated=jo;var yc={};function Qf(r,e){return r.scopeValue("func",{ref:e,code:yc[e.code]||(yc[e.code]=new Uf._Code(e.code))})}U.useFunc=Qf;var $c;(function(r){r[r.Num=0]="Num",r[r.Str=1]="Str"})($c=U.Type||(U.Type={}));function Yf(r,e,t){if(r instanceof le.Name){let i=e===$c.Num;return t?i?(0,le._)`"[" + ${r} + "]"`:(0,le._)`"['" + ${r} + "']"`:i?(0,le._)`"/" + ${r}`:(0,le._)`"/" + ${r}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return t?(0,le.getProperty)(r).toString():"/"+Ao(r)}U.getErrorPath=Yf;function Sc(r,e,t=r.opts.strictSchema){if(t){if(e=`strict mode: ${e}`,t===!0)throw new Error(e);r.self.logger.warn(e)}}U.checkStrictMode=Sc});var At=x(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});var ke=W(),ep={data:new ke.Name("data"),valCxt:new ke.Name("valCxt"),instancePath:new ke.Name("instancePath"),parentData:new ke.Name("parentData"),parentDataProperty:new ke.Name("parentDataProperty"),rootData:new ke.Name("rootData"),dynamicAnchors:new ke.Name("dynamicAnchors"),vErrors:new ke.Name("vErrors"),errors:new ke.Name("errors"),this:new ke.Name("this"),self:new ke.Name("self"),scope:new ke.Name("scope"),json:new ke.Name("json"),jsonPos:new ke.Name("jsonPos"),jsonLen:new ke.Name("jsonLen"),jsonPart:new ke.Name("jsonPart")};qo.default=ep});var Ei=x(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.extendErrors=Ve.resetErrorsCount=Ve.reportExtraError=Ve.reportError=Ve.keyword$DataError=Ve.keywordError=void 0;var K=W(),In=X(),Ae=At();Ve.keywordError={message:({keyword:r})=>(0,K.str)`must pass "${r}" keyword validation`};Ve.keyword$DataError={message:({keyword:r,schemaType:e})=>e?(0,K.str)`"${r}" keyword must be ${e} ($data)`:(0,K.str)`"${r}" keyword is invalid ($data)`};function tp(r,e=Ve.keywordError,t,i){let{it:n}=r,{gen:o,compositeRule:a,allErrors:s}=n,c=xc(r,e,t);i??(a||s)?zc(o,c):Ec(n,(0,K._)`[${c}]`)}Ve.reportError=tp;function rp(r,e=Ve.keywordError,t){let{it:i}=r,{gen:n,compositeRule:o,allErrors:a}=i,s=xc(r,e,t);zc(n,s),o||a||Ec(i,Ae.default.vErrors)}Ve.reportExtraError=rp;function ip(r,e){r.assign(Ae.default.errors,e),r.if((0,K._)`${Ae.default.vErrors} !== null`,()=>r.if(e,()=>r.assign((0,K._)`${Ae.default.vErrors}.length`,e),()=>r.assign(Ae.default.vErrors,null)))}Ve.resetErrorsCount=ip;function np({gen:r,keyword:e,schemaValue:t,data:i,errsCount:n,it:o}){if(n===void 0)throw new Error("ajv implementation error");let a=r.name("err");r.forRange("i",n,Ae.default.errors,s=>{r.const(a,(0,K._)`${Ae.default.vErrors}[${s}]`),r.if((0,K._)`${a}.instancePath === undefined`,()=>r.assign((0,K._)`${a}.instancePath`,(0,K.strConcat)(Ae.default.instancePath,o.errorPath))),r.assign((0,K._)`${a}.schemaPath`,(0,K.str)`${o.errSchemaPath}/${e}`),o.opts.verbose&&(r.assign((0,K._)`${a}.schema`,t),r.assign((0,K._)`${a}.data`,i))})}Ve.extendErrors=np;function zc(r,e){let t=r.const("err",e);r.if((0,K._)`${Ae.default.vErrors} === null`,()=>r.assign(Ae.default.vErrors,(0,K._)`[${t}]`),(0,K._)`${Ae.default.vErrors}.push(${t})`),r.code((0,K._)`${Ae.default.errors}++`)}function Ec(r,e){let{gen:t,validateName:i,schemaEnv:n}=r;n.$async?t.throw((0,K._)`new ${r.ValidationError}(${e})`):(t.assign((0,K._)`${i}.errors`,e),t.return(!1))}var hr={keyword:new K.Name("keyword"),schemaPath:new K.Name("schemaPath"),params:new K.Name("params"),propertyName:new K.Name("propertyName"),message:new K.Name("message"),schema:new K.Name("schema"),parentSchema:new K.Name("parentSchema")};function xc(r,e,t){let{createErrors:i}=r.it;return i===!1?(0,K._)`{}`:op(r,e,t)}function op(r,e,t={}){let{gen:i,it:n}=r,o=[ap(n,t),sp(r,t)];return lp(r,e,o),i.object(...o)}function ap({errorPath:r},{instancePath:e}){let t=e?(0,K.str)`${r}${(0,In.getErrorPath)(e,In.Type.Str)}`:r;return[Ae.default.instancePath,(0,K.strConcat)(Ae.default.instancePath,t)]}function sp({keyword:r,it:{errSchemaPath:e}},{schemaPath:t,parentSchema:i}){let n=i?e:(0,K.str)`${e}/${r}`;return t&&(n=(0,K.str)`${n}${(0,In.getErrorPath)(t,In.Type.Str)}`),[hr.schemaPath,n]}function lp(r,{params:e,message:t},i){let{keyword:n,data:o,schemaValue:a,it:s}=r,{opts:c,propertyName:p,topSchemaRef:f,schemaPath:h}=s;i.push([hr.keyword,n],[hr.params,typeof e=="function"?e(r):e||(0,K._)`{}`]),c.messages&&i.push([hr.message,typeof t=="function"?t(r):t]),c.verbose&&i.push([hr.schema,a],[hr.parentSchema,(0,K._)`${f}${h}`],[Ae.default.data,o]),p&&i.push([hr.propertyName,p])}});var Pc=x(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.boolOrEmptySchema=Kr.topBoolOrEmptySchema=void 0;var cp=Ei(),up=W(),dp=At(),fp={message:"boolean schema is false"};function pp(r){let{gen:e,schema:t,validateName:i}=r;t===!1?Tc(r,!1):typeof t=="object"&&t.$async===!0?e.return(dp.default.data):(e.assign((0,up._)`${i}.errors`,null),e.return(!0))}Kr.topBoolOrEmptySchema=pp;function mp(r,e){let{gen:t,schema:i}=r;i===!1?(t.var(e,!1),Tc(r)):t.var(e,!0)}Kr.boolOrEmptySchema=mp;function Tc(r,e){let{gen:t,data:i}=r,n={gen:t,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:r};(0,cp.reportError)(n,fp,void 0,e)}});var Wo=x(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.getRules=Gr.isJSONType=void 0;var hp=["string","number","integer","boolean","null","object","array"],_p=new Set(hp);function gp(r){return typeof r=="string"&&_p.has(r)}Gr.isJSONType=gp;function yp(){let r={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:ge(I({},r),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},r.number,r.string,r.array,r.object],post:{rules:[]},all:{},keywords:{}}}Gr.getRules=yp});var Lo=x(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.shouldUseRule=Xt.shouldUseGroup=Xt.schemaHasRulesForType=void 0;function vp({schema:r,self:e},t){let i=e.RULES.types[t];return i&&i!==!0&&Ic(r,i)}Xt.schemaHasRulesForType=vp;function Ic(r,e){return e.rules.some(t=>Oc(r,t))}Xt.shouldUseGroup=Ic;function Oc(r,e){var t;return r[e.keyword]!==void 0||((t=e.definition.implements)===null||t===void 0?void 0:t.some(i=>r[i]!==void 0))}Xt.shouldUseRule=Oc});var Ti=x(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.reportTypeError=Ee.checkDataTypes=Ee.checkDataType=Ee.coerceAndCheckDataType=Ee.getJSONTypes=Ee.getSchemaTypes=Ee.DataType=void 0;var Cp=Wo(),wp=Lo(),bp=Ei(),q=W(),Dc=X(),xi;(function(r){r[r.Correct=0]="Correct",r[r.Wrong=1]="Wrong"})(xi=Ee.DataType||(Ee.DataType={}));function $p(r){let e=Nc(r.type);if(e.includes("null")){if(r.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&r.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');r.nullable===!0&&e.push("null")}return e}Ee.getSchemaTypes=$p;function Nc(r){let e=Array.isArray(r)?r:r?[r]:[];if(e.every(Cp.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Ee.getJSONTypes=Nc;function Sp(r,e){let{gen:t,data:i,opts:n}=r,o=zp(e,n.coerceTypes),a=e.length>0&&!(o.length===0&&e.length===1&&(0,wp.schemaHasRulesForType)(r,e[0]));if(a){let s=Ho(e,i,n.strictNumbers,xi.Wrong);t.if(s,()=>{o.length?Ep(r,e,o):Bo(r)})}return a}Ee.coerceAndCheckDataType=Sp;var kc=new Set(["string","number","integer","boolean","null"]);function zp(r,e){return e?r.filter(t=>kc.has(t)||e==="array"&&t==="array"):[]}function Ep(r,e,t){let{gen:i,data:n,opts:o}=r,a=i.let("dataType",(0,q._)`typeof ${n}`),s=i.let("coerced",(0,q._)`undefined`);o.coerceTypes==="array"&&i.if((0,q._)`${a} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>i.assign(n,(0,q._)`${n}[0]`).assign(a,(0,q._)`typeof ${n}`).if(Ho(e,n,o.strictNumbers),()=>i.assign(s,n))),i.if((0,q._)`${s} !== undefined`);for(let p of t)(kc.has(p)||p==="array"&&o.coerceTypes==="array")&&c(p);i.else(),Bo(r),i.endIf(),i.if((0,q._)`${s} !== undefined`,()=>{i.assign(n,s),xp(r,s)});function c(p){switch(p){case"string":i.elseIf((0,q._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,q._)`"" + ${n}`).elseIf((0,q._)`${n} === null`).assign(s,(0,q._)`""`);return;case"number":i.elseIf((0,q._)`${a} == "boolean" || ${n} === null
              || (${a} == "string" && ${n} && ${n} == +${n})`).assign(s,(0,q._)`+${n}`);return;case"integer":i.elseIf((0,q._)`${a} === "boolean" || ${n} === null
              || (${a} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(s,(0,q._)`+${n}`);return;case"boolean":i.elseIf((0,q._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(s,!1).elseIf((0,q._)`${n} === "true" || ${n} === 1`).assign(s,!0);return;case"null":i.elseIf((0,q._)`${n} === "" || ${n} === 0 || ${n} === false`),i.assign(s,null);return;case"array":i.elseIf((0,q._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${n} === null`).assign(s,(0,q._)`[${n}]`)}}}function xp({gen:r,parentData:e,parentDataProperty:t},i){r.if((0,q._)`${e} !== undefined`,()=>r.assign((0,q._)`${e}[${t}]`,i))}function Uo(r,e,t,i=xi.Correct){let n=i===xi.Correct?q.operators.EQ:q.operators.NEQ,o;switch(r){case"null":return(0,q._)`${e} ${n} null`;case"array":o=(0,q._)`Array.isArray(${e})`;break;case"object":o=(0,q._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":o=a((0,q._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":o=a();break;default:return(0,q._)`typeof ${e} ${n} ${r}`}return i===xi.Correct?o:(0,q.not)(o);function a(s=q.nil){return(0,q.and)((0,q._)`typeof ${e} == "number"`,s,t?(0,q._)`isFinite(${e})`:q.nil)}}Ee.checkDataType=Uo;function Ho(r,e,t,i){if(r.length===1)return Uo(r[0],e,t,i);let n,o=(0,Dc.toHash)(r);if(o.array&&o.object){let a=(0,q._)`typeof ${e} != "object"`;n=o.null?a:(0,q._)`!${e} || ${a}`,delete o.null,delete o.array,delete o.object}else n=q.nil;o.number&&delete o.integer;for(let a in o)n=(0,q.and)(n,Uo(a,e,t,i));return n}Ee.checkDataTypes=Ho;var Tp={message:({schema:r})=>`must be ${r}`,params:({schema:r,schemaValue:e})=>typeof r=="string"?(0,q._)`{type: ${r}}`:(0,q._)`{type: ${e}}`};function Bo(r){let e=Pp(r);(0,bp.reportError)(e,Tp)}Ee.reportTypeError=Bo;function Pp(r){let{gen:e,data:t,schema:i}=r,n=(0,Dc.schemaRefOrVal)(r,i,"type");return{gen:e,keyword:"type",data:t,schema:i.type,schemaCode:n,schemaValue:n,parentSchema:i,params:{},it:r}}});var Mc=x(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.assignDefaults=void 0;var Jr=W(),Ip=X();function Op(r,e){let{properties:t,items:i}=r.schema;if(e==="object"&&t)for(let n in t)Vc(r,n,t[n].default);else e==="array"&&Array.isArray(i)&&i.forEach((n,o)=>Vc(r,o,n.default))}On.assignDefaults=Op;function Vc(r,e,t){let{gen:i,compositeRule:n,data:o,opts:a}=r;if(t===void 0)return;let s=(0,Jr._)`${o}${(0,Jr.getProperty)(e)}`;if(n){(0,Ip.checkStrictMode)(r,`default is ignored for: ${s}`);return}let c=(0,Jr._)`${s} === undefined`;a.useDefaults==="empty"&&(c=(0,Jr._)`${c} || ${s} === null || ${s} === ""`),i.if(c,(0,Jr._)`${s} = ${(0,Jr.stringify)(t)}`)}});var at=x(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.validateUnion=ae.validateArray=ae.usePattern=ae.callValidateCode=ae.schemaProperties=ae.allSchemaProperties=ae.noPropertyInData=ae.propertyInData=ae.isOwnProperty=ae.hasPropFunc=ae.reportMissingProp=ae.checkMissingProp=ae.checkReportMissingProp=void 0;var de=W(),Ko=X(),Zt=At(),Dp=X();function Np(r,e){let{gen:t,data:i,it:n}=r;t.if(Jo(t,i,e,n.opts.ownProperties),()=>{r.setParams({missingProperty:(0,de._)`${e}`},!0),r.error()})}ae.checkReportMissingProp=Np;function kp({gen:r,data:e,it:{opts:t}},i,n){return(0,de.or)(...i.map(o=>(0,de.and)(Jo(r,e,o,t.ownProperties),(0,de._)`${n} = ${o}`)))}ae.checkMissingProp=kp;function Vp(r,e){r.setParams({missingProperty:e},!0),r.error()}ae.reportMissingProp=Vp;function Rc(r){return r.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,de._)`Object.prototype.hasOwnProperty`})}ae.hasPropFunc=Rc;function Go(r,e,t){return(0,de._)`${Rc(r)}.call(${e}, ${t})`}ae.isOwnProperty=Go;function Mp(r,e,t,i){let n=(0,de._)`${e}${(0,de.getProperty)(t)} !== undefined`;return i?(0,de._)`${n} && ${Go(r,e,t)}`:n}ae.propertyInData=Mp;function Jo(r,e,t,i){let n=(0,de._)`${e}${(0,de.getProperty)(t)} === undefined`;return i?(0,de.or)(n,(0,de.not)(Go(r,e,t))):n}ae.noPropertyInData=Jo;function Fc(r){return r?Object.keys(r).filter(e=>e!=="__proto__"):[]}ae.allSchemaProperties=Fc;function Rp(r,e){return Fc(e).filter(t=>!(0,Ko.alwaysValidSchema)(r,e[t]))}ae.schemaProperties=Rp;function Fp({schemaCode:r,data:e,it:{gen:t,topSchemaRef:i,schemaPath:n,errorPath:o},it:a},s,c,p){let f=p?(0,de._)`${r}, ${e}, ${i}${n}`:e,h=[[Zt.default.instancePath,(0,de.strConcat)(Zt.default.instancePath,o)],[Zt.default.parentData,a.parentData],[Zt.default.parentDataProperty,a.parentDataProperty],[Zt.default.rootData,Zt.default.rootData]];a.opts.dynamicRef&&h.push([Zt.default.dynamicAnchors,Zt.default.dynamicAnchors]);let w=(0,de._)`${f}, ${t.object(...h)}`;return c!==de.nil?(0,de._)`${s}.call(${c}, ${w})`:(0,de._)`${s}(${w})`}ae.callValidateCode=Fp;var Ap=(0,de._)`new RegExp`;function jp({gen:r,it:{opts:e}},t){let i=e.unicodeRegExp?"u":"",{regExp:n}=e.code,o=n(t,i);return r.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,de._)`${n.code==="new RegExp"?Ap:(0,Dp.useFunc)(r,n)}(${t}, ${i})`})}ae.usePattern=jp;function qp(r){let{gen:e,data:t,keyword:i,it:n}=r,o=e.name("valid");if(n.allErrors){let s=e.let("valid",!0);return a(()=>e.assign(s,!1)),s}return e.var(o,!0),a(()=>e.break()),o;function a(s){let c=e.const("len",(0,de._)`${t}.length`);e.forRange("i",0,c,p=>{r.subschema({keyword:i,dataProp:p,dataPropType:Ko.Type.Num},o),e.if((0,de.not)(o),s)})}}ae.validateArray=qp;function Wp(r){let{gen:e,schema:t,keyword:i,it:n}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");if(t.some(c=>(0,Ko.alwaysValidSchema)(n,c))&&!n.opts.unevaluated)return;let a=e.let("valid",!1),s=e.name("_valid");e.block(()=>t.forEach((c,p)=>{let f=r.subschema({keyword:i,schemaProp:p,compositeRule:!0},s);e.assign(a,(0,de._)`${a} || ${s}`),r.mergeValidEvaluated(f,s)||e.if((0,de.not)(a))})),r.result(a,()=>r.reset(),()=>r.error(!0))}ae.validateUnion=Wp});var qc=x(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.validateKeywordUsage=zt.validSchemaType=zt.funcKeywordCode=zt.macroKeywordCode=void 0;var je=W(),_r=At(),Lp=at(),Up=Ei();function Hp(r,e){let{gen:t,keyword:i,schema:n,parentSchema:o,it:a}=r,s=e.macro.call(a.self,n,o,a),c=jc(t,i,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);let p=t.name("valid");r.subschema({schema:s,schemaPath:je.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:c,compositeRule:!0},p),r.pass(p,()=>r.error(!0))}zt.macroKeywordCode=Hp;function Bp(r,e){var t;let{gen:i,keyword:n,schema:o,parentSchema:a,$data:s,it:c}=r;Gp(c,e);let p=!s&&e.compile?e.compile.call(c.self,o,a,c):e.validate,f=jc(i,n,p),h=i.let("valid");r.block$data(h,w),r.ok((t=e.valid)!==null&&t!==void 0?t:h);function w(){if(e.errors===!1)m(),e.modifying&&Ac(r),b(()=>r.error());else{let z=e.async?y():C();e.modifying&&Ac(r),b(()=>Kp(r,z))}}function y(){let z=i.let("ruleErrs",null);return i.try(()=>m((0,je._)`await `),M=>i.assign(h,!1).if((0,je._)`${M} instanceof ${c.ValidationError}`,()=>i.assign(z,(0,je._)`${M}.errors`),()=>i.throw(M))),z}function C(){let z=(0,je._)`${f}.errors`;return i.assign(z,null),m(je.nil),z}function m(z=e.async?(0,je._)`await `:je.nil){let M=c.opts.passContext?_r.default.this:_r.default.self,A=!("compile"in e&&!s||e.schema===!1);i.assign(h,(0,je._)`${z}${(0,Lp.callValidateCode)(r,f,M,A)}`,e.modifying)}function b(z){var M;i.if((0,je.not)((M=e.valid)!==null&&M!==void 0?M:h),z)}}zt.funcKeywordCode=Bp;function Ac(r){let{gen:e,data:t,it:i}=r;e.if(i.parentData,()=>e.assign(t,(0,je._)`${i.parentData}[${i.parentDataProperty}]`))}function Kp(r,e){let{gen:t}=r;t.if((0,je._)`Array.isArray(${e})`,()=>{t.assign(_r.default.vErrors,(0,je._)`${_r.default.vErrors} === null ? ${e} : ${_r.default.vErrors}.concat(${e})`).assign(_r.default.errors,(0,je._)`${_r.default.vErrors}.length`),(0,Up.extendErrors)(r)},()=>r.error())}function Gp({schemaEnv:r},e){if(e.async&&!r.$async)throw new Error("async keyword in sync schema")}function jc(r,e,t){if(t===void 0)throw new Error(`keyword "${e}" failed to compile`);return r.scopeValue("keyword",typeof t=="function"?{ref:t}:{ref:t,code:(0,je.stringify)(t)})}function Jp(r,e,t=!1){return!e.length||e.some(i=>i==="array"?Array.isArray(r):i==="object"?r&&typeof r=="object"&&!Array.isArray(r):typeof r==i||t&&typeof r>"u")}zt.validSchemaType=Jp;function Xp({schema:r,opts:e,self:t,errSchemaPath:i},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");let a=n.dependencies;if(a?.some(s=>!Object.prototype.hasOwnProperty.call(r,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(n.validateSchema&&!n.validateSchema(r[o])){let c=`keyword "${o}" value is invalid at path "${i}": `+t.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")t.logger.error(c);else throw new Error(c)}}zt.validateKeywordUsage=Xp});var Lc=x(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.extendSubschemaMode=Qt.extendSubschemaData=Qt.getSubschema=void 0;var Et=W(),Wc=X();function Zp(r,{keyword:e,schemaProp:t,schema:i,schemaPath:n,errSchemaPath:o,topSchemaRef:a}){if(e!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let s=r.schema[e];return t===void 0?{schema:s,schemaPath:(0,Et._)`${r.schemaPath}${(0,Et.getProperty)(e)}`,errSchemaPath:`${r.errSchemaPath}/${e}`}:{schema:s[t],schemaPath:(0,Et._)`${r.schemaPath}${(0,Et.getProperty)(e)}${(0,Et.getProperty)(t)}`,errSchemaPath:`${r.errSchemaPath}/${e}/${(0,Wc.escapeFragment)(t)}`}}if(i!==void 0){if(n===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Qt.getSubschema=Zp;function Qp(r,e,{dataProp:t,dataPropType:i,data:n,dataTypes:o,propertyName:a}){if(n!==void 0&&t!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:s}=e;if(t!==void 0){let{errorPath:p,dataPathArr:f,opts:h}=e,w=s.let("data",(0,Et._)`${e.data}${(0,Et.getProperty)(t)}`,!0);c(w),r.errorPath=(0,Et.str)`${p}${(0,Wc.getErrorPath)(t,i,h.jsPropertySyntax)}`,r.parentDataProperty=(0,Et._)`${t}`,r.dataPathArr=[...f,r.parentDataProperty]}if(n!==void 0){let p=n instanceof Et.Name?n:s.let("data",n,!0);c(p),a!==void 0&&(r.propertyName=a)}o&&(r.dataTypes=o);function c(p){r.data=p,r.dataLevel=e.dataLevel+1,r.dataTypes=[],e.definedProperties=new Set,r.parentData=e.data,r.dataNames=[...e.dataNames,p]}}Qt.extendSubschemaData=Qp;function Yp(r,{jtdDiscriminator:e,jtdMetadata:t,compositeRule:i,createErrors:n,allErrors:o}){i!==void 0&&(r.compositeRule=i),n!==void 0&&(r.createErrors=n),o!==void 0&&(r.allErrors=o),r.jtdDiscriminator=e,r.jtdMetadata=t}Qt.extendSubschemaMode=Yp});var Xo=x((Jv,Uc)=>{"use strict";Uc.exports=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,n,o;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(n=i;n--!==0;)if(!r(e[n],t[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),i=o.length,i!==Object.keys(t).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return!1;for(n=i;n--!==0;){var a=o[n];if(!r(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}});var Bc=x((Xv,Hc)=>{"use strict";var Yt=Hc.exports=function(r,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var i=typeof t=="function"?t:t.pre||function(){},n=t.post||function(){};Dn(e,i,n,r,"",r)};Yt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Yt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Yt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Yt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Dn(r,e,t,i,n,o,a,s,c,p){if(i&&typeof i=="object"&&!Array.isArray(i)){e(i,n,o,a,s,c,p);for(var f in i){var h=i[f];if(Array.isArray(h)){if(f in Yt.arrayKeywords)for(var w=0;w<h.length;w++)Dn(r,e,t,h[w],n+"/"+f+"/"+w,o,n,f,i,w)}else if(f in Yt.propsKeywords){if(h&&typeof h=="object")for(var y in h)Dn(r,e,t,h[y],n+"/"+f+"/"+em(y),o,n,f,i,y)}else(f in Yt.keywords||r.allKeys&&!(f in Yt.skipKeywords))&&Dn(r,e,t,h,n+"/"+f,o,n,f,i)}t(i,n,o,a,s,c,p)}}function em(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}});var Pi=x(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.getSchemaRefs=Ge.resolveUrl=Ge.normalizeId=Ge._getFullPath=Ge.getFullPath=Ge.inlineRef=void 0;var tm=X(),rm=Xo(),im=Bc(),nm=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function om(r,e=!0){return typeof r=="boolean"?!0:e===!0?!Zo(r):e?Kc(r)<=e:!1}Ge.inlineRef=om;var am=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Zo(r){for(let e in r){if(am.has(e))return!0;let t=r[e];if(Array.isArray(t)&&t.some(Zo)||typeof t=="object"&&Zo(t))return!0}return!1}function Kc(r){let e=0;for(let t in r){if(t==="$ref")return 1/0;if(e++,!nm.has(t)&&(typeof r[t]=="object"&&(0,tm.eachItem)(r[t],i=>e+=Kc(i)),e===1/0))return 1/0}return e}function Gc(r,e="",t){t!==!1&&(e=Xr(e));let i=r.parse(e);return Jc(r,i)}Ge.getFullPath=Gc;function Jc(r,e){return r.serialize(e).split("#")[0]+"#"}Ge._getFullPath=Jc;var sm=/#\/?$/;function Xr(r){return r?r.replace(sm,""):""}Ge.normalizeId=Xr;function lm(r,e,t){return t=Xr(t),r.resolve(e,t)}Ge.resolveUrl=lm;var cm=/^[a-z_][-a-z0-9._]*$/i;function um(r,e){if(typeof r=="boolean")return{};let{schemaId:t,uriResolver:i}=this.opts,n=Xr(r[t]||e),o={"":n},a=Gc(i,n,!1),s={},c=new Set;return im(r,{allKeys:!0},(h,w,y,C)=>{if(C===void 0)return;let m=a+w,b=o[C];typeof h[t]=="string"&&(b=z.call(this,h[t])),M.call(this,h.$anchor),M.call(this,h.$dynamicAnchor),o[w]=b;function z(A){let te=this.opts.uriResolver.resolve;if(A=Xr(b?te(b,A):A),c.has(A))throw f(A);c.add(A);let k=this.refs[A];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?p(h,k.schema,A):A!==Xr(m)&&(A[0]==="#"?(p(h,s[A],A),s[A]=h):this.refs[A]=m),A}function M(A){if(typeof A=="string"){if(!cm.test(A))throw new Error(`invalid anchor "${A}"`);z.call(this,`#${A}`)}}}),s;function p(h,w,y){if(w!==void 0&&!rm(h,w))throw f(y)}function f(h){return new Error(`reference "${h}" resolves to more than one schema`)}}Ge.getSchemaRefs=um});var Di=x(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.getData=er.KeywordCxt=er.validateFunctionCode=void 0;var eu=Pc(),Xc=Ti(),Yo=Lo(),Nn=Ti(),dm=Mc(),Oi=qc(),Qo=Lc(),D=W(),V=At(),fm=Pi(),jt=X(),Ii=Ei();function pm(r){if(iu(r)&&(nu(r),ru(r))){_m(r);return}tu(r,()=>(0,eu.topBoolOrEmptySchema)(r))}er.validateFunctionCode=pm;function tu({gen:r,validateName:e,schema:t,schemaEnv:i,opts:n},o){n.code.es5?r.func(e,(0,D._)`${V.default.data}, ${V.default.valCxt}`,i.$async,()=>{r.code((0,D._)`"use strict"; ${Zc(t,n)}`),hm(r,n),r.code(o)}):r.func(e,(0,D._)`${V.default.data}, ${mm(n)}`,i.$async,()=>r.code(Zc(t,n)).code(o))}function mm(r){return(0,D._)`{${V.default.instancePath}="", ${V.default.parentData}, ${V.default.parentDataProperty}, ${V.default.rootData}=${V.default.data}${r.dynamicRef?(0,D._)`, ${V.default.dynamicAnchors}={}`:D.nil}}={}`}function hm(r,e){r.if(V.default.valCxt,()=>{r.var(V.default.instancePath,(0,D._)`${V.default.valCxt}.${V.default.instancePath}`),r.var(V.default.parentData,(0,D._)`${V.default.valCxt}.${V.default.parentData}`),r.var(V.default.parentDataProperty,(0,D._)`${V.default.valCxt}.${V.default.parentDataProperty}`),r.var(V.default.rootData,(0,D._)`${V.default.valCxt}.${V.default.rootData}`),e.dynamicRef&&r.var(V.default.dynamicAnchors,(0,D._)`${V.default.valCxt}.${V.default.dynamicAnchors}`)},()=>{r.var(V.default.instancePath,(0,D._)`""`),r.var(V.default.parentData,(0,D._)`undefined`),r.var(V.default.parentDataProperty,(0,D._)`undefined`),r.var(V.default.rootData,V.default.data),e.dynamicRef&&r.var(V.default.dynamicAnchors,(0,D._)`{}`)})}function _m(r){let{schema:e,opts:t,gen:i}=r;tu(r,()=>{t.$comment&&e.$comment&&au(r),wm(r),i.let(V.default.vErrors,null),i.let(V.default.errors,0),t.unevaluated&&gm(r),ou(r),Sm(r)})}function gm(r){let{gen:e,validateName:t}=r;r.evaluated=e.const("evaluated",(0,D._)`${t}.evaluated`),e.if((0,D._)`${r.evaluated}.dynamicProps`,()=>e.assign((0,D._)`${r.evaluated}.props`,(0,D._)`undefined`)),e.if((0,D._)`${r.evaluated}.dynamicItems`,()=>e.assign((0,D._)`${r.evaluated}.items`,(0,D._)`undefined`))}function Zc(r,e){let t=typeof r=="object"&&r[e.schemaId];return t&&(e.code.source||e.code.process)?(0,D._)`/*# sourceURL=${t} */`:D.nil}function ym(r,e){if(iu(r)&&(nu(r),ru(r))){vm(r,e);return}(0,eu.boolOrEmptySchema)(r,e)}function ru({schema:r,self:e}){if(typeof r=="boolean")return!r;for(let t in r)if(e.RULES.all[t])return!0;return!1}function iu(r){return typeof r.schema!="boolean"}function vm(r,e){let{schema:t,gen:i,opts:n}=r;n.$comment&&t.$comment&&au(r),bm(r),$m(r);let o=i.const("_errs",V.default.errors);ou(r,o),i.var(e,(0,D._)`${o} === ${V.default.errors}`)}function nu(r){(0,jt.checkUnknownRules)(r),Cm(r)}function ou(r,e){if(r.opts.jtd)return Qc(r,[],!1,e);let t=(0,Xc.getSchemaTypes)(r.schema),i=(0,Xc.coerceAndCheckDataType)(r,t);Qc(r,t,!i,e)}function Cm(r){let{schema:e,errSchemaPath:t,opts:i,self:n}=r;e.$ref&&i.ignoreKeywordsWithRef&&(0,jt.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${t}"`)}function wm(r){let{schema:e,opts:t}=r;e.default!==void 0&&t.useDefaults&&t.strictSchema&&(0,jt.checkStrictMode)(r,"default is ignored in the schema root")}function bm(r){let e=r.schema[r.opts.schemaId];e&&(r.baseId=(0,fm.resolveUrl)(r.opts.uriResolver,r.baseId,e))}function $m(r){if(r.schema.$async&&!r.schemaEnv.$async)throw new Error("async schema in sync schema")}function au({gen:r,schemaEnv:e,schema:t,errSchemaPath:i,opts:n}){let o=t.$comment;if(n.$comment===!0)r.code((0,D._)`${V.default.self}.logger.log(${o})`);else if(typeof n.$comment=="function"){let a=(0,D.str)`${i}/$comment`,s=r.scopeValue("root",{ref:e.root});r.code((0,D._)`${V.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function Sm(r){let{gen:e,schemaEnv:t,validateName:i,ValidationError:n,opts:o}=r;t.$async?e.if((0,D._)`${V.default.errors} === 0`,()=>e.return(V.default.data),()=>e.throw((0,D._)`new ${n}(${V.default.vErrors})`)):(e.assign((0,D._)`${i}.errors`,V.default.vErrors),o.unevaluated&&zm(r),e.return((0,D._)`${V.default.errors} === 0`))}function zm({gen:r,evaluated:e,props:t,items:i}){t instanceof D.Name&&r.assign((0,D._)`${e}.props`,t),i instanceof D.Name&&r.assign((0,D._)`${e}.items`,i)}function Qc(r,e,t,i){let{gen:n,schema:o,data:a,allErrors:s,opts:c,self:p}=r,{RULES:f}=p;if(o.$ref&&(c.ignoreKeywordsWithRef||!(0,jt.schemaHasRulesButRef)(o,f))){n.block(()=>lu(r,"$ref",f.all.$ref.definition));return}c.jtd||Em(r,e),n.block(()=>{for(let w of f.rules)h(w);h(f.post)});function h(w){(0,Yo.shouldUseGroup)(o,w)&&(w.type?(n.if((0,Nn.checkDataType)(w.type,a,c.strictNumbers)),Yc(r,w),e.length===1&&e[0]===w.type&&t&&(n.else(),(0,Nn.reportTypeError)(r)),n.endIf()):Yc(r,w),s||n.if((0,D._)`${V.default.errors} === ${i||0}`))}}function Yc(r,e){let{gen:t,schema:i,opts:{useDefaults:n}}=r;n&&(0,dm.assignDefaults)(r,e.type),t.block(()=>{for(let o of e.rules)(0,Yo.shouldUseRule)(i,o)&&lu(r,o.keyword,o.definition,e.type)})}function Em(r,e){r.schemaEnv.meta||!r.opts.strictTypes||(xm(r,e),r.opts.allowUnionTypes||Tm(r,e),Pm(r,r.dataTypes))}function xm(r,e){if(e.length){if(!r.dataTypes.length){r.dataTypes=e;return}e.forEach(t=>{su(r.dataTypes,t)||ea(r,`type "${t}" not allowed by context "${r.dataTypes.join(",")}"`)}),Om(r,e)}}function Tm(r,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ea(r,"use allowUnionTypes to allow union type keyword")}function Pm(r,e){let t=r.self.RULES.all;for(let i in t){let n=t[i];if(typeof n=="object"&&(0,Yo.shouldUseRule)(r.schema,n)){let{type:o}=n.definition;o.length&&!o.some(a=>Im(e,a))&&ea(r,`missing type "${o.join(",")}" for keyword "${i}"`)}}}function Im(r,e){return r.includes(e)||e==="number"&&r.includes("integer")}function su(r,e){return r.includes(e)||e==="integer"&&r.includes("number")}function Om(r,e){let t=[];for(let i of r.dataTypes)su(e,i)?t.push(i):e.includes("integer")&&i==="number"&&t.push("integer");r.dataTypes=t}function ea(r,e){let t=r.schemaEnv.baseId+r.errSchemaPath;e+=` at "${t}" (strictTypes)`,(0,jt.checkStrictMode)(r,e,r.opts.strictTypes)}var kn=class{constructor(e,t,i){if((0,Oi.validateKeywordUsage)(e,t,i),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=i,this.data=e.data,this.schema=e.schema[i],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,jt.schemaRefOrVal)(e,this.schema,i,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",cu(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Oi.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:t.errors!==!1)&&(this.errsCount=e.gen.const("_errs",V.default.errors))}result(e,t,i){this.failResult((0,D.not)(e),t,i)}failResult(e,t,i){this.gen.if(e),i?i():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,D.not)(e),void 0,t)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,D._)`${t} !== undefined && (${(0,D.or)(this.invalid$data(),e)})`)}error(e,t,i){if(t){this.setParams(t),this._error(e,i),this.setParams({});return}this._error(e,i)}_error(e,t){(e?Ii.reportExtraError:Ii.reportError)(this,this.def.error,t)}$dataError(){(0,Ii.reportError)(this,this.def.$dataError||Ii.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ii.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,i=D.nil){this.gen.block(()=>{this.check$data(e,i),t()})}check$data(e=D.nil,t=D.nil){if(!this.$data)return;let{gen:i,schemaCode:n,schemaType:o,def:a}=this;i.if((0,D.or)((0,D._)`${n} === undefined`,t)),e!==D.nil&&i.assign(e,!0),(o.length||a.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),e!==D.nil&&i.assign(e,!1)),i.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:i,def:n,it:o}=this;return(0,D.or)(a(),s());function a(){if(i.length){if(!(t instanceof D.Name))throw new Error("ajv implementation error");let c=Array.isArray(i)?i:[i];return(0,D._)`${(0,Nn.checkDataTypes)(c,t,o.opts.strictNumbers,Nn.DataType.Wrong)}`}return D.nil}function s(){if(n.validateSchema){let c=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,D._)`!${c}(${t})`}return D.nil}}subschema(e,t){let i=(0,Qo.getSubschema)(this.it,e);(0,Qo.extendSubschemaData)(i,this.it,e),(0,Qo.extendSubschemaMode)(i,e);let n=ge(I(I({},this.it),i),{items:void 0,props:void 0});return ym(n,t),n}mergeEvaluated(e,t){let{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&e.props!==void 0&&(i.props=jt.mergeEvaluated.props(n,e.props,i.props,t)),i.items!==!0&&e.items!==void 0&&(i.items=jt.mergeEvaluated.items(n,e.items,i.items,t)))}mergeValidEvaluated(e,t){let{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(t,()=>this.mergeEvaluated(e,D.Name)),!0}};er.KeywordCxt=kn;function lu(r,e,t,i){let n=new kn(r,t,e);"code"in t?t.code(n,i):n.$data&&t.validate?(0,Oi.funcKeywordCode)(n,t):"macro"in t?(0,Oi.macroKeywordCode)(n,t):(t.compile||t.validate)&&(0,Oi.funcKeywordCode)(n,t)}var Dm=/^\/(?:[^~]|~0|~1)*$/,Nm=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function cu(r,{dataLevel:e,dataNames:t,dataPathArr:i}){let n,o;if(r==="")return V.default.rootData;if(r[0]==="/"){if(!Dm.test(r))throw new Error(`Invalid JSON-pointer: ${r}`);n=r,o=V.default.rootData}else{let p=Nm.exec(r);if(!p)throw new Error(`Invalid JSON-pointer: ${r}`);let f=+p[1];if(n=p[2],n==="#"){if(f>=e)throw new Error(c("property/index",f));return i[e-f]}if(f>e)throw new Error(c("data",f));if(o=t[e-f],!n)return o}let a=o,s=n.split("/");for(let p of s)p&&(o=(0,D._)`${o}${(0,D.getProperty)((0,jt.unescapeJsonPointer)(p))}`,a=(0,D._)`${a} && ${o}`);return a;function c(p,f){return`Cannot access ${p} ${f} levels up, current level is ${e}`}}er.getData=cu});var Vn=x(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});var ta=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};ra.default=ta});var Mn=x(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});var ia=Pi(),na=class extends Error{constructor(e,t,i,n){super(n||`can't resolve reference ${i} from id ${t}`),this.missingRef=(0,ia.resolveUrl)(e,t,i),this.missingSchema=(0,ia.normalizeId)((0,ia.getFullPath)(e,this.missingRef))}};oa.default=na});var Fn=x(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.resolveSchema=st.getCompilingSchema=st.resolveRef=st.compileSchema=st.SchemaEnv=void 0;var ut=W(),km=Vn(),gr=At(),dt=Pi(),uu=X(),Vm=Di(),Zr=class{constructor(e){var t;this.refs={},this.dynamicAnchors={};let i;typeof e.schema=="object"&&(i=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(t=e.baseId)!==null&&t!==void 0?t:(0,dt.normalizeId)(i?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=i?.$async,this.refs={}}};st.SchemaEnv=Zr;function sa(r){let e=du.call(this,r);if(e)return e;let t=(0,dt.getFullPath)(this.opts.uriResolver,r.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:o}=this.opts,a=new ut.CodeGen(this.scope,{es5:i,lines:n,ownProperties:o}),s;r.$async&&(s=a.scopeValue("Error",{ref:km.default,code:(0,ut._)`require("ajv/dist/runtime/validation_error").default`}));let c=a.scopeName("validate");r.validateName=c;let p={gen:a,allErrors:this.opts.allErrors,data:gr.default.data,parentData:gr.default.parentData,parentDataProperty:gr.default.parentDataProperty,dataNames:[gr.default.data],dataPathArr:[ut.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:r.schema,code:(0,ut.stringify)(r.schema)}:{ref:r.schema}),validateName:c,ValidationError:s,schema:r.schema,schemaEnv:r,rootId:t,baseId:r.baseId||t,schemaPath:ut.nil,errSchemaPath:r.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ut._)`""`,opts:this.opts,self:this},f;try{this._compilations.add(r),(0,Vm.validateFunctionCode)(p),a.optimize(this.opts.code.optimize);let h=a.toString();f=`${a.scopeRefs(gr.default.scope)}return ${h}`,this.opts.code.process&&(f=this.opts.code.process(f,r));let y=new Function(`${gr.default.self}`,`${gr.default.scope}`,f)(this,this.scope.get());if(this.scope.value(c,{ref:y}),y.errors=null,y.schema=r.schema,y.schemaEnv=r,r.$async&&(y.$async=!0),this.opts.code.source===!0&&(y.source={validateName:c,validateCode:h,scopeValues:a._values}),this.opts.unevaluated){let{props:C,items:m}=p;y.evaluated={props:C instanceof ut.Name?void 0:C,items:m instanceof ut.Name?void 0:m,dynamicProps:C instanceof ut.Name,dynamicItems:m instanceof ut.Name},y.source&&(y.source.evaluated=(0,ut.stringify)(y.evaluated))}return r.validate=y,r}catch(h){throw delete r.validate,delete r.validateName,f&&this.logger.error("Error compiling schema, function code:",f),h}finally{this._compilations.delete(r)}}st.compileSchema=sa;function Mm(r,e,t){var i;t=(0,dt.resolveUrl)(this.opts.uriResolver,e,t);let n=r.refs[t];if(n)return n;let o=Am.call(this,r,t);if(o===void 0){let a=(i=r.localRefs)===null||i===void 0?void 0:i[t],{schemaId:s}=this.opts;a&&(o=new Zr({schema:a,schemaId:s,root:r,baseId:e}))}if(o!==void 0)return r.refs[t]=Rm.call(this,o)}st.resolveRef=Mm;function Rm(r){return(0,dt.inlineRef)(r.schema,this.opts.inlineRefs)?r.schema:r.validate?r:sa.call(this,r)}function du(r){for(let e of this._compilations)if(Fm(e,r))return e}st.getCompilingSchema=du;function Fm(r,e){return r.schema===e.schema&&r.root===e.root&&r.baseId===e.baseId}function Am(r,e){let t;for(;typeof(t=this.refs[e])=="string";)e=t;return t||this.schemas[e]||Rn.call(this,r,e)}function Rn(r,e){let t=this.opts.uriResolver.parse(e),i=(0,dt._getFullPath)(this.opts.uriResolver,t),n=(0,dt.getFullPath)(this.opts.uriResolver,r.baseId,void 0);if(Object.keys(r.schema).length>0&&i===n)return aa.call(this,t,r);let o=(0,dt.normalizeId)(i),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){let s=Rn.call(this,r,a);return typeof s?.schema!="object"?void 0:aa.call(this,t,s)}if(typeof a?.schema=="object"){if(a.validate||sa.call(this,a),o===(0,dt.normalizeId)(e)){let{schema:s}=a,{schemaId:c}=this.opts,p=s[c];return p&&(n=(0,dt.resolveUrl)(this.opts.uriResolver,n,p)),new Zr({schema:s,schemaId:c,root:r,baseId:n})}return aa.call(this,t,a)}}st.resolveSchema=Rn;var jm=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function aa(r,{baseId:e,schema:t,root:i}){var n;if(((n=r.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let s of r.fragment.slice(1).split("/")){if(typeof t=="boolean")return;let c=t[(0,uu.unescapeFragment)(s)];if(c===void 0)return;t=c;let p=typeof t=="object"&&t[this.opts.schemaId];!jm.has(s)&&p&&(e=(0,dt.resolveUrl)(this.opts.uriResolver,e,p))}let o;if(typeof t!="boolean"&&t.$ref&&!(0,uu.schemaHasRulesButRef)(t,this.RULES)){let s=(0,dt.resolveUrl)(this.opts.uriResolver,e,t.$ref);o=Rn.call(this,i,s)}let{schemaId:a}=this.opts;if(o=o||new Zr({schema:t,schemaId:a,root:i,baseId:e}),o.schema!==o.root.schema)return o}});var fu=x((i1,qm)=>{qm.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var mu=x((An,pu)=>{"use strict";(function(r,e){typeof An=="object"&&typeof pu<"u"?e(An):typeof define=="function"&&define.amd?define(["exports"],e):e(r.URI=r.URI||{})})(An,function(r){"use strict";function e(){for(var u=arguments.length,l=Array(u),d=0;d<u;d++)l[d]=arguments[d];if(l.length>1){l[0]=l[0].slice(0,-1);for(var _=l.length-1,g=1;g<_;++g)l[g]=l[g].slice(1,-1);return l[_]=l[_].slice(1),l.join("")}else return l[0]}function t(u){return"(?:"+u+")"}function i(u){return u===void 0?"undefined":u===null?"null":Object.prototype.toString.call(u).split(" ").pop().split("]").shift().toLowerCase()}function n(u){return u.toUpperCase()}function o(u){return u!=null?u instanceof Array?u:typeof u.length!="number"||u.split||u.setInterval||u.call?[u]:Array.prototype.slice.call(u):[]}function a(u,l){var d=u;if(l)for(var _ in l)d[_]=l[_];return d}function s(u){var l="[A-Za-z]",d="[\\x0D]",_="[0-9]",g="[\\x22]",E=e(_,"[A-Fa-f]"),j="[\\x0A]",G="[\\x20]",Y=t(t("%[EFef]"+E+"%"+E+E+"%"+E+E)+"|"+t("%[89A-Fa-f]"+E+"%"+E+E)+"|"+t("%"+E+E)),Ce="[\\:\\/\\?\\#\\[\\]\\@]",B="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",pe=e(Ce,B),we=u?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",fe=u?"[\\uE000-\\uF8FF]":"[]",Z=e(l,_,"[\\-\\.\\_\\~]",we),me=t(l+e(l,_,"[\\+\\-\\.]")+"*"),ie=t(t(Y+"|"+e(Z,B,"[\\:]"))+"*"),lr=t(t("25[0-5]")+"|"+t("2[0-4]"+_)+"|"+t("1"+_+_)+"|"+t("[1-9]"+_)+"|"+_),Xe=t(t("25[0-5]")+"|"+t("2[0-4]"+_)+"|"+t("1"+_+_)+"|"+t("0?[1-9]"+_)+"|0?0?"+_),et=t(Xe+"\\."+Xe+"\\."+Xe+"\\."+Xe),se=t(E+"{1,4}"),Ze=t(t(se+"\\:"+se)+"|"+et),tt=t(t(se+"\\:")+"{6}"+Ze),yt=t("\\:\\:"+t(se+"\\:")+"{5}"+Ze),cr=t(t(se)+"?\\:\\:"+t(se+"\\:")+"{4}"+Ze),Nt=t(t(t(se+"\\:")+"{0,1}"+se)+"?\\:\\:"+t(se+"\\:")+"{3}"+Ze),pi=t(t(t(se+"\\:")+"{0,2}"+se)+"?\\:\\:"+t(se+"\\:")+"{2}"+Ze),Xi=t(t(t(se+"\\:")+"{0,3}"+se)+"?\\:\\:"+se+"\\:"+Ze),Zi=t(t(t(se+"\\:")+"{0,4}"+se)+"?\\:\\:"+Ze),Er=t(t(t(se+"\\:")+"{0,5}"+se)+"?\\:\\:"+se),xr=t(t(t(se+"\\:")+"{0,6}"+se)+"?\\:\\:"),kt=t([tt,yt,cr,Nt,pi,Xi,Zi,Er,xr].join("|")),Tr=t(t(Z+"|"+Y)+"+"),po=t(kt+"\\%25"+Tr),ur=t(kt+t("\\%25|\\%(?!"+E+"{2})")+Tr),yf=t("[vV]"+E+"+\\."+e(Z,B,"[\\:]")+"+"),vf=t("\\["+t(ur+"|"+kt+"|"+yf)+"\\]"),Rs=t(t(Y+"|"+e(Z,B))+"*"),mi=t(vf+"|"+et+"(?!"+Rs+")|"+Rs),hi=t(_+"*"),Fs=t(t(ie+"@")+"?"+mi+t("\\:"+hi)+"?"),_i=t(Y+"|"+e(Z,B,"[\\:\\@]")),Cf=t(_i+"*"),As=t(_i+"+"),wf=t(t(Y+"|"+e(Z,B,"[\\@]"))+"+"),Vt=t(t("\\/"+Cf)+"*"),Pr=t("\\/"+t(As+Vt)+"?"),mo=t(wf+Vt),Qi=t(As+Vt),Ir="(?!"+_i+")",Vy=t(Vt+"|"+Pr+"|"+mo+"|"+Qi+"|"+Ir),Or=t(t(_i+"|"+e("[\\/\\?]",fe))+"*"),gi=t(t(_i+"|[\\/\\?]")+"*"),js=t(t("\\/\\/"+Fs+Vt)+"|"+Pr+"|"+Qi+"|"+Ir),bf=t(me+"\\:"+js+t("\\?"+Or)+"?"+t("\\#"+gi)+"?"),$f=t(t("\\/\\/"+Fs+Vt)+"|"+Pr+"|"+mo+"|"+Ir),Sf=t($f+t("\\?"+Or)+"?"+t("\\#"+gi)+"?"),My=t(bf+"|"+Sf),Ry=t(me+"\\:"+js+t("\\?"+Or)+"?"),Fy="^("+me+")\\:"+t(t("\\/\\/("+t("("+ie+")@")+"?("+mi+")"+t("\\:("+hi+")")+"?)")+"?("+Vt+"|"+Pr+"|"+Qi+"|"+Ir+")")+t("\\?("+Or+")")+"?"+t("\\#("+gi+")")+"?$",Ay="^(){0}"+t(t("\\/\\/("+t("("+ie+")@")+"?("+mi+")"+t("\\:("+hi+")")+"?)")+"?("+Vt+"|"+Pr+"|"+mo+"|"+Ir+")")+t("\\?("+Or+")")+"?"+t("\\#("+gi+")")+"?$",jy="^("+me+")\\:"+t(t("\\/\\/("+t("("+ie+")@")+"?("+mi+")"+t("\\:("+hi+")")+"?)")+"?("+Vt+"|"+Pr+"|"+Qi+"|"+Ir+")")+t("\\?("+Or+")")+"?$",qy="^"+t("\\#("+gi+")")+"?$",Wy="^"+t("("+ie+")@")+"?("+mi+")"+t("\\:("+hi+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",l,_,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",Z,B),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",Z,B),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",Z,B),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",Z,B),"g"),NOT_QUERY:new RegExp(e("[^\\%]",Z,B,"[\\:\\@\\/\\?]",fe),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",Z,B,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",Z,B),"g"),UNRESERVED:new RegExp(Z,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",Z,pe),"g"),PCT_ENCODED:new RegExp(Y,"g"),IPV4ADDRESS:new RegExp("^("+et+")$"),IPV6ADDRESS:new RegExp("^\\[?("+kt+")"+t(t("\\%25|\\%(?!"+E+"{2})")+"("+Tr+")")+"?\\]?$")}}var c=s(!1),p=s(!0),f=function(){function u(l,d){var _=[],g=!0,E=!1,j=void 0;try{for(var G=l[Symbol.iterator](),Y;!(g=(Y=G.next()).done)&&(_.push(Y.value),!(d&&_.length===d));g=!0);}catch(Ce){E=!0,j=Ce}finally{try{!g&&G.return&&G.return()}finally{if(E)throw j}}return _}return function(l,d){if(Array.isArray(l))return l;if(Symbol.iterator in Object(l))return u(l,d);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(u){if(Array.isArray(u)){for(var l=0,d=Array(u.length);l<u.length;l++)d[l]=u[l];return d}else return Array.from(u)},w=2147483647,y=36,C=1,m=26,b=38,z=700,M=72,A=128,te="-",k=/^xn--/,Qe=/[^\0-\x7E]/,Wt=/[\x2E\u3002\uFF0E\uFF61]/g,ui={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ar=y-C,Pe=Math.floor,sr=String.fromCharCode;function mt(u){throw new RangeError(ui[u])}function Gi(u,l){for(var d=[],_=u.length;_--;)d[_]=l(u[_]);return d}function Ji(u,l){var d=u.split("@"),_="";d.length>1&&(_=d[0]+"@",u=d[1]),u=u.replace(Wt,".");var g=u.split("."),E=Gi(g,l).join(".");return _+E}function vs(u){for(var l=[],d=0,_=u.length;d<_;){var g=u.charCodeAt(d++);if(g>=55296&&g<=56319&&d<_){var E=u.charCodeAt(d++);(E&64512)==56320?l.push(((g&1023)<<10)+(E&1023)+65536):(l.push(g),d--)}else l.push(g)}return l}var Kd=function(l){return String.fromCodePoint.apply(String,h(l))},Gd=function(l){return l-48<10?l-22:l-65<26?l-65:l-97<26?l-97:y},Cs=function(l,d){return l+22+75*(l<26)-((d!=0)<<5)},ws=function(l,d,_){var g=0;for(l=_?Pe(l/z):l>>1,l+=Pe(l/d);l>ar*m>>1;g+=y)l=Pe(l/ar);return Pe(g+(ar+1)*l/(l+b))},bs=function(l){var d=[],_=l.length,g=0,E=A,j=M,G=l.lastIndexOf(te);G<0&&(G=0);for(var Y=0;Y<G;++Y)l.charCodeAt(Y)>=128&&mt("not-basic"),d.push(l.charCodeAt(Y));for(var Ce=G>0?G+1:0;Ce<_;){for(var B=g,pe=1,we=y;;we+=y){Ce>=_&&mt("invalid-input");var fe=Gd(l.charCodeAt(Ce++));(fe>=y||fe>Pe((w-g)/pe))&&mt("overflow"),g+=fe*pe;var Z=we<=j?C:we>=j+m?m:we-j;if(fe<Z)break;var me=y-Z;pe>Pe(w/me)&&mt("overflow"),pe*=me}var ie=d.length+1;j=ws(g-B,ie,B==0),Pe(g/ie)>w-E&&mt("overflow"),E+=Pe(g/ie),g%=ie,d.splice(g++,0,E)}return String.fromCodePoint.apply(String,d)},$s=function(l){var d=[];l=vs(l);var _=l.length,g=A,E=0,j=M,G=!0,Y=!1,Ce=void 0;try{for(var B=l[Symbol.iterator](),pe;!(G=(pe=B.next()).done);G=!0){var we=pe.value;we<128&&d.push(sr(we))}}catch(ur){Y=!0,Ce=ur}finally{try{!G&&B.return&&B.return()}finally{if(Y)throw Ce}}var fe=d.length,Z=fe;for(fe&&d.push(te);Z<_;){var me=w,ie=!0,lr=!1,Xe=void 0;try{for(var et=l[Symbol.iterator](),se;!(ie=(se=et.next()).done);ie=!0){var Ze=se.value;Ze>=g&&Ze<me&&(me=Ze)}}catch(ur){lr=!0,Xe=ur}finally{try{!ie&&et.return&&et.return()}finally{if(lr)throw Xe}}var tt=Z+1;me-g>Pe((w-E)/tt)&&mt("overflow"),E+=(me-g)*tt,g=me;var yt=!0,cr=!1,Nt=void 0;try{for(var pi=l[Symbol.iterator](),Xi;!(yt=(Xi=pi.next()).done);yt=!0){var Zi=Xi.value;if(Zi<g&&++E>w&&mt("overflow"),Zi==g){for(var Er=E,xr=y;;xr+=y){var kt=xr<=j?C:xr>=j+m?m:xr-j;if(Er<kt)break;var Tr=Er-kt,po=y-kt;d.push(sr(Cs(kt+Tr%po,0))),Er=Pe(Tr/po)}d.push(sr(Cs(Er,0))),j=ws(E,tt,Z==fe),E=0,++Z}}}catch(ur){cr=!0,Nt=ur}finally{try{!yt&&pi.return&&pi.return()}finally{if(cr)throw Nt}}++E,++g}return d.join("")},Jd=function(l){return Ji(l,function(d){return k.test(d)?bs(d.slice(4).toLowerCase()):d})},Xd=function(l){return Ji(l,function(d){return Qe.test(d)?"xn--"+$s(d):d})},br={version:"2.1.0",ucs2:{decode:vs,encode:Kd},decode:bs,encode:$s,toASCII:Xd,toUnicode:Jd},Ye={};function ht(u){var l=u.charCodeAt(0),d=void 0;return l<16?d="%0"+l.toString(16).toUpperCase():l<128?d="%"+l.toString(16).toUpperCase():l<2048?d="%"+(l>>6|192).toString(16).toUpperCase()+"%"+(l&63|128).toString(16).toUpperCase():d="%"+(l>>12|224).toString(16).toUpperCase()+"%"+(l>>6&63|128).toString(16).toUpperCase()+"%"+(l&63|128).toString(16).toUpperCase(),d}function $r(u){for(var l="",d=0,_=u.length;d<_;){var g=parseInt(u.substr(d+1,2),16);if(g<128)l+=String.fromCharCode(g),d+=3;else if(g>=194&&g<224){if(_-d>=6){var E=parseInt(u.substr(d+4,2),16);l+=String.fromCharCode((g&31)<<6|E&63)}else l+=u.substr(d,6);d+=6}else if(g>=224){if(_-d>=9){var j=parseInt(u.substr(d+4,2),16),G=parseInt(u.substr(d+7,2),16);l+=String.fromCharCode((g&15)<<12|(j&63)<<6|G&63)}else l+=u.substr(d,9);d+=9}else l+=u.substr(d,3),d+=3}return l}function lo(u,l){function d(_){var g=$r(_);return g.match(l.UNRESERVED)?g:_}return u.scheme&&(u.scheme=String(u.scheme).replace(l.PCT_ENCODED,d).toLowerCase().replace(l.NOT_SCHEME,"")),u.userinfo!==void 0&&(u.userinfo=String(u.userinfo).replace(l.PCT_ENCODED,d).replace(l.NOT_USERINFO,ht).replace(l.PCT_ENCODED,n)),u.host!==void 0&&(u.host=String(u.host).replace(l.PCT_ENCODED,d).toLowerCase().replace(l.NOT_HOST,ht).replace(l.PCT_ENCODED,n)),u.path!==void 0&&(u.path=String(u.path).replace(l.PCT_ENCODED,d).replace(u.scheme?l.NOT_PATH:l.NOT_PATH_NOSCHEME,ht).replace(l.PCT_ENCODED,n)),u.query!==void 0&&(u.query=String(u.query).replace(l.PCT_ENCODED,d).replace(l.NOT_QUERY,ht).replace(l.PCT_ENCODED,n)),u.fragment!==void 0&&(u.fragment=String(u.fragment).replace(l.PCT_ENCODED,d).replace(l.NOT_FRAGMENT,ht).replace(l.PCT_ENCODED,n)),u}function co(u){return u.replace(/^0*(.*)/,"$1")||"0"}function uo(u,l){var d=u.match(l.IPV4ADDRESS)||[],_=f(d,2),g=_[1];return g?g.split(".").map(co).join("."):u}function Ss(u,l){var d=u.match(l.IPV6ADDRESS)||[],_=f(d,3),g=_[1],E=_[2];if(g){for(var j=g.toLowerCase().split("::").reverse(),G=f(j,2),Y=G[0],Ce=G[1],B=Ce?Ce.split(":").map(co):[],pe=Y.split(":").map(co),we=l.IPV4ADDRESS.test(pe[pe.length-1]),fe=we?7:8,Z=pe.length-fe,me=Array(fe),ie=0;ie<fe;++ie)me[ie]=B[ie]||pe[Z+ie]||"";we&&(me[fe-1]=uo(me[fe-1],l));var lr=me.reduce(function(tt,yt,cr){if(!yt||yt==="0"){var Nt=tt[tt.length-1];Nt&&Nt.index+Nt.length===cr?Nt.length++:tt.push({index:cr,length:1})}return tt},[]),Xe=lr.sort(function(tt,yt){return yt.length-tt.length})[0],et=void 0;if(Xe&&Xe.length>1){var se=me.slice(0,Xe.index),Ze=me.slice(Xe.index+Xe.length);et=se.join(":")+"::"+Ze.join(":")}else et=me.join(":");return E&&(et+="%"+E),et}else return u}var Zd=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Qd="".match(/(){0}/)[1]===void 0;function Ot(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d={},_=l.iri!==!1?p:c;l.reference==="suffix"&&(u=(l.scheme?l.scheme+":":"")+"//"+u);var g=u.match(Zd);if(g){Qd?(d.scheme=g[1],d.userinfo=g[3],d.host=g[4],d.port=parseInt(g[5],10),d.path=g[6]||"",d.query=g[7],d.fragment=g[8],isNaN(d.port)&&(d.port=g[5])):(d.scheme=g[1]||void 0,d.userinfo=u.indexOf("@")!==-1?g[3]:void 0,d.host=u.indexOf("//")!==-1?g[4]:void 0,d.port=parseInt(g[5],10),d.path=g[6]||"",d.query=u.indexOf("?")!==-1?g[7]:void 0,d.fragment=u.indexOf("#")!==-1?g[8]:void 0,isNaN(d.port)&&(d.port=u.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?g[4]:void 0)),d.host&&(d.host=Ss(uo(d.host,_),_)),d.scheme===void 0&&d.userinfo===void 0&&d.host===void 0&&d.port===void 0&&!d.path&&d.query===void 0?d.reference="same-document":d.scheme===void 0?d.reference="relative":d.fragment===void 0?d.reference="absolute":d.reference="uri",l.reference&&l.reference!=="suffix"&&l.reference!==d.reference&&(d.error=d.error||"URI is not a "+l.reference+" reference.");var E=Ye[(l.scheme||d.scheme||"").toLowerCase()];if(!l.unicodeSupport&&(!E||!E.unicodeSupport)){if(d.host&&(l.domainHost||E&&E.domainHost))try{d.host=br.toASCII(d.host.replace(_.PCT_ENCODED,$r).toLowerCase())}catch(j){d.error=d.error||"Host's domain name can not be converted to ASCII via punycode: "+j}lo(d,c)}else lo(d,_);E&&E.parse&&E.parse(d,l)}else d.error=d.error||"URI can not be parsed.";return d}function Yd(u,l){var d=l.iri!==!1?p:c,_=[];return u.userinfo!==void 0&&(_.push(u.userinfo),_.push("@")),u.host!==void 0&&_.push(Ss(uo(String(u.host),d),d).replace(d.IPV6ADDRESS,function(g,E,j){return"["+E+(j?"%25"+j:"")+"]"})),(typeof u.port=="number"||typeof u.port=="string")&&(_.push(":"),_.push(String(u.port))),_.length?_.join(""):void 0}var zs=/^\.\.?\//,Es=/^\/\.(\/|$)/,xs=/^\/\.\.(\/|$)/,ef=/^\/?(?:.|\n)*?(?=\/|$)/;function Sr(u){for(var l=[];u.length;)if(u.match(zs))u=u.replace(zs,"");else if(u.match(Es))u=u.replace(Es,"/");else if(u.match(xs))u=u.replace(xs,"/"),l.pop();else if(u==="."||u==="..")u="";else{var d=u.match(ef);if(d){var _=d[0];u=u.slice(_.length),l.push(_)}else throw new Error("Unexpected dot segment condition")}return l.join("")}function _t(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=l.iri?p:c,_=[],g=Ye[(l.scheme||u.scheme||"").toLowerCase()];if(g&&g.serialize&&g.serialize(u,l),u.host&&!d.IPV6ADDRESS.test(u.host)){if(l.domainHost||g&&g.domainHost)try{u.host=l.iri?br.toUnicode(u.host):br.toASCII(u.host.replace(d.PCT_ENCODED,$r).toLowerCase())}catch(G){u.error=u.error||"Host's domain name can not be converted to "+(l.iri?"Unicode":"ASCII")+" via punycode: "+G}}lo(u,d),l.reference!=="suffix"&&u.scheme&&(_.push(u.scheme),_.push(":"));var E=Yd(u,l);if(E!==void 0&&(l.reference!=="suffix"&&_.push("//"),_.push(E),u.path&&u.path.charAt(0)!=="/"&&_.push("/")),u.path!==void 0){var j=u.path;!l.absolutePath&&(!g||!g.absolutePath)&&(j=Sr(j)),E===void 0&&(j=j.replace(/^\/\//,"/%2F")),_.push(j)}return u.query!==void 0&&(_.push("?"),_.push(u.query)),u.fragment!==void 0&&(_.push("#"),_.push(u.fragment)),_.join("")}function Ts(u,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=arguments[3],g={};return _||(u=Ot(_t(u,d),d),l=Ot(_t(l,d),d)),d=d||{},!d.tolerant&&l.scheme?(g.scheme=l.scheme,g.userinfo=l.userinfo,g.host=l.host,g.port=l.port,g.path=Sr(l.path||""),g.query=l.query):(l.userinfo!==void 0||l.host!==void 0||l.port!==void 0?(g.userinfo=l.userinfo,g.host=l.host,g.port=l.port,g.path=Sr(l.path||""),g.query=l.query):(l.path?(l.path.charAt(0)==="/"?g.path=Sr(l.path):((u.userinfo!==void 0||u.host!==void 0||u.port!==void 0)&&!u.path?g.path="/"+l.path:u.path?g.path=u.path.slice(0,u.path.lastIndexOf("/")+1)+l.path:g.path=l.path,g.path=Sr(g.path)),g.query=l.query):(g.path=u.path,l.query!==void 0?g.query=l.query:g.query=u.query),g.userinfo=u.userinfo,g.host=u.host,g.port=u.port),g.scheme=u.scheme),g.fragment=l.fragment,g}function tf(u,l,d){var _=a({scheme:"null"},d);return _t(Ts(Ot(u,_),Ot(l,_),_,!0),_)}function rf(u,l){return typeof u=="string"?u=_t(Ot(u,l),l):i(u)==="object"&&(u=Ot(_t(u,l),l)),u}function nf(u,l,d){return typeof u=="string"?u=_t(Ot(u,d),d):i(u)==="object"&&(u=_t(u,d)),typeof l=="string"?l=_t(Ot(l,d),d):i(l)==="object"&&(l=_t(l,d)),u===l}function of(u,l){return u&&u.toString().replace(!l||!l.iri?c.ESCAPE:p.ESCAPE,ht)}function Dt(u,l){return u&&u.toString().replace(!l||!l.iri?c.PCT_ENCODED:p.PCT_ENCODED,$r)}var di={scheme:"http",domainHost:!0,parse:function(l,d){return l.host||(l.error=l.error||"HTTP URIs must have a host."),l},serialize:function(l,d){var _=String(l.scheme).toLowerCase()==="https";return(l.port===(_?443:80)||l.port==="")&&(l.port=void 0),l.path||(l.path="/"),l}},Ps={scheme:"https",domainHost:di.domainHost,parse:di.parse,serialize:di.serialize};function Is(u){return typeof u.secure=="boolean"?u.secure:String(u.scheme).toLowerCase()==="wss"}var fi={scheme:"ws",domainHost:!0,parse:function(l,d){var _=l;return _.secure=Is(_),_.resourceName=(_.path||"/")+(_.query?"?"+_.query:""),_.path=void 0,_.query=void 0,_},serialize:function(l,d){if((l.port===(Is(l)?443:80)||l.port==="")&&(l.port=void 0),typeof l.secure=="boolean"&&(l.scheme=l.secure?"wss":"ws",l.secure=void 0),l.resourceName){var _=l.resourceName.split("?"),g=f(_,2),E=g[0],j=g[1];l.path=E&&E!=="/"?E:void 0,l.query=j,l.resourceName=void 0}return l.fragment=void 0,l}},Os={scheme:"wss",domainHost:fi.domainHost,parse:fi.parse,serialize:fi.serialize},af={},sf=!0,Ds="[A-Za-z0-9\\-\\.\\_\\~"+(sf?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",gt="[0-9A-Fa-f]",lf=t(t("%[EFef]"+gt+"%"+gt+gt+"%"+gt+gt)+"|"+t("%[89A-Fa-f]"+gt+"%"+gt+gt)+"|"+t("%"+gt+gt)),cf="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",uf="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",df=e(uf,'[\\"\\\\]'),ff="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",pf=new RegExp(Ds,"g"),zr=new RegExp(lf,"g"),mf=new RegExp(e("[^]",cf,"[\\.]",'[\\"]',df),"g"),Ns=new RegExp(e("[^]",Ds,ff),"g"),hf=Ns;function fo(u){var l=$r(u);return l.match(pf)?l:u}var ks={scheme:"mailto",parse:function(l,d){var _=l,g=_.to=_.path?_.path.split(","):[];if(_.path=void 0,_.query){for(var E=!1,j={},G=_.query.split("&"),Y=0,Ce=G.length;Y<Ce;++Y){var B=G[Y].split("=");switch(B[0]){case"to":for(var pe=B[1].split(","),we=0,fe=pe.length;we<fe;++we)g.push(pe[we]);break;case"subject":_.subject=Dt(B[1],d);break;case"body":_.body=Dt(B[1],d);break;default:E=!0,j[Dt(B[0],d)]=Dt(B[1],d);break}}E&&(_.headers=j)}_.query=void 0;for(var Z=0,me=g.length;Z<me;++Z){var ie=g[Z].split("@");if(ie[0]=Dt(ie[0]),d.unicodeSupport)ie[1]=Dt(ie[1],d).toLowerCase();else try{ie[1]=br.toASCII(Dt(ie[1],d).toLowerCase())}catch(lr){_.error=_.error||"Email address's domain name can not be converted to ASCII via punycode: "+lr}g[Z]=ie.join("@")}return _},serialize:function(l,d){var _=l,g=o(l.to);if(g){for(var E=0,j=g.length;E<j;++E){var G=String(g[E]),Y=G.lastIndexOf("@"),Ce=G.slice(0,Y).replace(zr,fo).replace(zr,n).replace(mf,ht),B=G.slice(Y+1);try{B=d.iri?br.toUnicode(B):br.toASCII(Dt(B,d).toLowerCase())}catch(Z){_.error=_.error||"Email address's domain name can not be converted to "+(d.iri?"Unicode":"ASCII")+" via punycode: "+Z}g[E]=Ce+"@"+B}_.path=g.join(",")}var pe=l.headers=l.headers||{};l.subject&&(pe.subject=l.subject),l.body&&(pe.body=l.body);var we=[];for(var fe in pe)pe[fe]!==af[fe]&&we.push(fe.replace(zr,fo).replace(zr,n).replace(Ns,ht)+"="+pe[fe].replace(zr,fo).replace(zr,n).replace(hf,ht));return we.length&&(_.query=we.join("&")),_}},_f=/^([^\:]+)\:(.*)/,Vs={scheme:"urn",parse:function(l,d){var _=l.path&&l.path.match(_f),g=l;if(_){var E=d.scheme||g.scheme||"urn",j=_[1].toLowerCase(),G=_[2],Y=E+":"+(d.nid||j),Ce=Ye[Y];g.nid=j,g.nss=G,g.path=void 0,Ce&&(g=Ce.parse(g,d))}else g.error=g.error||"URN can not be parsed.";return g},serialize:function(l,d){var _=d.scheme||l.scheme||"urn",g=l.nid,E=_+":"+(d.nid||g),j=Ye[E];j&&(l=j.serialize(l,d));var G=l,Y=l.nss;return G.path=(g||d.nid)+":"+Y,G}},gf=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ms={scheme:"urn:uuid",parse:function(l,d){var _=l;return _.uuid=_.nss,_.nss=void 0,!d.tolerant&&(!_.uuid||!_.uuid.match(gf))&&(_.error=_.error||"UUID is not valid."),_},serialize:function(l,d){var _=l;return _.nss=(l.uuid||"").toLowerCase(),_}};Ye[di.scheme]=di,Ye[Ps.scheme]=Ps,Ye[fi.scheme]=fi,Ye[Os.scheme]=Os,Ye[ks.scheme]=ks,Ye[Vs.scheme]=Vs,Ye[Ms.scheme]=Ms,r.SCHEMES=Ye,r.pctEncChar=ht,r.pctDecChars=$r,r.parse=Ot,r.removeDotSegments=Sr,r.serialize=_t,r.resolveComponents=Ts,r.resolve=tf,r.normalize=rf,r.equal=nf,r.escapeComponent=of,r.unescapeComponent=Dt,Object.defineProperty(r,"__esModule",{value:!0})})});var _u=x(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});var hu=mu();hu.code='require("ajv/dist/runtime/uri").default';la.default=hu});var Su=x(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.CodeGen=xe.Name=xe.nil=xe.stringify=xe.str=xe._=xe.KeywordCxt=void 0;var Wm=Di();Object.defineProperty(xe,"KeywordCxt",{enumerable:!0,get:function(){return Wm.KeywordCxt}});var Qr=W();Object.defineProperty(xe,"_",{enumerable:!0,get:function(){return Qr._}});Object.defineProperty(xe,"str",{enumerable:!0,get:function(){return Qr.str}});Object.defineProperty(xe,"stringify",{enumerable:!0,get:function(){return Qr.stringify}});Object.defineProperty(xe,"nil",{enumerable:!0,get:function(){return Qr.nil}});Object.defineProperty(xe,"Name",{enumerable:!0,get:function(){return Qr.Name}});Object.defineProperty(xe,"CodeGen",{enumerable:!0,get:function(){return Qr.CodeGen}});var Lm=Vn(),wu=Mn(),Um=Wo(),Ni=Fn(),Hm=W(),ki=Pi(),jn=Ti(),ua=X(),gu=fu(),Bm=_u(),bu=(r,e)=>new RegExp(r,e);bu.code="new RegExp";var Km=["removeAdditional","useDefaults","coerceTypes"],Gm=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Jm={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Xm={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},yu=200;function Zm(r){var e,t,i,n,o,a,s,c,p,f,h,w,y,C,m,b,z,M,A,te,k,Qe,Wt,ui,ar;let Pe=r.strict,sr=(e=r.code)===null||e===void 0?void 0:e.optimize,mt=sr===!0||sr===void 0?1:sr||0,Gi=(i=(t=r.code)===null||t===void 0?void 0:t.regExp)!==null&&i!==void 0?i:bu,Ji=(n=r.uriResolver)!==null&&n!==void 0?n:Bm.default;return{strictSchema:(a=(o=r.strictSchema)!==null&&o!==void 0?o:Pe)!==null&&a!==void 0?a:!0,strictNumbers:(c=(s=r.strictNumbers)!==null&&s!==void 0?s:Pe)!==null&&c!==void 0?c:!0,strictTypes:(f=(p=r.strictTypes)!==null&&p!==void 0?p:Pe)!==null&&f!==void 0?f:"log",strictTuples:(w=(h=r.strictTuples)!==null&&h!==void 0?h:Pe)!==null&&w!==void 0?w:"log",strictRequired:(C=(y=r.strictRequired)!==null&&y!==void 0?y:Pe)!==null&&C!==void 0?C:!1,code:r.code?ge(I({},r.code),{optimize:mt,regExp:Gi}):{optimize:mt,regExp:Gi},loopRequired:(m=r.loopRequired)!==null&&m!==void 0?m:yu,loopEnum:(b=r.loopEnum)!==null&&b!==void 0?b:yu,meta:(z=r.meta)!==null&&z!==void 0?z:!0,messages:(M=r.messages)!==null&&M!==void 0?M:!0,inlineRefs:(A=r.inlineRefs)!==null&&A!==void 0?A:!0,schemaId:(te=r.schemaId)!==null&&te!==void 0?te:"$id",addUsedSchema:(k=r.addUsedSchema)!==null&&k!==void 0?k:!0,validateSchema:(Qe=r.validateSchema)!==null&&Qe!==void 0?Qe:!0,validateFormats:(Wt=r.validateFormats)!==null&&Wt!==void 0?Wt:!0,unicodeRegExp:(ui=r.unicodeRegExp)!==null&&ui!==void 0?ui:!0,int32range:(ar=r.int32range)!==null&&ar!==void 0?ar:!0,uriResolver:Ji}}var Vi=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=I(I({},e),Zm(e));let{es5:t,lines:i}=this.opts.code;this.scope=new Hm.ValueScope({scope:{},prefixes:Gm,es5:t,lines:i}),this.logger=ih(e.logger);let n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,Um.getRules)(),vu.call(this,Jm,e,"NOT SUPPORTED"),vu.call(this,Xm,e,"DEPRECATED","warn"),this._metaOpts=th.call(this),e.formats&&Ym.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&eh.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Qm.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:i}=this.opts,n=gu;i==="id"&&(n=I({},gu),n.id=n.$id,delete n.$id),t&&e&&this.addMetaSchema(n,n[i],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[t]||e:void 0}validate(e,t){let i;if(typeof e=="string"){if(i=this.getSchema(e),!i)throw new Error(`no schema with key or ref "${e}"`)}else i=this.compile(e);let n=i(t);return"$async"in i||(this.errors=i.errors),n}compile(e,t){let i=this._addSchema(e,t);return i.validate||this._compileSchemaEnv(i)}compileAsync(e,t){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return n.call(this,e,t);function n(f,h){return Dr(this,null,function*(){yield o.call(this,f.$schema);let w=this._addSchema(f,h);return w.validate||a.call(this,w)})}function o(f){return Dr(this,null,function*(){f&&!this.getSchema(f)&&(yield n.call(this,{$ref:f},!0))})}function a(f){return Dr(this,null,function*(){try{return this._compileSchemaEnv(f)}catch(h){if(!(h instanceof wu.default))throw h;return s.call(this,h),yield c.call(this,h.missingSchema),a.call(this,f)}})}function s({missingSchema:f,missingRef:h}){if(this.refs[f])throw new Error(`AnySchema ${f} is loaded but ${h} cannot be resolved`)}function c(f){return Dr(this,null,function*(){let h=yield p.call(this,f);this.refs[f]||(yield o.call(this,h.$schema)),this.refs[f]||this.addSchema(h,f,t)})}function p(f){return Dr(this,null,function*(){let h=this._loading[f];if(h)return h;try{return yield this._loading[f]=i(f)}finally{delete this._loading[f]}})}}addSchema(e,t,i,n=this.opts.validateSchema){if(Array.isArray(e)){for(let a of e)this.addSchema(a,void 0,i,n);return this}let o;if(typeof e=="object"){let{schemaId:a}=this.opts;if(o=e[a],o!==void 0&&typeof o!="string")throw new Error(`schema ${a} must be string`)}return t=(0,ki.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,i,t,n,!0),this}addMetaSchema(e,t,i=this.opts.validateSchema){return this.addSchema(e,t,!0,i),this}validateSchema(e,t){if(typeof e=="boolean")return!0;let i;if(i=e.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(i,e);if(!n&&t){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return n}getSchema(e){let t;for(;typeof(t=Cu.call(this,e))=="string";)e=t;if(t===void 0){let{schemaId:i}=this.opts,n=new Ni.SchemaEnv({schema:{},schemaId:i});if(t=Ni.resolveSchema.call(this,n,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=Cu.call(this,e);return typeof t=="object"&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let t=e;this._cache.delete(t);let i=e[this.opts.schemaId];return i&&(i=(0,ki.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let i;if(typeof e=="string")i=e,typeof t=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=i);else if(typeof e=="object"&&t===void 0){if(t=e,i=t.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(oh.call(this,i,t),!t)return(0,ua.eachItem)(i,o=>ca.call(this,o)),this;sh.call(this,t);let n=ge(I({},t),{type:(0,jn.getJSONTypes)(t.type),schemaType:(0,jn.getJSONTypes)(t.schemaType)});return(0,ua.eachItem)(i,n.type.length===0?o=>ca.call(this,o,n):o=>n.type.forEach(a=>ca.call(this,o,n,a))),this}getKeyword(e){let t=this.RULES.all[e];return typeof t=="object"?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(let i of t.rules){let n=i.rules.findIndex(o=>o.keyword===e);n>=0&&i.rules.splice(n,1)}return this}addFormat(e,t){return typeof t=="string"&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:i="data"}={}){return!e||e.length===0?"No errors":e.map(n=>`${i}${n.instancePath} ${n.message}`).reduce((n,o)=>n+t+o)}$dataMetaSchema(e,t){let i=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let n of t){let o=n.split("/").slice(1),a=e;for(let s of o)a=a[s];for(let s in i){let c=i[s];if(typeof c!="object")continue;let{$data:p}=c.definition,f=a[s];p&&f&&(a[s]=$u(f))}}return e}_removeAllSchemas(e,t){for(let i in e){let n=e[i];(!t||t.test(i))&&(typeof n=="string"?delete e[i]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[i]))}}_addSchema(e,t,i,n=this.opts.validateSchema,o=this.opts.addUsedSchema){let a,{schemaId:s}=this.opts;if(typeof e=="object")a=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;i=(0,ki.normalizeId)(a||i);let p=ki.getSchemaRefs.call(this,e,i);return c=new Ni.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:i,localRefs:p}),this._cache.set(c.schema,c),o&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=c),n&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Ni.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{Ni.compileSchema.call(this,e)}finally{this.opts=t}}};xe.default=Vi;Vi.ValidationError=Lm.default;Vi.MissingRefError=wu.default;function vu(r,e,t,i="error"){for(let n in r){let o=n;o in e&&this.logger[i](`${t}: option ${n}. ${r[o]}`)}}function Cu(r){return r=(0,ki.normalizeId)(r),this.schemas[r]||this.refs[r]}function Qm(){let r=this.opts.schemas;if(r)if(Array.isArray(r))this.addSchema(r);else for(let e in r)this.addSchema(r[e],e)}function Ym(){for(let r in this.opts.formats){let e=this.opts.formats[r];e&&this.addFormat(r,e)}}function eh(r){if(Array.isArray(r)){this.addVocabulary(r);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in r){let t=r[e];t.keyword||(t.keyword=e),this.addKeyword(t)}}function th(){let r=I({},this.opts);for(let e of Km)delete r[e];return r}var rh={log(){},warn(){},error(){}};function ih(r){if(r===!1)return rh;if(r===void 0)return console;if(r.log&&r.warn&&r.error)return r;throw new Error("logger must implement log, warn and error methods")}var nh=/^[a-z_$][a-z0-9_$:-]*$/i;function oh(r,e){let{RULES:t}=this;if((0,ua.eachItem)(r,i=>{if(t.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!nh.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function ca(r,e,t){var i;let n=e?.post;if(t&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,a=n?o.post:o.rules.find(({type:c})=>c===t);if(a||(a={type:t,rules:[]},o.rules.push(a)),o.keywords[r]=!0,!e)return;let s={keyword:r,definition:ge(I({},e),{type:(0,jn.getJSONTypes)(e.type),schemaType:(0,jn.getJSONTypes)(e.schemaType)})};e.before?ah.call(this,a,s,e.before):a.rules.push(s),o.all[r]=s,(i=e.implements)===null||i===void 0||i.forEach(c=>this.addKeyword(c))}function ah(r,e,t){let i=r.rules.findIndex(n=>n.keyword===t);i>=0?r.rules.splice(i,0,e):(r.rules.push(e),this.logger.warn(`rule ${t} is not defined`))}function sh(r){let{metaSchema:e}=r;e!==void 0&&(r.$data&&this.opts.$data&&(e=$u(e)),r.validateSchema=this.compile(e,!0))}var lh={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function $u(r){return{anyOf:[r,lh]}}});var zu=x(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});var ch={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};da.default=ch});var Pu=x(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.callRef=yr.getValidate=void 0;var uh=Mn(),Eu=at(),Je=W(),Yr=At(),xu=Fn(),qn=X(),dh={keyword:"$ref",schemaType:"string",code(r){let{gen:e,schema:t,it:i}=r,{baseId:n,schemaEnv:o,validateName:a,opts:s,self:c}=i,{root:p}=o;if((t==="#"||t==="#/")&&n===p.baseId)return h();let f=xu.resolveRef.call(c,p,n,t);if(f===void 0)throw new uh.default(i.opts.uriResolver,n,t);if(f instanceof xu.SchemaEnv)return w(f);return y(f);function h(){if(o===p)return Wn(r,a,o,o.$async);let C=e.scopeValue("root",{ref:p});return Wn(r,(0,Je._)`${C}.validate`,p,p.$async)}function w(C){let m=Tu(r,C);Wn(r,m,C,C.$async)}function y(C){let m=e.scopeValue("schema",s.code.source===!0?{ref:C,code:(0,Je.stringify)(C)}:{ref:C}),b=e.name("valid"),z=r.subschema({schema:C,dataTypes:[],schemaPath:Je.nil,topSchemaRef:m,errSchemaPath:t},b);r.mergeEvaluated(z),r.ok(b)}}};function Tu(r,e){let{gen:t}=r;return e.validate?t.scopeValue("validate",{ref:e.validate}):(0,Je._)`${t.scopeValue("wrapper",{ref:e})}.validate`}yr.getValidate=Tu;function Wn(r,e,t,i){let{gen:n,it:o}=r,{allErrors:a,schemaEnv:s,opts:c}=o,p=c.passContext?Yr.default.this:Je.nil;i?f():h();function f(){if(!s.$async)throw new Error("async schema referenced by sync schema");let C=n.let("valid");n.try(()=>{n.code((0,Je._)`await ${(0,Eu.callValidateCode)(r,e,p)}`),y(e),a||n.assign(C,!0)},m=>{n.if((0,Je._)`!(${m} instanceof ${o.ValidationError})`,()=>n.throw(m)),w(m),a||n.assign(C,!1)}),r.ok(C)}function h(){r.result((0,Eu.callValidateCode)(r,e,p),()=>y(e),()=>w(e))}function w(C){let m=(0,Je._)`${C}.errors`;n.assign(Yr.default.vErrors,(0,Je._)`${Yr.default.vErrors} === null ? ${m} : ${Yr.default.vErrors}.concat(${m})`),n.assign(Yr.default.errors,(0,Je._)`${Yr.default.vErrors}.length`)}function y(C){var m;if(!o.opts.unevaluated)return;let b=(m=t?.validate)===null||m===void 0?void 0:m.evaluated;if(o.props!==!0)if(b&&!b.dynamicProps)b.props!==void 0&&(o.props=qn.mergeEvaluated.props(n,b.props,o.props));else{let z=n.var("props",(0,Je._)`${C}.evaluated.props`);o.props=qn.mergeEvaluated.props(n,z,o.props,Je.Name)}if(o.items!==!0)if(b&&!b.dynamicItems)b.items!==void 0&&(o.items=qn.mergeEvaluated.items(n,b.items,o.items));else{let z=n.var("items",(0,Je._)`${C}.evaluated.items`);o.items=qn.mergeEvaluated.items(n,z,o.items,Je.Name)}}}yr.callRef=Wn;yr.default=dh});var Iu=x(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});var fh=zu(),ph=Pu(),mh=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",fh.default,ph.default];fa.default=mh});var Ou=x(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var Ln=W(),tr=Ln.operators,Un={maximum:{okStr:"<=",ok:tr.LTE,fail:tr.GT},minimum:{okStr:">=",ok:tr.GTE,fail:tr.LT},exclusiveMaximum:{okStr:"<",ok:tr.LT,fail:tr.GTE},exclusiveMinimum:{okStr:">",ok:tr.GT,fail:tr.LTE}},hh={message:({keyword:r,schemaCode:e})=>(0,Ln.str)`must be ${Un[r].okStr} ${e}`,params:({keyword:r,schemaCode:e})=>(0,Ln._)`{comparison: ${Un[r].okStr}, limit: ${e}}`},_h={keyword:Object.keys(Un),type:"number",schemaType:"number",$data:!0,error:hh,code(r){let{keyword:e,data:t,schemaCode:i}=r;r.fail$data((0,Ln._)`${t} ${Un[e].fail} ${i} || isNaN(${t})`)}};pa.default=_h});var Du=x(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});var Mi=W(),gh={message:({schemaCode:r})=>(0,Mi.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,Mi._)`{multipleOf: ${r}}`},yh={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:gh,code(r){let{gen:e,data:t,schemaCode:i,it:n}=r,o=n.opts.multipleOfPrecision,a=e.let("res"),s=o?(0,Mi._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,Mi._)`${a} !== parseInt(${a})`;r.fail$data((0,Mi._)`(${i} === 0 || (${a} = ${t}/${i}, ${s}))`)}};ma.default=yh});var ku=x(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});function Nu(r){let e=r.length,t=0,i=0,n;for(;i<e;)t++,n=r.charCodeAt(i++),n>=55296&&n<=56319&&i<e&&(n=r.charCodeAt(i),(n&64512)===56320&&i++);return t}ha.default=Nu;Nu.code='require("ajv/dist/runtime/ucs2length").default'});var Vu=x(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});var vr=W(),vh=X(),Ch=ku(),wh={message({keyword:r,schemaCode:e}){let t=r==="maxLength"?"more":"fewer";return(0,vr.str)`must NOT have ${t} than ${e} characters`},params:({schemaCode:r})=>(0,vr._)`{limit: ${r}}`},bh={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:wh,code(r){let{keyword:e,data:t,schemaCode:i,it:n}=r,o=e==="maxLength"?vr.operators.GT:vr.operators.LT,a=n.opts.unicode===!1?(0,vr._)`${t}.length`:(0,vr._)`${(0,vh.useFunc)(r.gen,Ch.default)}(${t})`;r.fail$data((0,vr._)`${a} ${o} ${i}`)}};_a.default=bh});var Mu=x(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});var $h=at(),Hn=W(),Sh={message:({schemaCode:r})=>(0,Hn.str)`must match pattern "${r}"`,params:({schemaCode:r})=>(0,Hn._)`{pattern: ${r}}`},zh={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Sh,code(r){let{data:e,$data:t,schema:i,schemaCode:n,it:o}=r,a=o.opts.unicodeRegExp?"u":"",s=t?(0,Hn._)`(new RegExp(${n}, ${a}))`:(0,$h.usePattern)(r,i);r.fail$data((0,Hn._)`!${s}.test(${e})`)}};ga.default=zh});var Ru=x(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});var Ri=W(),Eh={message({keyword:r,schemaCode:e}){let t=r==="maxProperties"?"more":"fewer";return(0,Ri.str)`must NOT have ${t} than ${e} properties`},params:({schemaCode:r})=>(0,Ri._)`{limit: ${r}}`},xh={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Eh,code(r){let{keyword:e,data:t,schemaCode:i}=r,n=e==="maxProperties"?Ri.operators.GT:Ri.operators.LT;r.fail$data((0,Ri._)`Object.keys(${t}).length ${n} ${i}`)}};ya.default=xh});var Fu=x(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});var Fi=at(),Ai=W(),Th=X(),Ph={message:({params:{missingProperty:r}})=>(0,Ai.str)`must have required property '${r}'`,params:({params:{missingProperty:r}})=>(0,Ai._)`{missingProperty: ${r}}`},Ih={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Ph,code(r){let{gen:e,schema:t,schemaCode:i,data:n,$data:o,it:a}=r,{opts:s}=a;if(!o&&t.length===0)return;let c=t.length>=s.loopRequired;if(a.allErrors?p():f(),s.strictRequired){let y=r.parentSchema.properties,{definedProperties:C}=r.it;for(let m of t)if(y?.[m]===void 0&&!C.has(m)){let b=a.schemaEnv.baseId+a.errSchemaPath,z=`required property "${m}" is not defined at "${b}" (strictRequired)`;(0,Th.checkStrictMode)(a,z,a.opts.strictRequired)}}function p(){if(c||o)r.block$data(Ai.nil,h);else for(let y of t)(0,Fi.checkReportMissingProp)(r,y)}function f(){let y=e.let("missing");if(c||o){let C=e.let("valid",!0);r.block$data(C,()=>w(y,C)),r.ok(C)}else e.if((0,Fi.checkMissingProp)(r,t,y)),(0,Fi.reportMissingProp)(r,y),e.else()}function h(){e.forOf("prop",i,y=>{r.setParams({missingProperty:y}),e.if((0,Fi.noPropertyInData)(e,n,y,s.ownProperties),()=>r.error())})}function w(y,C){r.setParams({missingProperty:y}),e.forOf(y,i,()=>{e.assign(C,(0,Fi.propertyInData)(e,n,y,s.ownProperties)),e.if((0,Ai.not)(C),()=>{r.error(),e.break()})},Ai.nil)}}};va.default=Ih});var Au=x(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});var ji=W(),Oh={message({keyword:r,schemaCode:e}){let t=r==="maxItems"?"more":"fewer";return(0,ji.str)`must NOT have ${t} than ${e} items`},params:({schemaCode:r})=>(0,ji._)`{limit: ${r}}`},Dh={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Oh,code(r){let{keyword:e,data:t,schemaCode:i}=r,n=e==="maxItems"?ji.operators.GT:ji.operators.LT;r.fail$data((0,ji._)`${t}.length ${n} ${i}`)}};Ca.default=Dh});var Bn=x(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});var ju=Xo();ju.code='require("ajv/dist/runtime/equal").default';wa.default=ju});var qu=x($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});var ba=Ti(),Te=W(),Nh=X(),kh=Bn(),Vh={message:({params:{i:r,j:e}})=>(0,Te.str)`must NOT have duplicate items (items ## ${e} and ${r} are identical)`,params:({params:{i:r,j:e}})=>(0,Te._)`{i: ${r}, j: ${e}}`},Mh={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Vh,code(r){let{gen:e,data:t,$data:i,schema:n,parentSchema:o,schemaCode:a,it:s}=r;if(!i&&!n)return;let c=e.let("valid"),p=o.items?(0,ba.getSchemaTypes)(o.items):[];r.block$data(c,f,(0,Te._)`${a} === false`),r.ok(c);function f(){let C=e.let("i",(0,Te._)`${t}.length`),m=e.let("j");r.setParams({i:C,j:m}),e.assign(c,!0),e.if((0,Te._)`${C} > 1`,()=>(h()?w:y)(C,m))}function h(){return p.length>0&&!p.some(C=>C==="object"||C==="array")}function w(C,m){let b=e.name("item"),z=(0,ba.checkDataTypes)(p,b,s.opts.strictNumbers,ba.DataType.Wrong),M=e.const("indices",(0,Te._)`{}`);e.for((0,Te._)`;${C}--;`,()=>{e.let(b,(0,Te._)`${t}[${C}]`),e.if(z,(0,Te._)`continue`),p.length>1&&e.if((0,Te._)`typeof ${b} == "string"`,(0,Te._)`${b} += "_"`),e.if((0,Te._)`typeof ${M}[${b}] == "number"`,()=>{e.assign(m,(0,Te._)`${M}[${b}]`),r.error(),e.assign(c,!1).break()}).code((0,Te._)`${M}[${b}] = ${C}`)})}function y(C,m){let b=(0,Nh.useFunc)(e,kh.default),z=e.name("outer");e.label(z).for((0,Te._)`;${C}--;`,()=>e.for((0,Te._)`${m} = ${C}; ${m}--;`,()=>e.if((0,Te._)`${b}(${t}[${C}], ${t}[${m}])`,()=>{r.error(),e.assign(c,!1).break(z)})))}}};$a.default=Mh});var Wu=x(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});var Sa=W(),Rh=X(),Fh=Bn(),Ah={message:"must be equal to constant",params:({schemaCode:r})=>(0,Sa._)`{allowedValue: ${r}}`},jh={keyword:"const",$data:!0,error:Ah,code(r){let{gen:e,data:t,$data:i,schemaCode:n,schema:o}=r;i||o&&typeof o=="object"?r.fail$data((0,Sa._)`!${(0,Rh.useFunc)(e,Fh.default)}(${t}, ${n})`):r.fail((0,Sa._)`${o} !== ${t}`)}};za.default=jh});var Lu=x(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});var qi=W(),qh=X(),Wh=Bn(),Lh={message:"must be equal to one of the allowed values",params:({schemaCode:r})=>(0,qi._)`{allowedValues: ${r}}`},Uh={keyword:"enum",schemaType:"array",$data:!0,error:Lh,code(r){let{gen:e,data:t,$data:i,schema:n,schemaCode:o,it:a}=r;if(!i&&n.length===0)throw new Error("enum must have non-empty array");let s=n.length>=a.opts.loopEnum,c,p=()=>c??(c=(0,qh.useFunc)(e,Wh.default)),f;if(s||i)f=e.let("valid"),r.block$data(f,h);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let y=e.const("vSchema",o);f=(0,qi.or)(...n.map((C,m)=>w(y,m)))}r.pass(f);function h(){e.assign(f,!1),e.forOf("v",o,y=>e.if((0,qi._)`${p()}(${t}, ${y})`,()=>e.assign(f,!0).break()))}function w(y,C){let m=n[C];return typeof m=="object"&&m!==null?(0,qi._)`${p()}(${t}, ${y}[${C}])`:(0,qi._)`${t} === ${m}`}}};Ea.default=Uh});var Uu=x(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});var Hh=Ou(),Bh=Du(),Kh=Vu(),Gh=Mu(),Jh=Ru(),Xh=Fu(),Zh=Au(),Qh=qu(),Yh=Wu(),e0=Lu(),t0=[Hh.default,Bh.default,Kh.default,Gh.default,Jh.default,Xh.default,Zh.default,Qh.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Yh.default,e0.default];xa.default=t0});var Pa=x(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.validateAdditionalItems=void 0;var Cr=W(),Ta=X(),r0={message:({params:{len:r}})=>(0,Cr.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,Cr._)`{limit: ${r}}`},i0={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:r0,code(r){let{parentSchema:e,it:t}=r,{items:i}=e;if(!Array.isArray(i)){(0,Ta.checkStrictMode)(t,'"additionalItems" is ignored when "items" is not an array of schemas');return}Hu(r,i)}};function Hu(r,e){let{gen:t,schema:i,data:n,keyword:o,it:a}=r;a.items=!0;let s=t.const("len",(0,Cr._)`${n}.length`);if(i===!1)r.setParams({len:e.length}),r.pass((0,Cr._)`${s} <= ${e.length}`);else if(typeof i=="object"&&!(0,Ta.alwaysValidSchema)(a,i)){let p=t.var("valid",(0,Cr._)`${s} <= ${e.length}`);t.if((0,Cr.not)(p),()=>c(p)),r.ok(p)}function c(p){t.forRange("i",e.length,s,f=>{r.subschema({keyword:o,dataProp:f,dataPropType:Ta.Type.Num},p),a.allErrors||t.if((0,Cr.not)(p),()=>t.break())})}}Wi.validateAdditionalItems=Hu;Wi.default=i0});var Ia=x(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.validateTuple=void 0;var Bu=W(),Kn=X(),n0=at(),o0={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(r){let{schema:e,it:t}=r;if(Array.isArray(e))return Ku(r,"additionalItems",e);t.items=!0,!(0,Kn.alwaysValidSchema)(t,e)&&r.ok((0,n0.validateArray)(r))}};function Ku(r,e,t=r.schema){let{gen:i,parentSchema:n,data:o,keyword:a,it:s}=r;f(n),s.opts.unevaluated&&t.length&&s.items!==!0&&(s.items=Kn.mergeEvaluated.items(i,t.length,s.items));let c=i.name("valid"),p=i.const("len",(0,Bu._)`${o}.length`);t.forEach((h,w)=>{(0,Kn.alwaysValidSchema)(s,h)||(i.if((0,Bu._)`${p} > ${w}`,()=>r.subschema({keyword:a,schemaProp:w,dataProp:w},c)),r.ok(c))});function f(h){let{opts:w,errSchemaPath:y}=s,C=t.length,m=C===h.minItems&&(C===h.maxItems||h[e]===!1);if(w.strictTuples&&!m){let b=`"${a}" is ${C}-tuple, but minItems or maxItems/${e} are not specified or different at path "${y}"`;(0,Kn.checkStrictMode)(s,b,w.strictTuples)}}}Li.validateTuple=Ku;Li.default=o0});var Gu=x(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});var a0=Ia(),s0={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,a0.validateTuple)(r,"items")};Oa.default=s0});var Xu=x(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});var Ju=W(),l0=X(),c0=at(),u0=Pa(),d0={message:({params:{len:r}})=>(0,Ju.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,Ju._)`{limit: ${r}}`},f0={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:d0,code(r){let{schema:e,parentSchema:t,it:i}=r,{prefixItems:n}=t;i.items=!0,!(0,l0.alwaysValidSchema)(i,e)&&(n?(0,u0.validateAdditionalItems)(r,n):r.ok((0,c0.validateArray)(r)))}};Da.default=f0});var Zu=x(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});var lt=W(),Gn=X(),p0={message:({params:{min:r,max:e}})=>e===void 0?(0,lt.str)`must contain at least ${r} valid item(s)`:(0,lt.str)`must contain at least ${r} and no more than ${e} valid item(s)`,params:({params:{min:r,max:e}})=>e===void 0?(0,lt._)`{minContains: ${r}}`:(0,lt._)`{minContains: ${r}, maxContains: ${e}}`},m0={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:p0,code(r){let{gen:e,schema:t,parentSchema:i,data:n,it:o}=r,a,s,{minContains:c,maxContains:p}=i;o.opts.next?(a=c===void 0?1:c,s=p):a=1;let f=e.const("len",(0,lt._)`${n}.length`);if(r.setParams({min:a,max:s}),s===void 0&&a===0){(0,Gn.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,Gn.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),r.fail();return}if((0,Gn.alwaysValidSchema)(o,t)){let m=(0,lt._)`${f} >= ${a}`;s!==void 0&&(m=(0,lt._)`${m} && ${f} <= ${s}`),r.pass(m);return}o.items=!0;let h=e.name("valid");s===void 0&&a===1?y(h,()=>e.if(h,()=>e.break())):a===0?(e.let(h,!0),s!==void 0&&e.if((0,lt._)`${n}.length > 0`,w)):(e.let(h,!1),w()),r.result(h,()=>r.reset());function w(){let m=e.name("_valid"),b=e.let("count",0);y(m,()=>e.if(m,()=>C(b)))}function y(m,b){e.forRange("i",0,f,z=>{r.subschema({keyword:"contains",dataProp:z,dataPropType:Gn.Type.Num,compositeRule:!0},m),b()})}function C(m){e.code((0,lt._)`${m}++`),s===void 0?e.if((0,lt._)`${m} >= ${a}`,()=>e.assign(h,!0).break()):(e.if((0,lt._)`${m} > ${s}`,()=>e.assign(h,!1).break()),a===1?e.assign(h,!0):e.if((0,lt._)`${m} >= ${a}`,()=>e.assign(h,!0)))}}};Na.default=m0});var ed=x(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.validateSchemaDeps=xt.validatePropertyDeps=xt.error=void 0;var ka=W(),h0=X(),Ui=at();xt.error={message:({params:{property:r,depsCount:e,deps:t}})=>{let i=e===1?"property":"properties";return(0,ka.str)`must have ${i} ${t} when property ${r} is present`},params:({params:{property:r,depsCount:e,deps:t,missingProperty:i}})=>(0,ka._)`{property: ${r},
    missingProperty: ${i},
    depsCount: ${e},
    deps: ${t}}`};var _0={keyword:"dependencies",type:"object",schemaType:"object",error:xt.error,code(r){let[e,t]=g0(r);Qu(r,e),Yu(r,t)}};function g0({schema:r}){let e={},t={};for(let i in r){if(i==="__proto__")continue;let n=Array.isArray(r[i])?e:t;n[i]=r[i]}return[e,t]}function Qu(r,e=r.schema){let{gen:t,data:i,it:n}=r;if(Object.keys(e).length===0)return;let o=t.let("missing");for(let a in e){let s=e[a];if(s.length===0)continue;let c=(0,Ui.propertyInData)(t,i,a,n.opts.ownProperties);r.setParams({property:a,depsCount:s.length,deps:s.join(", ")}),n.allErrors?t.if(c,()=>{for(let p of s)(0,Ui.checkReportMissingProp)(r,p)}):(t.if((0,ka._)`${c} && (${(0,Ui.checkMissingProp)(r,s,o)})`),(0,Ui.reportMissingProp)(r,o),t.else())}}xt.validatePropertyDeps=Qu;function Yu(r,e=r.schema){let{gen:t,data:i,keyword:n,it:o}=r,a=t.name("valid");for(let s in e)(0,h0.alwaysValidSchema)(o,e[s])||(t.if((0,Ui.propertyInData)(t,i,s,o.opts.ownProperties),()=>{let c=r.subschema({keyword:n,schemaProp:s},a);r.mergeValidEvaluated(c,a)},()=>t.var(a,!0)),r.ok(a))}xt.validateSchemaDeps=Yu;xt.default=_0});var rd=x(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});var td=W(),y0=X(),v0={message:"property name must be valid",params:({params:r})=>(0,td._)`{propertyName: ${r.propertyName}}`},C0={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:v0,code(r){let{gen:e,schema:t,data:i,it:n}=r;if((0,y0.alwaysValidSchema)(n,t))return;let o=e.name("valid");e.forIn("key",i,a=>{r.setParams({propertyName:a}),r.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),e.if((0,td.not)(o),()=>{r.error(!0),n.allErrors||e.break()})}),r.ok(o)}};Va.default=C0});var Ra=x(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});var Jn=at(),ft=W(),w0=At(),Xn=X(),b0={message:"must NOT have additional properties",params:({params:r})=>(0,ft._)`{additionalProperty: ${r.additionalProperty}}`},$0={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:b0,code(r){let{gen:e,schema:t,parentSchema:i,data:n,errsCount:o,it:a}=r;if(!o)throw new Error("ajv implementation error");let{allErrors:s,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,Xn.alwaysValidSchema)(a,t))return;let p=(0,Jn.allSchemaProperties)(i.properties),f=(0,Jn.allSchemaProperties)(i.patternProperties);h(),r.ok((0,ft._)`${o} === ${w0.default.errors}`);function h(){e.forIn("key",n,b=>{!p.length&&!f.length?C(b):e.if(w(b),()=>C(b))})}function w(b){let z;if(p.length>8){let M=(0,Xn.schemaRefOrVal)(a,i.properties,"properties");z=(0,Jn.isOwnProperty)(e,M,b)}else p.length?z=(0,ft.or)(...p.map(M=>(0,ft._)`${b} === ${M}`)):z=ft.nil;return f.length&&(z=(0,ft.or)(z,...f.map(M=>(0,ft._)`${(0,Jn.usePattern)(r,M)}.test(${b})`))),(0,ft.not)(z)}function y(b){e.code((0,ft._)`delete ${n}[${b}]`)}function C(b){if(c.removeAdditional==="all"||c.removeAdditional&&t===!1){y(b);return}if(t===!1){r.setParams({additionalProperty:b}),r.error(),s||e.break();return}if(typeof t=="object"&&!(0,Xn.alwaysValidSchema)(a,t)){let z=e.name("valid");c.removeAdditional==="failing"?(m(b,z,!1),e.if((0,ft.not)(z),()=>{r.reset(),y(b)})):(m(b,z),s||e.if((0,ft.not)(z),()=>e.break()))}}function m(b,z,M){let A={keyword:"additionalProperties",dataProp:b,dataPropType:Xn.Type.Str};M===!1&&Object.assign(A,{compositeRule:!0,createErrors:!1,allErrors:!1}),r.subschema(A,z)}}};Ma.default=$0});var od=x(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});var S0=Di(),id=at(),Fa=X(),nd=Ra(),z0={keyword:"properties",type:"object",schemaType:"object",code(r){let{gen:e,schema:t,parentSchema:i,data:n,it:o}=r;o.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&nd.default.code(new S0.KeywordCxt(o,nd.default,"additionalProperties"));let a=(0,id.allSchemaProperties)(t);for(let h of a)o.definedProperties.add(h);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=Fa.mergeEvaluated.props(e,(0,Fa.toHash)(a),o.props));let s=a.filter(h=>!(0,Fa.alwaysValidSchema)(o,t[h]));if(s.length===0)return;let c=e.name("valid");for(let h of s)p(h)?f(h):(e.if((0,id.propertyInData)(e,n,h,o.opts.ownProperties)),f(h),o.allErrors||e.else().var(c,!0),e.endIf()),r.it.definedProperties.add(h),r.ok(c);function p(h){return o.opts.useDefaults&&!o.compositeRule&&t[h].default!==void 0}function f(h){r.subschema({keyword:"properties",schemaProp:h,dataProp:h},c)}}};Aa.default=z0});var cd=x(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});var ad=at(),Zn=W(),sd=X(),ld=X(),E0={keyword:"patternProperties",type:"object",schemaType:"object",code(r){let{gen:e,schema:t,data:i,parentSchema:n,it:o}=r,{opts:a}=o,s=(0,ad.allSchemaProperties)(t),c=s.filter(m=>(0,sd.alwaysValidSchema)(o,t[m]));if(s.length===0||c.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;let p=a.strictSchema&&!a.allowMatchingProperties&&n.properties,f=e.name("valid");o.props!==!0&&!(o.props instanceof Zn.Name)&&(o.props=(0,ld.evaluatedPropsToName)(e,o.props));let{props:h}=o;w();function w(){for(let m of s)p&&y(m),o.allErrors?C(m):(e.var(f,!0),C(m),e.if(f))}function y(m){for(let b in p)new RegExp(m).test(b)&&(0,sd.checkStrictMode)(o,`property ${b} matches pattern ${m} (use allowMatchingProperties)`)}function C(m){e.forIn("key",i,b=>{e.if((0,Zn._)`${(0,ad.usePattern)(r,m)}.test(${b})`,()=>{let z=c.includes(m);z||r.subschema({keyword:"patternProperties",schemaProp:m,dataProp:b,dataPropType:ld.Type.Str},f),o.opts.unevaluated&&h!==!0?e.assign((0,Zn._)`${h}[${b}]`,!0):!z&&!o.allErrors&&e.if((0,Zn.not)(f),()=>e.break())})})}}};ja.default=E0});var ud=x(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});var x0=X(),T0={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){let{gen:e,schema:t,it:i}=r;if((0,x0.alwaysValidSchema)(i,t)){r.fail();return}let n=e.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),r.failResult(n,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};qa.default=T0});var dd=x(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});var P0=at(),I0={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:P0.validateUnion,error:{message:"must match a schema in anyOf"}};Wa.default=I0});var fd=x(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});var Qn=W(),O0=X(),D0={message:"must match exactly one schema in oneOf",params:({params:r})=>(0,Qn._)`{passingSchemas: ${r.passing}}`},N0={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:D0,code(r){let{gen:e,schema:t,parentSchema:i,it:n}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;let o=t,a=e.let("valid",!1),s=e.let("passing",null),c=e.name("_valid");r.setParams({passing:s}),e.block(p),r.result(a,()=>r.reset(),()=>r.error(!0));function p(){o.forEach((f,h)=>{let w;(0,O0.alwaysValidSchema)(n,f)?e.var(c,!0):w=r.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},c),h>0&&e.if((0,Qn._)`${c} && ${a}`).assign(a,!1).assign(s,(0,Qn._)`[${s}, ${h}]`).else(),e.if(c,()=>{e.assign(a,!0),e.assign(s,h),w&&r.mergeEvaluated(w,Qn.Name)})})}}};La.default=N0});var pd=x(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});var k0=X(),V0={keyword:"allOf",schemaType:"array",code(r){let{gen:e,schema:t,it:i}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");let n=e.name("valid");t.forEach((o,a)=>{if((0,k0.alwaysValidSchema)(i,o))return;let s=r.subschema({keyword:"allOf",schemaProp:a},n);r.ok(n),r.mergeEvaluated(s)})}};Ua.default=V0});var _d=x(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});var Yn=W(),hd=X(),M0={message:({params:r})=>(0,Yn.str)`must match "${r.ifClause}" schema`,params:({params:r})=>(0,Yn._)`{failingKeyword: ${r.ifClause}}`},R0={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:M0,code(r){let{gen:e,parentSchema:t,it:i}=r;t.then===void 0&&t.else===void 0&&(0,hd.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let n=md(i,"then"),o=md(i,"else");if(!n&&!o)return;let a=e.let("valid",!0),s=e.name("_valid");if(c(),r.reset(),n&&o){let f=e.let("ifClause");r.setParams({ifClause:f}),e.if(s,p("then",f),p("else",f))}else n?e.if(s,p("then")):e.if((0,Yn.not)(s),p("else"));r.pass(a,()=>r.error(!0));function c(){let f=r.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);r.mergeEvaluated(f)}function p(f,h){return()=>{let w=r.subschema({keyword:f},s);e.assign(a,s),r.mergeValidEvaluated(w,a),h?e.assign(h,(0,Yn._)`${f}`):r.setParams({ifClause:f})}}}};function md(r,e){let t=r.schema[e];return t!==void 0&&!(0,hd.alwaysValidSchema)(r,t)}Ha.default=R0});var gd=x(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});var F0=X(),A0={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:e,it:t}){e.if===void 0&&(0,F0.checkStrictMode)(t,`"${r}" without "if" is ignored`)}};Ba.default=A0});var yd=x(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});var j0=Pa(),q0=Gu(),W0=Ia(),L0=Xu(),U0=Zu(),H0=ed(),B0=rd(),K0=Ra(),G0=od(),J0=cd(),X0=ud(),Z0=dd(),Q0=fd(),Y0=pd(),e_=_d(),t_=gd();function r_(r=!1){let e=[X0.default,Z0.default,Q0.default,Y0.default,e_.default,t_.default,B0.default,K0.default,H0.default,G0.default,J0.default];return r?e.push(q0.default,L0.default):e.push(j0.default,W0.default),e.push(U0.default),e}Ka.default=r_});var vd=x(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});var ye=W(),i_={message:({schemaCode:r})=>(0,ye.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,ye._)`{format: ${r}}`},n_={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:i_,code(r,e){let{gen:t,data:i,$data:n,schema:o,schemaCode:a,it:s}=r,{opts:c,errSchemaPath:p,schemaEnv:f,self:h}=s;if(!c.validateFormats)return;n?w():y();function w(){let C=t.scopeValue("formats",{ref:h.formats,code:c.code.formats}),m=t.const("fDef",(0,ye._)`${C}[${a}]`),b=t.let("fType"),z=t.let("format");t.if((0,ye._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>t.assign(b,(0,ye._)`${m}.type || "string"`).assign(z,(0,ye._)`${m}.validate`),()=>t.assign(b,(0,ye._)`"string"`).assign(z,m)),r.fail$data((0,ye.or)(M(),A()));function M(){return c.strictSchema===!1?ye.nil:(0,ye._)`${a} && !${z}`}function A(){let te=f.$async?(0,ye._)`(${m}.async ? await ${z}(${i}) : ${z}(${i}))`:(0,ye._)`${z}(${i})`,k=(0,ye._)`(typeof ${z} == "function" ? ${te} : ${z}.test(${i}))`;return(0,ye._)`${z} && ${z} !== true && ${b} === ${e} && !${k}`}}function y(){let C=h.formats[o];if(!C){M();return}if(C===!0)return;let[m,b,z]=A(C);m===e&&r.pass(te());function M(){if(c.strictSchema===!1){h.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${o}" ignored in schema at path "${p}"`}}function A(k){let Qe=k instanceof RegExp?(0,ye.regexpCode)(k):c.code.formats?(0,ye._)`${c.code.formats}${(0,ye.getProperty)(o)}`:void 0,Wt=t.scopeValue("formats",{key:o,ref:k,code:Qe});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,ye._)`${Wt}.validate`]:["string",k,Wt]}function te(){if(typeof C=="object"&&!(C instanceof RegExp)&&C.async){if(!f.$async)throw new Error("async format in sync schema");return(0,ye._)`await ${z}(${i})`}return typeof b=="function"?(0,ye._)`${z}(${i})`:(0,ye._)`${z}.test(${i})`}}}};Ga.default=n_});var Cd=x(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});var o_=vd(),a_=[o_.default];Ja.default=a_});var wd=x(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.contentVocabulary=ei.metadataVocabulary=void 0;ei.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];ei.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var $d=x(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});var s_=Iu(),l_=Uu(),c_=yd(),u_=Cd(),bd=wd(),d_=[s_.default,l_.default,(0,c_.default)(),u_.default,bd.metadataVocabulary,bd.contentVocabulary];Xa.default=d_});var Sd=x(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.DiscrError=void 0;var f_;(function(r){r.Tag="tag",r.Mapping="mapping"})(f_=Hi.DiscrError||(Hi.DiscrError={}))});var Ed=x(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});var ti=W(),Za=Sd(),zd=Fn(),p_=X(),m_={message:({params:{discrError:r,tagName:e}})=>r===Za.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:r,tag:e,tagName:t}})=>(0,ti._)`{error: ${r}, tag: ${t}, tagValue: ${e}}`},h_={keyword:"discriminator",type:"object",schemaType:"object",error:m_,code(r){let{gen:e,data:t,schema:i,parentSchema:n,it:o}=r,{oneOf:a}=n;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let s=i.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),p=e.const("tag",(0,ti._)`${t}${(0,ti.getProperty)(s)}`);e.if((0,ti._)`typeof ${p} == "string"`,()=>f(),()=>r.error(!1,{discrError:Za.DiscrError.Tag,tag:p,tagName:s})),r.ok(c);function f(){let y=w();e.if(!1);for(let C in y)e.elseIf((0,ti._)`${p} === ${C}`),e.assign(c,h(y[C]));e.else(),r.error(!1,{discrError:Za.DiscrError.Mapping,tag:p,tagName:s}),e.endIf()}function h(y){let C=e.name("valid"),m=r.subschema({keyword:"oneOf",schemaProp:y},C);return r.mergeEvaluated(m,ti.Name),C}function w(){var y;let C={},m=z(n),b=!0;for(let te=0;te<a.length;te++){let k=a[te];k?.$ref&&!(0,p_.schemaHasRulesButRef)(k,o.self.RULES)&&(k=zd.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,k?.$ref),k instanceof zd.SchemaEnv&&(k=k.schema));let Qe=(y=k?.properties)===null||y===void 0?void 0:y[s];if(typeof Qe!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);b=b&&(m||z(k)),M(Qe,te)}if(!b)throw new Error(`discriminator: "${s}" must be required`);return C;function z({required:te}){return Array.isArray(te)&&te.includes(s)}function M(te,k){if(te.const)A(te.const,k);else if(te.enum)for(let Qe of te.enum)A(Qe,k);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function A(te,k){if(typeof te!="string"||te in C)throw new Error(`discriminator: "${s}" values must be unique strings`);C[te]=k}}}};Qa.default=h_});var xd=x((B1,__)=>{__.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Ya=x((_e,Pd)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.MissingRefError=_e.ValidationError=_e.CodeGen=_e.Name=_e.nil=_e.stringify=_e.str=_e._=_e.KeywordCxt=void 0;var g_=Su(),y_=$d(),v_=Ed(),Td=xd(),C_=["/properties"],eo="http://json-schema.org/draft-07/schema",to=class extends g_.default{_addVocabularies(){super._addVocabularies(),y_.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(v_.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Td,C_):Td;this.addMetaSchema(e,eo,!1),this.refs["http://json-schema.org/schema"]=eo}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(eo)?eo:void 0)}};Pd.exports=_e=to;Object.defineProperty(_e,"__esModule",{value:!0});_e.default=to;var w_=Di();Object.defineProperty(_e,"KeywordCxt",{enumerable:!0,get:function(){return w_.KeywordCxt}});var ri=W();Object.defineProperty(_e,"_",{enumerable:!0,get:function(){return ri._}});Object.defineProperty(_e,"str",{enumerable:!0,get:function(){return ri.str}});Object.defineProperty(_e,"stringify",{enumerable:!0,get:function(){return ri.stringify}});Object.defineProperty(_e,"nil",{enumerable:!0,get:function(){return ri.nil}});Object.defineProperty(_e,"Name",{enumerable:!0,get:function(){return ri.Name}});Object.defineProperty(_e,"CodeGen",{enumerable:!0,get:function(){return ri.CodeGen}});var b_=Vn();Object.defineProperty(_e,"ValidationError",{enumerable:!0,get:function(){return b_.default}});var $_=Mn();Object.defineProperty(_e,"MissingRefError",{enumerable:!0,get:function(){return $_.default}})});var Vd=x(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.formatNames=Tt.fastFormats=Tt.fullFormats=void 0;function ii(r,e){return{validate:r,compare:e}}Tt.fullFormats={date:ii(Dd,rs),time:ii(Nd,is),"date-time":ii(x_,kd),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:I_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:R_,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:O_,int32:{type:"number",validate:k_},int64:{type:"number",validate:V_},float:{type:"number",validate:Od},double:{type:"number",validate:Od},password:!0,binary:!0};Tt.fastFormats=ge(I({},Tt.fullFormats),{date:ii(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,rs),time:ii(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,is),"date-time":ii(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,kd),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});Tt.formatNames=Object.keys(Tt.fullFormats);function S_(r){return r%4===0&&(r%100!==0||r%400===0)}var z_=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,E_=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Dd(r){let e=z_.exec(r);if(!e)return!1;let t=+e[1],i=+e[2],n=+e[3];return i>=1&&i<=12&&n>=1&&n<=(i===2&&S_(t)?29:E_[i])}function rs(r,e){if(r&&e)return r>e?1:r<e?-1:0}var es=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function Nd(r,e){let t=es.exec(r);if(!t)return!1;let i=+t[1],n=+t[2],o=+t[3],a=t[5];return(i<=23&&n<=59&&o<=59||i===23&&n===59&&o===60)&&(!e||a!=="")}function is(r,e){if(!(r&&e))return;let t=es.exec(r),i=es.exec(e);if(t&&i)return r=t[1]+t[2]+t[3]+(t[4]||""),e=i[1]+i[2]+i[3]+(i[4]||""),r>e?1:r<e?-1:0}var ts=/t|\s/i;function x_(r){let e=r.split(ts);return e.length===2&&Dd(e[0])&&Nd(e[1],!0)}function kd(r,e){if(!(r&&e))return;let[t,i]=r.split(ts),[n,o]=e.split(ts),a=rs(t,n);if(a!==void 0)return a||is(i,o)}var T_=/\/|:/,P_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function I_(r){return T_.test(r)&&P_.test(r)}var Id=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function O_(r){return Id.lastIndex=0,Id.test(r)}var D_=-(2**31),N_=2**31-1;function k_(r){return Number.isInteger(r)&&r<=N_&&r>=D_}function V_(r){return Number.isInteger(r)}function Od(){return!0}var M_=/[^\\]\\Z/;function R_(r){if(M_.test(r))return!1;try{return new RegExp(r),!0}catch{return!1}}});var Md=x(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.formatLimitDefinition=void 0;var F_=Ya(),pt=W(),rr=pt.operators,ro={formatMaximum:{okStr:"<=",ok:rr.LTE,fail:rr.GT},formatMinimum:{okStr:">=",ok:rr.GTE,fail:rr.LT},formatExclusiveMaximum:{okStr:"<",ok:rr.LT,fail:rr.GTE},formatExclusiveMinimum:{okStr:">",ok:rr.GT,fail:rr.LTE}},A_={message:({keyword:r,schemaCode:e})=>pt.str`should be ${ro[r].okStr} ${e}`,params:({keyword:r,schemaCode:e})=>pt._`{comparison: ${ro[r].okStr}, limit: ${e}}`};ni.formatLimitDefinition={keyword:Object.keys(ro),type:"string",schemaType:"string",$data:!0,error:A_,code(r){let{gen:e,data:t,schemaCode:i,keyword:n,it:o}=r,{opts:a,self:s}=o;if(!a.validateFormats)return;let c=new F_.KeywordCxt(o,s.RULES.all.format.definition,"format");c.$data?p():f();function p(){let w=e.scopeValue("formats",{ref:s.formats,code:a.code.formats}),y=e.const("fmt",pt._`${w}[${c.schemaCode}]`);r.fail$data(pt.or(pt._`typeof ${y} != "object"`,pt._`${y} instanceof RegExp`,pt._`typeof ${y}.compare != "function"`,h(y)))}function f(){let w=c.schema,y=s.formats[w];if(!y||y===!0)return;if(typeof y!="object"||y instanceof RegExp||typeof y.compare!="function")throw new Error(`"${n}": format "${w}" does not define "compare" function`);let C=e.scopeValue("formats",{key:w,ref:y,code:a.code.formats?pt._`${a.code.formats}${pt.getProperty(w)}`:void 0});r.fail$data(h(C))}function h(w){return pt._`${w}.compare(${t}, ${i}) ${ro[n].fail} 0`}},dependencies:["format"]};var j_=r=>(r.addKeyword(ni.formatLimitDefinition),r);ni.default=j_});var jd=x((Bi,Ad)=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});var oi=Vd(),q_=Md(),ns=W(),Rd=new ns.Name("fullFormats"),W_=new ns.Name("fastFormats"),os=(r,e={keywords:!0})=>{if(Array.isArray(e))return Fd(r,e,oi.fullFormats,Rd),r;let[t,i]=e.mode==="fast"?[oi.fastFormats,W_]:[oi.fullFormats,Rd],n=e.formats||oi.formatNames;return Fd(r,n,t,i),e.keywords&&q_.default(r),r};os.get=(r,e="full")=>{let i=(e==="fast"?oi.fastFormats:oi.fullFormats)[r];if(!i)throw new Error(`Unknown format "${r}"`);return i};function Fd(r,e,t,i){var n,o;(n=(o=r.opts.code).formats)!==null&&n!==void 0||(o.formats=ns._`require("ajv-formats/dist/formats").${i}`);for(let a of e)r.addFormat(a,t[a])}Ad.exports=Bi=os;Object.defineProperty(Bi,"__esModule",{value:!0});Bi.default=os});var zf={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ingoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function qr(r){return r.merge("sf",zf)}var Ne="/";function vo(r){return r==null}function Re(r,e){return $l(r,e)}function Wr(r,...e){}function Ef(r,e){let t=/^#\/definitions\/(.*)$/.exec(r);if(t&&t[1]){let i=t[1].split(Ne),n=e;for(let o of i)if(o=o.replace(/~1/g,Ne).replace(/~0/g,"~"),n.hasOwnProperty(o))n=n[o];else throw new Error(`Could not find a definition for ${r}.`);return n}throw new Error(`Could not find a definition for ${r}.`)}function Ci(r,e={}){if(r.hasOwnProperty("$ref")){let i=Ef(r.$ref,e),t=r,{$ref:n}=t,o=qs(t,["$ref"]);return Ci(I(I({},i),o),e)}return r}function oc(r,e){let t=(i,n)=>{xf(i,n),Object.keys(i.properties).forEach(o=>{let a=i.properties[o],s=`$${o}`;a.items&&t(a.items,n[s].$items),a.properties&&t(a,n[s])})};t(r,e)}function xf(r,e){if(!(r.hasOwnProperty("if")&&r.hasOwnProperty("then")))return null;if(!r.if.properties)throw new Error("if: does not contain 'properties'");let t=Object.keys(r.properties),i=Object.keys(r.if.properties);yo(t,i),yo(t,r.then.required),r.required=r.required.concat(r.then.required);let n=r.hasOwnProperty("else");n&&(yo(t,r.else.required),r.required=r.required.concat(r.else.required));let o={},a={};return i.forEach(s=>{let c=r.if.properties[s].enum;o[s]=c,n&&(a[s]=p=>!c.includes(p))}),r.then.required.forEach(s=>e[`$${s}`].visibleIf=o),n&&r.else.required.forEach(s=>e[`$${s}`].visibleIf=a),r}function yo(r,e){e.forEach(t=>{if(!r.includes(t))throw new Error(`if: properties does not contain '${t}'`)})}function ac(r,e){if(!Array.isArray(e))return r;let t=f=>f.reduce((h,w)=>(h[w]=!0,h),{}),i=f=>`property [${f.join("', '")}]`,n=t(r),o=t(e),a=e.filter(f=>f!=="*"&&!n[f]);if(a.length)throw new Error(`ui schema order list contains extraneous ${i(a)}`);let s=r.filter(f=>!o[f]),c=e.indexOf("*");if(c===-1){if(s.length)throw new Error(`ui schema order list does not contain ${i(s)}`);return e}if(c!==e.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let p=[...e];return p.splice(c,1,...s),p}function sc(r,e,t){return vo(r)||!Array.isArray(r)||r.length===0?[]:(typeof r[0]!="object"&&(r=r.map(i=>({label:i,value:i}))),e&&(Array.isArray(e)||(e=[e]),r.forEach(i=>{~e.indexOf(i.value)&&(i.checked=!0)})),t&&r.forEach(i=>i.disabled=!0),r)}function Tf(r,e,t){return sc(dr(r||[]),e,t)}function Lr(r,e,t,i){return typeof e.asyncData=="function"?e.asyncData(i).pipe(Vr(n=>sc(n,t,r.readOnly))):Us(Tf(r.enum,t,r.readOnly))}var wi=class{constructor(e,t,i,n,o,a,s,c){this.injector=e,this._options=c,this._errors=null,this._valueChanges=new kr({path:null,pathValue:null,value:null}),this._errorsChanges=new kr(null),this._visible=!0,this._visibilityChanges=new kr(!0),this._objErrors={},this._value=null,this.schema=i,this.ui=n,this.schemaValidator=t.createValidatorFn(i,{ingoreKeywords:this.ui.ingoreKeywords,debug:n.debug}),this.formData=o||i.default,this._parent=a,a?this._root=a.root:this._root=this,this.path=s}get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(e=!1){this.widget?.detectChanges(e)}updateValueAndValidity(e){e=I({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updatePath:"",updateValue:null},e),this._updateValue(),e.emitValueEvent&&(e.updatePath=e.updatePath||this.path,e.updateValue=e.updateValue==null?this.value:e.updateValue,this.valueChanges.next({value:this.value,path:e.updatePath,pathValue:e.updateValue})),e.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!e.onlySelf&&this.parent.updateValueAndValidity(ge(I({},e),{emitValidator:!1}))}searchProperty(e){let t=this,i=null,n=null;if(e[0]===Ne)i=this.findRoot(),n=i.getProperty(e.substring(1));else for(;n===null&&t.parent!==null;)t=i=t.parent,n=i.getProperty(e);return n}findRoot(){let e=this;for(;e.parent!==null;)e=e.parent;return e}isEmptyData(e){if(vo(e))return!0;switch(this.type){case"string":return`${e}`.length===0}return!1}_runValidation(){let e,t=this.isEmptyData(this._value);t&&this.ui._required?e=[{keyword:"required"}]:t?e=[]:e=this.schemaValidator(this._value)||[];let i=this.ui.validator;if(typeof i=="function"){let n=i(this.value,this,this.findRoot());if(n instanceof Ls){n.subscribe(o=>{this.setCustomErrors(e,o),this.cd(!1)});return}this.setCustomErrors(e,n);return}this._errors=e,this.setErrors(this._errors)}setCustomErrors(e,t){let i=Array.isArray(t)&&t.length>0;i&&t.forEach(n=>{if(!n.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");n.keyword=null}),this._errors=i?e.concat(...t):e,this.setErrors(this._errors)}setErrors(e=[],t=!0){let i=Array.isArray(e)?e:[e];if(t&&i&&!this.ui.onlyVisual){let n=this.widget&&this.widget.l.error||{};i=i.map(o=>{let a=o.keyword==null&&o.message?o.message:(this.ui.errors||{})[o.keyword]||this._options.errors[o.keyword]||n[o.keyword]||"";return a&&typeof a=="function"&&(a=a(o)),a&&(~a.indexOf("{")&&o.params&&(a=a.replace(/{([\.a-zA-Z0-9]+)}/g,(s,c)=>o.params[c]||"")),o.message=a),o})}this._errors=i,this._errorsChanges.next(i),this._parent&&this._parent.setParentAndPlatErrors(i,this.path)}setParentAndPlatErrors(e,t){this._objErrors[t]=e;let i=[];Object.keys(this._objErrors).forEach(n=>{let o=this.searchProperty(n);o&&!o.visible||i.push(...this._objErrors[n])}),this.setErrors(i,!1)}setVisible(e){return this._visible=e,this._visibilityChanges.next(e),e&&this.injector.get(Ht).onStable.pipe(Gs(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let e=this.ui.visibleIf;if(typeof e=="object"&&Object.keys(e).length===0)this.setVisible(!1);else if(e!=null){let t=[];for(let i in e)if(e.hasOwnProperty(i)){let n=this.searchProperty(i);if(n){let o=n.valueChanges.pipe(Vr(c=>{let p=e[i];if(typeof p=="function"){let f=p(c.value,n);if(typeof f=="object"){let h=I({show:!1,required:!1},f),w=this.parent?.schema.required;if(w&&this.propertyId){let y=w.findIndex(C=>C===this.propertyId);h.required?y===-1&&w.push(this.propertyId):y!==-1&&w.splice(y,1),this.ui._required=h.required}return h.show}return f}return p.indexOf("$ANY$")!==-1?c.value&&c.value.length>0:p.indexOf(c.value)!==-1})),a=n._visibilityChanges,s=ho([o,a]).pipe(Vr(c=>c[0]&&c[1]));t.push(s)}}ho(t).pipe(Vr(i=>this.ui.visibleIfLogical==="and"?i.every(n=>n):i.some(n=>n)),en()).subscribe(i=>this.setVisible(i))}}updateFeedback(e=""){this.ui.feedback=e,this.widget?.injector.get(Ar).formStatusChanges.next({status:e,hasFeedback:!!e}),this.cd(!0)}},St=class r extends wi{constructor(){super(...arguments),this.properties=null}getProperty(e){let t=e.indexOf(Ne),i=t!==-1?e.substring(0,t):e,n=this.properties[i];if(n!==null&&t!==-1&&n instanceof r){let o=e.substring(t+1);n=n.getProperty(o)}return n}forEachChild(e){for(let t in this.properties)if(this.properties.hasOwnProperty(t)){let i=this.properties[t];e(i,t)}}forEachChildRecursive(e){this.forEachChild(t=>{e(t),t instanceof r&&t.forEachChildRecursive(e)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(e=>{e._bindVisibility()})}isRoot(){return this===this.root}};var Ur=class extends St{get propertiesId(){return this._propertiesId}constructor(e,t,i,n,o,a,s,c,p){super(e,i,n,o,a,s,c,p),this.formPropertyFactory=t,this._propertiesId=[],this.createProperties()}createProperties(){this.properties={},this._propertiesId=[];let e;try{e=ac(Object.keys(this.schema.properties),this.ui.order)}catch(t){console.error(`Invalid ${this.schema.title||"root"} object field configuration:`,t)}e.forEach(t=>{this.properties[t]=this.formPropertyFactory.createProperty(this.schema.properties[t],this.ui[`$${t}`],(this.formData||{})[t],this,t),this._propertiesId.push(t)})}setValue(e,t){let i=this.properties;for(let n in e)e.hasOwnProperty(n)&&i[n]&&i[n].setValue(e[n],!0);this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}resetValue(e,t){e=e||this.schema.default||{};let i=this.properties;for(let n in this.schema.properties)this.schema.properties.hasOwnProperty(n)&&i[n].resetValue(e[n],!0);this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let e={};this.forEachChild((t,i)=>{t.visible&&t._hasValue()&&(e[i]=t.value)}),this._value=e}};var Hr=class extends St{constructor(e,t,i,n,o,a,s,c,p){super(e,i,n,o,a,s,c,p),this.formPropertyFactory=t,this.properties=[]}getProperty(e){let t=e.indexOf(Ne),i=+(t!==-1?e.substring(0,t):e),n=this.properties;if(isNaN(i)||i>=n.length)return;let o=e.substring(t+1);return n[i].getProperty(o)}setValue(e,t){this.properties=[],this.clearErrors(),this.resetProperties(e),this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}resetValue(e,t){this._value=e||this.schema.default||[],this.setValue(this._value,t)}_hasValue(){return!0}_updateValue(){let e=[];this.forEachChild(t=>{t.visible&&e.push(I(I({},this.widget?.cleanValue?null:t.formData),t.value))}),this._value=e}addProperty(e){let t=this.formPropertyFactory.createProperty(dr(this.schema.items),dr(this.ui.$items),e,this);return this.properties.push(t),t}resetProperties(e){for(let t of e)this.addProperty(t).resetValue(t,!0)}clearErrors(e){(e||this)._objErrors={}}add(e){let t=this.addProperty(e);return t.resetValue(e,!1),t}remove(e){let t=this.properties;this.clearErrors(),t.splice(e,1),t.forEach((i,n)=>{i.path=[i.parent.path,n].join(Ne),this.clearErrors(i),i instanceof Ur&&i.forEachChild(o=>{o.updateValueAndValidity()})}),t.length===0&&this.updateValueAndValidity()}};var Kt=class extends wi{setValue(e,t){this._value=e,this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}resetValue(e,t){e==null&&(e=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=e,this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0}),this.widget&&(this.widget.reset(e),this.cd(t))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}};var vn=class extends Kt{fallbackValue(){return null}};var Cn=class extends Kt{fallbackValue(){return null}setValue(e,t){typeof e=="string"&&(e.length?e=e.indexOf(".")>-1?parseFloat(e):parseInt(e,10):e=void 0),this._value=e,this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}};var wn=class extends Kt{fallbackValue(){return null}setValue(e,t){this._value=e??"",this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}};var fr=class{constructor(e,t,i){this.injector=e,this.schemaValidatorFactory=t,this.options=qr(i)}createProperty(e,t,i,n=null,o){let a=null,s="";if(n)switch(s+=n.path,n.parent!==null&&(s+=Ne),n.type){case"object":s+=o;break;case"array":s+=n.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${n.type}`)}else s=Ne;if(e.$ref){let c=Ci(e,n.root.schema.definitions);a=this.createProperty(c,t,i,n,s)}else switch((o&&n.schema.required.indexOf(o.split(Ne).pop())!==-1||t.showRequired===!0)&&(t._required=!0),e.title==null&&(e.title=o),(e.type==="string"||e.type==="number")&&!e.format&&!t.format?t.widget==="date"?t._format=e.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:t.widget==="time"&&(t._format=e.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):t._format=t.format,e.type){case"integer":case"number":a=new Cn(this.injector,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"string":a=new wn(this.injector,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"boolean":a=new vn(this.injector,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"object":a=new Ur(this.injector,this,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"array":a=new Hr(this.injector,this,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;default:throw new TypeError(`Undefined type ${e.type}`)}return a.propertyId=o,a instanceof St&&this.initializeRoot(a),a}initializeRoot(e){e._bindVisibility()}};var Gt=class{constructor(){this.onDestroy=new Nr}destroy(){this.onDestroy.next(!0)}};var qd=Ws(Ya()),Wd=Ws(jd());var wr=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=yi({token:e,factory:e.\u0275fac});let r=e;return r})(),io=(()=>{let e=class e extends wr{constructor(i,n){if(super(),this.ngZone=n,!(typeof document=="object"&&document))return;this.options=qr(i);let o=this.options.ajv||{};this.ngZone.runOutsideAngular(()=>{this.ajv=new qd.default(ge(I({allErrors:!0,loopEnum:50},o),{formats:I({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:_n.color,mobile:_n.mobile,"id-card":_n.idCard},o.formats)})),(0,Wd.default)(this.ajv)})}createValidatorFn(i,n){let o=[...this.options.ingoreKeywords,...n.ingoreKeywords||[]];return a=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(i,a))}catch{}let s=this.ajv.errors;return this.options&&o&&s&&(s=s.filter(c=>o.indexOf(c.keyword)===-1)),s}}};e.\u0275fac=function(n){return new(n||e)(vi(Ct),vi(Ht))},e.\u0275prov=yi({token:e,factory:e.\u0275fac});let r=e;return r})();var Pt=class{constructor(){this._widgets={}}get widgets(){return this._widgets}setDefault(e){this.defaultWidget=e}register(e,t){this._widgets[e]=t}has(e){return this._widgets.hasOwnProperty(e)}getType(e){return this.has(e)?this._widgets[e]:this.defaultWidget}},no=(()=>{let e=class e{constructor(i){this.registry=i}createWidget(i,n){this.registry.has(n);let o=this.registry.getType(n);return i.createComponent(o)}};e.\u0275fac=function(n){return new(n||e)(vi(Pt))},e.\u0275prov=yi({token:e,factory:e.\u0275fac});let r=e;return r})();var U_=["target"];function H_(r,e){}function B_(r,e){r&1&&il(0)}var K_=0,qt=(()=>{let e=class e{constructor(i,n){this.widgetFactory=i,this.terminator=n,this.destroy$=new Nr,this.widget=null,this.footer=null}onWidgetInstanciated(i){this.widget=i;let n=`_sf-${K_++}`,o=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=o,this.widget.id=n,this.formProperty.widget=i}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let i=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,i.ui.widget||i.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:i}=this;i.next(),i.complete(),this.ref.destroy()}};e.\u0275fac=function(n){return new(n||e)(ce(no),ce(Gt))},e.\u0275cmp=ee({type:e,selectors:[["sf-item"]],viewQuery:function(n,o){if(n&1&&ll(U_,7,rl),n&2){let a;sl(a=cl())&&(o.container=a.first)}},hostVars:2,hostBindings:function(n,o){n&2&&ze("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],features:[cn([Ar]),Ut],decls:3,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(n,o){n&1&&O(0,H_,0,0,"ng-template",null,0,Ue)(2,B_,1,0,"ng-container",1),n&2&&(S(2),$("ngTemplateOutlet",o.footer))},dependencies:[He],encapsulation:2});let r=e;return r})();var ai=class ai{init(){if(!this._inited||this.num==null||this.num<=0)return;let e=this.el.nativeElement,t=e.querySelector(".ant-row")||e;this.render.addClass(t,"sf__fixed");let i=t.querySelector(".ant-form-item-label"),n=t.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),o=`${this.num}px`;i?(this.render.setStyle(i,"flex",`0 0 ${o}`),this.render.setStyle(n,"max-width",`calc(100% - ${o})`)):this.render.setStyle(n,"margin-left",o)}constructor(e,t){this.el=e,this.render=t,this._inited=!1}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}};ai.\u0275fac=function(t){return new(t||ai)(ce(nn),ce(el))},ai.\u0275dir=Mt({type:ai,selectors:[["","fixed-label",""]],inputs:{num:["fixed-label","num"]},features:[Ut]});var nr=ai;rt([Sl()],nr.prototype,"num",void 0);function X_(r,e){r&1&&ln(0)}function Z_(r,e){if(r&1&&re(0,"i",10),r&2){let t=v(5);$("nzType",t._btn.submit_icon.type)("nzTheme",t._btn.submit_icon.theme)("nzTwotoneColor",t._btn.submit_icon.twoToneColor)("nzIconfont",t._btn.submit_icon.iconfont)}}function Q_(r,e){if(r&1&&re(0,"i",10),r&2){let t=v(6);$("nzType",t._btn.reset_icon.type)("nzTheme",t._btn.reset_icon.theme)("nzTwotoneColor",t._btn.reset_icon.twoToneColor)("nzIconfont",t._btn.reset_icon.iconfont)}}function Y_(r,e){if(r&1){let t=he();T(0,"button",12),Q("click",function(){R(t);let n=v(5);return F(n.reset(!0))}),O(1,Q_,1,4,"i",10),ue(2),P()}if(r&2){let t=v(5);$("nzType",t._btn.reset_type)("nzSize",t._btn.render.size)("disabled",t.loading),S(1),N(1,t._btn.reset_icon?1:-1),S(1),Se(" ",t._btn.reset," ")}}function eg(r,e){if(r&1&&(T(0,"button",9),O(1,Z_,1,4,"i",10),ue(2),P(),O(3,Y_,3,5,"button",11)),r&2){let t=v(4);$("nzType",t._btn.submit_type)("nzSize",t._btn.render.size)("nzLoading",t.loading)("disabled",t.liveValidate&&!t.valid),S(1),N(1,t._btn.submit_icon?1:-1),S(1),Se(" ",t._btn.submit," "),S(1),N(3,t._btn.reset?3:-1)}}function tg(r,e){}function rg(r,e){if(r&1&&O(0,tg,0,0,"ng-template",13),r&2){v(4);let t=Ie(1);$("ngTemplateOutlet",t)}}function ig(r,e){if(r&1&&(T(0,"nz-form-item",5)(1,"div",6)(2,"div",7)(3,"div",8),O(4,eg,4,7)(5,rg,1,1),P()()()()),r&2){let t=v(3);$("ngClass",t._btn.render.class)("fixed-label",t._btn.render.spanLabelFixed),S(1),$("nzSpan",t.btnGrid.span)("nzOffset",t.btnGrid.offset)("nzXs",t.btnGrid.xs)("nzSm",t.btnGrid.sm)("nzMd",t.btnGrid.md)("nzLg",t.btnGrid.lg)("nzXl",t.btnGrid.xl)("nzXXl",t.btnGrid.xxl),S(3),N(4,t.button?4:5)}}function ng(r,e){if(r&1&&O(0,ig,6,11,"nz-form-item",4),r&2){let t=v(2);N(0,t._btn&&t._btn.render?0:-1)}}function og(r,e){}function ag(r,e){if(r&1&&O(0,og,0,0,"ng-template",13),r&2){v(2);let t=Ie(1);$("ngTemplateOutlet",t)}}function sg(r,e){if(r&1&&O(0,ng,1,1)(1,ag,1,1),r&2){let t=v();N(0,t.button!=="none"?0:1)}}function lg(r,e){if(r&1&&re(0,"sf-item",3),r&2){let t=v(),i=Ie(3);$("formProperty",t.rootProperty)("footer",i)}}var cg=["*"];function ug(r,e,t){return new fr(r,e,t)}var si=class si{get btnGrid(){return this._btn.render.grid}set mode(e){switch(e){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=e}get mode(){return this._mode}get valid(){return this._valid}get value(){return this._item}getProperty(e){return this.rootProperty?.searchProperty(e)}getValue(e){return this.getProperty(e)?.value}setValue(e,t){let i=this.getProperty(e);if(!i)throw new Error(`Invalid path: ${e}`);return i.resetValue(t,!1),this}updateFeedback(e,t=""){return this.getProperty(e)?.updateFeedback(t),this}onSubmit(e){e.preventDefault(),e.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(e,t,i,n,o,a,s,c,p){this.formPropertyFactory=e,this.terminator=t,this.dom=i,this.cdr=n,this.localeSrv=o,this.aclSrv=a,this.i18nSrv=s,this.platform=p,this._renders=new Map,this._valid=!0,this._inited=!1,this.locale={},this.rootProperty=null,this.layout="horizontal",this.button={},this.liveValidate=!0,this.firstVisual=!0,this.onlyVisual=!1,this.compact=!1,this.loading=!1,this.disabled=!1,this.noColon=!1,this.cleanValue=!1,this.delay=!1,this.formValueChange=new Mr,this.formChange=new Mr,this.formSubmit=new Mr,this.formReset=new Mr,this.formError=new Mr,this.options=qr(c),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(go()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())});let f=[this.aclSrv?this.aclSrv.change:null,this.i18nSrv?this.i18nSrv.change:null].filter(h=>h!=null);f.length>0&&Hs(...f).pipe(Bs(()=>this._inited),go()).subscribe(()=>this.refreshSchema())}fanyi(e){return(this.i18nSrv?this.i18nSrv.fanyi(e):"")||e}inheritUI(e){["optionalHelp"].filter(t=>!!this._defUi[t]).forEach(t=>e[t]=I(I({},this._defUi[t]),e[t]))}coverProperty(){let e=this.layout==="horizontal",t=dr(this.schema),{definitions:i}=t,n=(o,a,s,c,p)=>{Array.isArray(o.required)||(o.required=[]),Object.keys(o.properties).forEach(f=>{let h="$",w=h+f,y=Ci(o.properties[f],i),C=I(I({},y.ui),s[w]),m=I(I(I(I(ge(I(I({},this._defUi),c),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:y.type}),y.format&&this.options.formatMap[y.format]),typeof y.ui=="string"?{widget:y.ui}:null),!y.format&&!y.ui&&Array.isArray(y.enum)&&y.enum.length>0?{widget:"select"}:null),C);if(Object.keys(m).filter(b=>b.startsWith(h)).forEach(b=>delete m[b]),e?c.spanLabelFixed?C.spanLabelFixed||(m.spanLabelFixed=c.spanLabelFixed):(m.spanLabel||(m.spanLabel=typeof c.spanLabel>"u"?5:c.spanLabel),m.spanControl||(m.spanControl=typeof c.spanControl>"u"?19:c.spanControl),m.offsetControl||(m.offsetControl=typeof c.offsetControl>"u"?null:c.offsetControl)):(m.spanLabel=null,m.spanControl=null,m.offsetControl=null),this.layout==="inline"&&delete m.grid,this.layout!=="horizontal"&&(m.spanLabelFixed=null),m.spanLabelFixed!=null&&m.spanLabelFixed>0&&(m.spanLabel=null,m.spanControl=null),m.widget==="date"&&m.end!=null){let b=o.properties[m.end];b?b.ui=ge(I({},b.ui),{widget:m.widget,hidden:!0}):m.end=null}if(this.inheritUI(m),m.optionalHelp){typeof m.optionalHelp=="string"&&(m.optionalHelp={text:m.optionalHelp});let b=m.optionalHelp=I({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},m.optionalHelp);b.i18n&&(b.text=this.fanyi(b.i18n)),b.text||(m.optionalHelp=void 0)}if(m.i18n&&(y.title=this.fanyi(m.i18n)),m.descriptionI18n&&(y.description=this.fanyi(m.descriptionI18n)),y.description&&(m._description=this.dom.bypassSecurityTrustHtml(y.description)),m.hidden=typeof m.hidden=="boolean"?m.hidden:!1,m.hidden===!1&&m.acl&&this.aclSrv&&!this.aclSrv.can(m.acl)&&(m.hidden=!0),p[w]=m,delete y.ui,m.hidden===!0){let b=o.required.indexOf(f);b!==-1&&o.required.splice(b,1)}y.items&&(m.$items=I(I(I({},y.items.ui),s[w]),m.$items),n(y.items,y.items,s[w]?.$items??{},m.$items,m.$items)),y.properties&&Object.keys(y.properties).length&&n(y,o,s[w]||{},m,m)})};this.ui==null&&(this.ui={}),this._defUi=I(I(I({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),t.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=I({},this._defUi),n(t,t,this.ui,this.ui,this._ui),oc(t,this._ui),this._schema=t,delete t.ui,Wr(this._ui,"cover schema & ui",this._ui,t)}coverButtonProperty(){this._btn=I(I(I({render:{size:"default"}},this.locale),this.options.button),this.button);let e=Object.keys(this._ui).find(i=>i.startsWith("$")),t=this._btn.render;if(this.layout==="horizontal"){let i=e?this._ui[e]:this._defUi;t.grid||(t.grid={offset:i.spanLabel,span:i.spanControl}),t.spanLabelFixed==null&&(t.spanLabelFixed=i.spanLabelFixed),!t.class&&typeof i.spanLabelFixed=="number"&&i.spanLabelFixed>0&&(t.class="text-center")}else t.grid={};this._mode&&(this.mode=this._mode),Wr(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(e){if(!this.platform.isBrowser)return;let t=["disabled","loading"];if(Object.keys(e).every(i=>t.includes(i))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(e,t){this._inited&&(this._renders.has(e)||(this._renders.set(e,t),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((e,t)=>{let i=this.rootProperty?.searchProperty(t);i!=null&&(i.ui._render=e)})}validator(e={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let t=n=>{n._runValidation(),!(!(n instanceof St)||!n.properties)&&(Array.isArray(n.properties)?n.properties.forEach(o=>t(o)):Object.keys(n.properties).forEach(o=>t(n.properties[o])))};e.onlyRoot?this.rootProperty._runValidation():t(this.rootProperty);let i=this.rootProperty.errors;return this._valid=!(i&&i.length),e.emitError&&!this._valid&&this.formError.emit(i),this.cdr.detectChanges(),this._valid}refreshSchema(e,t){if(!this.platform.isBrowser)return this;if(e&&(this.schema=e),t&&(this.ui=t),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=I({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let i=!0;return this.rootProperty.valueChanges.subscribe(n=>{if(this._item=I(I({},this.cleanValue?null:this.formData),n.value),i){i=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:n.path,pathValue:n.pathValue})}),this.rootProperty.errorsChanges.subscribe(n=>{this._valid=!(n&&n.length),this.formError.emit(n),this.cdr.detectChanges()}),this}reset(e=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),e&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}};si.\u0275fac=function(t){return new(t||si)(ce(fr),ce(Gt),ce(un),ce(on),ce(gl),ce(fl,8),ce(dl,8),ce(Ct),ce(pl))},si.\u0275cmp=ee({type:si,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(t,i){t&2&&ze("sf",!0)("sf__inline",i.layout==="inline")("sf__horizontal",i.layout==="horizontal")("sf__search",i.mode==="search")("sf__edit",i.mode==="edit")("sf__no-error",i.onlyVisual)("sf__no-colon",i.noColon)("sf__compact",i.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:"liveValidate",autocomplete:"autocomplete",firstVisual:"firstVisual",onlyVisual:"onlyVisual",compact:"compact",mode:"mode",loading:"loading",disabled:"disabled",noColon:"noColon",cleanValue:"cleanValue",delay:"delay"},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],features:[cn([no,{provide:fr,useFactory:ug,deps:[rn,wr,Ct]},Gt]),Ut],ngContentSelectors:cg,decls:6,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"nzLayout","submit"],[3,"formProperty","footer"],["class","sf-btns",3,"ngClass","fixed-label"],[1,"sf-btns",3,"ngClass","fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],["nz-icon","",3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled","click"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(sn(),O(0,X_,1,0,"ng-template",null,0,Ue)(2,sg,2,1,"ng-template",null,1,Ue),T(4,"form",2),Q("submit",function(o){return i.onSubmit(o)}),O(5,lg,1,2,"sf-item",3),P()),t&2&&(S(4),$("nzLayout",i.layout),it("autocomplete",i.autocomplete),S(1),N(5,i.rootProperty?5:-1))},dependencies:[Fr,He,wl,vl,Cl,pn,Be,fn,$t,bt,Yl,jr,nt,qt,nr],encapsulation:2,changeDetection:0});var Me=si;rt([wt()],Me.prototype,"liveValidate",void 0);rt([wt()],Me.prototype,"firstVisual",void 0);rt([wt()],Me.prototype,"onlyVisual",void 0);rt([wt()],Me.prototype,"compact",void 0);rt([wt()],Me.prototype,"loading",void 0);rt([wt()],Me.prototype,"disabled",void 0);rt([wt()],Me.prototype,"noColon",void 0);rt([wt()],Me.prototype,"cleanValue",void 0);rt([wt()],Me.prototype,"delay",void 0);function fg(r,e){if(r&1&&re(0,"i",11),r&2){let t=v(4);$("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipColor",t.oh.bgColor)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function pg(r,e){if(r&1&&(T(0,"span",10),ue(1),O(2,fg,1,9,"i",11),P()),r&2){let t=v(3);S(1),Se(" ",t.ui.optional," "),S(1),N(2,t.oh?2:-1)}}function mg(r,e){if(r&1&&(T(0,"label")(1,"span",8),ue(2),P(),O(3,pg,3,2,"span",9),P()),r&2){let t=v(2);ze("ant-form-item-required",t.ui._required),it("for",t.id),S(2),Rr(t.t),S(1),N(3,t.ui.optional||t.oh?3:-1)}}function hg(r,e){if(r&1&&(T(0,"div",6),O(1,mg,4,5,"label",7),P()),r&2){let t=v();$("nzSpan",t.ui.spanLabel),S(1),N(1,t.t?1:-1)}}function _g(r,e){if(r&1&&(T(0,"div",12)(1,"div",13),ue(2),P()()),r&2){let t=v();$("@helpMotion",void 0),S(2),Se(" ",t.error," ")}}function gg(r,e){if(r&1&&re(0,"div",14),r&2){let t=v();$("innerHTML",t.ui._description,vt)}}var yg=["*"],ve=(()=>{let e=class e{set showTitle(i){this._showTitle=!!i}get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}constructor(i){this.statusSrv=i,this._showTitle=!1,this.title=null}ngOnChanges(){let i=!!this.error;this.statusSrv.formStatusChanges.next({status:i?"error":"",hasFeedback:!!this.ui.feedback})}};e.\u0275fac=function(n){return new(n||e)(ce(Ar))},e.\u0275cmp=ee({type:e,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},features:[Ut],ngContentSelectors:yg,decls:8,vars:21,consts:[["nz-col","","class","ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["class","ant-form-item-explain ant-form-item-explain-connected"],["class","ant-form-item-extra",3,"innerHTML"],["nz-col","",1,"ant-form-item-label",3,"nzSpan"],[3,"ant-form-item-required"],[1,"sf__label-text"],["class","sf__optional"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],["role","alert",1,"ant-form-item-explain-error"],[1,"ant-form-item-extra",3,"innerHTML"]],template:function(n,o){n&1&&(sn(),T(0,"nz-form-item"),O(1,hg,2,2,"div",0),T(2,"div",1)(3,"div",2)(4,"div",3),ln(5),P()(),O(6,_g,3,2,"div",4)(7,gg,1,1,"div",5),P()()),n&2&&(an("width",o.ui.width,"px"),ze("ant-form-item-has-error",o.showError)("ant-form-item-with-help",o.showError)("ant-form-item-has-success",o.ui.feedback==="success")("ant-form-item-has-warning",o.ui.feedback==="warning")("ant-form-item-has-error",o.ui.feedback==="error")("ant-form-item-is-validating",o.ui.feedback==="validating")("ant-form-item-has-feedback",o.ui.feedback),S(1),N(1,o._showTitle?1:-1),S(1),$("nzSpan",o.ui.spanControl)("nzOffset",o.ui.offsetControl),S(4),N(6,!o.ui.onlyVisual&&o.showError?6:-1),S(1),N(7,o.schema.description?7:-1))},dependencies:[Be,$t,bt,jr,nt,Bt],encapsulation:2,data:{animation:[zl]}});let r=e;return r})();var vg=(()=>{let e=class e{constructor(i,n){this.templateRef=i,this.table=n}ngOnInit(){this.table._addTpl(this.path.startsWith(Ne)?this.path:Ne+this.path,this.templateRef)}};e.\u0275fac=function(n){return new(n||e)(ce(al),ce(Me))},e.\u0275dir=Mt({type:e,selectors:[["","sf-template",""]],inputs:{path:["sf-template","path"]}});let r=e;return r})();var ls=(()=>{let e=class e{get cls(){return this.ui.class||""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(un)}get cleanValue(){return this.sfComp?.cleanValue}constructor(i,n,o,a){this.cd=i,this.injector=n,this.sfItemComp=o,this.sfComp=a,this.showError=!1,this.id=""}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(Lt(this.sfItemComp.destroy$)).subscribe(i=>{if(i==null)return;Wr(this.ui,"errorsChanges",this.formProperty.path,i);let n=this.sfComp?.firstVisual;(n||!n&&this.sfComp?._inited)&&(this.showError=i.length>0,this.error=this.showError?i[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(i){this.formProperty.setValue(i,!1),Wr(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(i=!1){i?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}};e.\u0275fac=function(n){return new(n||e)(ce(on),ce(rn),ce(qt),ce(Me))},e.\u0275dir=Mt({type:e,hostVars:2,hostBindings:function(n,o){n&2&&tl(o.cls)}});let r=e;return r})();var $e=(()=>{let e=class e extends ls{reset(i){}afterViewInit(){}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275dir=Mt({type:e,features:[oe]});let r=e;return r})(),Hd=(()=>{let e=class e extends ls{reset(i){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(Lt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275dir=Mt({type:e,features:[oe]});let r=e;return r})(),Bd=(()=>{let e=class e extends ls{reset(i){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(Lt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275dir=Mt({type:e,features:[oe]});let r=e;return r})();function wg(r,e){if(r&1&&re(0,"i",8),r&2){let t=v(2);$("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function bg(r,e){if(r&1){let t=he();T(0,"div",6)(1,"label"),ue(2),T(3,"span",7),ue(4),O(5,wg,1,8,"i",8),P()(),T(6,"div",9)(7,"button",10),Q("click",function(){R(t);let n=v();return F(n.addItem())}),P()()()}if(r&2){let t=v();$("nzSpan",t.ui.spanLabel),S(1),ze("ant-form-item-required",t.ui.required),S(1),Se(" ",t.schema.title," "),S(2),Se(" ",t.ui.optional," "),S(1),N(5,t.oh?5:-1),S(2),$("nzType",t.addType)("disabled",t.addDisabled)("innerHTML",t.addTitle,vt)}}function $g(r,e){if(r&1){let t=he();T(0,"span",15),Q("click",function(){R(t);let n=v(2).$index,o=v();return F(o.removeItem(n))}),re(1,"i",16),P()}if(r&2){let t=v(3);it("title",t.removeTitle)}}function Sg(r,e){if(r&1&&(T(0,"div",12)(1,"nz-card"),re(2,"sf-item",13),O(3,$g,2,1,"span",14),P()()),r&2){let t=v(),i=t.$index,n=t.$implicit,o=v();$("nzSpan",o.arraySpan),it("data-index",i),S(2),$("formProperty",n),S(1),N(3,o.showRemove?3:-1)}}function zg(r,e){if(r&1&&O(0,Sg,4,4,"div",11),r&2){let t=e.$implicit;N(0,t.visible&&!t.ui.hidden?0:-1)}}function Eg(r,e){if(r&1&&(T(0,"div",17),ue(1),P()),r&2){let t=v();S(1),Rr(t.error)}}function xg(r,e){if(r&1&&re(0,"div",18),r&2){let t=v();$("innerHTML",t.ui._description,vt)}}var cs=(()=>{let e=class e extends Hd{constructor(){super(...arguments),this.arraySpan=8}get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:i,addTitle:n,addType:o,removable:a,removeTitle:s}=this.ui;i&&i.arraySpan&&(this.arraySpan=i.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(n||this.l.addText),this.addType=o||"dashed",this.removeTitle=a===!1?null:s||this.l.removeText}reValid(){this.formProperty.updateValueAndValidity({onlySelf:!1,emitValueEvent:!1,emitValidator:!0})}addItem(){let i=this.formProperty.add({});this.reValid(),this.ui.add&&this.ui.add(i)}removeItem(i){this.formProperty.remove(i),this.reValid(),this.ui.remove&&this.ui.remove(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275cmp=ee({type:e,selectors:[["sf-array"]],hostVars:2,hostBindings:function(n,o){n&2&&ze("sf__array",!0)},features:[oe],decls:9,vars:9,consts:[["nz-col","","class","ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],["class","ant-form-explain"],["class","ant-form-extra",3,"innerHTML"],["nz-col","",1,"ant-form-item-label",3,"nzSpan"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__array-add"],["type","button","nz-button","",3,"nzType","disabled","innerHTML","click"],["nz-col","","class","sf__array-item",3,"nzSpan"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],["class","sf__array-remove"],[1,"sf__array-remove",3,"click"],["nz-icon","","nzType","delete"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"]],template:function(n,o){n&1&&(T(0,"nz-form-item"),O(1,bg,8,9,"div",0),T(2,"div",1)(3,"div",2)(4,"div",3),We(5,zg,1,1,null,null,qe),P(),O(7,Eg,2,1,"div",4)(8,xg,1,1,"div",5),P()()()),n&2&&(ze("ant-form-item-with-help",o.showError),S(1),N(1,o.schema.title?1:-1),S(1),$("nzSpan",o.ui.spanControl)("nzOffset",o.ui.offsetControl),S(1),ze("has-error",o.showError),Le(5,o.formProperty.properties),S(4),N(7,!o.ui.onlyVisual&&o.showError?7:-1),S(1),N(8,o.schema.description?8:-1))},dependencies:[pn,Be,fn,yn,$t,bt,jr,nt,Bt,qt],encapsulation:2});let r=e;return r})();var us=(()=>{let e=class e extends $e{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275cmp=ee({type:e,selectors:[["sf-boolean"]],features:[oe],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading","ngModelChange"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0)(1,"nz-switch",1),Q("ngModelChange",function(s){return o.setValue(s)}),P()()),n&2&&($("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(1),$("ngModel",o.value)("nzDisabled",o.disabled)("nzSize",o.ui.size)("nzCheckedChildren",o.ui.checkedChildren)("nzUnCheckedChildren",o.ui.unCheckedChildren)("nzLoading",o.ui.loading))},dependencies:[Oe,De,rc,ve],encapsulation:2});let r=e;return r})();function Tg(r,e){if(r&1){let t=he();T(0,"label",3),Q("ngModelChange",function(n){R(t);let o=v(2);return F(o.allChecked=n)})("ngModelChange",function(){R(t);let n=v(2);return F(n.onAllChecked())}),ue(1),P()}if(r&2){let t=v(2);$("ngModel",t.allChecked)("nzIndeterminate",t.indeterminate),S(1),Se(" ",t.ui.checkAllText||t.l.checkAllText," ")}}function Pg(r,e){if(r&1&&O(0,Tg,2,3,"label",2),r&2){let t=v();N(0,t.ui.checkAll?0:-1)}}function Ig(r,e){if(r&1&&re(0,"i",7),r&2){let t=v(3);$("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function Og(r,e){if(r&1){let t=he();T(0,"label",5),Q("ngModelChange",function(n){R(t);let o=v(2);return F(o._setValue(n))}),ue(1),T(2,"span",6),ue(3),O(4,Ig,1,8,"i",7),P()()}if(r&2){let t=v(2);$("nzDisabled",t.disabled)("ngModel",t.value),S(1),Se(" ",t.schema.title," "),S(2),Se(" ",t.ui.optional," "),S(1),N(4,t.oh?4:-1)}}function Dg(r,e){}function Ng(r,e){if(r&1){let t=he();O(0,Dg,0,0,"ng-template",8),T(1,"nz-checkbox-group",9),Q("ngModelChange",function(){R(t);let n=v(3);return F(n.notifySet())}),P()}if(r&2){let t=v(3),i=Ie(1);$("ngTemplateOutlet",i),S(1),$("ngModel",t.data)}}function kg(r,e){}function Vg(r,e){if(r&1&&(T(0,"div",12),O(1,kg,0,0,"ng-template",8),P()),r&2){let t=v(4),i=Ie(1);$("nzSpan",t.grid_span),S(1),$("ngTemplateOutlet",i)}}function Mg(r,e){if(r&1&&(T(0,"div",12)(1,"label",13),ue(2),P()()),r&2){let t=e.$implicit,i=v(4);$("nzSpan",i.grid_span),S(1),$("nzValue",t.value)("ngModel",t.checked)("nzDisabled",t.disabled),S(1),Se(" ",t.label," ")}}function Rg(r,e){if(r&1){let t=he();T(0,"nz-checkbox-wrapper",10),Q("nzOnChange",function(n){R(t);let o=v(3);return F(o.groupInGridChange(n))}),T(1,"div",11),O(2,Vg,2,2,"div",12),We(3,Mg,3,5,"div",12,qe),P()()}if(r&2){let t=v(3);S(2),N(2,t.ui.checkAll?2:-1),Le(3,t.data)}}function Fg(r,e){if(r&1&&O(0,Ng,2,2)(1,Rg,5,1),r&2){let t=v(2);N(0,t.grid_span===0?0:1)}}function Ag(r,e){if(r&1&&O(0,Og,5,5,"label",4)(1,Fg,2,1),r&2){let t=v();N(0,t.data.length===0?0:1)}}var ds=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.data=[],this.allChecked=!1,this.indeterminate=!1,this.labelTitle="",this.inited=!1}reset(i){this.inited=!1,Lr(this.schema,this.ui,i).subscribe(n=>{this.data=n,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=n.length===0?"":this.schema.title;let{span:o}=this.ui;this.grid_span=o&&o>0?o:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(i){this.setValue(i),this.detectChanges(),this.notifyChange(i)}notifySet(){let i=this.data.filter(n=>n.checked);this.updateAllChecked().setValue(i.map(n=>n.value)),this.notifyChange(i)}groupInGridChange(i){this.data.forEach(n=>n.checked=i.indexOf(n.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(i=>i.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(i=>i.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(i=>i.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(i){this.ui.change&&this.ui.change(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275cmp=ee({type:e,selectors:[["sf-checkbox"]],features:[oe],decls:4,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","","class","sf__checkbox-all mr-sm",3,"ngModel","nzIndeterminate"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModel","nzIndeterminate","ngModelChange"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-checkbox","",3,"nzDisabled","ngModel","ngModelChange"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[3,"ngTemplateOutlet"],[3,"ngModel","ngModelChange"],[1,"sf__checkbox-list",3,"nzOnChange"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(n,o){n&1&&(O(0,Pg,1,1,"ng-template",null,0,Ue),T(2,"sf-item-wrap",1),O(3,Ag,2,1),P()),n&2&&(S(2),$("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",!0)("title",o.labelTitle),S(1),N(3,o.inited?3:-1))},dependencies:[He,Oe,De,Be,xl,Tl,El,$t,bt,nt,Bt,ve],encapsulation:2});let r=e;return r})();function jg(r,e){}var qg=(r,e,t)=>({$implicit:r,schema:e,ui:t}),fs=(()=>{let e=class e extends $e{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275cmp=ee({type:e,selectors:[["sf-custom"]],features:[oe],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0),O(1,jg,0,0,"ng-template",1),P()),n&2&&($("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(1),$("ngTemplateOutlet",o.ui._render)("ngTemplateOutletContext",ol(8,qg,o,o.schema,o.ui)))},dependencies:[He,ve],encapsulation:2});let r=e;return r})();function Wg(r,e){if(r&1){let t=he();T(0,"nz-year-picker",1),Q("ngModelChange",function(n){R(t);let o=v();return F(o.displayValue=n)})("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))}),P()}if(r&2){let t=v();$("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function Lg(r,e){if(r&1){let t=he();T(0,"nz-month-picker",1),Q("ngModelChange",function(n){R(t);let o=v();return F(o.displayValue=n)})("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))}),P()}if(r&2){let t=v();$("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function Ug(r,e){if(r&1){let t=he();T(0,"nz-week-picker",2),Q("ngModelChange",function(n){R(t);let o=v();return F(o.displayValue=n)})("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))}),P()}if(r&2){let t=v();$("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function Hg(r,e){if(r&1){let t=he();T(0,"nz-range-picker",3),Q("ngModelChange",function(n){R(t);let o=v();return F(o.displayValue=n)})("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))})("nzOnOk",function(n){R(t);let o=v();return F(o._ok(n))}),P()}if(r&2){let t=v();$("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzDisabledTime",t.ui.disabledTime)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzRanges",t.ui.ranges)("nzShowTime",t.ui.showTime)("nzSeparator",t.ui.separator)("nzShowWeekNumber",t.ui.showWeekNumber||!1)("nzMode",t.ui.rangeMode)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function Bg(r,e){if(r&1){let t=he();T(0,"nz-date-picker",4),Q("ngModelChange",function(n){R(t);let o=v();return F(o.displayValue=n)})("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))})("nzOnOk",function(n){R(t);let o=v();return F(o._ok(n))}),P()}if(r&2){let t=v();$("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzDisabledTime",t.ui.disabledTime)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzShowTime",t.ui.showTime)("nzShowToday",t.i.showToday)("nzShowWeekNumber",t.ui.showWeekNumber||!1)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}var ps=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.flatRange=!1,this.displayValue=null}ngOnInit(){let{mode:i,end:n,displayFormat:o,allowClear:a,showToday:s}=this.ui;if(this.mode=i||"date",this.flatRange=n!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let c=this.endProperty.ui;this.endFormat=c.format?c._format:this.startFormat}if(o)this.displayFormat=o;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:Re(a,!0),showToday:Re(s,!0)}}reset(i){let n={formatString:this.startFormat,defaultValue:null};if(Array.isArray(i)?i=i.map(o=>mn(o,n)):i=mn(i,n),this.flatRange){let o=mn(this.endProperty.formData,{formatString:this.endFormat||this.startFormat,defaultValue:null});this.displayValue=i==null||o==null?[]:[i,o]}else this.displayValue=i;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(i,n=!0){if(n&&this.ui.change&&this.ui.change(i),i==null||Array.isArray(i)&&i.length<2){this.setValue(null),this.setEnd(null);return}let o=Array.isArray(i)?[dn(i[0],this.startFormat),dn(i[1],this.endFormat||this.startFormat)]:dn(i,this.startFormat);this.flatRange?(this.setValue(o[0]),this.setEnd(o[1])):this.setValue(o)}_openChange(i){this.ui.onOpenChange&&this.ui.onOpenChange(i)}_ok(i){this.ui.onOk&&this.ui.onOk(i)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(i){this.flatRange&&(this.endProperty.setValue(i,!0),this.endProperty.updateValueAndValidity())}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275cmp=ee({type:e,selectors:[["sf-date"]],features:[oe],decls:6,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange","nzOnOk"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange","nzOnOk"]],template:function(n,o){if(n&1&&(T(0,"sf-item-wrap",0),O(1,Wg,1,15)(2,Lg,1,15)(3,Ug,1,14)(4,Hg,1,21)(5,Bg,1,19),P()),n&2){let a;$("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(1),N(1,(a=o.mode)==="year"?1:a==="month"?2:a==="week"?3:a==="range"?4:5)}},dependencies:[Fr,Oe,De,Bl,Gl,Kl,Xl,Jl,ve],encapsulation:2});let r=e;return r})();var Kg=r=>({"ant-input-number__hide-step":r}),ao=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.formatter=i=>i,this.parser=i=>i,this.width=""}ngOnInit(){let{minimum:i,exclusiveMinimum:n,maximum:o,exclusiveMaximum:a,multipleOf:s,type:c}=this.schema;this.step=s||1,typeof i<"u"&&(this.min=n?i+this.step:i),typeof o<"u"&&(this.max=a?o-this.step:o),c==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let p=this.ui;p.prefix!=null&&(p.formatter=f=>f==null?"":`${p.prefix} ${f}`,p.parser=f=>f.replace(`${p.prefix} `,"")),p.unit!=null&&(p.formatter=f=>f==null?"":`${f} ${p.unit}`,p.parser=f=>f.replace(` ${p.unit}`,"")),p.formatter&&(this.formatter=p.formatter),p.parser&&(this.parser=p.parser),this.width=typeof p.widgetWidth=="number"?`${p.widgetWidth}px`:p.widgetWidth??"90px"}_setValue(i){this.setValue(this.schema.type==="integer"?Math.floor(i):i),this.ui.change&&this.ui.change(this.value)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275cmp=ee({type:e,selectors:[["sf-number"]],features:[oe],decls:2,vars:22,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder","ngClass","ngModelChange"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0)(1,"nz-input-number",1),Q("ngModelChange",function(s){return o._setValue(s)}),P()()),n&2&&($("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(1),an("width",o.width),$("nzId",o.id)("ngModel",o.value)("nzDisabled",o.disabled)("nzSize",o.ui.size)("nzMin",o.min)("nzMax",o.max)("nzStep",o.step)("nzFormatter",o.formatter)("nzParser",o.parser)("nzPrecision",o.ui.precision)("nzPlaceHolder",o.ui.placeholder||"")("ngClass",nl(20,Kg,o.ui.hideStep)))},dependencies:[Fr,Oe,De,Ul,ve],encapsulation:2});let r=e;return r})();function Gg(r,e){if(r&1&&(T(0,"div",4),ue(1),P()),r&2){let t=v(2);S(1),Rr(t.title)}}function Jg(r,e){if(r&1&&(T(0,"div",5),re(1,"sf-item",6),P()),r&2){let t=v().$implicit;$("nzSpan",t.grid.span)("nzOffset",t.grid.offset)("nzXs",t.grid.xs)("nzSm",t.grid.sm)("nzMd",t.grid.md)("nzLg",t.grid.lg)("nzXl",t.grid.xl)("nzXXl",t.grid.xxl),S(1),$("formProperty",t.property)("fixed-label",t.spanLabelFixed)}}function Xg(r,e){if(r&1&&O(0,Jg,2,10,"div",5),r&2){let t=e.$implicit;N(0,t.property.visible&&t.show?0:-1)}}function Zg(r,e){if(r&1&&(T(0,"div",3),We(1,Xg,1,1,null,null,qe),P()),r&2){let t=v(2);$("nzGutter",t.grid.gutter),Le(1,t.list)}}function Qg(r,e){if(r&1&&re(0,"sf-item",6),r&2){let t=v().$implicit;$("formProperty",t.property)("fixed-label",t.spanLabelFixed)}}function Yg(r,e){if(r&1&&O(0,Qg,1,2,"sf-item",6),r&2){let t=e.$implicit;N(0,t.property.visible&&t.show?0:-1)}}function ey(r,e){if(r&1&&We(0,Yg,1,1,null,null,qe),r&2){let t=v(2);Le(0,t.list)}}function ty(r,e){if(r&1&&O(0,Gg,2,1,"div",2)(1,Zg,3,1,"div",3)(2,ey,2,0),r&2){let t=e.$implicit,i=v();N(0,!t&&i.title?0:-1),S(1),N(1,i.grid?1:2)}}function ry(r,e){if(r&1&&re(0,"i",13),r&2){let t=v(3);$("nzType",t.expand?"down":"up")}}function iy(r,e){if(r&1&&re(0,"i",15),r&2){let t=v(4);$("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipColor",t.oh.bgColor)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function ny(r,e){if(r&1&&(T(0,"span",14),ue(1),O(2,iy,1,9,"i",15),P()),r&2){let t=v(3);S(1),Se(" ",t.ui.optional," "),S(1),N(2,t.oh?2:-1)}}function oy(r,e){if(r&1){let t=he();T(0,"div",10),Q("click",function(){R(t);let n=v(2);return F(n.changeExpand())}),O(1,ry,1,1,"i",11),ue(2),O(3,ny,3,2,"span",12),P()}if(r&2){let t=v(2);ze("point",t.showExpand),S(1),N(1,t.showExpand?1:-1),S(1),Se(" ",t.title," "),S(1),N(3,t.ui.optional||t.oh?3:-1)}}function ay(r,e){}var sy=()=>[],ly=()=>({$implicit:!0});function cy(r,e){if(r&1&&(T(0,"nz-card",7),O(1,oy,4,5,"ng-template",null,8,Ue)(3,ay,0,0,"ng-template",9),P()),r&2){let t=Ie(2),i=v(),n=Ie(1);ze("sf__object-card-fold",!i.expand),$("nzTitle",t)("nzExtra",i.ui.cardExtra)("nzSize",i.ui.cardSize||"small")("nzActions",i.ui.cardActions||_o(11,sy))("nzBodyStyle",i.ui.cardBodyStyle)("nzBordered",i.ui.cardBordered||!0)("nzBorderless",i.ui.cardBorderless||!1),S(3),$("ngTemplateOutlet",n)("ngTemplateOutletContext",_o(12,ly))}}function uy(r,e){}function dy(r,e){if(r&1&&O(0,uy,0,0,"ng-template",16),r&2){v();let t=Ie(1);$("ngTemplateOutlet",t)}}var ms=(()=>{let e=class e extends Bd{constructor(){super(...arguments),this.type="default",this.list=[],this.showExpand=!0,this.expand=!0}ngOnInit(){let{formProperty:i,ui:n}=this,{grid:o,showTitle:a,type:s}=n;this.showExpand=Re(n.showExpand,!0),this.expand=Re(n.expand,!0),this.type=s??"default",(this.type==="card"||!i.isRoot()&&!(i.parent instanceof Hr)&&a===!0)&&(this.title=this.schema.title),this.grid=o;let c=[];for(let p of i.propertiesId){let f=i.properties[p],h={property:f,grid:f.ui.grid||o||{},spanLabelFixed:f.ui.spanLabelFixed,show:f.ui.hidden===!1};c.push(h)}this.list=c}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275cmp=ee({type:e,selectors:[["sf-object"]],features:[oe],decls:4,vars:1,consts:[["default",""],["class","sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless","sf__object-card-fold"],["class","sf__title"],["nz-row","",3,"nzGutter"],[1,"sf__title"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless"],["cardTitleTpl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],["nz-icon","","class","mr-xs text-xs",3,"nzType"],["class","sf__optional"],["nz-icon","",1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["s","","nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[3,"ngTemplateOutlet"]],template:function(n,o){n&1&&O(0,ty,3,2,"ng-template",null,0,Ue)(2,cy,4,13,"nz-card",1)(3,dy,1,1),n&2&&(S(2),N(2,o.type==="card"?2:3))},dependencies:[He,Be,yn,$t,bt,nt,Bt,qt,nr],encapsulation:2});let r=e;return r})();function fy(r,e){if(r&1&&(T(0,"label",2),re(1,"span",3),P()),r&2){let t=e.$implicit,i=v(2);$("nzValue",t.value)("nzDisabled",i.disabled||t.disabled),S(1),$("innerHTML",t.label,vt)}}function py(r,e){if(r&1&&We(0,fy,2,3,"label",2,qe),r&2){let t=v();Le(0,t.data)}}function my(r,e){if(r&1&&(T(0,"label",4),re(1,"span",3),P()),r&2){let t=e.$implicit,i=v(2);$("nzValue",t.value)("nzDisabled",i.disabled||t.disabled),S(1),$("innerHTML",t.label,vt)}}function hy(r,e){if(r&1&&We(0,my,2,3,"label",4,qe),r&2){let t=v();Le(0,t.data)}}var hs=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.data=[]}reset(i){this.styleType=(this.ui.styleType||"default")==="default",Lr(this.schema,this.ui,i).subscribe(n=>{this.data=n,this.detectChanges()})}_setValue(i){this.setValue(i),this.ui.change&&this.ui.change(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275cmp=ee({type:e,selectors:[["sf-radio"]],features:[oe],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzSize","nzName","ngModel","nzButtonStyle","ngModelChange"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0)(1,"nz-radio-group",1),Q("ngModelChange",function(s){return o._setValue(s)}),O(2,py,2,0)(3,hy,2,0),P()()),n&2&&($("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(1),$("nzSize",o.ui.size)("nzName",o.id)("ngModel",o.value)("nzButtonStyle",o.ui.buttonStyle||"outline"),S(1),N(2,o.styleType?2:3))},dependencies:[Oe,De,Dl,Il,Ol,ve],encapsulation:2});let r=e;return r})();function _y(r,e){if(r&1&&re(0,"nz-option",3),r&2){let t=e.$implicit;$("nzLabel",t.label)("nzValue",t.value)("nzHide",t.hide)("nzDisabled",t.disabled)}}function gy(r,e){if(r&1&&We(0,_y,1,4,"nz-option",3,qe),r&2){let t=v();Le(0,t.data)}}function yy(r,e){if(r&1&&re(0,"nz-option",5),r&2){let t=e.$implicit;$("nzLabel",t.label)("nzValue",t.value)("nzDisabled",t.disabled)("nzHide",t.hide)}}function vy(r,e){if(r&1&&(T(0,"nz-option-group",4),We(1,yy,1,4,"nz-option",5,qe),P()),r&2){let t=e.$implicit;$("nzLabel",t.label),Le(1,t.children)}}function Cy(r,e){if(r&1&&We(0,vy,3,1,"nz-option-group",4,qe),r&2){let t=v();Le(0,t.data)}}function wy(r,e){if(r&1&&(T(0,"nz-option",2),re(1,"i",6),ue(2),P()),r&2){let t=v();S(2),Se(" ",t.ui.searchLoadingText," ")}}var _s=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.search$=new Nr,this.data=[],this.hasGroup=!1,this.loading=!1}checkGroup(i){this.hasGroup=(i||[]).filter(n=>n.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:i,borderless:n,autoFocus:o,dropdownMatchSelectWidth:a,serverSearch:s,maxMultipleCount:c,mode:p,showSearch:f,tokenSeparators:h,maxTagCount:w,compareWith:y,optionHeightPx:C,optionOverflowSize:m,showArrow:b}=this.ui;this.i={autoClearSearchValue:Re(i,!0),borderless:Re(n,!1),autoFocus:Re(o,!1),dropdownMatchSelectWidth:Re(a,!0),serverSearch:Re(s,!1),maxMultipleCount:c||1/0,mode:p||"default",showSearch:Re(f,!0),tokenSeparators:h||[],maxTagCount:w||void 0,optionHeightPx:C||32,optionOverflowSize:m||8,showArrow:typeof b!="boolean"?void 0:b,compareWith:y||((M,A)=>M===A)};let z=this.ui.onSearch;z&&this.search$.pipe(Lt(this.sfItemComp.destroy$),en(),Yi(this.ui.searchDebounceTime||300),tn(M=>z(M)),Ks(()=>[])).subscribe(M=>{this.data=M,this.checkGroup(M),this.loading=!1,this.detectChanges()})}reset(i){let n=this.ui.onSearch;Lr(this.schema,this.ui,i).subscribe(o=>{this._value=i,n==null&&(this.data=o),this.checkGroup(o),this.detectChanges()}),i&&n!=null&&this.search$.next(i)}change(i){this.ui.change&&this.ui.change(i,this.getOrgData(i)),this.setValue(i??void 0)}getOrgData(i){let n=this.injector.get(nc);return Array.isArray(i)?i.map(o=>n.findTree(this.data,a=>a.value===o)):n.findTree(this.data,o=>o.value===i)}openChange(i){this.ui.openChange&&this.ui.openChange(i)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(i){this.ui.onSearch&&(this.loading=!0,this.search$.next(i))}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275cmp=ee({type:e,selectors:[["sf-select"]],features:[oe],decls:5,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzBorderless","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize","ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom"],["nzDisabled","","nzCustomContent",""],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nz-icon","","nzType","loading"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0)(1,"nz-select",1),Q("ngModelChange",function(s){return o._value=s})("ngModelChange",function(s){return o.change(s)})("nzOpenChange",function(s){return o.openChange(s)})("nzOnSearch",function(s){return o.onSearch(s)})("nzScrollToBottom",function(){return o.scrollToBottom()}),O(2,gy,2,0)(3,Cy,2,0)(4,wy,3,1,"nz-option",2),P()()),n&2&&($("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(1),$("nzId",o.id)("nzDisabled",o.disabled)("ngModel",o._value)("nzSize",o.ui.size)("nzPlaceHolder",o.ui.placeholder)("nzNotFoundContent",o.ui.notFoundContent)("nzDropdownClassName",o.ui.dropdownClassName)("nzAllowClear",o.ui.allowClear)("nzDropdownStyle",o.ui.dropdownStyle)("nzCustomTemplate",o.ui.customTemplate)("nzSuffixIcon",o.ui.suffixIcon)("nzRemoveIcon",o.ui.removeIcon)("nzClearIcon",o.ui.clearIcon)("nzMenuItemSelectedIcon",o.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",o.ui.maxTagPlaceholder)("nzDropdownRender",o.ui.dropdownRender)("nzAutoClearSearchValue",o.i.autoClearSearchValue)("nzBorderless",o.i.borderless)("nzAutoFocus",o.i.autoFocus)("nzDropdownMatchSelectWidth",o.i.dropdownMatchSelectWidth)("nzServerSearch",o.i.serverSearch)("nzMaxMultipleCount",o.i.maxMultipleCount)("nzMode",o.i.mode)("nzShowSearch",o.i.showSearch)("nzShowArrow",o.i.showArrow)("nzTokenSeparators",o.i.tokenSeparators)("nzMaxTagCount",o.i.maxTagCount)("compareWith",o.i.compareWith)("nzOptionHeightPx",o.i.optionHeightPx)("nzOptionOverflowSize",o.i.optionOverflowSize),S(1),N(2,!o.loading&&!o.hasGroup?2:-1),S(1),N(3,!o.loading&&o.hasGroup?3:-1),S(1),N(4,o.loading?4:-1))},dependencies:[Oe,De,Be,nt,Ml,Rl,Vl,ve],encapsulation:2});let r=e;return r})();function $y(r,e){if(r&1){let t=he();T(0,"input",3),Q("ngModelChange",function(n){R(t);let o=v();return F(o.change(n))})("keyup.enter",function(n){R(t);let o=v();return F(o.enter(n))})("focus",function(n){R(t);let o=v();return F(o.focus(n))})("blur",function(n){R(t);let o=v();return F(o.blur(n))}),P()}if(r&2){let t=v();$("disabled",t.disabled)("nzSize",t.ui.size)("nzBorderless",t.ui.borderless)("ngModel",t.value),it("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength||null)("type",t.ui.type||"text")("placeholder",t.ui.placeholder)("autocomplete",t.ui.autocomplete)("autoFocus",t.ui.autofocus)}}function Sy(r,e){}function zy(r,e){if(r&1&&(T(0,"nz-input-group",2),O(1,Sy,0,0,"ng-template",4),P()),r&2){let t=v(),i=Ie(2);$("nzAddOnBefore",t.ui.addOnBefore)("nzAddOnAfter",t.ui.addOnAfter)("nzAddOnBeforeIcon",t.ui.addOnBeforeIcon)("nzAddOnAfterIcon",t.ui.addOnAfterIcon)("nzPrefix",t.ui.prefix)("nzPrefixIcon",t.ui.prefixIcon)("nzSuffix",t.ui.suffix)("nzSuffixIcon",t.ui.suffixIcon),S(1),$("ngTemplateOutlet",i)}}function Ey(r,e){}function xy(r,e){if(r&1&&O(0,Ey,0,0,"ng-template",4),r&2){v();let t=Ie(2);$("ngTemplateOutlet",t)}}var so=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.change$=null}ngOnInit(){let{addOnAfter:i,addOnAfterIcon:n,addOnBefore:o,addOnBeforeIcon:a,prefix:s,prefixIcon:c,suffix:p,suffixIcon:f,autofocus:h}=this.ui;this.type=i||o||n||a||s||c||p||f?"addon":"",h===!0&&setTimeout(()=>{this.injector.get(nn).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(i){!i&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let i=this.ui.changeDebounceTime,n=this.ui.change;if(i==null||i<=0||n==null)return;this.change$=new kr(this.value);let o=this.change$.asObservable().pipe(Yi(i),Lt(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(o=o.pipe(tn(this.ui.changeMap))),o.subscribe(a=>n(a))}change(i){if(this.setValue(i),this.change$!=null){this.change$.next(i);return}this.ui.change&&this.ui.change(i)}focus(i){this.ui.focus&&this.ui.focus(i)}blur(i){this.ui.blur&&this.ui.blur(i)}enter(i){this.ui.enter&&this.ui.enter(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275cmp=ee({type:e,selectors:[["sf-string"]],features:[oe],decls:5,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],["ipt",""],[3,"nzAddOnBefore","nzAddOnAfter","nzAddOnBeforeIcon","nzAddOnAfterIcon","nzPrefix","nzPrefixIcon","nzSuffix","nzSuffixIcon"],["nz-input","",3,"disabled","nzSize","nzBorderless","ngModel","ngModelChange","keyup.enter","focus","blur"],[3,"ngTemplateOutlet"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0),O(1,$y,1,11,"ng-template",null,1,Ue)(3,zy,2,9,"nz-input-group",2)(4,xy,1,1),P()),n&2&&($("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(3),N(3,o.type==="addon"?3:4))},dependencies:[He,hn,Oe,De,Be,gn,jl,Al,ve],encapsulation:2});let r=e;return r})();function Ty(r,e){if(r&1&&re(0,"span",1),r&2){let t=v();$("innerHTML",t.text,vt)}}function Py(r,e){if(r&1&&re(0,"span",2),r&2){let t=v();$("innerText",t.text)}}var gs=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.text=""}ngOnInit(){this.ui._required=!1,this.ui.html=Re(this.ui.html,!0)}reset(i){this.text=i||this.ui.defaultText||"-"}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275cmp=ee({type:e,selectors:[["sf-text"]],features:[oe],decls:3,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0),O(1,Ty,1,1,"span",1)(2,Py,1,1),P()),n&2&&(ze("sf__text-html",o.ui.html),$("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(1),N(1,o.ui.html?1:2))},dependencies:[ve],encapsulation:2});let r=e;return r})();function Iy(r,e){if(r&1){let t=he();T(0,"textarea",3),Q("ngModelChange",function(n){R(t);let o=v();return F(o.change(n))})("focus",function(n){R(t);let o=v();return F(o.focus(n))})("blur",function(n){R(t);let o=v();return F(o.blur(n))}),ue(1,"      "),P()}if(r&2){let t=v();$("disabled",t.disabled)("nzSize",t.ui.size)("ngModel",t.value)("nzAutosize",t.autosize)("nzBorderless",t.ui.borderless),it("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength||null)("placeholder",t.ui.placeholder)}}function Oy(r,e){if(r&1){let t=he();T(0,"nz-textarea-count",2)(1,"textarea",3),Q("ngModelChange",function(n){R(t);let o=v();return F(o.change(n))})("focus",function(n){R(t);let o=v();return F(o.focus(n))})("blur",function(n){R(t);let o=v();return F(o.blur(n))}),ue(2,"        "),P()()}if(r&2){let t=v();$("nzMaxCharacterCount",t.ui.maxCharacterCount)("nzComputeCharacterCount",t.ui.computeCharacterCount),S(1),$("disabled",t.disabled)("nzSize",t.ui.size)("ngModel",t.value)("nzAutosize",t.autosize)("nzBorderless",t.ui.borderless),it("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength||null)("placeholder",t.ui.placeholder)}}function Dy(r,e){}function Ny(r,e){if(r&1&&O(0,Dy,0,0,"ng-template",4),r&2){v();let t=Ie(2);$("ngTemplateOutlet",t)}}var ys=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.autosize=!0}ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=i=>i.length)}change(i){this.setValue(i),this.ui.change&&this.ui.change(i)}focus(i){this.ui.focus&&this.ui.focus(i)}blur(i){this.ui.blur&&this.ui.blur(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ne(e)))(o||e)}})(),e.\u0275cmp=ee({type:e,selectors:[["sf-textarea"]],features:[oe],decls:5,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],["ipt",""],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],["nz-input","",3,"disabled","nzSize","ngModel","nzAutosize","nzBorderless","ngModelChange","focus","blur"],[3,"ngTemplateOutlet"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0),O(1,Iy,2,9,"ng-template",null,1,Ue)(3,Oy,3,11,"nz-textarea-count",2)(4,Ny,1,1),P()),n&2&&($("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(3),N(3,o.ui.maxCharacterCount?3:4))},dependencies:[He,hn,Oe,De,Wl,gn,ql,ve],encapsulation:2});let r=e;return r})();var ci=class extends Pt{constructor(){super(),this.register("object",ms),this.register("array",cs),this.register("text",gs),this.register("string",so),this.register("number",ao),this.register("integer",ao),this.register("date",ps),this.register("radio",hs),this.register("checkbox",ds),this.register("boolean",us),this.register("textarea",ys),this.register("select",_s),this.register("custom",fs),this.setDefault(so)}};var ky=[hl,tc,Pl,Zl,ec,Ql,ml,Ll,Hl,_l,Nl,Fl,ic,kl];var Lb=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:wr,useClass:io,deps:[Ct,Ht]},{provide:Pt,useClass:ci}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Zs({type:e}),e.\u0275inj=Js({imports:[ul,bl,yl,ky]});let r=e;return r})();function Xb(r){let e=[{provide:wr,useClass:io,deps:[Ct,Ht]},{provide:Pt,useClass:ci}];return r?.widgets&&e.push({provide:Qs,multi:!0,useValue:()=>{let t=Xs(Pt);r?.widgets?.forEach(i=>t.register(i.KEY,i.type))}}),Ys(e)}export{Re as a,sc as b,Tf as c,Lr as d,Me as e,ve as f,vg as g,$e as h,Lb as i,Xb as j};
