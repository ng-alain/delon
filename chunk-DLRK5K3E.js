import{Ab as O,Bb as R,Cb as V,Df as k,Ea as x,Eb as P,Ef as H,Fb as B,Ga as _,Ja as h,Jb as Q,Ka as s,La as E,Na as T,Oa as N,Pd as b,Sa as A,Ta as w,Ua as m,Va as D,Wa as M,ab as p,da as S,de as q,ee as z,fb as u,gb as d,hb as j,ia as v,ja as g,lb as F,na as C,nd as W,oa as y,od as Z,pa as I,pb as G,q as l,rb as c}from"./chunk-T6QZOGIV.js";var U=["textEl"];function L(e,i){if(e&1&&j(0,"span",0),e&2){let o=c();m("nzType",o.nzIcon)}}function X(e,i){if(e&1){let o=F();u(0,"img",3),G("error",function(n){y(o);let t=c();return I(t.imgError(n))}),d()}if(e&2){let o=c();m("src",o.nzSrc,x),w("srcset",o.nzSrcSet)("alt",o.nzAlt)}}function $(e,i){if(e&1&&(u(0,"span",4,5),P(2),d()),e&2){let o=c();h(2),B(o.nzText)}}var J="avatar",K=(()=>{let i=class i{constructor(a,n,t,r,f){this.nzConfigService=a,this.elementRef=n,this.cdr=t,this.platform=r,this.ngZone=f,this._nzModuleName=J,this.nzShape="circle",this.nzSize="default",this.nzGap=4,this.nzError=new T,this.hasText=!1,this.hasSrc=!0,this.hasIcon=!1,this.classMap={},this.customSize=null,this.el=this.elementRef.nativeElement}imgError(a){this.nzError.emit(a),a.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.notifyCalc())}ngOnChanges(){this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setSizeStyle(),this.notifyCalc()}calcStringSize(){if(!this.hasText)return;let a=this.textEl.nativeElement,n=a.offsetWidth,t=this.el.getBoundingClientRect().width,r=this.nzGap*2<t?this.nzGap*2:8,f=t-r<n?(t-r)/n:1;a.style.transform=`scale(${f}) translateX(-50%)`,a.style.lineHeight=this.customSize||""}notifyCalc(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.calcStringSize()})})}setSizeStyle(){typeof this.nzSize=="number"?this.customSize=`${this.nzSize}px`:this.customSize=null,this.cdr.markForCheck()}};i.\u0275fac=function(n){return new(n||i)(s(q),s(_),s(E),s(W),s(N))},i.\u0275cmp=v({type:i,selectors:[["nz-avatar"]],viewQuery:function(n,t){if(n&1&&O(U,5),n&2){let r;R(r=V())&&(t.textEl=r.first)}},hostAttrs:[1,"ant-avatar"],hostVars:20,hostBindings:function(n,t){n&2&&(D("width",t.customSize)("height",t.customSize)("line-height",t.customSize)("font-size",t.hasIcon&&t.customSize?t.nzSize/2:null,"px"),M("ant-avatar-lg",t.nzSize==="large")("ant-avatar-sm",t.nzSize==="small")("ant-avatar-square",t.nzShape==="square")("ant-avatar-circle",t.nzShape==="circle")("ant-avatar-icon",t.nzIcon)("ant-avatar-image",t.hasSrc))},inputs:{nzShape:"nzShape",nzSize:"nzSize",nzGap:"nzGap",nzText:"nzText",nzSrc:"nzSrc",nzSrcSet:"nzSrcSet",nzAlt:"nzAlt",nzIcon:"nzIcon"},outputs:{nzError:"nzError"},exportAs:["nzAvatar"],standalone:!0,features:[C,Q],decls:3,vars:3,consts:[["nz-icon","",3,"nzType"],[3,"src"],["class","ant-avatar-string"],[3,"src","error"],[1,"ant-avatar-string"],["textEl",""]],template:function(n,t){n&1&&A(0,L,1,1,"span",0)(1,X,1,3,"img",1)(2,$,3,1,"span",2),n&2&&(p(0,t.nzIcon&&t.hasIcon?0:-1),h(),p(1,t.nzSrc&&t.hasSrc?1:-1),h(),p(2,t.nzText&&t.hasText?2:-1))},dependencies:[H,k,Z],encapsulation:2,changeDetection:0});let e=i;return l([z()],e.prototype,"nzShape",void 0),l([z()],e.prototype,"nzSize",void 0),l([z(),b()],e.prototype,"nzGap",void 0),e})();var vt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=g({type:i}),i.\u0275inj=S({imports:[K]});let e=i;return e})();export{K as a,vt as b};
