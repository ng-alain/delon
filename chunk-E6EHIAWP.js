import{a as Xe,b as Qe}from"./chunk-BDMAN3C5.js";import{$c as Ne,Ab as Se,Ah as Ke,Bb as Re,Cb as ye,D as ee,Db as Me,Eh as Ye,Fa as w,Fb as Ee,Gh as We,H as te,Ia as ne,Ja as h,Kb as ke,L as me,Lb as U,M as ie,Nb as Ae,Sa as be,Sc as Ie,Ta as b,Tc as ze,Ua as $,Va as f,Vf as Ve,Wa as xe,Wb as we,Xa as se,Yc as X,_c as Oe,a as N,ad as P,ba as G,cb as B,cc as Be,da as H,db as K,dc as D,ec as re,fa as l,fb as Y,ga as de,gb as W,h as ce,ha as A,hb as m,hh as Le,ib as d,ja as pe,jb as ve,jc as Ue,k as Z,l as ue,la as fe,nb as R,pa as ge,qa as v,qb as p,qd as y,ra as T,s as he,sb as u,sd as He,sh as Ge,th as oe,uc as De,ud as Pe,uh as $e,va as _e,vd as Fe,wa as Ce,xa as S,yd as je,zb as Te}from"./chunk-FML4Y3RM.js";var _=function(n){return n[n.Menu=0]="Menu",n[n.MenuForce=1]="MenuForce",n[n.URL=2]="URL",n}(_||{});var I=new H("REUSE_TAB_CACHED_MANAGER"),F=class{constructor(){this.list=[],this.title={},this.closable={}}};var M=new H("REUSE_TAB_STORAGE_KEY"),E=new H("REUSE_TAB_STORAGE_STATE"),j=class{get(s){return JSON.parse(localStorage.getItem(s)||"[]")||[]}update(s,a){return localStorage.setItem(s,JSON.stringify(a)),!0}remove(s){localStorage.removeItem(s)}};var C=(()=>{let s=class s{get snapshot(){return this.injector.get(X).snapshot}get inited(){return this._inited}get curUrl(){return this.getUrl(this.snapshot)}set max(e){this._max=Math.min(Math.max(e,2),100);for(let t=this.cached.list.length;t>this._max;t--)this.cached.list.pop()}set keepingScroll(e){this._keepingScroll=e,this.initScroll()}get keepingScroll(){return this._keepingScroll}get items(){return this.cached.list}get count(){return this.cached.list.length}get change(){return this._cachedChange.asObservable()}set title(e){let t=this.curUrl;typeof e=="string"&&(e={text:e}),this.cached.title[t]=e,this.di("update current tag title: ",e),this._cachedChange.next({active:"title",url:t,title:e,list:this.cached.list})}index(e){return this.cached.list.findIndex(t=>t.url===e)}exists(e){return this.index(e)!==-1}get(e){return e&&this.cached.list.find(t=>t.url===e)||null}remove(e,t){let i=typeof e=="string"?this.index(e):e,r=i!==-1?this.cached.list[i]:null;return!r||!t&&!r.closable?!1:(this.destroy(r._handle),this.cached.list.splice(i,1),delete this.cached.title[e],!0)}close(e,t=!1){return this.removeUrlBuffer=e,this.remove(e,t),this._cachedChange.next({active:"close",url:e,list:this.cached.list}),this.di("close tag",e),!0}closeRight(e,t=!1){let i=this.index(e);for(let r=this.count-1;r>i;r--)this.remove(r,t);return this.removeUrlBuffer=null,this._cachedChange.next({active:"closeRight",url:e,list:this.cached.list}),this.di("close right tages",e),!0}clear(e=!1){this.cached.list.forEach(t=>{!e&&t.closable&&this.destroy(t._handle)}),this.cached.list=this.cached.list.filter(t=>!e&&!t.closable),this.removeUrlBuffer=null,this._cachedChange.next({active:"clear",list:this.cached.list}),this.di("clear all catch")}move(e,t){let i=this.cached.list.findIndex(o=>o.url===e);if(i===-1)return;let r=this.cached.list.slice();r.splice(t<0?r.length+t:t,0,r.splice(i,1)[0]),this.cached.list=r,this._cachedChange.next({active:"move",url:e,position:t,list:this.cached.list})}replace(e){let t=this.curUrl;this.injector.get(P).navigateByUrl(e).then(()=>{this.exists(t)?this.close(t,!0):this.removeUrlBuffer=t})}getTitle(e,t){if(this.cached.title[e])return this.cached.title[e];if(t&&t.data&&(t.data.titleI18n||t.data.title))return{text:t.data.title,i18n:t.data.titleI18n};let i=this.getMenu(e);return i?{text:i.text,i18n:i.i18n}:{text:e}}clearTitleCached(){this.cached.title={}}set closable(e){let t=this.curUrl;this.cached.closable[t]=e,this.di("update current tag closable: ",e),this._cachedChange.next({active:"closable",closable:e,list:this.cached.list})}getClosable(e,t){if(typeof this.cached.closable[e]<"u")return this.cached.closable[e];if(t&&t.data&&typeof t.data.reuseClosable=="boolean")return t.data.reuseClosable;let i=this.mode!==_.URL?this.getMenu(e):null;return i&&typeof i.reuseClosable=="boolean"?i.reuseClosable:!0}clearClosableCached(){this.cached.closable={}}getTruthRoute(e){let t=e;for(;t.firstChild;)t=t.firstChild;return t}getUrl(e){let t=this.getTruthRoute(e),i=[];for(;t;)i.push(t.url.join("/")),t=t.parent;return`/${i.filter(o=>o).reverse().join("/")}`}can(e){let t=this.getUrl(e);if(t===this.removeUrlBuffer)return!1;if(e.data&&typeof e.data.reuse=="boolean")return e.data.reuse;if(this.mode!==_.URL){let i=this.getMenu(t);if(!i)return!1;if(this.mode===_.Menu){if(i.reuse===!1)return!1}else if(!i.reuse||i.reuse!==!0)return!1;return!0}return!this.isExclude(t)}isExclude(e){return this.excludes.findIndex(t=>t.test(e))!==-1}refresh(e){this._cachedChange.next({active:"refresh",data:e})}destroy(e){e&&e.componentRef&&e.componentRef.destroy&&e.componentRef.destroy()}di(...e){}constructor(){this.injector=l(_e),this.menuService=l(Pe),this.cached=l(I),this.stateKey=l(M),this.stateSrv=l(E),this._inited=!1,this._max=10,this._keepingScroll=!1,this._cachedChange=new ue(null),this.removeUrlBuffer=null,this.positionBuffer={},this.debug=!1,this.routeParamMatchMode="strict",this.mode=_.Menu,this.excludes=[],this.storageState=!1,this.cached==null&&(this.cached={list:[],title:{},closable:{}})}init(){this.initScroll(),this._inited=!0,this.loadState()}loadState(){this.storageState&&(this.cached.list=this.stateSrv.get(this.stateKey).map(e=>({title:{text:e.title},url:e.url,position:e.position})),this._cachedChange.next({active:"loadState"}))}getMenu(e){let t=this.menuService.getPathByUrl(e);return!t||t.length===0?null:t.pop()}runHook(e,t,i="init"){if(typeof t=="number"&&(t=this.cached.list[t]._handle?.componentRef),t==null||!t.instance)return;let r=t.instance,o=r[e];typeof o=="function"&&(e==="_onReuseInit"?o.call(r,i):o.call(r))}hasInValidRoute(e){return!e.routeConfig||!!e.routeConfig.loadChildren||!!e.routeConfig.children}shouldDetach(e){return this.hasInValidRoute(e)?!1:(this.di("#shouldDetach",this.can(e),this.getUrl(e)),this.can(e))}saveCache(e,t,i){let r=this.getTruthRoute(e),o=this.getUrl(e),c=this.index(o),g={title:this.getTitle(o,r),url:o,closable:this.getClosable(o,e),_snapshot:e,_handle:t};if(c<0){if(this.items.splice(i??this.items.length,0,g),this.count>this._max){let z=this.items.findIndex(x=>x.url!==o&&x.closable);if(z!==-1){let x=this.items[z];this.remove(z,!1),ee(1).pipe(ie(1)).subscribe(()=>this._cachedChange.next({active:"close",url:x.url,list:this.cached.list}))}}}else this.items[c]=g}store(e,t){let i=this.getUrl(e);t!=null&&this.saveCache(e,t);let r=this.cached.list,o={title:this.getTitle(i,e),closable:this.getClosable(i,e),position:this.getKeepingScroll(i,e)?this.positionBuffer[i]:null,url:i,_snapshot:e,_handle:t},c=this.index(i),g=r[c]?._handle?.componentRef;t==null&&g!=null&&ee(100).pipe(ie(1)).subscribe(()=>this.runHook("_onReuseInit",g)),r[c]=o,this.removeUrlBuffer=null,this.di("#store","[override]",i),t&&t.componentRef&&this.runHook("_onReuseDestroy",t.componentRef),this._cachedChange.next({active:"override",item:o,list:r})}shouldAttach(e){if(this.hasInValidRoute(e))return!1;let t=this.getUrl(e),i=this.get(t),r=!!(i&&i._handle);return this.di("#shouldAttach",r,t),r||this._cachedChange.next({active:"add",url:t,list:this.cached.list}),r}retrieve(e){if(this.hasInValidRoute(e))return null;let t=this.getUrl(e),i=this.get(t),r=i&&i._handle||null;return this.di("#retrieve",t,r),r}shouldReuseRoute(e,t){let i=e.routeConfig===t.routeConfig;if(!i)return!1;let r=e.routeConfig&&e.routeConfig.path||"";return r.length>0&&~r.indexOf(":")&&(this.routeParamMatchMode==="strict"?i=this.getUrl(e)===this.getUrl(t):i=r===(t.routeConfig&&t.routeConfig.path||"")),this.di("====================="),this.di("#shouldReuseRoute",i,`${this.getUrl(t)}=>${this.getUrl(e)}`,e,t),i}getKeepingScroll(e,t){if(t&&t.data&&typeof t.data.keepingScroll=="boolean")return t.data.keepingScroll;let i=this.mode!==_.URL?this.getMenu(e):null;return i&&typeof i.keepingScroll=="boolean"?i.keepingScroll:this.keepingScroll}get isDisabledInRouter(){return this.injector.get(Oe,{}).scrollPositionRestoration==="disabled"}get ss(){return this.injector.get(Ke)}initScroll(){this._router$&&this._router$.unsubscribe(),this._router$=this.injector.get(P).events.subscribe(e=>{if(e instanceof Ie){let t=this.curUrl;this.getKeepingScroll(t,this.getTruthRoute(this.snapshot))?this.positionBuffer[t]=this.ss.getScrollPosition(this.keepingScrollContainer):delete this.positionBuffer[t]}else if(e instanceof ze){let t=this.curUrl,i=this.get(t);i&&i.position&&this.getKeepingScroll(t,this.getTruthRoute(this.snapshot))&&(this.isDisabledInRouter?this.ss.scrollToPosition(this.keepingScrollContainer,i.position):setTimeout(()=>this.ss.scrollToPosition(this.keepingScrollContainer,i.position),1))}})}ngOnDestroy(){let{_cachedChange:e,_router$:t}=this;this.clear(),this.cached.list=[],e.complete(),t&&t.unsubscribe()}};s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=G({token:s,factory:s.\u0275fac});let n=s;return n})();function et(n,s){if(n&1){let a=R();m(0,"li",5),p("click",function(t){v(a);let i=u();return T(i.click(t,"refresh"))}),d()}if(n&2){let a=u();f("innerHTML",a.i18n.refresh,w)}}function tt(n,s){if(n&1){let a=R();m(0,"li",8),p("click",function(t){let i=v(a).$implicit,r=u(2);return T(r.click(t,"custom",i))}),d()}if(n&2){let a=s.$implicit,e=u(2);f("nzDisabled",e.isDisabled(a))("innerHTML",a.title,w),$("data-type",a.id)}}function it(n,s){if(n&1&&(ve(0,"li",6),Y(1,tt,1,3,"li",7,K)),n&2){let a=u();h(),W(a.customContextMenu)}}var Q=(()=>{let s=class s{constructor(){this.i18nSrv=l(Le),this.close=new S}set i18n(e){this._i18n=N(N({},this.i18nSrv.getData("reuseTab")),e)}get i18n(){return this._i18n}get includeNonCloseable(){return this.event.ctrlKey}notify(e){this.close.next({type:e,item:this.item,includeNonCloseable:this.includeNonCloseable})}ngOnInit(){this.includeNonCloseable&&(this.item.closable=!0)}click(e,t,i){if(e.preventDefault(),e.stopPropagation(),!(t==="close"&&!this.item.closable)&&!(t==="closeRight"&&this.item.last)){if(i){if(this.isDisabled(i))return;i.fn(this.item,i)}this.notify(t)}}isDisabled(e){return e.disabled?e.disabled(this.item):!1}closeMenu(e){e.type==="click"&&e.button===2||this.notify(null)}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=A({type:s,selectors:[["reuse-tab-context-menu"]],hostBindings:function(t,i){t&1&&p("click",function(o){return i.closeMenu(o)},!1,ne)("contextmenu",function(o){return i.closeMenu(o)},!1,ne)},inputs:{i18n:"i18n",item:"item",event:"event",customContextMenu:"customContextMenu"},outputs:{close:"close"},standalone:!0,features:[U],decls:6,vars:7,consts:[["nz-menu",""],["nz-menu-item","","data-type","refresh",3,"innerHTML"],["nz-menu-item","","data-type","close",3,"click","nzDisabled","innerHTML"],["nz-menu-item","","data-type","closeOther",3,"click","innerHTML"],["nz-menu-item","","data-type","closeRight",3,"click","nzDisabled","innerHTML"],["nz-menu-item","","data-type","refresh",3,"click","innerHTML"],["nz-menu-divider",""],["nz-menu-item","",3,"nzDisabled","innerHTML"],["nz-menu-item","",3,"click","nzDisabled","innerHTML"]],template:function(t,i){t&1&&(m(0,"ul",0),b(1,et,1,1,"li",1),m(2,"li",2),p("click",function(o){return i.click(o,"close")}),d(),m(3,"li",3),p("click",function(o){return i.click(o,"closeOther")}),d(),m(4,"li",4),p("click",function(o){return i.click(o,"closeRight")}),d(),b(5,it,3,0),d()),t&2&&(h(),B(i.item.active?1:-1),h(),f("nzDisabled",!i.item.closable)("innerHTML",i.i18n.close,w),h(),f("innerHTML",i.i18n.closeOther,w),h(),f("nzDisabled",i.item.last)("innerHTML",i.i18n.closeRight,w),h(),B(i.customContextMenu.length>0?5:-1))},dependencies:[We,Ye],encapsulation:2,changeDetection:0});let n=s;return n})();var k=(()=>{let s=class s{constructor(){this.overlay=l($e),this.ref=null,this.show=new Z,this.close=new Z}remove(){this.ref&&(this.ref.detach(),this.ref.dispose(),this.ref=null)}open(e){this.remove();let{event:t,item:i,customContextMenu:r}=e,{x:o,y:c}=t,g=[new oe({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new oe({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})],z=this.overlay.position().flexibleConnectedTo({x:o,y:c}).withPositions(g);this.ref=this.overlay.create({positionStrategy:z,panelClass:"reuse-tab__cm",scrollStrategy:this.overlay.scrollStrategies.close()});let x=this.ref.attach(new Ge(Q)),O=x.instance;O.i18n=this.i18n,O.item=N({},i),O.customContextMenu=r,O.event=t;let le=new ce;le.add(O.close.subscribe(Ze=>{this.close.next(Ze),this.remove()})),x.onDestroy(()=>le.unsubscribe())}};s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=G({token:s,factory:s.\u0275fac});let n=s;return n})();var q=(()=>{let s=class s{set i18n(e){this.srv.i18n=e}constructor(){this.srv=l(k),this.change=new S,this.srv.show.pipe(y()).subscribe(e=>this.srv.open(e)),this.srv.close.pipe(y()).subscribe(e=>this.change.emit(e))}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=A({type:s,selectors:[["reuse-tab-context"]],inputs:{i18n:"i18n"},outputs:{change:"change"},standalone:!0,features:[U],decls:0,vars:0,template:function(t,i){},encapsulation:2});let n=s;return n})();var J=(()=>{let s=class s{constructor(){this.srv=l(k)}_onContextMenu(e){this.srv.show.next({event:e,item:this.item,customContextMenu:this.customContextMenu}),e.preventDefault(),e.stopPropagation()}};s.\u0275fac=function(t){return new(t||s)},s.\u0275dir=pe({type:s,selectors:[["","reuse-tab-context-menu",""]],hostBindings:function(t,i){t&1&&p("contextmenu",function(o){return i._onContextMenu(o)})},inputs:{item:[0,"reuse-tab-context-menu","item"],customContextMenu:"customContextMenu"},exportAs:["reuseTabContextMenu"],standalone:!0});let n=s;return n})();var nt=["tabset"],st=n=>({$implicit:n});function rt(n,s){}function ot(n,s){if(n&1&&b(0,rt,0,0,"ng-template",7),n&2){let a=u(2).$implicit,e=u();f("ngTemplateOutlet",e.titleRender)("ngTemplateOutletContext",Ae(2,st,a))}}function at(n,s){if(n&1&&Me(0),n&2){let a=u(2).$implicit;Ee(" ",a.title," ")}}function lt(n,s){if(n&1){let a=R();m(0,"i",9),p("click",function(t){v(a);let i=u(2).$index,r=u();return T(r._close(t,i,!1))}),d()}}function ct(n,s){if(n&1&&(m(0,"div",6)(1,"span"),b(2,ot,1,4,null,7)(3,at,1,1),d()(),b(4,lt,1,0,"i",8)),n&2){let a=u().$implicit,e=u();f("reuse-tab-context-menu",a)("customContextMenu",e.customContextMenu),$("title",a.title),h(),xe("max-width",e.tabMaxWidth,"px"),se("reuse-tab__name-width",e.tabMaxWidth),h(),B(e.titleRender?2:3),h(2),B(a.closable?4:-1)}}function ut(n,s){if(n&1){let a=R();m(0,"nz-tab",5),p("nzClick",function(){let t=v(a).$index,i=u();return T(i._to(t))}),b(1,ct,5,9,"ng-template",null,1,we),d()}if(n&2){let a=ye(2);f("nzTitle",a)}}var qe=(()=>{let s=class s{constructor(){this.srv=l(C,{optional:!0}),this.cdr=l(Be),this.router=l(P),this.route=l(X),this.i18nSrv=l(He),this.doc=l(Ue),this.platform=l(Fe),this.directionality=l(je),this.stateKey=l(M),this.stateSrv=l(E),this.destroy$=l(Ce),this.list=[],this.pos=0,this.dir="ltr",this.mode=_.Menu,this.debug=!1,this.allowClose=!0,this.keepingScroll=!1,this.storageState=!1,this.customContextMenu=[],this.tabBarStyle=null,this.tabType="line",this.routeParamMatchMode="strict",this.disabled=!1,this.change=new S,this.close=new S}set keepingScrollContainer(e){this._keepingScrollContainer=typeof e=="string"?this.doc.querySelector(e):e}genTit(e){return e.i18n?this.i18nSrv.fanyi(e.i18n):e.text}get curUrl(){return this.srv.getUrl(this.route.snapshot)}genCurItem(){let e=this.curUrl,t=this.srv.getTruthRoute(this.route.snapshot);return{url:e,title:this.genTit(this.srv.getTitle(e,t)),closable:this.allowClose&&this.srv.count>0&&this.srv.getClosable(e,t),active:!1,last:!1,index:0}}genList(e){let t=this.srv.items.map((o,c)=>({url:o.url,title:this.genTit(o.title),closable:this.allowClose&&this.srv.count>0&&this.srv.getClosable(o.url,o._snapshot),position:o.position,index:c,active:!1,last:!1})),i=this.curUrl,r=t.findIndex(o=>o.url===i)===-1;if(e&&e.active==="close"&&e.url===i){r=!1;let o=0,c=this.list.find(g=>g.url===i);c.index===t.length?o=t.length-1:c.index<t.length&&(o=Math.max(0,c.index)),this.router.navigateByUrl(t[o].url)}if(r){let o=this.pos+1;t.splice(o,0,this.genCurItem()),this.srv.saveCache(this.route.snapshot,null,o)}t.forEach((o,c)=>o.index=c),t.length===1&&(t[0].closable=!1),this.list=t,this.cdr.detectChanges(),this.updatePos()}updateTitle(e){let t=this.list.find(i=>i.url===e.url);t&&(t.title=this.genTit(e.title),this.cdr.detectChanges())}refresh(e){this.srv.runHook("_onReuseInit",this.pos===e.index?this.srv.componentRef:e.index,"refresh")}saveState(){!this.srv.inited||!this.storageState||this.stateSrv?.update(this.stateKey,this.list)}contextMenuChange(e){let t=null;switch(e.type){case"refresh":this.refresh(e.item);break;case"close":this._close(null,e.item.index,e.includeNonCloseable);break;case"closeRight":t=()=>{this.srv.closeRight(e.item.url,e.includeNonCloseable),this.close.emit(null)};break;case"closeOther":t=()=>{this.srv.clear(e.includeNonCloseable),this.close.emit(null)};break}t&&(!e.item.active&&e.item.index<=this.list.find(i=>i.active).index?this._to(e.item.index,t):t())}_to(e,t){e=Math.max(0,Math.min(e,this.list.length-1));let i=this.list[e];this.router.navigateByUrl(i.url).then(r=>{r&&(this.item=i,this.change.emit(i),t?.())})}_close(e,t,i){e!=null&&(e.preventDefault(),e.stopPropagation());let r=this.list[t];return(this.canClose?this.canClose({item:r,includeNonCloseable:i}):he(!0)).pipe(te(o=>o)).subscribe(()=>{this.srv.close(r.url,i),this.close.emit(r),this.cdr.detectChanges()}),!1}activate(e){this.srv!=null&&(this.srv.componentRef={instance:e})}updatePos(){let e=this.srv.getUrl(this.route.snapshot),t=this.list.filter(c=>c.url===e||!this.srv.isExclude(c.url));if(t.length===0)return;let i=t[t.length-1],r=t.find(c=>c.url===e);i.last=!0;let o=r==null?i.index:r.index;t.forEach((c,g)=>c.active=o===g),this.pos=o,this.tabset.nzSelectedIndex=o,this.list=t,this.cdr.detectChanges(),this.saveState()}ngOnInit(){this.dir=this.directionality.value,this.directionality.change.pipe(y(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),!(!this.platform.isBrowser||this.srv==null)&&(this.srv.change.pipe(y(this.destroy$)).subscribe(e=>{switch(e?.active){case"title":this.updateTitle(e);return;case"override":if(e?.list?.length===this.list.length){this.updatePos();return}break}this.genList(e)}),this.i18nSrv.change.pipe(te(()=>this.srv.inited),y(this.destroy$),me(100)).subscribe(()=>this.genList({active:"title"})),this.srv.init())}ngOnChanges(e){!this.platform.isBrowser||this.srv==null||(e.max&&(this.srv.max=this.max),e.excludes&&(this.srv.excludes=this.excludes),e.mode&&(this.srv.mode=this.mode),e.routeParamMatchMode&&(this.srv.routeParamMatchMode=this.routeParamMatchMode),e.keepingScroll&&(this.srv.keepingScroll=this.keepingScroll,this.srv.keepingScrollContainer=this._keepingScrollContainer),e.storageState&&(this.srv.storageState=this.storageState),this.srv.debug=this.debug,this.cdr.detectChanges())}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=A({type:s,selectors:[["reuse-tab"],["","reuse-tab",""]],viewQuery:function(t,i){if(t&1&&Te(nt,5),t&2){let r;Se(r=Re())&&(i.tabset=r.first)}},hostVars:10,hostBindings:function(t,i){t&2&&se("reuse-tab",!0)("reuse-tab__line",i.tabType==="line")("reuse-tab__card",i.tabType==="card")("reuse-tab__disabled",i.disabled)("reuse-tab-rtl",i.dir==="rtl")},inputs:{mode:"mode",i18n:"i18n",debug:[2,"debug","debug",D],max:[2,"max","max",re],tabMaxWidth:[2,"tabMaxWidth","tabMaxWidth",re],excludes:"excludes",allowClose:[2,"allowClose","allowClose",D],keepingScroll:[2,"keepingScroll","keepingScroll",D],storageState:[2,"storageState","storageState",D],keepingScrollContainer:"keepingScrollContainer",customContextMenu:"customContextMenu",tabBarExtraContent:"tabBarExtraContent",tabBarGutter:"tabBarGutter",tabBarStyle:"tabBarStyle",tabType:"tabType",routeParamMatchMode:"routeParamMatchMode",disabled:[2,"disabled","disabled",D],titleRender:"titleRender",canClose:"canClose"},outputs:{change:"change",close:"close"},exportAs:["reuseTab"],standalone:!0,features:[ke([k]),be,ge,U],decls:5,vars:7,consts:[["tabset",""],["titleTemplate",""],[3,"nzSelectedIndex","nzAnimated","nzType","nzTabBarExtraContent","nzTabBarGutter","nzTabBarStyle"],[3,"nzTitle"],[3,"change","i18n"],[3,"nzClick","nzTitle"],[1,"reuse-tab__name",3,"reuse-tab-context-menu","customContextMenu"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-icon","","nzType","close",1,"reuse-tab__op"],["nz-icon","","nzType","close",1,"reuse-tab__op",3,"click"]],template:function(t,i){if(t&1){let r=R();m(0,"nz-tabset",2,0),Y(2,ut,3,1,"nz-tab",3,K),d(),m(4,"reuse-tab-context",4),p("change",function(c){return v(r),T(i.contextMenuChange(c))}),d()}t&2&&(f("nzSelectedIndex",i.pos)("nzAnimated",!1)("nzType",i.tabType)("nzTabBarExtraContent",i.tabBarExtraContent)("nzTabBarGutter",i.tabBarGutter)("nzTabBarStyle",i.tabBarStyle),h(2),W(i.list),h(2),f("i18n",i.i18n))},dependencies:[De,Qe,Xe,J,q,Ve],encapsulation:2,changeDetection:0});let n=s;return n})();var L=class{constructor(){this.srv=l(C)}shouldDetach(s){return this.srv.shouldDetach(s)}store(s,a){this.srv.store(s,a)}shouldAttach(s){return this.srv.shouldAttach(s)}retrieve(s){return this.srv.retrieve(s)}shouldReuseRoute(s,a){return this.srv.shouldReuseRoute(s,a)}};var ae=function(n){return n[n.CacheManager=0]="CacheManager",n[n.Store=1]="Store",n}(ae||{});function Je(n,s){return{\u0275kind:n,\u0275providers:s}}function Hi(n){let s=[C,{provide:M,useValue:n?.storeKey??"_reuse-tab-state"},(n?.cacheManager??ht()).\u0275providers,(n?.store??mt()).\u0275providers,{provide:Ne,useClass:L,deps:[C]},{provide:de,multi:!0,useValue:()=>{let a=l(C);n?.debug&&(a.debug=n.debug),n?.mode&&(a.mode=n.mode),n?.routeParamMatchMode&&(a.routeParamMatchMode=n.routeParamMatchMode),n?.max&&(a.max=n.max),n?.excludes&&(a.excludes=n.excludes)}}];return fe(s)}function ht(){return Je(ae.CacheManager,[{provide:I,useFactory:()=>new F}])}function mt(){return Je(ae.Store,[{provide:E,useFactory:()=>new j}])}export{_ as a,C as b,qe as c,Hi as d};
