import{a as Le,b as Ye}from"./chunk-6EQ2YOYD.js";import{Cb as c,Da as M,F as J,Gb as ve,Gc as Ie,Ha as te,Hb as xe,Hc as k,Ia as u,Ib as Te,Ic as oe,J as Z,Ld as z,Mb as _e,Nb as Se,Nh as Ke,O as me,Ob as ne,Oc as ke,Od as we,P as ee,Qa as E,Qd as Oe,Rb as a,Rd as Ue,Sa as ge,Tb as ye,Wa as ie,Xd as Pe,Ya as T,a as R,b as ae,bf as He,bi as Ge,da as V,db as $,ec as Me,fa as P,fb as A,gc as Ee,ha as r,hb as I,ia as he,ib as L,j as le,ja as de,kb as Y,kd as ze,kf as se,la as v,lb as W,ld as Ne,m as q,ma as x,mb as p,n as ue,nb as m,ni as Ve,ob as h,pa as pe,pb as Re,pc as Ae,pf as Fe,pi as $e,qa as fe,qd as X,ra as be,sd as Be,sg as je,td as De,ud as H,v as ce,wa as Ce,wb as _,zb as d}from"./chunk-BCFC3QQ2.js";var N=new P("REUSE_TAB_CACHED_MANAGER"),F=class{list=[];title={};closable={}};var S=new P("REUSE_TAB_STORAGE_KEY"),y=new P("REUSE_TAB_STORAGE_STATE"),j=class{get(e){return JSON.parse(localStorage.getItem(e)||"[]")||[]}update(e,t){return localStorage.setItem(e,JSON.stringify(t)),!0}remove(e){localStorage.removeItem(e)}};var b=class o{injector=r(pe);menuService=r(Oe);cached=r(N);stateKey=r(S);stateSrv=r(y);_inited=!1;_max=10;_keepingScroll=!1;_cachedChange=new ue(null);_router$;removeUrlBuffer=null;positionBuffer={};componentRef;debug=!1;routeParamMatchMode="strict";mode=0;excludes=[];storageState=!1;get snapshot(){return this.injector.get(X).snapshot}get inited(){return this._inited}get curUrl(){return this.getUrl(this.snapshot)}set max(e){this._max=Math.min(Math.max(e,2),100);for(let t=this.cached.list.length;t>this._max;t--)this.cached.list.pop()}set keepingScroll(e){this._keepingScroll=e,this.initScroll()}get keepingScroll(){return this._keepingScroll}keepingScrollContainer;get items(){return this.cached.list}get count(){return this.cached.list.length}get change(){return this._cachedChange.asObservable()}set title(e){let t=this.curUrl;typeof e=="string"&&(e={text:e}),this.cached.title[t]=e,this.di("update current tag title: ",e),this._cachedChange.next({active:"title",url:t,title:e,list:this.cached.list})}index(e){return this.cached.list.findIndex(t=>t.url===e)}exists(e){return this.index(e)!==-1}get(e){return e&&this.cached.list.find(t=>t.url===e)||null}remove(e,t){let i=typeof e=="string"?this.index(e):e,n=i!==-1?this.cached.list[i]:null;return!n||!t&&!n.closable?!1:(this.destroy(n._handle),this.cached.list.splice(i,1),delete this.cached.title[e],!0)}close(e,t=!1){return this.removeUrlBuffer=e,this.remove(e,t),this._cachedChange.next({active:"close",url:e,list:this.cached.list}),this.di("close tag",e),!0}closeRight(e,t=!1){let i=this.index(e);for(let n=this.count-1;n>i;n--)this.remove(n,t);return this.removeUrlBuffer=null,this._cachedChange.next({active:"closeRight",url:e,list:this.cached.list}),this.di("close right tages",e),!0}clear(e=!1){this.cached.list.forEach(t=>{!e&&t.closable&&this.destroy(t._handle)}),this.cached.list=this.cached.list.filter(t=>!e&&!t.closable),this.removeUrlBuffer=null,this._cachedChange.next({active:"clear",list:this.cached.list}),this.di("clear all catch")}move(e,t){let i=this.cached.list.findIndex(s=>s.url===e);if(i===-1)return;let n=this.cached.list.slice();n.splice(t<0?n.length+t:t,0,n.splice(i,1)[0]),this.cached.list=n,this._cachedChange.next({active:"move",url:e,position:t,list:this.cached.list})}replace(e){let t=this.curUrl;this.injector.get(H).navigateByUrl(e).then(()=>{this.exists(t)?this.close(t,!0):this.removeUrlBuffer=t})}getTitle(e,t){if(this.cached.title[e])return this.cached.title[e];if(t&&t.data&&(t.data.titleI18n||t.data.title))return{text:t.data.title,i18n:t.data.titleI18n};let i=this.getMenu(e);return i?{text:i.text,i18n:i.i18n}:{text:e}}clearTitleCached(){this.cached.title={}}set closable(e){let t=this.curUrl;this.cached.closable[t]=e,this.di("update current tag closable: ",e),this._cachedChange.next({active:"closable",closable:e,list:this.cached.list})}getClosable(e,t){if(typeof this.cached.closable[e]<"u")return this.cached.closable[e];if(t&&t.data&&typeof t.data.reuseClosable=="boolean")return t.data.reuseClosable;let i=this.mode!==2?this.getMenu(e):null;return i&&typeof i.reuseClosable=="boolean"?i.reuseClosable:!0}clearClosableCached(){this.cached.closable={}}getTruthRoute(e){let t=e;for(;t.firstChild;)t=t.firstChild;return t}getUrl(e){let t=this.getTruthRoute(e),i=[];for(;t;)i.push(t.url.join("/")),t=t.parent;return`/${i.filter(s=>s).reverse().join("/")}`}can(e){let t=this.getUrl(e);if(t===this.removeUrlBuffer)return!1;if(e.data&&typeof e.data.reuse=="boolean")return e.data.reuse;if(this.mode!==2){let i=this.getMenu(t);if(!i)return!1;if(this.mode===0){if(i.reuse===!1)return!1}else if(!i.reuse||i.reuse!==!0)return!1;return!0}return!this.isExclude(t)}isExclude(e){return this.excludes.findIndex(t=>t.test(e))!==-1}refresh(e){this._cachedChange.next({active:"refresh",data:e})}destroy(e){e&&e.componentRef&&e.componentRef.destroy&&e.componentRef.destroy()}di(...e){}constructor(){this.cached==null&&(this.cached={list:[],title:{},closable:{}})}init(){this.initScroll(),this._inited=!0,this.loadState()}loadState(){this.storageState&&(this.cached.list=this.stateSrv.get(this.stateKey).map(e=>ae(R({},e),{title:{text:e.title},url:e.url,position:e.position})),this._cachedChange.next({active:"loadState"}))}getMenu(e){let t=this.menuService.getPathByUrl(e);return!t||t.length===0?null:t.pop()}runHook(e,t,i="init"){if(typeof t=="number"&&(t=this.cached.list[t]._handle?.componentRef),t==null||!t.instance)return;let n=t.instance,s=n[e];typeof s=="function"&&(e==="_onReuseInit"?s.call(n,i):s.call(n))}hasInValidRoute(e){return!e.routeConfig||!!e.routeConfig.loadChildren||!!e.routeConfig.children}shouldDetach(e){return this.hasInValidRoute(e)?!1:(this.di("#shouldDetach",this.can(e),this.getUrl(e)),this.can(e))}saveCache(e,t,i){let n=this.getTruthRoute(e),s=this.getUrl(e),l=this.index(s),f={title:this.getTitle(s,n),url:s,closable:this.getClosable(s,e),_snapshot:e,_handle:t};if(l<0){if(this.items.splice(i??this.items.length,0,f),this.count>this._max){let O=this.items.findIndex(g=>g.url!==s&&g.closable);if(O!==-1){let g=this.items[O];this.remove(O,!1),J(1).pipe(ee(1)).subscribe(()=>this._cachedChange.next({active:"close",url:g.url,list:this.cached.list}))}}}else this.items[l]=f}store(e,t){let i=this.getUrl(e);t!=null&&this.saveCache(e,t);let n=this.cached.list,s={title:this.getTitle(i,e),closable:this.getClosable(i,e),position:this.getKeepingScroll(i,e)?this.positionBuffer[i]:null,url:i,_snapshot:e,_handle:t},l=this.index(i),f=n[l]?._handle?.componentRef;t==null&&f!=null&&J(100).pipe(ee(1)).subscribe(()=>this.runHook("_onReuseInit",f)),n[l]=s,this.removeUrlBuffer=null,this.di("#store","[override]",i),t&&t.componentRef&&this.runHook("_onReuseDestroy",t.componentRef),this._cachedChange.next({active:"override",item:s,list:n})}shouldAttach(e){if(this.hasInValidRoute(e))return!1;let t=this.getUrl(e),i=this.get(t),n=!!(i&&i._handle);return this.di("#shouldAttach",n,t),n||this._cachedChange.next({active:"add",url:t,list:this.cached.list}),n}retrieve(e){if(this.hasInValidRoute(e))return null;let t=this.getUrl(e),i=this.get(t),n=i&&i._handle||null;return this.di("#retrieve",t,n),n}shouldReuseRoute(e,t){let i=e.routeConfig===t.routeConfig;if(!i)return!1;let n=e.routeConfig&&e.routeConfig.path||"";return n.length>0&&~n.indexOf(":")&&(this.routeParamMatchMode==="strict"?i=this.getUrl(e)===this.getUrl(t):i=n===(t.routeConfig&&t.routeConfig.path||"")),this.di("====================="),this.di("#shouldReuseRoute",i,`${this.getUrl(t)}=>${this.getUrl(e)}`,e,t),i}getKeepingScroll(e,t){if(t&&t.data&&typeof t.data.keepingScroll=="boolean")return t.data.keepingScroll;let i=this.mode!==2?this.getMenu(e):null;return i&&typeof i.keepingScroll=="boolean"?i.keepingScroll:this.keepingScroll}get isDisabledInRouter(){return this.injector.get(Be,{}).scrollPositionRestoration==="disabled"}get ss(){return this.injector.get(Ge)}initScroll(){this._router$&&this._router$.unsubscribe(),this._router$=this.injector.get(H).events.subscribe(e=>{if(e instanceof ze){let t=this.curUrl;this.getKeepingScroll(t,this.getTruthRoute(this.snapshot))?this.positionBuffer[t]=this.ss.getScrollPosition(this.keepingScrollContainer):delete this.positionBuffer[t]}else if(e instanceof Ne){let t=this.curUrl,i=this.get(t);i&&i.position&&this.getKeepingScroll(t,this.getTruthRoute(this.snapshot))&&(this.isDisabledInRouter?this.ss.scrollToPosition(this.keepingScrollContainer,i.position):setTimeout(()=>this.ss.scrollToPosition(this.keepingScrollContainer,i.position),1))}})}ngOnDestroy(){let{_cachedChange:e,_router$:t}=this;this.clear(),this.cached.list=[],e.complete(),t&&t.unsubscribe()}static \u0275fac=function(t){return new(t||o)};static \u0275prov=V({token:o,factory:o.\u0275fac})};function Je(o,e){if(o&1){let t=_();a(0,`
    `),m(1,"li",4),d("click",function(n){v(t);let s=c();return x(s.click(n,"refresh"))}),h(),a(2,`
  `)}if(o&2){let t=c();u(),p("innerHTML",t.i18n.refresh,M)}}function Ze(o,e){if(o&1){let t=_();a(0,`
      `),m(1,"li",6),d("click",function(n){let s=v(t).$implicit,l=c(2);return x(l.click(n,"custom",s))}),h(),a(2,`
    `)}if(o&2){let t=e.$implicit,i=c(2);u(),p("nzDisabled",i.isDisabled(t))("innerHTML",t.title,M),$("data-type",t.id)}}function et(o,e){if(o&1&&(a(0,`
    `),Re(1,"li",5),a(2,`
    `),Y(3,Ze,3,3,null,null,L)),o&2){let t=c();u(3),W(t.customContextMenu)}}var B=class o{locale=r(Ke).valueSignal("reuseTab");_i18n;set i18n(e){this._i18n=R(R({},this.locale()),e)}get i18n(){return this._i18n}item;event;customContextMenu;close=new T;get includeNonCloseable(){return this.event.ctrlKey}notify(e){this.close.next({type:e,item:this.item,includeNonCloseable:this.includeNonCloseable})}ngOnInit(){this.includeNonCloseable&&(this.item.closable=!0)}click(e,t,i){if(e.preventDefault(),e.stopPropagation(),!(t==="close"&&!this.item.closable)&&!(t==="closeRight"&&this.item.last)){if(i){if(this.isDisabled(i))return;i.fn(this.item,i)}this.notify(t)}}isDisabled(e){return e.disabled?e.disabled(this.item):!1}closeMenu(e){e.type==="click"&&e.button===2||this.notify(null)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=E({type:o,selectors:[["reuse-tab-context-menu"]],hostBindings:function(t,i){t&1&&d("click",function(s){return i.closeMenu(s)},te)("contextmenu",function(s){return i.closeMenu(s)},te)},inputs:{i18n:"i18n",item:"item",event:"event",customContextMenu:"customContextMenu"},outputs:{close:"close"},decls:11,vars:7,consts:[["nz-menu",""],["nz-menu-item","","data-type","close",3,"click","nzDisabled","innerHTML"],["nz-menu-item","","data-type","closeOther",3,"click","innerHTML"],["nz-menu-item","","data-type","closeRight",3,"click","nzDisabled","innerHTML"],["nz-menu-item","","data-type","refresh",3,"click","innerHTML"],["nz-menu-divider",""],["nz-menu-item","",3,"click","nzDisabled","innerHTML"]],template:function(t,i){t&1&&(m(0,"ul",0),a(1,`
  `),A(2,Je,3,1),m(3,"li",1),d("click",function(s){return i.click(s,"close")}),h(),a(4,`
  `),m(5,"li",2),d("click",function(s){return i.click(s,"closeOther")}),h(),a(6,`
  `),m(7,"li",3),d("click",function(s){return i.click(s,"closeRight")}),h(),a(8,`
  `),A(9,et,5,0),h(),a(10,`
`)),t&2&&(u(2),I(i.item.active?2:-1),u(),p("nzDisabled",!i.item.closable)("innerHTML",i.i18n.close,M),u(2),p("innerHTML",i.i18n.closeOther,M),u(2),p("nzDisabled",i.item.last)("innerHTML",i.i18n.closeRight,M),u(2),I(i.customContextMenu.length>0?9:-1))},dependencies:[$e,Ve],encapsulation:2,changeDetection:0})};var C=class o{overlay=r(Fe);ref=null;i18n;show=new q;close=new q;remove(){this.ref&&(this.ref.detach(),this.ref.dispose(),this.ref=null)}open(e){this.remove();let{event:t,item:i,customContextMenu:n}=e,{x:s,y:l}=t,f=[new se({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new se({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})],O=this.overlay.position().flexibleConnectedTo({x:s,y:l}).withPositions(f);this.ref=this.overlay.create({positionStrategy:O,panelClass:"reuse-tab__cm",scrollStrategy:this.overlay.scrollStrategies.close()});let g=this.ref.attach(new He(B)),U=g.instance;U.i18n=this.i18n,U.item=R({},i),U.customContextMenu=n,U.event=t;let re=new le;re.add(U.close.subscribe(Qe=>{this.close.next(Qe),this.remove()})),g.onDestroy(()=>re.unsubscribe())}static \u0275fac=function(t){return new(t||o)};static \u0275prov=V({token:o,factory:o.\u0275fac})};var D=class o{srv=r(C);set i18n(e){this.srv.i18n=e}change=new T;constructor(){this.srv.show.pipe(z()).subscribe(e=>this.srv.open(e)),this.srv.close.pipe(z()).subscribe(e=>this.change.emit(e))}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=E({type:o,selectors:[["reuse-tab-context"]],inputs:{i18n:"i18n"},outputs:{change:"change"},decls:0,vars:0,template:function(t,i){},encapsulation:2})};var w=class o{srv=r(C);item;customContextMenu;_onContextMenu(e){this.srv.show.next({event:e,item:this.item,customContextMenu:this.customContextMenu}),e.preventDefault(),e.stopPropagation()}static \u0275fac=function(t){return new(t||o)};static \u0275dir=ge({type:o,selectors:[["","reuse-tab-context-menu",""]],hostBindings:function(t,i){t&1&&d("contextmenu",function(s){return i._onContextMenu(s)})},inputs:{item:[0,"reuse-tab-context-menu","item"],customContextMenu:"customContextMenu"},exportAs:["reuseTabContextMenu"]})};var tt=["tabset"],it=o=>({$implicit:o});function nt(o,e){}function ot(o,e){if(o&1&&(a(0,`
              `),ie(1,nt,0,0,"ng-template",6),a(2,`
            `)),o&2){let t=c(2).$implicit,i=c();u(),p("ngTemplateOutlet",i.titleRender)("ngTemplateOutletContext",Ee(2,it,t))}}function st(o,e){if(o&1&&a(0),o&2){let t=c(2).$implicit;ye(`
              `,t.title,`
            `)}}function rt(o,e){if(o&1){let t=_();a(0,`
          `),m(1,"nz-icon",7),d("click",function(n){v(t);let s=c(2).$index,l=c();return x(l._close(n,s,!1))}),h(),a(2,`
        `)}}function at(o,e){if(o&1&&(a(0,`
        `),m(1,"div",5),a(2,`
          `),m(3,"span"),a(4,`
            `),A(5,ot,3,4)(6,st,1,1),h(),a(7,`
        `),h(),a(8,`
        `),A(9,rt,3,0)),o&2){let t=c().$implicit,i=c();u(),p("reuse-tab-context-menu",t)("customContextMenu",i.customContextMenu),$("title",t.title),u(2),Se("max-width",i.tabMaxWidth,"px"),ne("reuse-tab__name-width",i.tabMaxWidth),u(2),I(i.titleRender?5:6),u(4),I(t.closable?9:-1)}}function lt(o,e){if(o&1){let t=_();a(0,`
    `),m(1,"nz-tab",4),d("nzClick",function(){let n=v(t).$index,s=c();return x(s._to(n))}),a(2,`
      `),ie(3,at,10,9,"ng-template",null,1,Ae),a(5,`
    `),h(),a(6,`
  `)}if(o&2){let t=_e(4);u(),p("nzTitle",t)}}var Q=class o{srv=r(b,{optional:!0});cdr=r(Ie);router=r(H);route=r(X);i18nSrv=r(we);doc=r(fe);platform=r(Ue);stateKey=r(S);stateSrv=r(y);tabset;destroy$=r(be);_keepingScrollContainer;list=[];item;pos=0;dir=r(Pe).valueSignal;mode=0;i18n;debug=!1;max;tabMaxWidth;excludes;allowClose=!0;keepingScroll=!1;storageState=!1;set keepingScrollContainer(e){this._keepingScrollContainer=typeof e=="string"?this.doc.querySelector(e):e}customContextMenu=[];tabBarExtraContent;tabBarGutter;tabBarStyle=null;tabType="line";routeParamMatchMode="strict";disabled=!1;titleRender;canClose;change=new T;close=new T;genTit(e){return e.i18n?this.i18nSrv.fanyi(e.i18n):e.text}get curUrl(){return this.srv.getUrl(this.route.snapshot)}genCurItem(){let e=this.curUrl,t=this.srv.getTruthRoute(this.route.snapshot);return{url:e,title:this.genTit(this.srv.getTitle(e,t)),closable:this.allowClose&&this.srv.count>0&&this.srv.getClosable(e,t),active:!1,last:!1,index:0}}genList(e){let t=this.srv.items.map((s,l)=>({url:s.url,title:this.genTit(s.title),closable:this.allowClose&&this.srv.count>0&&this.srv.getClosable(s.url,s._snapshot),position:s.position,index:l,active:!1,last:!1})),i=this.curUrl,n=t.findIndex(s=>s.url===i)===-1;if(e&&e.active==="close"&&e.url===i){n=!1;let s=0,l=this.list.find(f=>f.url===i);l.index===t.length?s=t.length-1:l.index<t.length&&(s=Math.max(0,l.index)),this.router.navigateByUrl(t[s].url)}if(n){let s=this.pos+1;t.splice(s,0,this.genCurItem()),this.srv.saveCache(this.route.snapshot,null,s)}t.forEach((s,l)=>s.index=l),t.length===1&&(t[0].closable=!1),this.list=t,this.cdr.detectChanges(),this.updatePos()}updateTitle(e){let t=this.list.find(i=>i.url===e.url);t&&(t.title=this.genTit(e.title),this.cdr.detectChanges())}refresh(e){this.srv.runHook("_onReuseInit",this.pos===e.index?this.srv.componentRef:e.index,"refresh")}saveState(){!this.srv.inited||!this.storageState||this.stateSrv?.update(this.stateKey,this.list)}contextMenuChange(e){let t=null;switch(e.type){case"refresh":this.refresh(e.item);break;case"close":this._close(null,e.item.index,e.includeNonCloseable);break;case"closeRight":t=()=>{this.srv.closeRight(e.item.url,e.includeNonCloseable),this.close.emit(null)};break;case"closeOther":t=()=>{this.srv.clear(e.includeNonCloseable),this.close.emit(null)};break}t&&(!e.item.active&&e.item.index<=this.list.find(i=>i.active).index?this._to(e.item.index,t):t())}_to(e,t){e=Math.max(0,Math.min(e,this.list.length-1));let i=this.list[e];this.router.navigateByUrl(i.url).then(n=>{n&&(this.item=i,this.change.emit(i),t?.())})}_close(e,t,i){e!=null&&(e.preventDefault(),e.stopPropagation());let n=this.list[t];return(this.canClose?this.canClose({item:n,includeNonCloseable:i}):ce(!0)).pipe(Z(s=>s)).subscribe(()=>{this.srv.close(n.url,i),this.close.emit(n),this.cdr.detectChanges()}),!1}activate(e){this.srv!=null&&(this.srv.componentRef={instance:e})}updatePos(){let e=this.srv.getUrl(this.route.snapshot),t=this.list.filter(l=>l.url===e||!this.srv.isExclude(l.url));if(t.length===0)return;let i=t[t.length-1],n=t.find(l=>l.url===e);i.last=!0;let s=n==null?i.index:n.index;t.forEach((l,f)=>l.active=s===f),this.pos=s,this.tabset.nzSelectedIndex=s,this.list=t,this.cdr.detectChanges(),this.saveState()}ngOnInit(){!this.platform.isBrowser||this.srv==null||(this.srv.change.pipe(z(this.destroy$)).subscribe(e=>{switch(e?.active){case"title":this.updateTitle(e);return;case"override":if(e?.list?.length===this.list.length){this.updatePos();return}break}this.genList(e)}),this.i18nSrv.change.pipe(Z(()=>this.srv.inited),z(this.destroy$),me(100)).subscribe(()=>this.genList({active:"title"})),this.srv.init())}ngOnChanges(e){!this.platform.isBrowser||this.srv==null||(e.max&&(this.srv.max=this.max),e.excludes&&(this.srv.excludes=this.excludes),e.mode&&(this.srv.mode=this.mode),e.routeParamMatchMode&&(this.srv.routeParamMatchMode=this.routeParamMatchMode),e.keepingScroll&&(this.srv.keepingScroll=this.keepingScroll,this.srv.keepingScrollContainer=this._keepingScrollContainer),e.storageState&&(this.srv.storageState=this.storageState),this.srv.debug=this.debug,this.cdr.detectChanges())}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=E({type:o,selectors:[["reuse-tab"],["","reuse-tab",""]],viewQuery:function(t,i){if(t&1&&ve(tt,5),t&2){let n;xe(n=Te())&&(i.tabset=n.first)}},hostVars:10,hostBindings:function(t,i){t&2&&ne("reuse-tab",!0)("reuse-tab__line",i.tabType==="line")("reuse-tab__card",i.tabType==="card")("reuse-tab__disabled",i.disabled)("reuse-tab-rtl",i.dir()==="rtl")},inputs:{mode:"mode",i18n:"i18n",debug:[2,"debug","debug",k],max:[2,"max","max",oe],tabMaxWidth:[2,"tabMaxWidth","tabMaxWidth",oe],excludes:"excludes",allowClose:[2,"allowClose","allowClose",k],keepingScroll:[2,"keepingScroll","keepingScroll",k],storageState:[2,"storageState","storageState",k],keepingScrollContainer:"keepingScrollContainer",customContextMenu:"customContextMenu",tabBarExtraContent:"tabBarExtraContent",tabBarGutter:"tabBarGutter",tabBarStyle:"tabBarStyle",tabType:"tabType",routeParamMatchMode:"routeParamMatchMode",disabled:[2,"disabled","disabled",k],titleRender:"titleRender",canClose:"canClose"},outputs:{change:"change",close:"close"},exportAs:["reuseTab"],features:[Me([C]),Ce],decls:8,vars:7,consts:[["tabset",""],["titleTemplate",""],[3,"nzSelectedIndex","nzAnimated","nzType","nzTabBarExtraContent","nzTabBarGutter","nzTabBarStyle"],[3,"change","i18n"],[3,"nzClick","nzTitle"],[1,"reuse-tab__name",3,"reuse-tab-context-menu","customContextMenu"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nzType","close",1,"reuse-tab__op",3,"click"]],template:function(t,i){if(t&1){let n=_();m(0,"nz-tabs",2,0),a(2,`
  `),Y(3,lt,7,1,null,null,L),h(),a(5,`
`),m(6,"reuse-tab-context",3),d("change",function(l){return v(n),x(i.contextMenuChange(l))}),h(),a(7,`
`)}t&2&&(p("nzSelectedIndex",i.pos)("nzAnimated",!1)("nzType",i.tabType)("nzTabBarExtraContent",i.tabBarExtraContent)("nzTabBarGutter",i.tabBarGutter)("nzTabBarStyle",i.tabBarStyle),u(3),W(i.list),u(3),p("i18n",i.i18n))},dependencies:[ke,Ye,Le,w,D,je],encapsulation:2,changeDetection:0})};var G=class{srv=r(b);shouldDetach(e){return this.srv.shouldDetach(e)}store(e,t){this.srv.store(e,t)}shouldAttach(e){return this.srv.shouldAttach(e)}retrieve(e){return this.srv.retrieve(e)}shouldReuseRoute(e,t){return this.srv.shouldReuseRoute(e,t)}};function Xe(o,e){return{\u0275kind:o,\u0275providers:e}}function hn(o){return he([b,{provide:S,useValue:o?.storeKey??"_reuse-tab-state"},(o?.cacheManager??ut()).\u0275providers,(o?.store??ct()).\u0275providers,{provide:De,useClass:G,deps:[b]},de(()=>{let e=r(b);o?.debug&&(e.debug=o.debug),o?.mode&&(e.mode=o.mode),o?.routeParamMatchMode&&(e.routeParamMatchMode=o.routeParamMatchMode),o?.max&&(e.max=o.max),o?.excludes&&(e.excludes=o.excludes)})])}function ut(){return Xe(0,[{provide:N,useFactory:()=>new F}])}function ct(){return Xe(1,[{provide:y,useFactory:()=>new j}])}export{b as a,Q as b,hn as c};
