import{a as _n,b as tc}from"./chunk-XJLZHQ5T.js";import{b as mn,f as Bl,g as Kl,h as Gl,i as Jl,j as Xl,k as Zl,l as Rr,m as Yl,p as ec,u as nc}from"./chunk-R5VAI66E.js";import{a as El,b as xl,c as Tl,d as Pl,e as Ol,f as Il,g as Dl,h as Nl}from"./chunk-33BRUHE7.js";import{a as rc,b as ic}from"./chunk-T4MT3AFR.js";import{h as kl,i as Ml,o as Rl,p as Fl,s as wt,t as bt,u as Ql}from"./chunk-QUOQ3RTM.js";import{F as Bt,H as Vl,I as hn,J as Al,K as jl,L as ql,M as Wl,N as Ll,O as Ul,P as Hl,d as pn,g as De,h as wl,k as bl,m as Ne,n as $l,v as Sl,z as Mr}from"./chunk-L6RNMHW5.js";import{Bb as ol,Ca as yt,Cb as al,Db as sl,Dg as fn,Eb as Ie,F as Ls,Fb as ue,Ff as it,Ga as en,Gb as Vr,Gf as _l,H as Us,Ha as Zs,Hb as Se,Hf as Le,If as cn,J as Hs,Ja as S,Jb as sn,Ka as Qs,Kf as un,L as Xi,La as tn,Lb as mo,Lc as ln,M as Bs,Mb as ll,Mf as gl,Na as Nr,Oa as Ht,Ob as cl,P as Zi,Pa as ae,Qa as rn,Ra as Ys,Sa as I,Sg as zl,Ta as Ye,Ua as $,Va as nn,Vb as qe,Wa as Ee,X as Qi,Y as Lt,Ya as el,_f as dn,a as O,ac as vt,b as ge,bb as V,bc as ul,c as As,ca as mi,cb as et,d as x,da as Ks,eb as tt,ed as lr,f as js,fb as rt,g as Pr,ga as Q,gb as T,ha as je,hb as P,ia as te,ib as ie,ic as kr,id as Ct,j as qs,ja as Gs,jb as tl,jc as dl,jd as pl,k as Or,ka as kt,kb as rl,kd as ho,l as Ir,lb as il,mb as he,md as ml,na as Ut,oa as R,og as yl,pa as F,pc as We,pd as hl,qb as Y,s as Ws,sa as oe,sb as v,tb as on,ua as Js,ub as an,va as Xs,w as Dr,wc as fl,x as po,xa as Yi,yg as vl,zb as nl,zg as Cl}from"./chunk-P6RVAZV5.js";var vi=x(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.regexpCode=J.getEsmExportName=J.getProperty=J.safeStringify=J.stringify=J.strConcat=J.addCodeArg=J.str=J._=J.nil=J._Code=J.Name=J.IDENTIFIER=J._CodeOrName=void 0;var gi=class{};J._CodeOrName=gi;J.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var ur=class extends gi{constructor(e){if(super(),!J.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};J.Name=ur;var nt=class extends gi{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((t,i)=>`${t}${i}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((t,i)=>(i instanceof ur&&(t[i.str]=(t[i.str]||0)+1),t),{})}};J._Code=nt;J.nil=new nt("");function lc(r,...e){let t=[r[0]],i=0;for(;i<e.length;)vo(t,e[i]),t.push(r[++i]);return new nt(t)}J._=lc;var yo=new nt("+");function cc(r,...e){let t=[yi(r[0])],i=0;for(;i<e.length;)t.push(yo),vo(t,e[i]),t.push(yo,yi(r[++i]));return Tf(t),new nt(t)}J.str=cc;function vo(r,e){e instanceof nt?r.push(...e._items):e instanceof ur?r.push(e):r.push(If(e))}J.addCodeArg=vo;function Tf(r){let e=1;for(;e<r.length-1;){if(r[e]===yo){let t=Pf(r[e-1],r[e+1]);if(t!==void 0){r.splice(e-1,3,t);continue}r[e++]="+"}e++}}function Pf(r,e){if(e==='""')return r;if(r==='""')return e;if(typeof r=="string")return e instanceof ur||r[r.length-1]!=='"'?void 0:typeof e!="string"?`${r.slice(0,-1)}${e}"`:e[0]==='"'?r.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(r instanceof ur))return`"${r}${e.slice(1)}`}function Of(r,e){return e.emptyStr()?r:r.emptyStr()?e:cc`${r}${e}`}J.strConcat=Of;function If(r){return typeof r=="number"||typeof r=="boolean"||r===null?r:yi(Array.isArray(r)?r.join(","):r)}function Df(r){return new nt(yi(r))}J.stringify=Df;function yi(r){return JSON.stringify(r).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}J.safeStringify=yi;function Nf(r){return typeof r=="string"&&J.IDENTIFIER.test(r)?new nt(`.${r}`):lc`[${r}]`}J.getProperty=Nf;function Vf(r){if(typeof r=="string"&&J.IDENTIFIER.test(r))return new nt(`${r}`);throw new Error(`CodeGen: invalid export name: ${r}, use explicit $id name mapping`)}J.getEsmExportName=Vf;function kf(r){return new nt(r.toString())}J.regexpCode=kf});var $o=x(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.ValueScope=Re.ValueScopeName=Re.Scope=Re.varKinds=Re.UsedValueState=void 0;var Ue=vi(),Co=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},wo;(function(r){r[r.Started=0]="Started",r[r.Completed=1]="Completed"})(wo=Re.UsedValueState||(Re.UsedValueState={}));Re.varKinds={const:new Ue.Name("const"),let:new Ue.Name("let"),var:new Ue.Name("var")};var Cn=class{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof Ue.Name?e:this.name(e)}name(e){return new Ue.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,i;if(!((i=(t=this._parent)===null||t===void 0?void 0:t._prefixes)===null||i===void 0)&&i.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};Re.Scope=Cn;var wn=class extends Ue.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:i}){this.value=e,this.scopePath=(0,Ue._)`.${new Ue.Name(t)}[${i}]`}};Re.ValueScopeName=wn;var Mf=(0,Ue._)`\n`,bo=class extends Cn{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=ge(O({},e),{_n:e.lines?Mf:Ue.nil})}get(){return this._scope}name(e){return new wn(e,this._newName(e))}value(e,t){var i;if(t.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(e),{prefix:o}=n,a=(i=t.key)!==null&&i!==void 0?i:t.ref,s=this._values[o];if(s){let f=s.get(a);if(f)return f}else s=this._values[o]=new Map;s.set(a,n);let u=this._scope[o]||(this._scope[o]=[]),p=u.length;return u[p]=t.ref,n.setValue(t,{property:o,itemIndex:p}),n}getValue(e,t){let i=this._values[e];if(i)return i.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,Ue._)`${e}${i.scopePath}`})}scopeCode(e=this._values,t,i){return this._reduceValues(e,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},t,i)}_reduceValues(e,t,i={},n){let o=Ue.nil;for(let a in e){let s=e[a];if(!s)continue;let u=i[a]=i[a]||new Map;s.forEach(p=>{if(u.has(p))return;u.set(p,wo.Started);let f=t(p);if(f){let m=this.opts.es5?Re.varKinds.var:Re.varKinds.const;o=(0,Ue._)`${o}${m} ${p} = ${f};${this.opts._n}`}else if(f=n?.(p))o=(0,Ue._)`${o}${f}${this.opts._n}`;else throw new Co(p);u.set(p,wo.Completed)})}return o}};Re.ValueScope=bo});var W=x(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.or=L.and=L.not=L.CodeGen=L.operators=L.varKinds=L.ValueScopeName=L.ValueScope=L.Scope=L.Name=L.regexpCode=L.stringify=L.getProperty=L.nil=L.strConcat=L.str=L._=void 0;var H=vi(),lt=$o(),Gt=vi();Object.defineProperty(L,"_",{enumerable:!0,get:function(){return Gt._}});Object.defineProperty(L,"str",{enumerable:!0,get:function(){return Gt.str}});Object.defineProperty(L,"strConcat",{enumerable:!0,get:function(){return Gt.strConcat}});Object.defineProperty(L,"nil",{enumerable:!0,get:function(){return Gt.nil}});Object.defineProperty(L,"getProperty",{enumerable:!0,get:function(){return Gt.getProperty}});Object.defineProperty(L,"stringify",{enumerable:!0,get:function(){return Gt.stringify}});Object.defineProperty(L,"regexpCode",{enumerable:!0,get:function(){return Gt.regexpCode}});Object.defineProperty(L,"Name",{enumerable:!0,get:function(){return Gt.Name}});var En=$o();Object.defineProperty(L,"Scope",{enumerable:!0,get:function(){return En.Scope}});Object.defineProperty(L,"ValueScope",{enumerable:!0,get:function(){return En.ValueScope}});Object.defineProperty(L,"ValueScopeName",{enumerable:!0,get:function(){return En.ValueScopeName}});Object.defineProperty(L,"varKinds",{enumerable:!0,get:function(){return En.varKinds}});L.operators={GT:new H._Code(">"),GTE:new H._Code(">="),LT:new H._Code("<"),LTE:new H._Code("<="),EQ:new H._Code("==="),NEQ:new H._Code("!=="),NOT:new H._Code("!"),OR:new H._Code("||"),AND:new H._Code("&&"),ADD:new H._Code("+")};var Mt=class{optimizeNodes(){return this}optimizeNames(e,t){return this}},So=class extends Mt{constructor(e,t,i){super(),this.varKind=e,this.name=t,this.rhs=i}render({es5:e,_n:t}){let i=e?lt.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=Ur(this.rhs,e,t)),this}get names(){return this.rhs instanceof H._CodeOrName?this.rhs.names:{}}},$n=class extends Mt{constructor(e,t,i){super(),this.lhs=e,this.rhs=t,this.sideEffects=i}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof H.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Ur(this.rhs,e,t),this}get names(){let e=this.lhs instanceof H.Name?{}:O({},this.lhs.names);return zn(e,this.rhs)}},zo=class extends $n{constructor(e,t,i,n){super(e,i,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Eo=class extends Mt{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},xo=class extends Mt{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},To=class extends Mt{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},Po=class extends Mt{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=Ur(this.code,e,t),this}get names(){return this.code instanceof H._CodeOrName?this.code.names:{}}},Ci=class extends Mt{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,i)=>t+i.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let i=e[t].optimizeNodes();Array.isArray(i)?e.splice(t,1,...i):i?e[t]=i:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:i}=this,n=i.length;for(;n--;){let o=i[n];o.optimizeNames(e,t)||(Rf(e,o.names),i.splice(n,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>dr(e,t.names),{})}},Rt=class extends Ci{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Oo=class extends Ci{},Io=(()=>{class r extends Rt{}return r.kind="else",r})(),bn=(()=>{class r extends Rt{constructor(t,i){super(i),this.condition=t}render(t){let i=`if(${this.condition})`+super.render(t);return this.else&&(i+="else "+this.else.render(t)),i}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let i=this.else;if(i){let n=i.optimizeNodes();i=this.else=Array.isArray(n)?new Io(n):n}if(i)return t===!1?i instanceof r?i:i.nodes:this.nodes.length?this:new r(mc(t),i instanceof r?[i]:i.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,i){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,i),!!(super.optimizeNames(t,i)||this.else))return this.condition=Ur(this.condition,t,i),this}get names(){let t=super.names;return zn(t,this.condition),this.else&&dr(t,this.else.names),t}}return r.kind="if",r})(),xn=(()=>{class r extends Rt{}return r.kind="for",r})(),Do=class extends xn{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=Ur(this.iteration,e,t),this}get names(){return dr(super.names,this.iteration.names)}},No=class extends xn{constructor(e,t,i,n){super(),this.varKind=e,this.name=t,this.from=i,this.to=n}render(e){let t=e.es5?lt.varKinds.var:this.varKind,{name:i,from:n,to:o}=this;return`for(${t} ${i}=${n}; ${i}<${o}; ${i}++)`+super.render(e)}get names(){let e=zn(super.names,this.from);return zn(e,this.to)}},Sn=class extends xn{constructor(e,t,i,n){super(),this.loop=e,this.varKind=t,this.name=i,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=Ur(this.iterable,e,t),this}get names(){return dr(super.names,this.iterable.names)}},uc=(()=>{class r extends Rt{constructor(t,i,n){super(),this.name=t,this.args=i,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}}return r.kind="func",r})(),dc=(()=>{class r extends Ci{render(t){return"return "+super.render(t)}}return r.kind="return",r})(),Vo=class extends Rt{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(t=this.finally)===null||t===void 0||t.optimizeNodes(),this}optimizeNames(e,t){var i,n;return super.optimizeNames(e,t),(i=this.catch)===null||i===void 0||i.optimizeNames(e,t),(n=this.finally)===null||n===void 0||n.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&dr(e,this.catch.names),this.finally&&dr(e,this.finally.names),e}},fc=(()=>{class r extends Rt{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}}return r.kind="catch",r})(),pc=(()=>{class r extends Rt{render(t){return"finally"+super.render(t)}}return r.kind="finally",r})(),ko=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts=ge(O({},t),{_n:t.lines?`
`:""}),this._extScope=e,this._scope=new lt.Scope({parent:e}),this._nodes=[new Oo]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let i=this._extScope.value(e,t);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,i,n){let o=this._scope.toName(t);return i!==void 0&&n&&(this._constants[o.str]=i),this._leafNode(new So(e,o,i)),o}const(e,t,i){return this._def(lt.varKinds.const,e,t,i)}let(e,t,i){return this._def(lt.varKinds.let,e,t,i)}var(e,t,i){return this._def(lt.varKinds.var,e,t,i)}assign(e,t,i){return this._leafNode(new $n(e,t,i))}add(e,t){return this._leafNode(new zo(e,L.operators.ADD,t))}code(e){return typeof e=="function"?e():e!==H.nil&&this._leafNode(new Po(e)),this}object(...e){let t=["{"];for(let[i,n]of e)t.length>1&&t.push(","),t.push(i),(i!==n||this.opts.es5)&&(t.push(":"),(0,H.addCodeArg)(t,n));return t.push("}"),new H._Code(t)}if(e,t,i){if(this._blockNode(new bn(e)),t&&i)this.code(t).else().code(i).endIf();else if(t)this.code(t).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new bn(e))}else(){return this._elseNode(new Io)}endIf(){return this._endBlockNode(bn,Io)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new Do(e),t)}forRange(e,t,i,n,o=this.opts.es5?lt.varKinds.var:lt.varKinds.let){let a=this._scope.toName(e);return this._for(new No(o,a,t,i),()=>n(a))}forOf(e,t,i,n=lt.varKinds.const){let o=this._scope.toName(e);if(this.opts.es5){let a=t instanceof H.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,H._)`${a}.length`,s=>{this.var(o,(0,H._)`${a}[${s}]`),i(o)})}return this._for(new Sn("of",n,o,t),()=>i(o))}forIn(e,t,i,n=this.opts.es5?lt.varKinds.var:lt.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,H._)`Object.keys(${t})`,i);let o=this._scope.toName(e);return this._for(new Sn("in",n,o,t),()=>i(o))}endFor(){return this._endBlockNode(xn)}label(e){return this._leafNode(new Eo(e))}break(e){return this._leafNode(new xo(e))}return(e){let t=new dc;if(this._blockNode(t),this.code(e),t.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(dc)}try(e,t,i){if(!t&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new Vo;if(this._blockNode(n),this.code(e),t){let o=this.name("e");this._currNode=n.catch=new fc(o),t(o)}return i&&(this._currNode=n.finally=new pc,this.code(i)),this._endBlockNode(fc,pc)}throw(e){return this._leafNode(new To(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(t===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-t;if(i<0||e!==void 0&&i!==e)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=H.nil,i,n){return this._blockNode(new uc(e,t,i)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(uc)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let i=this._currNode;if(i instanceof e||t&&i instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof bn))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}};L.CodeGen=ko;function dr(r,e){for(let t in e)r[t]=(r[t]||0)+(e[t]||0);return r}function zn(r,e){return e instanceof H._CodeOrName?dr(r,e.names):r}function Ur(r,e,t){if(r instanceof H.Name)return i(r);if(!n(r))return r;return new H._Code(r._items.reduce((o,a)=>(a instanceof H.Name&&(a=i(a)),a instanceof H._Code?o.push(...a._items):o.push(a),o),[]));function i(o){let a=t[o.str];return a===void 0||e[o.str]!==1?o:(delete e[o.str],a)}function n(o){return o instanceof H._Code&&o._items.some(a=>a instanceof H.Name&&e[a.str]===1&&t[a.str]!==void 0)}}function Rf(r,e){for(let t in e)r[t]=(r[t]||0)-(e[t]||0)}function mc(r){return typeof r=="boolean"||typeof r=="number"||r===null?!r:(0,H._)`!${Mo(r)}`}L.not=mc;var Ff=hc(L.operators.AND);function Af(...r){return r.reduce(Ff)}L.and=Af;var jf=hc(L.operators.OR);function qf(...r){return r.reduce(jf)}L.or=qf;function hc(r){return(e,t)=>e===H.nil?t:t===H.nil?e:(0,H._)`${Mo(e)} ${r} ${Mo(t)}`}function Mo(r){return r instanceof H.Name?r:(0,H._)`(${r})`}});var X=x(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.checkStrictMode=U.getErrorPath=U.Type=U.useFunc=U.setEvaluated=U.evaluatedPropsToName=U.mergeEvaluated=U.eachItem=U.unescapeJsonPointer=U.escapeJsonPointer=U.escapeFragment=U.unescapeFragment=U.schemaRefOrVal=U.schemaHasRulesButRef=U.schemaHasRules=U.checkUnknownRules=U.alwaysValidSchema=U.toHash=void 0;var ce=W(),Wf=vi();function Lf(r){let e={};for(let t of r)e[t]=!0;return e}U.toHash=Lf;function Uf(r,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(yc(r,e),!vc(e,r.self.RULES.all))}U.alwaysValidSchema=Uf;function yc(r,e=r.schema){let{opts:t,self:i}=r;if(!t.strictSchema||typeof e=="boolean")return;let n=i.RULES.keywords;for(let o in e)n[o]||$c(r,`unknown keyword: "${o}"`)}U.checkUnknownRules=yc;function vc(r,e){if(typeof r=="boolean")return!r;for(let t in r)if(e[t])return!0;return!1}U.schemaHasRules=vc;function Hf(r,e){if(typeof r=="boolean")return!r;for(let t in r)if(t!=="$ref"&&e.all[t])return!0;return!1}U.schemaHasRulesButRef=Hf;function Bf({topSchemaRef:r,schemaPath:e},t,i,n){if(!n){if(typeof t=="number"||typeof t=="boolean")return t;if(typeof t=="string")return(0,ce._)`${t}`}return(0,ce._)`${r}${e}${(0,ce.getProperty)(i)}`}U.schemaRefOrVal=Bf;function Kf(r){return Cc(decodeURIComponent(r))}U.unescapeFragment=Kf;function Gf(r){return encodeURIComponent(Ro(r))}U.escapeFragment=Gf;function Ro(r){return typeof r=="number"?`${r}`:r.replace(/~/g,"~0").replace(/\//g,"~1")}U.escapeJsonPointer=Ro;function Cc(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}U.unescapeJsonPointer=Cc;function Jf(r,e){if(Array.isArray(r))for(let t of r)e(t);else e(r)}U.eachItem=Jf;function _c({mergeNames:r,mergeToName:e,mergeValues:t,resultToName:i}){return(n,o,a,s)=>{let u=a===void 0?o:a instanceof ce.Name?(o instanceof ce.Name?r(n,o,a):e(n,o,a),a):o instanceof ce.Name?(e(n,a,o),o):t(o,a);return s===ce.Name&&!(u instanceof ce.Name)?i(n,u):u}}U.mergeEvaluated={props:_c({mergeNames:(r,e,t)=>r.if((0,ce._)`${t} !== true && ${e} !== undefined`,()=>{r.if((0,ce._)`${e} === true`,()=>r.assign(t,!0),()=>r.assign(t,(0,ce._)`${t} || {}`).code((0,ce._)`Object.assign(${t}, ${e})`))}),mergeToName:(r,e,t)=>r.if((0,ce._)`${t} !== true`,()=>{e===!0?r.assign(t,!0):(r.assign(t,(0,ce._)`${t} || {}`),Fo(r,t,e))}),mergeValues:(r,e)=>r===!0?!0:O(O({},r),e),resultToName:wc}),items:_c({mergeNames:(r,e,t)=>r.if((0,ce._)`${t} !== true && ${e} !== undefined`,()=>r.assign(t,(0,ce._)`${e} === true ? true : ${t} > ${e} ? ${t} : ${e}`)),mergeToName:(r,e,t)=>r.if((0,ce._)`${t} !== true`,()=>r.assign(t,e===!0?!0:(0,ce._)`${t} > ${e} ? ${t} : ${e}`)),mergeValues:(r,e)=>r===!0?!0:Math.max(r,e),resultToName:(r,e)=>r.var("items",e)})};function wc(r,e){if(e===!0)return r.var("props",!0);let t=r.var("props",(0,ce._)`{}`);return e!==void 0&&Fo(r,t,e),t}U.evaluatedPropsToName=wc;function Fo(r,e,t){Object.keys(t).forEach(i=>r.assign((0,ce._)`${e}${(0,ce.getProperty)(i)}`,!0))}U.setEvaluated=Fo;var gc={};function Xf(r,e){return r.scopeValue("func",{ref:e,code:gc[e.code]||(gc[e.code]=new Wf._Code(e.code))})}U.useFunc=Xf;var bc;(function(r){r[r.Num=0]="Num",r[r.Str=1]="Str"})(bc=U.Type||(U.Type={}));function Zf(r,e,t){if(r instanceof ce.Name){let i=e===bc.Num;return t?i?(0,ce._)`"[" + ${r} + "]"`:(0,ce._)`"['" + ${r} + "']"`:i?(0,ce._)`"/" + ${r}`:(0,ce._)`"/" + ${r}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return t?(0,ce.getProperty)(r).toString():"/"+Ro(r)}U.getErrorPath=Zf;function $c(r,e,t=r.opts.strictSchema){if(t){if(e=`strict mode: ${e}`,t===!0)throw new Error(e);r.self.logger.warn(e)}}U.checkStrictMode=$c});var Ft=x(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var Ve=W(),Qf={data:new Ve.Name("data"),valCxt:new Ve.Name("valCxt"),instancePath:new Ve.Name("instancePath"),parentData:new Ve.Name("parentData"),parentDataProperty:new Ve.Name("parentDataProperty"),rootData:new Ve.Name("rootData"),dynamicAnchors:new Ve.Name("dynamicAnchors"),vErrors:new Ve.Name("vErrors"),errors:new Ve.Name("errors"),this:new Ve.Name("this"),self:new Ve.Name("self"),scope:new Ve.Name("scope"),json:new Ve.Name("json"),jsonPos:new Ve.Name("jsonPos"),jsonLen:new Ve.Name("jsonLen"),jsonPart:new Ve.Name("jsonPart")};Ao.default=Qf});var wi=x(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.extendErrors=ke.resetErrorsCount=ke.reportExtraError=ke.reportError=ke.keyword$DataError=ke.keywordError=void 0;var K=W(),Tn=X(),Fe=Ft();ke.keywordError={message:({keyword:r})=>(0,K.str)`must pass "${r}" keyword validation`};ke.keyword$DataError={message:({keyword:r,schemaType:e})=>e?(0,K.str)`"${r}" keyword must be ${e} ($data)`:(0,K.str)`"${r}" keyword is invalid ($data)`};function Yf(r,e=ke.keywordError,t,i){let{it:n}=r,{gen:o,compositeRule:a,allErrors:s}=n,u=Ec(r,e,t);i??(a||s)?Sc(o,u):zc(n,(0,K._)`[${u}]`)}ke.reportError=Yf;function ep(r,e=ke.keywordError,t){let{it:i}=r,{gen:n,compositeRule:o,allErrors:a}=i,s=Ec(r,e,t);Sc(n,s),o||a||zc(i,Fe.default.vErrors)}ke.reportExtraError=ep;function tp(r,e){r.assign(Fe.default.errors,e),r.if((0,K._)`${Fe.default.vErrors} !== null`,()=>r.if(e,()=>r.assign((0,K._)`${Fe.default.vErrors}.length`,e),()=>r.assign(Fe.default.vErrors,null)))}ke.resetErrorsCount=tp;function rp({gen:r,keyword:e,schemaValue:t,data:i,errsCount:n,it:o}){if(n===void 0)throw new Error("ajv implementation error");let a=r.name("err");r.forRange("i",n,Fe.default.errors,s=>{r.const(a,(0,K._)`${Fe.default.vErrors}[${s}]`),r.if((0,K._)`${a}.instancePath === undefined`,()=>r.assign((0,K._)`${a}.instancePath`,(0,K.strConcat)(Fe.default.instancePath,o.errorPath))),r.assign((0,K._)`${a}.schemaPath`,(0,K.str)`${o.errSchemaPath}/${e}`),o.opts.verbose&&(r.assign((0,K._)`${a}.schema`,t),r.assign((0,K._)`${a}.data`,i))})}ke.extendErrors=rp;function Sc(r,e){let t=r.const("err",e);r.if((0,K._)`${Fe.default.vErrors} === null`,()=>r.assign(Fe.default.vErrors,(0,K._)`[${t}]`),(0,K._)`${Fe.default.vErrors}.push(${t})`),r.code((0,K._)`${Fe.default.errors}++`)}function zc(r,e){let{gen:t,validateName:i,schemaEnv:n}=r;n.$async?t.throw((0,K._)`new ${r.ValidationError}(${e})`):(t.assign((0,K._)`${i}.errors`,e),t.return(!1))}var fr={keyword:new K.Name("keyword"),schemaPath:new K.Name("schemaPath"),params:new K.Name("params"),propertyName:new K.Name("propertyName"),message:new K.Name("message"),schema:new K.Name("schema"),parentSchema:new K.Name("parentSchema")};function Ec(r,e,t){let{createErrors:i}=r.it;return i===!1?(0,K._)`{}`:ip(r,e,t)}function ip(r,e,t={}){let{gen:i,it:n}=r,o=[np(n,t),op(r,t)];return ap(r,e,o),i.object(...o)}function np({errorPath:r},{instancePath:e}){let t=e?(0,K.str)`${r}${(0,Tn.getErrorPath)(e,Tn.Type.Str)}`:r;return[Fe.default.instancePath,(0,K.strConcat)(Fe.default.instancePath,t)]}function op({keyword:r,it:{errSchemaPath:e}},{schemaPath:t,parentSchema:i}){let n=i?e:(0,K.str)`${e}/${r}`;return t&&(n=(0,K.str)`${n}${(0,Tn.getErrorPath)(t,Tn.Type.Str)}`),[fr.schemaPath,n]}function ap(r,{params:e,message:t},i){let{keyword:n,data:o,schemaValue:a,it:s}=r,{opts:u,propertyName:p,topSchemaRef:f,schemaPath:m}=s;i.push([fr.keyword,n],[fr.params,typeof e=="function"?e(r):e||(0,K._)`{}`]),u.messages&&i.push([fr.message,typeof t=="function"?t(r):t]),u.verbose&&i.push([fr.schema,a],[fr.parentSchema,(0,K._)`${f}${m}`],[Fe.default.data,o]),p&&i.push([fr.propertyName,p])}});var Tc=x(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.boolOrEmptySchema=Hr.topBoolOrEmptySchema=void 0;var sp=wi(),lp=W(),cp=Ft(),up={message:"boolean schema is false"};function dp(r){let{gen:e,schema:t,validateName:i}=r;t===!1?xc(r,!1):typeof t=="object"&&t.$async===!0?e.return(cp.default.data):(e.assign((0,lp._)`${i}.errors`,null),e.return(!0))}Hr.topBoolOrEmptySchema=dp;function fp(r,e){let{gen:t,schema:i}=r;i===!1?(t.var(e,!1),xc(r)):t.var(e,!0)}Hr.boolOrEmptySchema=fp;function xc(r,e){let{gen:t,data:i}=r,n={gen:t,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:r};(0,sp.reportError)(n,up,void 0,e)}});var jo=x(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.getRules=Br.isJSONType=void 0;var pp=["string","number","integer","boolean","null","object","array"],mp=new Set(pp);function hp(r){return typeof r=="string"&&mp.has(r)}Br.isJSONType=hp;function _p(){let r={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:ge(O({},r),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},r.number,r.string,r.array,r.object],post:{rules:[]},all:{},keywords:{}}}Br.getRules=_p});var qo=x(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.shouldUseRule=Jt.shouldUseGroup=Jt.schemaHasRulesForType=void 0;function gp({schema:r,self:e},t){let i=e.RULES.types[t];return i&&i!==!0&&Pc(r,i)}Jt.schemaHasRulesForType=gp;function Pc(r,e){return e.rules.some(t=>Oc(r,t))}Jt.shouldUseGroup=Pc;function Oc(r,e){var t;return r[e.keyword]!==void 0||((t=e.definition.implements)===null||t===void 0?void 0:t.some(i=>r[i]!==void 0))}Jt.shouldUseRule=Oc});var $i=x(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.reportTypeError=xe.checkDataTypes=xe.checkDataType=xe.coerceAndCheckDataType=xe.getJSONTypes=xe.getSchemaTypes=xe.DataType=void 0;var yp=jo(),vp=qo(),Cp=wi(),q=W(),Ic=X(),bi;(function(r){r[r.Correct=0]="Correct",r[r.Wrong=1]="Wrong"})(bi=xe.DataType||(xe.DataType={}));function wp(r){let e=Dc(r.type);if(e.includes("null")){if(r.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&r.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');r.nullable===!0&&e.push("null")}return e}xe.getSchemaTypes=wp;function Dc(r){let e=Array.isArray(r)?r:r?[r]:[];if(e.every(yp.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}xe.getJSONTypes=Dc;function bp(r,e){let{gen:t,data:i,opts:n}=r,o=$p(e,n.coerceTypes),a=e.length>0&&!(o.length===0&&e.length===1&&(0,vp.schemaHasRulesForType)(r,e[0]));if(a){let s=Lo(e,i,n.strictNumbers,bi.Wrong);t.if(s,()=>{o.length?Sp(r,e,o):Uo(r)})}return a}xe.coerceAndCheckDataType=bp;var Nc=new Set(["string","number","integer","boolean","null"]);function $p(r,e){return e?r.filter(t=>Nc.has(t)||e==="array"&&t==="array"):[]}function Sp(r,e,t){let{gen:i,data:n,opts:o}=r,a=i.let("dataType",(0,q._)`typeof ${n}`),s=i.let("coerced",(0,q._)`undefined`);o.coerceTypes==="array"&&i.if((0,q._)`${a} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>i.assign(n,(0,q._)`${n}[0]`).assign(a,(0,q._)`typeof ${n}`).if(Lo(e,n,o.strictNumbers),()=>i.assign(s,n))),i.if((0,q._)`${s} !== undefined`);for(let p of t)(Nc.has(p)||p==="array"&&o.coerceTypes==="array")&&u(p);i.else(),Uo(r),i.endIf(),i.if((0,q._)`${s} !== undefined`,()=>{i.assign(n,s),zp(r,s)});function u(p){switch(p){case"string":i.elseIf((0,q._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,q._)`"" + ${n}`).elseIf((0,q._)`${n} === null`).assign(s,(0,q._)`""`);return;case"number":i.elseIf((0,q._)`${a} == "boolean" || ${n} === null
              || (${a} == "string" && ${n} && ${n} == +${n})`).assign(s,(0,q._)`+${n}`);return;case"integer":i.elseIf((0,q._)`${a} === "boolean" || ${n} === null
              || (${a} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(s,(0,q._)`+${n}`);return;case"boolean":i.elseIf((0,q._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(s,!1).elseIf((0,q._)`${n} === "true" || ${n} === 1`).assign(s,!0);return;case"null":i.elseIf((0,q._)`${n} === "" || ${n} === 0 || ${n} === false`),i.assign(s,null);return;case"array":i.elseIf((0,q._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${n} === null`).assign(s,(0,q._)`[${n}]`)}}}function zp({gen:r,parentData:e,parentDataProperty:t},i){r.if((0,q._)`${e} !== undefined`,()=>r.assign((0,q._)`${e}[${t}]`,i))}function Wo(r,e,t,i=bi.Correct){let n=i===bi.Correct?q.operators.EQ:q.operators.NEQ,o;switch(r){case"null":return(0,q._)`${e} ${n} null`;case"array":o=(0,q._)`Array.isArray(${e})`;break;case"object":o=(0,q._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":o=a((0,q._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":o=a();break;default:return(0,q._)`typeof ${e} ${n} ${r}`}return i===bi.Correct?o:(0,q.not)(o);function a(s=q.nil){return(0,q.and)((0,q._)`typeof ${e} == "number"`,s,t?(0,q._)`isFinite(${e})`:q.nil)}}xe.checkDataType=Wo;function Lo(r,e,t,i){if(r.length===1)return Wo(r[0],e,t,i);let n,o=(0,Ic.toHash)(r);if(o.array&&o.object){let a=(0,q._)`typeof ${e} != "object"`;n=o.null?a:(0,q._)`!${e} || ${a}`,delete o.null,delete o.array,delete o.object}else n=q.nil;o.number&&delete o.integer;for(let a in o)n=(0,q.and)(n,Wo(a,e,t,i));return n}xe.checkDataTypes=Lo;var Ep={message:({schema:r})=>`must be ${r}`,params:({schema:r,schemaValue:e})=>typeof r=="string"?(0,q._)`{type: ${r}}`:(0,q._)`{type: ${e}}`};function Uo(r){let e=xp(r);(0,Cp.reportError)(e,Ep)}xe.reportTypeError=Uo;function xp(r){let{gen:e,data:t,schema:i}=r,n=(0,Ic.schemaRefOrVal)(r,i,"type");return{gen:e,keyword:"type",data:t,schema:i.type,schemaCode:n,schemaValue:n,parentSchema:i,params:{},it:r}}});var kc=x(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.assignDefaults=void 0;var Kr=W(),Tp=X();function Pp(r,e){let{properties:t,items:i}=r.schema;if(e==="object"&&t)for(let n in t)Vc(r,n,t[n].default);else e==="array"&&Array.isArray(i)&&i.forEach((n,o)=>Vc(r,o,n.default))}Pn.assignDefaults=Pp;function Vc(r,e,t){let{gen:i,compositeRule:n,data:o,opts:a}=r;if(t===void 0)return;let s=(0,Kr._)`${o}${(0,Kr.getProperty)(e)}`;if(n){(0,Tp.checkStrictMode)(r,`default is ignored for: ${s}`);return}let u=(0,Kr._)`${s} === undefined`;a.useDefaults==="empty"&&(u=(0,Kr._)`${u} || ${s} === null || ${s} === ""`),i.if(u,(0,Kr._)`${s} = ${(0,Kr.stringify)(t)}`)}});var ot=x(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.validateUnion=se.validateArray=se.usePattern=se.callValidateCode=se.schemaProperties=se.allSchemaProperties=se.noPropertyInData=se.propertyInData=se.isOwnProperty=se.hasPropFunc=se.reportMissingProp=se.checkMissingProp=se.checkReportMissingProp=void 0;var de=W(),Ho=X(),Xt=Ft(),Op=X();function Ip(r,e){let{gen:t,data:i,it:n}=r;t.if(Ko(t,i,e,n.opts.ownProperties),()=>{r.setParams({missingProperty:(0,de._)`${e}`},!0),r.error()})}se.checkReportMissingProp=Ip;function Dp({gen:r,data:e,it:{opts:t}},i,n){return(0,de.or)(...i.map(o=>(0,de.and)(Ko(r,e,o,t.ownProperties),(0,de._)`${n} = ${o}`)))}se.checkMissingProp=Dp;function Np(r,e){r.setParams({missingProperty:e},!0),r.error()}se.reportMissingProp=Np;function Mc(r){return r.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,de._)`Object.prototype.hasOwnProperty`})}se.hasPropFunc=Mc;function Bo(r,e,t){return(0,de._)`${Mc(r)}.call(${e}, ${t})`}se.isOwnProperty=Bo;function Vp(r,e,t,i){let n=(0,de._)`${e}${(0,de.getProperty)(t)} !== undefined`;return i?(0,de._)`${n} && ${Bo(r,e,t)}`:n}se.propertyInData=Vp;function Ko(r,e,t,i){let n=(0,de._)`${e}${(0,de.getProperty)(t)} === undefined`;return i?(0,de.or)(n,(0,de.not)(Bo(r,e,t))):n}se.noPropertyInData=Ko;function Rc(r){return r?Object.keys(r).filter(e=>e!=="__proto__"):[]}se.allSchemaProperties=Rc;function kp(r,e){return Rc(e).filter(t=>!(0,Ho.alwaysValidSchema)(r,e[t]))}se.schemaProperties=kp;function Mp({schemaCode:r,data:e,it:{gen:t,topSchemaRef:i,schemaPath:n,errorPath:o},it:a},s,u,p){let f=p?(0,de._)`${r}, ${e}, ${i}${n}`:e,m=[[Xt.default.instancePath,(0,de.strConcat)(Xt.default.instancePath,o)],[Xt.default.parentData,a.parentData],[Xt.default.parentDataProperty,a.parentDataProperty],[Xt.default.rootData,Xt.default.rootData]];a.opts.dynamicRef&&m.push([Xt.default.dynamicAnchors,Xt.default.dynamicAnchors]);let b=(0,de._)`${f}, ${t.object(...m)}`;return u!==de.nil?(0,de._)`${s}.call(${u}, ${b})`:(0,de._)`${s}(${b})`}se.callValidateCode=Mp;var Rp=(0,de._)`new RegExp`;function Fp({gen:r,it:{opts:e}},t){let i=e.unicodeRegExp?"u":"",{regExp:n}=e.code,o=n(t,i);return r.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,de._)`${n.code==="new RegExp"?Rp:(0,Op.useFunc)(r,n)}(${t}, ${i})`})}se.usePattern=Fp;function Ap(r){let{gen:e,data:t,keyword:i,it:n}=r,o=e.name("valid");if(n.allErrors){let s=e.let("valid",!0);return a(()=>e.assign(s,!1)),s}return e.var(o,!0),a(()=>e.break()),o;function a(s){let u=e.const("len",(0,de._)`${t}.length`);e.forRange("i",0,u,p=>{r.subschema({keyword:i,dataProp:p,dataPropType:Ho.Type.Num},o),e.if((0,de.not)(o),s)})}}se.validateArray=Ap;function jp(r){let{gen:e,schema:t,keyword:i,it:n}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");if(t.some(u=>(0,Ho.alwaysValidSchema)(n,u))&&!n.opts.unevaluated)return;let a=e.let("valid",!1),s=e.name("_valid");e.block(()=>t.forEach((u,p)=>{let f=r.subschema({keyword:i,schemaProp:p,compositeRule:!0},s);e.assign(a,(0,de._)`${a} || ${s}`),r.mergeValidEvaluated(f,s)||e.if((0,de.not)(a))})),r.result(a,()=>r.reset(),()=>r.error(!0))}se.validateUnion=jp});var jc=x(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.validateKeywordUsage=St.validSchemaType=St.funcKeywordCode=St.macroKeywordCode=void 0;var Ae=W(),pr=Ft(),qp=ot(),Wp=wi();function Lp(r,e){let{gen:t,keyword:i,schema:n,parentSchema:o,it:a}=r,s=e.macro.call(a.self,n,o,a),u=Ac(t,i,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);let p=t.name("valid");r.subschema({schema:s,schemaPath:Ae.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:u,compositeRule:!0},p),r.pass(p,()=>r.error(!0))}St.macroKeywordCode=Lp;function Up(r,e){var t;let{gen:i,keyword:n,schema:o,parentSchema:a,$data:s,it:u}=r;Bp(u,e);let p=!s&&e.compile?e.compile.call(u.self,o,a,u):e.validate,f=Ac(i,n,p),m=i.let("valid");r.block$data(m,b),r.ok((t=e.valid)!==null&&t!==void 0?t:m);function b(){if(e.errors===!1)y(),e.modifying&&Fc(r),z(()=>r.error());else{let g=e.async?C():w();e.modifying&&Fc(r),z(()=>Hp(r,g))}}function C(){let g=i.let("ruleErrs",null);return i.try(()=>y((0,Ae._)`await `),D=>i.assign(m,!1).if((0,Ae._)`${D} instanceof ${u.ValidationError}`,()=>i.assign(g,(0,Ae._)`${D}.errors`),()=>i.throw(D))),g}function w(){let g=(0,Ae._)`${f}.errors`;return i.assign(g,null),y(Ae.nil),g}function y(g=e.async?(0,Ae._)`await `:Ae.nil){let D=u.opts.passContext?pr.default.this:pr.default.self,A=!("compile"in e&&!s||e.schema===!1);i.assign(m,(0,Ae._)`${g}${(0,qp.callValidateCode)(r,f,D,A)}`,e.modifying)}function z(g){var D;i.if((0,Ae.not)((D=e.valid)!==null&&D!==void 0?D:m),g)}}St.funcKeywordCode=Up;function Fc(r){let{gen:e,data:t,it:i}=r;e.if(i.parentData,()=>e.assign(t,(0,Ae._)`${i.parentData}[${i.parentDataProperty}]`))}function Hp(r,e){let{gen:t}=r;t.if((0,Ae._)`Array.isArray(${e})`,()=>{t.assign(pr.default.vErrors,(0,Ae._)`${pr.default.vErrors} === null ? ${e} : ${pr.default.vErrors}.concat(${e})`).assign(pr.default.errors,(0,Ae._)`${pr.default.vErrors}.length`),(0,Wp.extendErrors)(r)},()=>r.error())}function Bp({schemaEnv:r},e){if(e.async&&!r.$async)throw new Error("async keyword in sync schema")}function Ac(r,e,t){if(t===void 0)throw new Error(`keyword "${e}" failed to compile`);return r.scopeValue("keyword",typeof t=="function"?{ref:t}:{ref:t,code:(0,Ae.stringify)(t)})}function Kp(r,e,t=!1){return!e.length||e.some(i=>i==="array"?Array.isArray(r):i==="object"?r&&typeof r=="object"&&!Array.isArray(r):typeof r==i||t&&typeof r>"u")}St.validSchemaType=Kp;function Gp({schema:r,opts:e,self:t,errSchemaPath:i},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");let a=n.dependencies;if(a?.some(s=>!Object.prototype.hasOwnProperty.call(r,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(n.validateSchema&&!n.validateSchema(r[o])){let u=`keyword "${o}" value is invalid at path "${i}": `+t.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")t.logger.error(u);else throw new Error(u)}}St.validateKeywordUsage=Gp});var Wc=x(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.extendSubschemaMode=Zt.extendSubschemaData=Zt.getSubschema=void 0;var zt=W(),qc=X();function Jp(r,{keyword:e,schemaProp:t,schema:i,schemaPath:n,errSchemaPath:o,topSchemaRef:a}){if(e!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let s=r.schema[e];return t===void 0?{schema:s,schemaPath:(0,zt._)`${r.schemaPath}${(0,zt.getProperty)(e)}`,errSchemaPath:`${r.errSchemaPath}/${e}`}:{schema:s[t],schemaPath:(0,zt._)`${r.schemaPath}${(0,zt.getProperty)(e)}${(0,zt.getProperty)(t)}`,errSchemaPath:`${r.errSchemaPath}/${e}/${(0,qc.escapeFragment)(t)}`}}if(i!==void 0){if(n===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Zt.getSubschema=Jp;function Xp(r,e,{dataProp:t,dataPropType:i,data:n,dataTypes:o,propertyName:a}){if(n!==void 0&&t!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:s}=e;if(t!==void 0){let{errorPath:p,dataPathArr:f,opts:m}=e,b=s.let("data",(0,zt._)`${e.data}${(0,zt.getProperty)(t)}`,!0);u(b),r.errorPath=(0,zt.str)`${p}${(0,qc.getErrorPath)(t,i,m.jsPropertySyntax)}`,r.parentDataProperty=(0,zt._)`${t}`,r.dataPathArr=[...f,r.parentDataProperty]}if(n!==void 0){let p=n instanceof zt.Name?n:s.let("data",n,!0);u(p),a!==void 0&&(r.propertyName=a)}o&&(r.dataTypes=o);function u(p){r.data=p,r.dataLevel=e.dataLevel+1,r.dataTypes=[],e.definedProperties=new Set,r.parentData=e.data,r.dataNames=[...e.dataNames,p]}}Zt.extendSubschemaData=Xp;function Zp(r,{jtdDiscriminator:e,jtdMetadata:t,compositeRule:i,createErrors:n,allErrors:o}){i!==void 0&&(r.compositeRule=i),n!==void 0&&(r.createErrors=n),o!==void 0&&(r.allErrors=o),r.jtdDiscriminator=e,r.jtdMetadata=t}Zt.extendSubschemaMode=Zp});var Go=x((Bv,Lc)=>{"use strict";Lc.exports=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,n,o;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(n=i;n--!==0;)if(!r(e[n],t[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),i=o.length,i!==Object.keys(t).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return!1;for(n=i;n--!==0;){var a=o[n];if(!r(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}});var Hc=x((Kv,Uc)=>{"use strict";var Qt=Uc.exports=function(r,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var i=typeof t=="function"?t:t.pre||function(){},n=t.post||function(){};On(e,i,n,r,"",r)};Qt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Qt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Qt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Qt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function On(r,e,t,i,n,o,a,s,u,p){if(i&&typeof i=="object"&&!Array.isArray(i)){e(i,n,o,a,s,u,p);for(var f in i){var m=i[f];if(Array.isArray(m)){if(f in Qt.arrayKeywords)for(var b=0;b<m.length;b++)On(r,e,t,m[b],n+"/"+f+"/"+b,o,n,f,i,b)}else if(f in Qt.propsKeywords){if(m&&typeof m=="object")for(var C in m)On(r,e,t,m[C],n+"/"+f+"/"+Qp(C),o,n,f,i,C)}else(f in Qt.keywords||r.allKeys&&!(f in Qt.skipKeywords))&&On(r,e,t,m,n+"/"+f,o,n,f,i)}t(i,n,o,a,s,u,p)}}function Qp(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}});var Si=x(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.getSchemaRefs=He.resolveUrl=He.normalizeId=He._getFullPath=He.getFullPath=He.inlineRef=void 0;var Yp=X(),em=Go(),tm=Hc(),rm=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function im(r,e=!0){return typeof r=="boolean"?!0:e===!0?!Jo(r):e?Bc(r)<=e:!1}He.inlineRef=im;var nm=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Jo(r){for(let e in r){if(nm.has(e))return!0;let t=r[e];if(Array.isArray(t)&&t.some(Jo)||typeof t=="object"&&Jo(t))return!0}return!1}function Bc(r){let e=0;for(let t in r){if(t==="$ref")return 1/0;if(e++,!rm.has(t)&&(typeof r[t]=="object"&&(0,Yp.eachItem)(r[t],i=>e+=Bc(i)),e===1/0))return 1/0}return e}function Kc(r,e="",t){t!==!1&&(e=Gr(e));let i=r.parse(e);return Gc(r,i)}He.getFullPath=Kc;function Gc(r,e){return r.serialize(e).split("#")[0]+"#"}He._getFullPath=Gc;var om=/#\/?$/;function Gr(r){return r?r.replace(om,""):""}He.normalizeId=Gr;function am(r,e,t){return t=Gr(t),r.resolve(e,t)}He.resolveUrl=am;var sm=/^[a-z_][-a-z0-9._]*$/i;function lm(r,e){if(typeof r=="boolean")return{};let{schemaId:t,uriResolver:i}=this.opts,n=Gr(r[t]||e),o={"":n},a=Kc(i,n,!1),s={},u=new Set;return tm(r,{allKeys:!0},(m,b,C,w)=>{if(w===void 0)return;let y=a+b,z=o[w];typeof m[t]=="string"&&(z=g.call(this,m[t])),D.call(this,m.$anchor),D.call(this,m.$dynamicAnchor),o[b]=z;function g(A){let re=this.opts.uriResolver.resolve;if(A=Gr(z?re(z,A):A),u.has(A))throw f(A);u.add(A);let k=this.refs[A];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?p(m,k.schema,A):A!==Gr(y)&&(A[0]==="#"?(p(m,s[A],A),s[A]=m):this.refs[A]=y),A}function D(A){if(typeof A=="string"){if(!sm.test(A))throw new Error(`invalid anchor "${A}"`);g.call(this,`#${A}`)}}}),s;function p(m,b,C){if(b!==void 0&&!em(m,b))throw f(C)}function f(m){return new Error(`reference "${m}" resolves to more than one schema`)}}He.getSchemaRefs=lm});var xi=x(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.getData=Yt.KeywordCxt=Yt.validateFunctionCode=void 0;var Yc=Tc(),Jc=$i(),Zo=qo(),In=$i(),cm=kc(),Ei=jc(),Xo=Wc(),N=W(),M=Ft(),um=Si(),At=X(),zi=wi();function dm(r){if(ru(r)&&(iu(r),tu(r))){mm(r);return}eu(r,()=>(0,Yc.topBoolOrEmptySchema)(r))}Yt.validateFunctionCode=dm;function eu({gen:r,validateName:e,schema:t,schemaEnv:i,opts:n},o){n.code.es5?r.func(e,(0,N._)`${M.default.data}, ${M.default.valCxt}`,i.$async,()=>{r.code((0,N._)`"use strict"; ${Xc(t,n)}`),pm(r,n),r.code(o)}):r.func(e,(0,N._)`${M.default.data}, ${fm(n)}`,i.$async,()=>r.code(Xc(t,n)).code(o))}function fm(r){return(0,N._)`{${M.default.instancePath}="", ${M.default.parentData}, ${M.default.parentDataProperty}, ${M.default.rootData}=${M.default.data}${r.dynamicRef?(0,N._)`, ${M.default.dynamicAnchors}={}`:N.nil}}={}`}function pm(r,e){r.if(M.default.valCxt,()=>{r.var(M.default.instancePath,(0,N._)`${M.default.valCxt}.${M.default.instancePath}`),r.var(M.default.parentData,(0,N._)`${M.default.valCxt}.${M.default.parentData}`),r.var(M.default.parentDataProperty,(0,N._)`${M.default.valCxt}.${M.default.parentDataProperty}`),r.var(M.default.rootData,(0,N._)`${M.default.valCxt}.${M.default.rootData}`),e.dynamicRef&&r.var(M.default.dynamicAnchors,(0,N._)`${M.default.valCxt}.${M.default.dynamicAnchors}`)},()=>{r.var(M.default.instancePath,(0,N._)`""`),r.var(M.default.parentData,(0,N._)`undefined`),r.var(M.default.parentDataProperty,(0,N._)`undefined`),r.var(M.default.rootData,M.default.data),e.dynamicRef&&r.var(M.default.dynamicAnchors,(0,N._)`{}`)})}function mm(r){let{schema:e,opts:t,gen:i}=r;eu(r,()=>{t.$comment&&e.$comment&&ou(r),vm(r),i.let(M.default.vErrors,null),i.let(M.default.errors,0),t.unevaluated&&hm(r),nu(r),bm(r)})}function hm(r){let{gen:e,validateName:t}=r;r.evaluated=e.const("evaluated",(0,N._)`${t}.evaluated`),e.if((0,N._)`${r.evaluated}.dynamicProps`,()=>e.assign((0,N._)`${r.evaluated}.props`,(0,N._)`undefined`)),e.if((0,N._)`${r.evaluated}.dynamicItems`,()=>e.assign((0,N._)`${r.evaluated}.items`,(0,N._)`undefined`))}function Xc(r,e){let t=typeof r=="object"&&r[e.schemaId];return t&&(e.code.source||e.code.process)?(0,N._)`/*# sourceURL=${t} */`:N.nil}function _m(r,e){if(ru(r)&&(iu(r),tu(r))){gm(r,e);return}(0,Yc.boolOrEmptySchema)(r,e)}function tu({schema:r,self:e}){if(typeof r=="boolean")return!r;for(let t in r)if(e.RULES.all[t])return!0;return!1}function ru(r){return typeof r.schema!="boolean"}function gm(r,e){let{schema:t,gen:i,opts:n}=r;n.$comment&&t.$comment&&ou(r),Cm(r),wm(r);let o=i.const("_errs",M.default.errors);nu(r,o),i.var(e,(0,N._)`${o} === ${M.default.errors}`)}function iu(r){(0,At.checkUnknownRules)(r),ym(r)}function nu(r,e){if(r.opts.jtd)return Zc(r,[],!1,e);let t=(0,Jc.getSchemaTypes)(r.schema),i=(0,Jc.coerceAndCheckDataType)(r,t);Zc(r,t,!i,e)}function ym(r){let{schema:e,errSchemaPath:t,opts:i,self:n}=r;e.$ref&&i.ignoreKeywordsWithRef&&(0,At.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${t}"`)}function vm(r){let{schema:e,opts:t}=r;e.default!==void 0&&t.useDefaults&&t.strictSchema&&(0,At.checkStrictMode)(r,"default is ignored in the schema root")}function Cm(r){let e=r.schema[r.opts.schemaId];e&&(r.baseId=(0,um.resolveUrl)(r.opts.uriResolver,r.baseId,e))}function wm(r){if(r.schema.$async&&!r.schemaEnv.$async)throw new Error("async schema in sync schema")}function ou({gen:r,schemaEnv:e,schema:t,errSchemaPath:i,opts:n}){let o=t.$comment;if(n.$comment===!0)r.code((0,N._)`${M.default.self}.logger.log(${o})`);else if(typeof n.$comment=="function"){let a=(0,N.str)`${i}/$comment`,s=r.scopeValue("root",{ref:e.root});r.code((0,N._)`${M.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function bm(r){let{gen:e,schemaEnv:t,validateName:i,ValidationError:n,opts:o}=r;t.$async?e.if((0,N._)`${M.default.errors} === 0`,()=>e.return(M.default.data),()=>e.throw((0,N._)`new ${n}(${M.default.vErrors})`)):(e.assign((0,N._)`${i}.errors`,M.default.vErrors),o.unevaluated&&$m(r),e.return((0,N._)`${M.default.errors} === 0`))}function $m({gen:r,evaluated:e,props:t,items:i}){t instanceof N.Name&&r.assign((0,N._)`${e}.props`,t),i instanceof N.Name&&r.assign((0,N._)`${e}.items`,i)}function Zc(r,e,t,i){let{gen:n,schema:o,data:a,allErrors:s,opts:u,self:p}=r,{RULES:f}=p;if(o.$ref&&(u.ignoreKeywordsWithRef||!(0,At.schemaHasRulesButRef)(o,f))){n.block(()=>su(r,"$ref",f.all.$ref.definition));return}u.jtd||Sm(r,e),n.block(()=>{for(let b of f.rules)m(b);m(f.post)});function m(b){(0,Zo.shouldUseGroup)(o,b)&&(b.type?(n.if((0,In.checkDataType)(b.type,a,u.strictNumbers)),Qc(r,b),e.length===1&&e[0]===b.type&&t&&(n.else(),(0,In.reportTypeError)(r)),n.endIf()):Qc(r,b),s||n.if((0,N._)`${M.default.errors} === ${i||0}`))}}function Qc(r,e){let{gen:t,schema:i,opts:{useDefaults:n}}=r;n&&(0,cm.assignDefaults)(r,e.type),t.block(()=>{for(let o of e.rules)(0,Zo.shouldUseRule)(i,o)&&su(r,o.keyword,o.definition,e.type)})}function Sm(r,e){r.schemaEnv.meta||!r.opts.strictTypes||(zm(r,e),r.opts.allowUnionTypes||Em(r,e),xm(r,r.dataTypes))}function zm(r,e){if(e.length){if(!r.dataTypes.length){r.dataTypes=e;return}e.forEach(t=>{au(r.dataTypes,t)||Qo(r,`type "${t}" not allowed by context "${r.dataTypes.join(",")}"`)}),Pm(r,e)}}function Em(r,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Qo(r,"use allowUnionTypes to allow union type keyword")}function xm(r,e){let t=r.self.RULES.all;for(let i in t){let n=t[i];if(typeof n=="object"&&(0,Zo.shouldUseRule)(r.schema,n)){let{type:o}=n.definition;o.length&&!o.some(a=>Tm(e,a))&&Qo(r,`missing type "${o.join(",")}" for keyword "${i}"`)}}}function Tm(r,e){return r.includes(e)||e==="number"&&r.includes("integer")}function au(r,e){return r.includes(e)||e==="integer"&&r.includes("number")}function Pm(r,e){let t=[];for(let i of r.dataTypes)au(e,i)?t.push(i):e.includes("integer")&&i==="number"&&t.push("integer");r.dataTypes=t}function Qo(r,e){let t=r.schemaEnv.baseId+r.errSchemaPath;e+=` at "${t}" (strictTypes)`,(0,At.checkStrictMode)(r,e,r.opts.strictTypes)}var Dn=class{constructor(e,t,i){if((0,Ei.validateKeywordUsage)(e,t,i),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=i,this.data=e.data,this.schema=e.schema[i],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,At.schemaRefOrVal)(e,this.schema,i,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",lu(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Ei.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:t.errors!==!1)&&(this.errsCount=e.gen.const("_errs",M.default.errors))}result(e,t,i){this.failResult((0,N.not)(e),t,i)}failResult(e,t,i){this.gen.if(e),i?i():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,N.not)(e),void 0,t)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,N._)`${t} !== undefined && (${(0,N.or)(this.invalid$data(),e)})`)}error(e,t,i){if(t){this.setParams(t),this._error(e,i),this.setParams({});return}this._error(e,i)}_error(e,t){(e?zi.reportExtraError:zi.reportError)(this,this.def.error,t)}$dataError(){(0,zi.reportError)(this,this.def.$dataError||zi.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,zi.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,i=N.nil){this.gen.block(()=>{this.check$data(e,i),t()})}check$data(e=N.nil,t=N.nil){if(!this.$data)return;let{gen:i,schemaCode:n,schemaType:o,def:a}=this;i.if((0,N.or)((0,N._)`${n} === undefined`,t)),e!==N.nil&&i.assign(e,!0),(o.length||a.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),e!==N.nil&&i.assign(e,!1)),i.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:i,def:n,it:o}=this;return(0,N.or)(a(),s());function a(){if(i.length){if(!(t instanceof N.Name))throw new Error("ajv implementation error");let u=Array.isArray(i)?i:[i];return(0,N._)`${(0,In.checkDataTypes)(u,t,o.opts.strictNumbers,In.DataType.Wrong)}`}return N.nil}function s(){if(n.validateSchema){let u=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,N._)`!${u}(${t})`}return N.nil}}subschema(e,t){let i=(0,Xo.getSubschema)(this.it,e);(0,Xo.extendSubschemaData)(i,this.it,e),(0,Xo.extendSubschemaMode)(i,e);let n=ge(O(O({},this.it),i),{items:void 0,props:void 0});return _m(n,t),n}mergeEvaluated(e,t){let{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&e.props!==void 0&&(i.props=At.mergeEvaluated.props(n,e.props,i.props,t)),i.items!==!0&&e.items!==void 0&&(i.items=At.mergeEvaluated.items(n,e.items,i.items,t)))}mergeValidEvaluated(e,t){let{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(t,()=>this.mergeEvaluated(e,N.Name)),!0}};Yt.KeywordCxt=Dn;function su(r,e,t,i){let n=new Dn(r,t,e);"code"in t?t.code(n,i):n.$data&&t.validate?(0,Ei.funcKeywordCode)(n,t):"macro"in t?(0,Ei.macroKeywordCode)(n,t):(t.compile||t.validate)&&(0,Ei.funcKeywordCode)(n,t)}var Om=/^\/(?:[^~]|~0|~1)*$/,Im=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function lu(r,{dataLevel:e,dataNames:t,dataPathArr:i}){let n,o;if(r==="")return M.default.rootData;if(r[0]==="/"){if(!Om.test(r))throw new Error(`Invalid JSON-pointer: ${r}`);n=r,o=M.default.rootData}else{let p=Im.exec(r);if(!p)throw new Error(`Invalid JSON-pointer: ${r}`);let f=+p[1];if(n=p[2],n==="#"){if(f>=e)throw new Error(u("property/index",f));return i[e-f]}if(f>e)throw new Error(u("data",f));if(o=t[e-f],!n)return o}let a=o,s=n.split("/");for(let p of s)p&&(o=(0,N._)`${o}${(0,N.getProperty)((0,At.unescapeJsonPointer)(p))}`,a=(0,N._)`${a} && ${o}`);return a;function u(p,f){return`Cannot access ${p} ${f} levels up, current level is ${e}`}}Yt.getData=lu});var Nn=x(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});var Yo=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};ea.default=Yo});var Vn=x(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});var ta=Si(),ra=class extends Error{constructor(e,t,i,n){super(n||`can't resolve reference ${i} from id ${t}`),this.missingRef=(0,ta.resolveUrl)(e,t,i),this.missingSchema=(0,ta.normalizeId)((0,ta.getFullPath)(e,this.missingRef))}};ia.default=ra});var Mn=x(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.resolveSchema=at.getCompilingSchema=at.resolveRef=at.compileSchema=at.SchemaEnv=void 0;var ct=W(),Dm=Nn(),mr=Ft(),ut=Si(),cu=X(),Nm=xi(),Jr=class{constructor(e){var t;this.refs={},this.dynamicAnchors={};let i;typeof e.schema=="object"&&(i=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(t=e.baseId)!==null&&t!==void 0?t:(0,ut.normalizeId)(i?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=i?.$async,this.refs={}}};at.SchemaEnv=Jr;function oa(r){let e=uu.call(this,r);if(e)return e;let t=(0,ut.getFullPath)(this.opts.uriResolver,r.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:o}=this.opts,a=new ct.CodeGen(this.scope,{es5:i,lines:n,ownProperties:o}),s;r.$async&&(s=a.scopeValue("Error",{ref:Dm.default,code:(0,ct._)`require("ajv/dist/runtime/validation_error").default`}));let u=a.scopeName("validate");r.validateName=u;let p={gen:a,allErrors:this.opts.allErrors,data:mr.default.data,parentData:mr.default.parentData,parentDataProperty:mr.default.parentDataProperty,dataNames:[mr.default.data],dataPathArr:[ct.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:r.schema,code:(0,ct.stringify)(r.schema)}:{ref:r.schema}),validateName:u,ValidationError:s,schema:r.schema,schemaEnv:r,rootId:t,baseId:r.baseId||t,schemaPath:ct.nil,errSchemaPath:r.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ct._)`""`,opts:this.opts,self:this},f;try{this._compilations.add(r),(0,Nm.validateFunctionCode)(p),a.optimize(this.opts.code.optimize);let m=a.toString();f=`${a.scopeRefs(mr.default.scope)}return ${m}`,this.opts.code.process&&(f=this.opts.code.process(f,r));let C=new Function(`${mr.default.self}`,`${mr.default.scope}`,f)(this,this.scope.get());if(this.scope.value(u,{ref:C}),C.errors=null,C.schema=r.schema,C.schemaEnv=r,r.$async&&(C.$async=!0),this.opts.code.source===!0&&(C.source={validateName:u,validateCode:m,scopeValues:a._values}),this.opts.unevaluated){let{props:w,items:y}=p;C.evaluated={props:w instanceof ct.Name?void 0:w,items:y instanceof ct.Name?void 0:y,dynamicProps:w instanceof ct.Name,dynamicItems:y instanceof ct.Name},C.source&&(C.source.evaluated=(0,ct.stringify)(C.evaluated))}return r.validate=C,r}catch(m){throw delete r.validate,delete r.validateName,f&&this.logger.error("Error compiling schema, function code:",f),m}finally{this._compilations.delete(r)}}at.compileSchema=oa;function Vm(r,e,t){var i;t=(0,ut.resolveUrl)(this.opts.uriResolver,e,t);let n=r.refs[t];if(n)return n;let o=Rm.call(this,r,t);if(o===void 0){let a=(i=r.localRefs)===null||i===void 0?void 0:i[t],{schemaId:s}=this.opts;a&&(o=new Jr({schema:a,schemaId:s,root:r,baseId:e}))}if(o!==void 0)return r.refs[t]=km.call(this,o)}at.resolveRef=Vm;function km(r){return(0,ut.inlineRef)(r.schema,this.opts.inlineRefs)?r.schema:r.validate?r:oa.call(this,r)}function uu(r){for(let e of this._compilations)if(Mm(e,r))return e}at.getCompilingSchema=uu;function Mm(r,e){return r.schema===e.schema&&r.root===e.root&&r.baseId===e.baseId}function Rm(r,e){let t;for(;typeof(t=this.refs[e])=="string";)e=t;return t||this.schemas[e]||kn.call(this,r,e)}function kn(r,e){let t=this.opts.uriResolver.parse(e),i=(0,ut._getFullPath)(this.opts.uriResolver,t),n=(0,ut.getFullPath)(this.opts.uriResolver,r.baseId,void 0);if(Object.keys(r.schema).length>0&&i===n)return na.call(this,t,r);let o=(0,ut.normalizeId)(i),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){let s=kn.call(this,r,a);return typeof s?.schema!="object"?void 0:na.call(this,t,s)}if(typeof a?.schema=="object"){if(a.validate||oa.call(this,a),o===(0,ut.normalizeId)(e)){let{schema:s}=a,{schemaId:u}=this.opts,p=s[u];return p&&(n=(0,ut.resolveUrl)(this.opts.uriResolver,n,p)),new Jr({schema:s,schemaId:u,root:r,baseId:n})}return na.call(this,t,a)}}at.resolveSchema=kn;var Fm=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function na(r,{baseId:e,schema:t,root:i}){var n;if(((n=r.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let s of r.fragment.slice(1).split("/")){if(typeof t=="boolean")return;let u=t[(0,cu.unescapeFragment)(s)];if(u===void 0)return;t=u;let p=typeof t=="object"&&t[this.opts.schemaId];!Fm.has(s)&&p&&(e=(0,ut.resolveUrl)(this.opts.uriResolver,e,p))}let o;if(typeof t!="boolean"&&t.$ref&&!(0,cu.schemaHasRulesButRef)(t,this.RULES)){let s=(0,ut.resolveUrl)(this.opts.uriResolver,e,t.$ref);o=kn.call(this,i,s)}let{schemaId:a}=this.opts;if(o=o||new Jr({schema:t,schemaId:a,root:i,baseId:e}),o.schema!==o.root.schema)return o}});var du=x((eC,Am)=>{Am.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var pu=x((Rn,fu)=>{"use strict";(function(r,e){typeof Rn=="object"&&typeof fu<"u"?e(Rn):typeof define=="function"&&define.amd?define(["exports"],e):e(r.URI=r.URI||{})})(Rn,function(r){"use strict";function e(){for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];if(l.length>1){l[0]=l[0].slice(0,-1);for(var h=l.length-1,_=1;_<h;++_)l[_]=l[_].slice(1,-1);return l[h]=l[h].slice(1),l.join("")}else return l[0]}function t(c){return"(?:"+c+")"}function i(c){return c===void 0?"undefined":c===null?"null":Object.prototype.toString.call(c).split(" ").pop().split("]").shift().toLowerCase()}function n(c){return c.toUpperCase()}function o(c){return c!=null?c instanceof Array?c:typeof c.length!="number"||c.split||c.setInterval||c.call?[c]:Array.prototype.slice.call(c):[]}function a(c,l){var d=c;if(l)for(var h in l)d[h]=l[h];return d}function s(c){var l="[A-Za-z]",d="[\\x0D]",h="[0-9]",_="[\\x22]",E=e(h,"[A-Fa-f]"),j="[\\x0A]",G="[\\x20]",ee=t(t("%[EFef]"+E+"%"+E+E+"%"+E+E)+"|"+t("%[89A-Fa-f]"+E+"%"+E+E)+"|"+t("%"+E+E)),Ce="[\\:\\/\\?\\#\\[\\]\\@]",B="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",pe=e(Ce,B),we=c?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",fe=c?"[\\uE000-\\uF8FF]":"[]",Z=e(l,h,"[\\-\\.\\_\\~]",we),me=t(l+e(l,h,"[\\+\\-\\.]")+"*"),ne=t(t(ee+"|"+e(Z,B,"[\\:]"))+"*"),or=t(t("25[0-5]")+"|"+t("2[0-4]"+h)+"|"+t("1"+h+h)+"|"+t("[1-9]"+h)+"|"+h),Ke=t(t("25[0-5]")+"|"+t("2[0-4]"+h)+"|"+t("1"+h+h)+"|"+t("0?[1-9]"+h)+"|0?0?"+h),Ze=t(Ke+"\\."+Ke+"\\."+Ke+"\\."+Ke),le=t(E+"{1,4}"),Ge=t(t(le+"\\:"+le)+"|"+Ze),Qe=t(t(le+"\\:")+"{6}"+Ge),gt=t("\\:\\:"+t(le+"\\:")+"{5}"+Ge),ar=t(t(le)+"?\\:\\:"+t(le+"\\:")+"{4}"+Ge),Dt=t(t(t(le+"\\:")+"{0,1}"+le)+"?\\:\\:"+t(le+"\\:")+"{3}"+Ge),ci=t(t(t(le+"\\:")+"{0,2}"+le)+"?\\:\\:"+t(le+"\\:")+"{2}"+Ge),Ki=t(t(t(le+"\\:")+"{0,3}"+le)+"?\\:\\:"+le+"\\:"+Ge),Gi=t(t(t(le+"\\:")+"{0,4}"+le)+"?\\:\\:"+Ge),$r=t(t(t(le+"\\:")+"{0,5}"+le)+"?\\:\\:"+le),Sr=t(t(t(le+"\\:")+"{0,6}"+le)+"?\\:\\:"),Nt=t([Qe,gt,ar,Dt,ci,Ki,Gi,$r,Sr].join("|")),zr=t(t(Z+"|"+ee)+"+"),uo=t(Nt+"\\%25"+zr),sr=t(Nt+t("\\%25|\\%(?!"+E+"{2})")+zr),gf=t("[vV]"+E+"+\\."+e(Z,B,"[\\:]")+"+"),yf=t("\\["+t(sr+"|"+Nt+"|"+gf)+"\\]"),ks=t(t(ee+"|"+e(Z,B))+"*"),ui=t(yf+"|"+Ze+"(?!"+ks+")|"+ks),di=t(h+"*"),Ms=t(t(ne+"@")+"?"+ui+t("\\:"+di)+"?"),fi=t(ee+"|"+e(Z,B,"[\\:\\@]")),vf=t(fi+"*"),Rs=t(fi+"+"),Cf=t(t(ee+"|"+e(Z,B,"[\\@]"))+"+"),Vt=t(t("\\/"+vf)+"*"),Er=t("\\/"+t(Rs+Vt)+"?"),fo=t(Cf+Vt),Ji=t(Rs+Vt),xr="(?!"+fi+")",Iy=t(Vt+"|"+Er+"|"+fo+"|"+Ji+"|"+xr),Tr=t(t(fi+"|"+e("[\\/\\?]",fe))+"*"),pi=t(t(fi+"|[\\/\\?]")+"*"),Fs=t(t("\\/\\/"+Ms+Vt)+"|"+Er+"|"+Ji+"|"+xr),wf=t(me+"\\:"+Fs+t("\\?"+Tr)+"?"+t("\\#"+pi)+"?"),bf=t(t("\\/\\/"+Ms+Vt)+"|"+Er+"|"+fo+"|"+xr),$f=t(bf+t("\\?"+Tr)+"?"+t("\\#"+pi)+"?"),Dy=t(wf+"|"+$f),Ny=t(me+"\\:"+Fs+t("\\?"+Tr)+"?"),Vy="^("+me+")\\:"+t(t("\\/\\/("+t("("+ne+")@")+"?("+ui+")"+t("\\:("+di+")")+"?)")+"?("+Vt+"|"+Er+"|"+Ji+"|"+xr+")")+t("\\?("+Tr+")")+"?"+t("\\#("+pi+")")+"?$",ky="^(){0}"+t(t("\\/\\/("+t("("+ne+")@")+"?("+ui+")"+t("\\:("+di+")")+"?)")+"?("+Vt+"|"+Er+"|"+fo+"|"+xr+")")+t("\\?("+Tr+")")+"?"+t("\\#("+pi+")")+"?$",My="^("+me+")\\:"+t(t("\\/\\/("+t("("+ne+")@")+"?("+ui+")"+t("\\:("+di+")")+"?)")+"?("+Vt+"|"+Er+"|"+Ji+"|"+xr+")")+t("\\?("+Tr+")")+"?$",Ry="^"+t("\\#("+pi+")")+"?$",Fy="^"+t("("+ne+")@")+"?("+ui+")"+t("\\:("+di+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",l,h,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",Z,B),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",Z,B),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",Z,B),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",Z,B),"g"),NOT_QUERY:new RegExp(e("[^\\%]",Z,B,"[\\:\\@\\/\\?]",fe),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",Z,B,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",Z,B),"g"),UNRESERVED:new RegExp(Z,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",Z,pe),"g"),PCT_ENCODED:new RegExp(ee,"g"),IPV4ADDRESS:new RegExp("^("+Ze+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Nt+")"+t(t("\\%25|\\%(?!"+E+"{2})")+"("+zr+")")+"?\\]?$")}}var u=s(!1),p=s(!0),f=function(){function c(l,d){var h=[],_=!0,E=!1,j=void 0;try{for(var G=l[Symbol.iterator](),ee;!(_=(ee=G.next()).done)&&(h.push(ee.value),!(d&&h.length===d));_=!0);}catch(Ce){E=!0,j=Ce}finally{try{!_&&G.return&&G.return()}finally{if(E)throw j}}return h}return function(l,d){if(Array.isArray(l))return l;if(Symbol.iterator in Object(l))return c(l,d);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(c){if(Array.isArray(c)){for(var l=0,d=Array(c.length);l<c.length;l++)d[l]=c[l];return d}else return Array.from(c)},b=2147483647,C=36,w=1,y=26,z=38,g=700,D=72,A=128,re="-",k=/^xn--/,Je=/[^\0-\x7E]/,Wt=/[\x2E\u3002\uFF0E\uFF61]/g,ai={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ir=C-w,Oe=Math.floor,nr=String.fromCharCode;function pt(c){throw new RangeError(ai[c])}function Hi(c,l){for(var d=[],h=c.length;h--;)d[h]=l(c[h]);return d}function Bi(c,l){var d=c.split("@"),h="";d.length>1&&(h=d[0]+"@",c=d[1]),c=c.replace(Wt,".");var _=c.split("."),E=Hi(_,l).join(".");return h+E}function gs(c){for(var l=[],d=0,h=c.length;d<h;){var _=c.charCodeAt(d++);if(_>=55296&&_<=56319&&d<h){var E=c.charCodeAt(d++);(E&64512)==56320?l.push(((_&1023)<<10)+(E&1023)+65536):(l.push(_),d--)}else l.push(_)}return l}var Bd=function(l){return String.fromCodePoint.apply(String,m(l))},Kd=function(l){return l-48<10?l-22:l-65<26?l-65:l-97<26?l-97:C},ys=function(l,d){return l+22+75*(l<26)-((d!=0)<<5)},vs=function(l,d,h){var _=0;for(l=h?Oe(l/g):l>>1,l+=Oe(l/d);l>ir*y>>1;_+=C)l=Oe(l/ir);return Oe(_+(ir+1)*l/(l+z))},Cs=function(l){var d=[],h=l.length,_=0,E=A,j=D,G=l.lastIndexOf(re);G<0&&(G=0);for(var ee=0;ee<G;++ee)l.charCodeAt(ee)>=128&&pt("not-basic"),d.push(l.charCodeAt(ee));for(var Ce=G>0?G+1:0;Ce<h;){for(var B=_,pe=1,we=C;;we+=C){Ce>=h&&pt("invalid-input");var fe=Kd(l.charCodeAt(Ce++));(fe>=C||fe>Oe((b-_)/pe))&&pt("overflow"),_+=fe*pe;var Z=we<=j?w:we>=j+y?y:we-j;if(fe<Z)break;var me=C-Z;pe>Oe(b/me)&&pt("overflow"),pe*=me}var ne=d.length+1;j=vs(_-B,ne,B==0),Oe(_/ne)>b-E&&pt("overflow"),E+=Oe(_/ne),_%=ne,d.splice(_++,0,E)}return String.fromCodePoint.apply(String,d)},ws=function(l){var d=[];l=gs(l);var h=l.length,_=A,E=0,j=D,G=!0,ee=!1,Ce=void 0;try{for(var B=l[Symbol.iterator](),pe;!(G=(pe=B.next()).done);G=!0){var we=pe.value;we<128&&d.push(nr(we))}}catch(sr){ee=!0,Ce=sr}finally{try{!G&&B.return&&B.return()}finally{if(ee)throw Ce}}var fe=d.length,Z=fe;for(fe&&d.push(re);Z<h;){var me=b,ne=!0,or=!1,Ke=void 0;try{for(var Ze=l[Symbol.iterator](),le;!(ne=(le=Ze.next()).done);ne=!0){var Ge=le.value;Ge>=_&&Ge<me&&(me=Ge)}}catch(sr){or=!0,Ke=sr}finally{try{!ne&&Ze.return&&Ze.return()}finally{if(or)throw Ke}}var Qe=Z+1;me-_>Oe((b-E)/Qe)&&pt("overflow"),E+=(me-_)*Qe,_=me;var gt=!0,ar=!1,Dt=void 0;try{for(var ci=l[Symbol.iterator](),Ki;!(gt=(Ki=ci.next()).done);gt=!0){var Gi=Ki.value;if(Gi<_&&++E>b&&pt("overflow"),Gi==_){for(var $r=E,Sr=C;;Sr+=C){var Nt=Sr<=j?w:Sr>=j+y?y:Sr-j;if($r<Nt)break;var zr=$r-Nt,uo=C-Nt;d.push(nr(ys(Nt+zr%uo,0))),$r=Oe(zr/uo)}d.push(nr(ys($r,0))),j=vs(E,Qe,Z==fe),E=0,++Z}}}catch(sr){ar=!0,Dt=sr}finally{try{!gt&&ci.return&&ci.return()}finally{if(ar)throw Dt}}++E,++_}return d.join("")},Gd=function(l){return Bi(l,function(d){return k.test(d)?Cs(d.slice(4).toLowerCase()):d})},Jd=function(l){return Bi(l,function(d){return Je.test(d)?"xn--"+ws(d):d})},vr={version:"2.1.0",ucs2:{decode:gs,encode:Bd},decode:Cs,encode:ws,toASCII:Jd,toUnicode:Gd},Xe={};function mt(c){var l=c.charCodeAt(0),d=void 0;return l<16?d="%0"+l.toString(16).toUpperCase():l<128?d="%"+l.toString(16).toUpperCase():l<2048?d="%"+(l>>6|192).toString(16).toUpperCase()+"%"+(l&63|128).toString(16).toUpperCase():d="%"+(l>>12|224).toString(16).toUpperCase()+"%"+(l>>6&63|128).toString(16).toUpperCase()+"%"+(l&63|128).toString(16).toUpperCase(),d}function Cr(c){for(var l="",d=0,h=c.length;d<h;){var _=parseInt(c.substr(d+1,2),16);if(_<128)l+=String.fromCharCode(_),d+=3;else if(_>=194&&_<224){if(h-d>=6){var E=parseInt(c.substr(d+4,2),16);l+=String.fromCharCode((_&31)<<6|E&63)}else l+=c.substr(d,6);d+=6}else if(_>=224){if(h-d>=9){var j=parseInt(c.substr(d+4,2),16),G=parseInt(c.substr(d+7,2),16);l+=String.fromCharCode((_&15)<<12|(j&63)<<6|G&63)}else l+=c.substr(d,9);d+=9}else l+=c.substr(d,3),d+=3}return l}function ao(c,l){function d(h){var _=Cr(h);return _.match(l.UNRESERVED)?_:h}return c.scheme&&(c.scheme=String(c.scheme).replace(l.PCT_ENCODED,d).toLowerCase().replace(l.NOT_SCHEME,"")),c.userinfo!==void 0&&(c.userinfo=String(c.userinfo).replace(l.PCT_ENCODED,d).replace(l.NOT_USERINFO,mt).replace(l.PCT_ENCODED,n)),c.host!==void 0&&(c.host=String(c.host).replace(l.PCT_ENCODED,d).toLowerCase().replace(l.NOT_HOST,mt).replace(l.PCT_ENCODED,n)),c.path!==void 0&&(c.path=String(c.path).replace(l.PCT_ENCODED,d).replace(c.scheme?l.NOT_PATH:l.NOT_PATH_NOSCHEME,mt).replace(l.PCT_ENCODED,n)),c.query!==void 0&&(c.query=String(c.query).replace(l.PCT_ENCODED,d).replace(l.NOT_QUERY,mt).replace(l.PCT_ENCODED,n)),c.fragment!==void 0&&(c.fragment=String(c.fragment).replace(l.PCT_ENCODED,d).replace(l.NOT_FRAGMENT,mt).replace(l.PCT_ENCODED,n)),c}function so(c){return c.replace(/^0*(.*)/,"$1")||"0"}function lo(c,l){var d=c.match(l.IPV4ADDRESS)||[],h=f(d,2),_=h[1];return _?_.split(".").map(so).join("."):c}function bs(c,l){var d=c.match(l.IPV6ADDRESS)||[],h=f(d,3),_=h[1],E=h[2];if(_){for(var j=_.toLowerCase().split("::").reverse(),G=f(j,2),ee=G[0],Ce=G[1],B=Ce?Ce.split(":").map(so):[],pe=ee.split(":").map(so),we=l.IPV4ADDRESS.test(pe[pe.length-1]),fe=we?7:8,Z=pe.length-fe,me=Array(fe),ne=0;ne<fe;++ne)me[ne]=B[ne]||pe[Z+ne]||"";we&&(me[fe-1]=lo(me[fe-1],l));var or=me.reduce(function(Qe,gt,ar){if(!gt||gt==="0"){var Dt=Qe[Qe.length-1];Dt&&Dt.index+Dt.length===ar?Dt.length++:Qe.push({index:ar,length:1})}return Qe},[]),Ke=or.sort(function(Qe,gt){return gt.length-Qe.length})[0],Ze=void 0;if(Ke&&Ke.length>1){var le=me.slice(0,Ke.index),Ge=me.slice(Ke.index+Ke.length);Ze=le.join(":")+"::"+Ge.join(":")}else Ze=me.join(":");return E&&(Ze+="%"+E),Ze}else return c}var Xd=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Zd="".match(/(){0}/)[1]===void 0;function Ot(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d={},h=l.iri!==!1?p:u;l.reference==="suffix"&&(c=(l.scheme?l.scheme+":":"")+"//"+c);var _=c.match(Xd);if(_){Zd?(d.scheme=_[1],d.userinfo=_[3],d.host=_[4],d.port=parseInt(_[5],10),d.path=_[6]||"",d.query=_[7],d.fragment=_[8],isNaN(d.port)&&(d.port=_[5])):(d.scheme=_[1]||void 0,d.userinfo=c.indexOf("@")!==-1?_[3]:void 0,d.host=c.indexOf("//")!==-1?_[4]:void 0,d.port=parseInt(_[5],10),d.path=_[6]||"",d.query=c.indexOf("?")!==-1?_[7]:void 0,d.fragment=c.indexOf("#")!==-1?_[8]:void 0,isNaN(d.port)&&(d.port=c.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?_[4]:void 0)),d.host&&(d.host=bs(lo(d.host,h),h)),d.scheme===void 0&&d.userinfo===void 0&&d.host===void 0&&d.port===void 0&&!d.path&&d.query===void 0?d.reference="same-document":d.scheme===void 0?d.reference="relative":d.fragment===void 0?d.reference="absolute":d.reference="uri",l.reference&&l.reference!=="suffix"&&l.reference!==d.reference&&(d.error=d.error||"URI is not a "+l.reference+" reference.");var E=Xe[(l.scheme||d.scheme||"").toLowerCase()];if(!l.unicodeSupport&&(!E||!E.unicodeSupport)){if(d.host&&(l.domainHost||E&&E.domainHost))try{d.host=vr.toASCII(d.host.replace(h.PCT_ENCODED,Cr).toLowerCase())}catch(j){d.error=d.error||"Host's domain name can not be converted to ASCII via punycode: "+j}ao(d,u)}else ao(d,h);E&&E.parse&&E.parse(d,l)}else d.error=d.error||"URI can not be parsed.";return d}function Qd(c,l){var d=l.iri!==!1?p:u,h=[];return c.userinfo!==void 0&&(h.push(c.userinfo),h.push("@")),c.host!==void 0&&h.push(bs(lo(String(c.host),d),d).replace(d.IPV6ADDRESS,function(_,E,j){return"["+E+(j?"%25"+j:"")+"]"})),(typeof c.port=="number"||typeof c.port=="string")&&(h.push(":"),h.push(String(c.port))),h.length?h.join(""):void 0}var $s=/^\.\.?\//,Ss=/^\/\.(\/|$)/,zs=/^\/\.\.(\/|$)/,Yd=/^\/?(?:.|\n)*?(?=\/|$)/;function wr(c){for(var l=[];c.length;)if(c.match($s))c=c.replace($s,"");else if(c.match(Ss))c=c.replace(Ss,"/");else if(c.match(zs))c=c.replace(zs,"/"),l.pop();else if(c==="."||c==="..")c="";else{var d=c.match(Yd);if(d){var h=d[0];c=c.slice(h.length),l.push(h)}else throw new Error("Unexpected dot segment condition")}return l.join("")}function ht(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=l.iri?p:u,h=[],_=Xe[(l.scheme||c.scheme||"").toLowerCase()];if(_&&_.serialize&&_.serialize(c,l),c.host&&!d.IPV6ADDRESS.test(c.host)){if(l.domainHost||_&&_.domainHost)try{c.host=l.iri?vr.toUnicode(c.host):vr.toASCII(c.host.replace(d.PCT_ENCODED,Cr).toLowerCase())}catch(G){c.error=c.error||"Host's domain name can not be converted to "+(l.iri?"Unicode":"ASCII")+" via punycode: "+G}}ao(c,d),l.reference!=="suffix"&&c.scheme&&(h.push(c.scheme),h.push(":"));var E=Qd(c,l);if(E!==void 0&&(l.reference!=="suffix"&&h.push("//"),h.push(E),c.path&&c.path.charAt(0)!=="/"&&h.push("/")),c.path!==void 0){var j=c.path;!l.absolutePath&&(!_||!_.absolutePath)&&(j=wr(j)),E===void 0&&(j=j.replace(/^\/\//,"/%2F")),h.push(j)}return c.query!==void 0&&(h.push("?"),h.push(c.query)),c.fragment!==void 0&&(h.push("#"),h.push(c.fragment)),h.join("")}function Es(c,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=arguments[3],_={};return h||(c=Ot(ht(c,d),d),l=Ot(ht(l,d),d)),d=d||{},!d.tolerant&&l.scheme?(_.scheme=l.scheme,_.userinfo=l.userinfo,_.host=l.host,_.port=l.port,_.path=wr(l.path||""),_.query=l.query):(l.userinfo!==void 0||l.host!==void 0||l.port!==void 0?(_.userinfo=l.userinfo,_.host=l.host,_.port=l.port,_.path=wr(l.path||""),_.query=l.query):(l.path?(l.path.charAt(0)==="/"?_.path=wr(l.path):((c.userinfo!==void 0||c.host!==void 0||c.port!==void 0)&&!c.path?_.path="/"+l.path:c.path?_.path=c.path.slice(0,c.path.lastIndexOf("/")+1)+l.path:_.path=l.path,_.path=wr(_.path)),_.query=l.query):(_.path=c.path,l.query!==void 0?_.query=l.query:_.query=c.query),_.userinfo=c.userinfo,_.host=c.host,_.port=c.port),_.scheme=c.scheme),_.fragment=l.fragment,_}function ef(c,l,d){var h=a({scheme:"null"},d);return ht(Es(Ot(c,h),Ot(l,h),h,!0),h)}function tf(c,l){return typeof c=="string"?c=ht(Ot(c,l),l):i(c)==="object"&&(c=Ot(ht(c,l),l)),c}function rf(c,l,d){return typeof c=="string"?c=ht(Ot(c,d),d):i(c)==="object"&&(c=ht(c,d)),typeof l=="string"?l=ht(Ot(l,d),d):i(l)==="object"&&(l=ht(l,d)),c===l}function nf(c,l){return c&&c.toString().replace(!l||!l.iri?u.ESCAPE:p.ESCAPE,mt)}function It(c,l){return c&&c.toString().replace(!l||!l.iri?u.PCT_ENCODED:p.PCT_ENCODED,Cr)}var si={scheme:"http",domainHost:!0,parse:function(l,d){return l.host||(l.error=l.error||"HTTP URIs must have a host."),l},serialize:function(l,d){var h=String(l.scheme).toLowerCase()==="https";return(l.port===(h?443:80)||l.port==="")&&(l.port=void 0),l.path||(l.path="/"),l}},xs={scheme:"https",domainHost:si.domainHost,parse:si.parse,serialize:si.serialize};function Ts(c){return typeof c.secure=="boolean"?c.secure:String(c.scheme).toLowerCase()==="wss"}var li={scheme:"ws",domainHost:!0,parse:function(l,d){var h=l;return h.secure=Ts(h),h.resourceName=(h.path||"/")+(h.query?"?"+h.query:""),h.path=void 0,h.query=void 0,h},serialize:function(l,d){if((l.port===(Ts(l)?443:80)||l.port==="")&&(l.port=void 0),typeof l.secure=="boolean"&&(l.scheme=l.secure?"wss":"ws",l.secure=void 0),l.resourceName){var h=l.resourceName.split("?"),_=f(h,2),E=_[0],j=_[1];l.path=E&&E!=="/"?E:void 0,l.query=j,l.resourceName=void 0}return l.fragment=void 0,l}},Ps={scheme:"wss",domainHost:li.domainHost,parse:li.parse,serialize:li.serialize},of={},af=!0,Os="[A-Za-z0-9\\-\\.\\_\\~"+(af?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",_t="[0-9A-Fa-f]",sf=t(t("%[EFef]"+_t+"%"+_t+_t+"%"+_t+_t)+"|"+t("%[89A-Fa-f]"+_t+"%"+_t+_t)+"|"+t("%"+_t+_t)),lf="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",cf="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",uf=e(cf,'[\\"\\\\]'),df="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ff=new RegExp(Os,"g"),br=new RegExp(sf,"g"),pf=new RegExp(e("[^]",lf,"[\\.]",'[\\"]',uf),"g"),Is=new RegExp(e("[^]",Os,df),"g"),mf=Is;function co(c){var l=Cr(c);return l.match(ff)?l:c}var Ds={scheme:"mailto",parse:function(l,d){var h=l,_=h.to=h.path?h.path.split(","):[];if(h.path=void 0,h.query){for(var E=!1,j={},G=h.query.split("&"),ee=0,Ce=G.length;ee<Ce;++ee){var B=G[ee].split("=");switch(B[0]){case"to":for(var pe=B[1].split(","),we=0,fe=pe.length;we<fe;++we)_.push(pe[we]);break;case"subject":h.subject=It(B[1],d);break;case"body":h.body=It(B[1],d);break;default:E=!0,j[It(B[0],d)]=It(B[1],d);break}}E&&(h.headers=j)}h.query=void 0;for(var Z=0,me=_.length;Z<me;++Z){var ne=_[Z].split("@");if(ne[0]=It(ne[0]),d.unicodeSupport)ne[1]=It(ne[1],d).toLowerCase();else try{ne[1]=vr.toASCII(It(ne[1],d).toLowerCase())}catch(or){h.error=h.error||"Email address's domain name can not be converted to ASCII via punycode: "+or}_[Z]=ne.join("@")}return h},serialize:function(l,d){var h=l,_=o(l.to);if(_){for(var E=0,j=_.length;E<j;++E){var G=String(_[E]),ee=G.lastIndexOf("@"),Ce=G.slice(0,ee).replace(br,co).replace(br,n).replace(pf,mt),B=G.slice(ee+1);try{B=d.iri?vr.toUnicode(B):vr.toASCII(It(B,d).toLowerCase())}catch(Z){h.error=h.error||"Email address's domain name can not be converted to "+(d.iri?"Unicode":"ASCII")+" via punycode: "+Z}_[E]=Ce+"@"+B}h.path=_.join(",")}var pe=l.headers=l.headers||{};l.subject&&(pe.subject=l.subject),l.body&&(pe.body=l.body);var we=[];for(var fe in pe)pe[fe]!==of[fe]&&we.push(fe.replace(br,co).replace(br,n).replace(Is,mt)+"="+pe[fe].replace(br,co).replace(br,n).replace(mf,mt));return we.length&&(h.query=we.join("&")),h}},hf=/^([^\:]+)\:(.*)/,Ns={scheme:"urn",parse:function(l,d){var h=l.path&&l.path.match(hf),_=l;if(h){var E=d.scheme||_.scheme||"urn",j=h[1].toLowerCase(),G=h[2],ee=E+":"+(d.nid||j),Ce=Xe[ee];_.nid=j,_.nss=G,_.path=void 0,Ce&&(_=Ce.parse(_,d))}else _.error=_.error||"URN can not be parsed.";return _},serialize:function(l,d){var h=d.scheme||l.scheme||"urn",_=l.nid,E=h+":"+(d.nid||_),j=Xe[E];j&&(l=j.serialize(l,d));var G=l,ee=l.nss;return G.path=(_||d.nid)+":"+ee,G}},_f=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Vs={scheme:"urn:uuid",parse:function(l,d){var h=l;return h.uuid=h.nss,h.nss=void 0,!d.tolerant&&(!h.uuid||!h.uuid.match(_f))&&(h.error=h.error||"UUID is not valid."),h},serialize:function(l,d){var h=l;return h.nss=(l.uuid||"").toLowerCase(),h}};Xe[si.scheme]=si,Xe[xs.scheme]=xs,Xe[li.scheme]=li,Xe[Ps.scheme]=Ps,Xe[Ds.scheme]=Ds,Xe[Ns.scheme]=Ns,Xe[Vs.scheme]=Vs,r.SCHEMES=Xe,r.pctEncChar=mt,r.pctDecChars=Cr,r.parse=Ot,r.removeDotSegments=wr,r.serialize=ht,r.resolveComponents=Es,r.resolve=ef,r.normalize=tf,r.equal=rf,r.escapeComponent=nf,r.unescapeComponent=It,Object.defineProperty(r,"__esModule",{value:!0})})});var hu=x(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});var mu=pu();mu.code='require("ajv/dist/runtime/uri").default';aa.default=mu});var $u=x(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.CodeGen=Te.Name=Te.nil=Te.stringify=Te.str=Te._=Te.KeywordCxt=void 0;var jm=xi();Object.defineProperty(Te,"KeywordCxt",{enumerable:!0,get:function(){return jm.KeywordCxt}});var Xr=W();Object.defineProperty(Te,"_",{enumerable:!0,get:function(){return Xr._}});Object.defineProperty(Te,"str",{enumerable:!0,get:function(){return Xr.str}});Object.defineProperty(Te,"stringify",{enumerable:!0,get:function(){return Xr.stringify}});Object.defineProperty(Te,"nil",{enumerable:!0,get:function(){return Xr.nil}});Object.defineProperty(Te,"Name",{enumerable:!0,get:function(){return Xr.Name}});Object.defineProperty(Te,"CodeGen",{enumerable:!0,get:function(){return Xr.CodeGen}});var qm=Nn(),Cu=Vn(),Wm=jo(),Ti=Mn(),Lm=W(),Pi=Si(),Fn=$i(),la=X(),_u=du(),Um=hu(),wu=(r,e)=>new RegExp(r,e);wu.code="new RegExp";var Hm=["removeAdditional","useDefaults","coerceTypes"],Bm=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Km={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Gm={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},gu=200;function Jm(r){var e,t,i,n,o,a,s,u,p,f,m,b,C,w,y,z,g,D,A,re,k,Je,Wt,ai,ir;let Oe=r.strict,nr=(e=r.code)===null||e===void 0?void 0:e.optimize,pt=nr===!0||nr===void 0?1:nr||0,Hi=(i=(t=r.code)===null||t===void 0?void 0:t.regExp)!==null&&i!==void 0?i:wu,Bi=(n=r.uriResolver)!==null&&n!==void 0?n:Um.default;return{strictSchema:(a=(o=r.strictSchema)!==null&&o!==void 0?o:Oe)!==null&&a!==void 0?a:!0,strictNumbers:(u=(s=r.strictNumbers)!==null&&s!==void 0?s:Oe)!==null&&u!==void 0?u:!0,strictTypes:(f=(p=r.strictTypes)!==null&&p!==void 0?p:Oe)!==null&&f!==void 0?f:"log",strictTuples:(b=(m=r.strictTuples)!==null&&m!==void 0?m:Oe)!==null&&b!==void 0?b:"log",strictRequired:(w=(C=r.strictRequired)!==null&&C!==void 0?C:Oe)!==null&&w!==void 0?w:!1,code:r.code?ge(O({},r.code),{optimize:pt,regExp:Hi}):{optimize:pt,regExp:Hi},loopRequired:(y=r.loopRequired)!==null&&y!==void 0?y:gu,loopEnum:(z=r.loopEnum)!==null&&z!==void 0?z:gu,meta:(g=r.meta)!==null&&g!==void 0?g:!0,messages:(D=r.messages)!==null&&D!==void 0?D:!0,inlineRefs:(A=r.inlineRefs)!==null&&A!==void 0?A:!0,schemaId:(re=r.schemaId)!==null&&re!==void 0?re:"$id",addUsedSchema:(k=r.addUsedSchema)!==null&&k!==void 0?k:!0,validateSchema:(Je=r.validateSchema)!==null&&Je!==void 0?Je:!0,validateFormats:(Wt=r.validateFormats)!==null&&Wt!==void 0?Wt:!0,unicodeRegExp:(ai=r.unicodeRegExp)!==null&&ai!==void 0?ai:!0,int32range:(ir=r.int32range)!==null&&ir!==void 0?ir:!0,uriResolver:Bi}}var Oi=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=O(O({},e),Jm(e));let{es5:t,lines:i}=this.opts.code;this.scope=new Lm.ValueScope({scope:{},prefixes:Bm,es5:t,lines:i}),this.logger=th(e.logger);let n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,Wm.getRules)(),yu.call(this,Km,e,"NOT SUPPORTED"),yu.call(this,Gm,e,"DEPRECATED","warn"),this._metaOpts=Ym.call(this),e.formats&&Zm.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Qm.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Xm.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:i}=this.opts,n=_u;i==="id"&&(n=O({},_u),n.id=n.$id,delete n.$id),t&&e&&this.addMetaSchema(n,n[i],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[t]||e:void 0}validate(e,t){let i;if(typeof e=="string"){if(i=this.getSchema(e),!i)throw new Error(`no schema with key or ref "${e}"`)}else i=this.compile(e);let n=i(t);return"$async"in i||(this.errors=i.errors),n}compile(e,t){let i=this._addSchema(e,t);return i.validate||this._compileSchemaEnv(i)}compileAsync(e,t){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return n.call(this,e,t);function n(f,m){return Pr(this,null,function*(){yield o.call(this,f.$schema);let b=this._addSchema(f,m);return b.validate||a.call(this,b)})}function o(f){return Pr(this,null,function*(){f&&!this.getSchema(f)&&(yield n.call(this,{$ref:f},!0))})}function a(f){return Pr(this,null,function*(){try{return this._compileSchemaEnv(f)}catch(m){if(!(m instanceof Cu.default))throw m;return s.call(this,m),yield u.call(this,m.missingSchema),a.call(this,f)}})}function s({missingSchema:f,missingRef:m}){if(this.refs[f])throw new Error(`AnySchema ${f} is loaded but ${m} cannot be resolved`)}function u(f){return Pr(this,null,function*(){let m=yield p.call(this,f);this.refs[f]||(yield o.call(this,m.$schema)),this.refs[f]||this.addSchema(m,f,t)})}function p(f){return Pr(this,null,function*(){let m=this._loading[f];if(m)return m;try{return yield this._loading[f]=i(f)}finally{delete this._loading[f]}})}}addSchema(e,t,i,n=this.opts.validateSchema){if(Array.isArray(e)){for(let a of e)this.addSchema(a,void 0,i,n);return this}let o;if(typeof e=="object"){let{schemaId:a}=this.opts;if(o=e[a],o!==void 0&&typeof o!="string")throw new Error(`schema ${a} must be string`)}return t=(0,Pi.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,i,t,n,!0),this}addMetaSchema(e,t,i=this.opts.validateSchema){return this.addSchema(e,t,!0,i),this}validateSchema(e,t){if(typeof e=="boolean")return!0;let i;if(i=e.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(i,e);if(!n&&t){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return n}getSchema(e){let t;for(;typeof(t=vu.call(this,e))=="string";)e=t;if(t===void 0){let{schemaId:i}=this.opts,n=new Ti.SchemaEnv({schema:{},schemaId:i});if(t=Ti.resolveSchema.call(this,n,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=vu.call(this,e);return typeof t=="object"&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let t=e;this._cache.delete(t);let i=e[this.opts.schemaId];return i&&(i=(0,Pi.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let i;if(typeof e=="string")i=e,typeof t=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=i);else if(typeof e=="object"&&t===void 0){if(t=e,i=t.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ih.call(this,i,t),!t)return(0,la.eachItem)(i,o=>sa.call(this,o)),this;oh.call(this,t);let n=ge(O({},t),{type:(0,Fn.getJSONTypes)(t.type),schemaType:(0,Fn.getJSONTypes)(t.schemaType)});return(0,la.eachItem)(i,n.type.length===0?o=>sa.call(this,o,n):o=>n.type.forEach(a=>sa.call(this,o,n,a))),this}getKeyword(e){let t=this.RULES.all[e];return typeof t=="object"?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(let i of t.rules){let n=i.rules.findIndex(o=>o.keyword===e);n>=0&&i.rules.splice(n,1)}return this}addFormat(e,t){return typeof t=="string"&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:i="data"}={}){return!e||e.length===0?"No errors":e.map(n=>`${i}${n.instancePath} ${n.message}`).reduce((n,o)=>n+t+o)}$dataMetaSchema(e,t){let i=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let n of t){let o=n.split("/").slice(1),a=e;for(let s of o)a=a[s];for(let s in i){let u=i[s];if(typeof u!="object")continue;let{$data:p}=u.definition,f=a[s];p&&f&&(a[s]=bu(f))}}return e}_removeAllSchemas(e,t){for(let i in e){let n=e[i];(!t||t.test(i))&&(typeof n=="string"?delete e[i]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[i]))}}_addSchema(e,t,i,n=this.opts.validateSchema,o=this.opts.addUsedSchema){let a,{schemaId:s}=this.opts;if(typeof e=="object")a=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let u=this._cache.get(e);if(u!==void 0)return u;i=(0,Pi.normalizeId)(a||i);let p=Pi.getSchemaRefs.call(this,e,i);return u=new Ti.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:i,localRefs:p}),this._cache.set(u.schema,u),o&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=u),n&&this.validateSchema(e,!0),u}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Ti.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{Ti.compileSchema.call(this,e)}finally{this.opts=t}}};Te.default=Oi;Oi.ValidationError=qm.default;Oi.MissingRefError=Cu.default;function yu(r,e,t,i="error"){for(let n in r){let o=n;o in e&&this.logger[i](`${t}: option ${n}. ${r[o]}`)}}function vu(r){return r=(0,Pi.normalizeId)(r),this.schemas[r]||this.refs[r]}function Xm(){let r=this.opts.schemas;if(r)if(Array.isArray(r))this.addSchema(r);else for(let e in r)this.addSchema(r[e],e)}function Zm(){for(let r in this.opts.formats){let e=this.opts.formats[r];e&&this.addFormat(r,e)}}function Qm(r){if(Array.isArray(r)){this.addVocabulary(r);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in r){let t=r[e];t.keyword||(t.keyword=e),this.addKeyword(t)}}function Ym(){let r=O({},this.opts);for(let e of Hm)delete r[e];return r}var eh={log(){},warn(){},error(){}};function th(r){if(r===!1)return eh;if(r===void 0)return console;if(r.log&&r.warn&&r.error)return r;throw new Error("logger must implement log, warn and error methods")}var rh=/^[a-z_$][a-z0-9_$:-]*$/i;function ih(r,e){let{RULES:t}=this;if((0,la.eachItem)(r,i=>{if(t.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!rh.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function sa(r,e,t){var i;let n=e?.post;if(t&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,a=n?o.post:o.rules.find(({type:u})=>u===t);if(a||(a={type:t,rules:[]},o.rules.push(a)),o.keywords[r]=!0,!e)return;let s={keyword:r,definition:ge(O({},e),{type:(0,Fn.getJSONTypes)(e.type),schemaType:(0,Fn.getJSONTypes)(e.schemaType)})};e.before?nh.call(this,a,s,e.before):a.rules.push(s),o.all[r]=s,(i=e.implements)===null||i===void 0||i.forEach(u=>this.addKeyword(u))}function nh(r,e,t){let i=r.rules.findIndex(n=>n.keyword===t);i>=0?r.rules.splice(i,0,e):(r.rules.push(e),this.logger.warn(`rule ${t} is not defined`))}function oh(r){let{metaSchema:e}=r;e!==void 0&&(r.$data&&this.opts.$data&&(e=bu(e)),r.validateSchema=this.compile(e,!0))}var ah={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function bu(r){return{anyOf:[r,ah]}}});var Su=x(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});var sh={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ca.default=sh});var Tu=x(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.callRef=hr.getValidate=void 0;var lh=Vn(),zu=ot(),Be=W(),Zr=Ft(),Eu=Mn(),An=X(),ch={keyword:"$ref",schemaType:"string",code(r){let{gen:e,schema:t,it:i}=r,{baseId:n,schemaEnv:o,validateName:a,opts:s,self:u}=i,{root:p}=o;if((t==="#"||t==="#/")&&n===p.baseId)return m();let f=Eu.resolveRef.call(u,p,n,t);if(f===void 0)throw new lh.default(i.opts.uriResolver,n,t);if(f instanceof Eu.SchemaEnv)return b(f);return C(f);function m(){if(o===p)return jn(r,a,o,o.$async);let w=e.scopeValue("root",{ref:p});return jn(r,(0,Be._)`${w}.validate`,p,p.$async)}function b(w){let y=xu(r,w);jn(r,y,w,w.$async)}function C(w){let y=e.scopeValue("schema",s.code.source===!0?{ref:w,code:(0,Be.stringify)(w)}:{ref:w}),z=e.name("valid"),g=r.subschema({schema:w,dataTypes:[],schemaPath:Be.nil,topSchemaRef:y,errSchemaPath:t},z);r.mergeEvaluated(g),r.ok(z)}}};function xu(r,e){let{gen:t}=r;return e.validate?t.scopeValue("validate",{ref:e.validate}):(0,Be._)`${t.scopeValue("wrapper",{ref:e})}.validate`}hr.getValidate=xu;function jn(r,e,t,i){let{gen:n,it:o}=r,{allErrors:a,schemaEnv:s,opts:u}=o,p=u.passContext?Zr.default.this:Be.nil;i?f():m();function f(){if(!s.$async)throw new Error("async schema referenced by sync schema");let w=n.let("valid");n.try(()=>{n.code((0,Be._)`await ${(0,zu.callValidateCode)(r,e,p)}`),C(e),a||n.assign(w,!0)},y=>{n.if((0,Be._)`!(${y} instanceof ${o.ValidationError})`,()=>n.throw(y)),b(y),a||n.assign(w,!1)}),r.ok(w)}function m(){r.result((0,zu.callValidateCode)(r,e,p),()=>C(e),()=>b(e))}function b(w){let y=(0,Be._)`${w}.errors`;n.assign(Zr.default.vErrors,(0,Be._)`${Zr.default.vErrors} === null ? ${y} : ${Zr.default.vErrors}.concat(${y})`),n.assign(Zr.default.errors,(0,Be._)`${Zr.default.vErrors}.length`)}function C(w){var y;if(!o.opts.unevaluated)return;let z=(y=t?.validate)===null||y===void 0?void 0:y.evaluated;if(o.props!==!0)if(z&&!z.dynamicProps)z.props!==void 0&&(o.props=An.mergeEvaluated.props(n,z.props,o.props));else{let g=n.var("props",(0,Be._)`${w}.evaluated.props`);o.props=An.mergeEvaluated.props(n,g,o.props,Be.Name)}if(o.items!==!0)if(z&&!z.dynamicItems)z.items!==void 0&&(o.items=An.mergeEvaluated.items(n,z.items,o.items));else{let g=n.var("items",(0,Be._)`${w}.evaluated.items`);o.items=An.mergeEvaluated.items(n,g,o.items,Be.Name)}}}hr.callRef=jn;hr.default=ch});var Pu=x(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});var uh=Su(),dh=Tu(),fh=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",uh.default,dh.default];ua.default=fh});var Ou=x(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});var qn=W(),er=qn.operators,Wn={maximum:{okStr:"<=",ok:er.LTE,fail:er.GT},minimum:{okStr:">=",ok:er.GTE,fail:er.LT},exclusiveMaximum:{okStr:"<",ok:er.LT,fail:er.GTE},exclusiveMinimum:{okStr:">",ok:er.GT,fail:er.LTE}},ph={message:({keyword:r,schemaCode:e})=>(0,qn.str)`must be ${Wn[r].okStr} ${e}`,params:({keyword:r,schemaCode:e})=>(0,qn._)`{comparison: ${Wn[r].okStr}, limit: ${e}}`},mh={keyword:Object.keys(Wn),type:"number",schemaType:"number",$data:!0,error:ph,code(r){let{keyword:e,data:t,schemaCode:i}=r;r.fail$data((0,qn._)`${t} ${Wn[e].fail} ${i} || isNaN(${t})`)}};da.default=mh});var Iu=x(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});var Ii=W(),hh={message:({schemaCode:r})=>(0,Ii.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,Ii._)`{multipleOf: ${r}}`},_h={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:hh,code(r){let{gen:e,data:t,schemaCode:i,it:n}=r,o=n.opts.multipleOfPrecision,a=e.let("res"),s=o?(0,Ii._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,Ii._)`${a} !== parseInt(${a})`;r.fail$data((0,Ii._)`(${i} === 0 || (${a} = ${t}/${i}, ${s}))`)}};fa.default=_h});var Nu=x(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});function Du(r){let e=r.length,t=0,i=0,n;for(;i<e;)t++,n=r.charCodeAt(i++),n>=55296&&n<=56319&&i<e&&(n=r.charCodeAt(i),(n&64512)===56320&&i++);return t}pa.default=Du;Du.code='require("ajv/dist/runtime/ucs2length").default'});var Vu=x(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});var _r=W(),gh=X(),yh=Nu(),vh={message({keyword:r,schemaCode:e}){let t=r==="maxLength"?"more":"fewer";return(0,_r.str)`must NOT have ${t} than ${e} characters`},params:({schemaCode:r})=>(0,_r._)`{limit: ${r}}`},Ch={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:vh,code(r){let{keyword:e,data:t,schemaCode:i,it:n}=r,o=e==="maxLength"?_r.operators.GT:_r.operators.LT,a=n.opts.unicode===!1?(0,_r._)`${t}.length`:(0,_r._)`${(0,gh.useFunc)(r.gen,yh.default)}(${t})`;r.fail$data((0,_r._)`${a} ${o} ${i}`)}};ma.default=Ch});var ku=x(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});var wh=ot(),Ln=W(),bh={message:({schemaCode:r})=>(0,Ln.str)`must match pattern "${r}"`,params:({schemaCode:r})=>(0,Ln._)`{pattern: ${r}}`},$h={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:bh,code(r){let{data:e,$data:t,schema:i,schemaCode:n,it:o}=r,a=o.opts.unicodeRegExp?"u":"",s=t?(0,Ln._)`(new RegExp(${n}, ${a}))`:(0,wh.usePattern)(r,i);r.fail$data((0,Ln._)`!${s}.test(${e})`)}};ha.default=$h});var Mu=x(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});var Di=W(),Sh={message({keyword:r,schemaCode:e}){let t=r==="maxProperties"?"more":"fewer";return(0,Di.str)`must NOT have ${t} than ${e} properties`},params:({schemaCode:r})=>(0,Di._)`{limit: ${r}}`},zh={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Sh,code(r){let{keyword:e,data:t,schemaCode:i}=r,n=e==="maxProperties"?Di.operators.GT:Di.operators.LT;r.fail$data((0,Di._)`Object.keys(${t}).length ${n} ${i}`)}};_a.default=zh});var Ru=x(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});var Ni=ot(),Vi=W(),Eh=X(),xh={message:({params:{missingProperty:r}})=>(0,Vi.str)`must have required property '${r}'`,params:({params:{missingProperty:r}})=>(0,Vi._)`{missingProperty: ${r}}`},Th={keyword:"required",type:"object",schemaType:"array",$data:!0,error:xh,code(r){let{gen:e,schema:t,schemaCode:i,data:n,$data:o,it:a}=r,{opts:s}=a;if(!o&&t.length===0)return;let u=t.length>=s.loopRequired;if(a.allErrors?p():f(),s.strictRequired){let C=r.parentSchema.properties,{definedProperties:w}=r.it;for(let y of t)if(C?.[y]===void 0&&!w.has(y)){let z=a.schemaEnv.baseId+a.errSchemaPath,g=`required property "${y}" is not defined at "${z}" (strictRequired)`;(0,Eh.checkStrictMode)(a,g,a.opts.strictRequired)}}function p(){if(u||o)r.block$data(Vi.nil,m);else for(let C of t)(0,Ni.checkReportMissingProp)(r,C)}function f(){let C=e.let("missing");if(u||o){let w=e.let("valid",!0);r.block$data(w,()=>b(C,w)),r.ok(w)}else e.if((0,Ni.checkMissingProp)(r,t,C)),(0,Ni.reportMissingProp)(r,C),e.else()}function m(){e.forOf("prop",i,C=>{r.setParams({missingProperty:C}),e.if((0,Ni.noPropertyInData)(e,n,C,s.ownProperties),()=>r.error())})}function b(C,w){r.setParams({missingProperty:C}),e.forOf(C,i,()=>{e.assign(w,(0,Ni.propertyInData)(e,n,C,s.ownProperties)),e.if((0,Vi.not)(w),()=>{r.error(),e.break()})},Vi.nil)}}};ga.default=Th});var Fu=x(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});var ki=W(),Ph={message({keyword:r,schemaCode:e}){let t=r==="maxItems"?"more":"fewer";return(0,ki.str)`must NOT have ${t} than ${e} items`},params:({schemaCode:r})=>(0,ki._)`{limit: ${r}}`},Oh={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Ph,code(r){let{keyword:e,data:t,schemaCode:i}=r,n=e==="maxItems"?ki.operators.GT:ki.operators.LT;r.fail$data((0,ki._)`${t}.length ${n} ${i}`)}};ya.default=Oh});var Un=x(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});var Au=Go();Au.code='require("ajv/dist/runtime/equal").default';va.default=Au});var ju=x(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});var Ca=$i(),Pe=W(),Ih=X(),Dh=Un(),Nh={message:({params:{i:r,j:e}})=>(0,Pe.str)`must NOT have duplicate items (items ## ${e} and ${r} are identical)`,params:({params:{i:r,j:e}})=>(0,Pe._)`{i: ${r}, j: ${e}}`},Vh={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Nh,code(r){let{gen:e,data:t,$data:i,schema:n,parentSchema:o,schemaCode:a,it:s}=r;if(!i&&!n)return;let u=e.let("valid"),p=o.items?(0,Ca.getSchemaTypes)(o.items):[];r.block$data(u,f,(0,Pe._)`${a} === false`),r.ok(u);function f(){let w=e.let("i",(0,Pe._)`${t}.length`),y=e.let("j");r.setParams({i:w,j:y}),e.assign(u,!0),e.if((0,Pe._)`${w} > 1`,()=>(m()?b:C)(w,y))}function m(){return p.length>0&&!p.some(w=>w==="object"||w==="array")}function b(w,y){let z=e.name("item"),g=(0,Ca.checkDataTypes)(p,z,s.opts.strictNumbers,Ca.DataType.Wrong),D=e.const("indices",(0,Pe._)`{}`);e.for((0,Pe._)`;${w}--;`,()=>{e.let(z,(0,Pe._)`${t}[${w}]`),e.if(g,(0,Pe._)`continue`),p.length>1&&e.if((0,Pe._)`typeof ${z} == "string"`,(0,Pe._)`${z} += "_"`),e.if((0,Pe._)`typeof ${D}[${z}] == "number"`,()=>{e.assign(y,(0,Pe._)`${D}[${z}]`),r.error(),e.assign(u,!1).break()}).code((0,Pe._)`${D}[${z}] = ${w}`)})}function C(w,y){let z=(0,Ih.useFunc)(e,Dh.default),g=e.name("outer");e.label(g).for((0,Pe._)`;${w}--;`,()=>e.for((0,Pe._)`${y} = ${w}; ${y}--;`,()=>e.if((0,Pe._)`${z}(${t}[${w}], ${t}[${y}])`,()=>{r.error(),e.assign(u,!1).break(g)})))}}};wa.default=Vh});var qu=x($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});var ba=W(),kh=X(),Mh=Un(),Rh={message:"must be equal to constant",params:({schemaCode:r})=>(0,ba._)`{allowedValue: ${r}}`},Fh={keyword:"const",$data:!0,error:Rh,code(r){let{gen:e,data:t,$data:i,schemaCode:n,schema:o}=r;i||o&&typeof o=="object"?r.fail$data((0,ba._)`!${(0,kh.useFunc)(e,Mh.default)}(${t}, ${n})`):r.fail((0,ba._)`${o} !== ${t}`)}};$a.default=Fh});var Wu=x(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});var Mi=W(),Ah=X(),jh=Un(),qh={message:"must be equal to one of the allowed values",params:({schemaCode:r})=>(0,Mi._)`{allowedValues: ${r}}`},Wh={keyword:"enum",schemaType:"array",$data:!0,error:qh,code(r){let{gen:e,data:t,$data:i,schema:n,schemaCode:o,it:a}=r;if(!i&&n.length===0)throw new Error("enum must have non-empty array");let s=n.length>=a.opts.loopEnum,u,p=()=>u??(u=(0,Ah.useFunc)(e,jh.default)),f;if(s||i)f=e.let("valid"),r.block$data(f,m);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let C=e.const("vSchema",o);f=(0,Mi.or)(...n.map((w,y)=>b(C,y)))}r.pass(f);function m(){e.assign(f,!1),e.forOf("v",o,C=>e.if((0,Mi._)`${p()}(${t}, ${C})`,()=>e.assign(f,!0).break()))}function b(C,w){let y=n[w];return typeof y=="object"&&y!==null?(0,Mi._)`${p()}(${t}, ${C}[${w}])`:(0,Mi._)`${t} === ${y}`}}};Sa.default=Wh});var Lu=x(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});var Lh=Ou(),Uh=Iu(),Hh=Vu(),Bh=ku(),Kh=Mu(),Gh=Ru(),Jh=Fu(),Xh=ju(),Zh=qu(),Qh=Wu(),Yh=[Lh.default,Uh.default,Hh.default,Bh.default,Kh.default,Gh.default,Jh.default,Xh.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Zh.default,Qh.default];za.default=Yh});var xa=x(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.validateAdditionalItems=void 0;var gr=W(),Ea=X(),e0={message:({params:{len:r}})=>(0,gr.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,gr._)`{limit: ${r}}`},t0={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:e0,code(r){let{parentSchema:e,it:t}=r,{items:i}=e;if(!Array.isArray(i)){(0,Ea.checkStrictMode)(t,'"additionalItems" is ignored when "items" is not an array of schemas');return}Uu(r,i)}};function Uu(r,e){let{gen:t,schema:i,data:n,keyword:o,it:a}=r;a.items=!0;let s=t.const("len",(0,gr._)`${n}.length`);if(i===!1)r.setParams({len:e.length}),r.pass((0,gr._)`${s} <= ${e.length}`);else if(typeof i=="object"&&!(0,Ea.alwaysValidSchema)(a,i)){let p=t.var("valid",(0,gr._)`${s} <= ${e.length}`);t.if((0,gr.not)(p),()=>u(p)),r.ok(p)}function u(p){t.forRange("i",e.length,s,f=>{r.subschema({keyword:o,dataProp:f,dataPropType:Ea.Type.Num},p),a.allErrors||t.if((0,gr.not)(p),()=>t.break())})}}Ri.validateAdditionalItems=Uu;Ri.default=t0});var Ta=x(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.validateTuple=void 0;var Hu=W(),Hn=X(),r0=ot(),i0={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(r){let{schema:e,it:t}=r;if(Array.isArray(e))return Bu(r,"additionalItems",e);t.items=!0,!(0,Hn.alwaysValidSchema)(t,e)&&r.ok((0,r0.validateArray)(r))}};function Bu(r,e,t=r.schema){let{gen:i,parentSchema:n,data:o,keyword:a,it:s}=r;f(n),s.opts.unevaluated&&t.length&&s.items!==!0&&(s.items=Hn.mergeEvaluated.items(i,t.length,s.items));let u=i.name("valid"),p=i.const("len",(0,Hu._)`${o}.length`);t.forEach((m,b)=>{(0,Hn.alwaysValidSchema)(s,m)||(i.if((0,Hu._)`${p} > ${b}`,()=>r.subschema({keyword:a,schemaProp:b,dataProp:b},u)),r.ok(u))});function f(m){let{opts:b,errSchemaPath:C}=s,w=t.length,y=w===m.minItems&&(w===m.maxItems||m[e]===!1);if(b.strictTuples&&!y){let z=`"${a}" is ${w}-tuple, but minItems or maxItems/${e} are not specified or different at path "${C}"`;(0,Hn.checkStrictMode)(s,z,b.strictTuples)}}}Fi.validateTuple=Bu;Fi.default=i0});var Ku=x(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});var n0=Ta(),o0={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,n0.validateTuple)(r,"items")};Pa.default=o0});var Ju=x(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});var Gu=W(),a0=X(),s0=ot(),l0=xa(),c0={message:({params:{len:r}})=>(0,Gu.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,Gu._)`{limit: ${r}}`},u0={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:c0,code(r){let{schema:e,parentSchema:t,it:i}=r,{prefixItems:n}=t;i.items=!0,!(0,a0.alwaysValidSchema)(i,e)&&(n?(0,l0.validateAdditionalItems)(r,n):r.ok((0,s0.validateArray)(r)))}};Oa.default=u0});var Xu=x(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});var st=W(),Bn=X(),d0={message:({params:{min:r,max:e}})=>e===void 0?(0,st.str)`must contain at least ${r} valid item(s)`:(0,st.str)`must contain at least ${r} and no more than ${e} valid item(s)`,params:({params:{min:r,max:e}})=>e===void 0?(0,st._)`{minContains: ${r}}`:(0,st._)`{minContains: ${r}, maxContains: ${e}}`},f0={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:d0,code(r){let{gen:e,schema:t,parentSchema:i,data:n,it:o}=r,a,s,{minContains:u,maxContains:p}=i;o.opts.next?(a=u===void 0?1:u,s=p):a=1;let f=e.const("len",(0,st._)`${n}.length`);if(r.setParams({min:a,max:s}),s===void 0&&a===0){(0,Bn.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,Bn.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),r.fail();return}if((0,Bn.alwaysValidSchema)(o,t)){let y=(0,st._)`${f} >= ${a}`;s!==void 0&&(y=(0,st._)`${y} && ${f} <= ${s}`),r.pass(y);return}o.items=!0;let m=e.name("valid");s===void 0&&a===1?C(m,()=>e.if(m,()=>e.break())):a===0?(e.let(m,!0),s!==void 0&&e.if((0,st._)`${n}.length > 0`,b)):(e.let(m,!1),b()),r.result(m,()=>r.reset());function b(){let y=e.name("_valid"),z=e.let("count",0);C(y,()=>e.if(y,()=>w(z)))}function C(y,z){e.forRange("i",0,f,g=>{r.subschema({keyword:"contains",dataProp:g,dataPropType:Bn.Type.Num,compositeRule:!0},y),z()})}function w(y){e.code((0,st._)`${y}++`),s===void 0?e.if((0,st._)`${y} >= ${a}`,()=>e.assign(m,!0).break()):(e.if((0,st._)`${y} > ${s}`,()=>e.assign(m,!1).break()),a===1?e.assign(m,!0):e.if((0,st._)`${y} >= ${a}`,()=>e.assign(m,!0)))}}};Ia.default=f0});var Yu=x(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.validateSchemaDeps=Et.validatePropertyDeps=Et.error=void 0;var Da=W(),p0=X(),Ai=ot();Et.error={message:({params:{property:r,depsCount:e,deps:t}})=>{let i=e===1?"property":"properties";return(0,Da.str)`must have ${i} ${t} when property ${r} is present`},params:({params:{property:r,depsCount:e,deps:t,missingProperty:i}})=>(0,Da._)`{property: ${r},
    missingProperty: ${i},
    depsCount: ${e},
    deps: ${t}}`};var m0={keyword:"dependencies",type:"object",schemaType:"object",error:Et.error,code(r){let[e,t]=h0(r);Zu(r,e),Qu(r,t)}};function h0({schema:r}){let e={},t={};for(let i in r){if(i==="__proto__")continue;let n=Array.isArray(r[i])?e:t;n[i]=r[i]}return[e,t]}function Zu(r,e=r.schema){let{gen:t,data:i,it:n}=r;if(Object.keys(e).length===0)return;let o=t.let("missing");for(let a in e){let s=e[a];if(s.length===0)continue;let u=(0,Ai.propertyInData)(t,i,a,n.opts.ownProperties);r.setParams({property:a,depsCount:s.length,deps:s.join(", ")}),n.allErrors?t.if(u,()=>{for(let p of s)(0,Ai.checkReportMissingProp)(r,p)}):(t.if((0,Da._)`${u} && (${(0,Ai.checkMissingProp)(r,s,o)})`),(0,Ai.reportMissingProp)(r,o),t.else())}}Et.validatePropertyDeps=Zu;function Qu(r,e=r.schema){let{gen:t,data:i,keyword:n,it:o}=r,a=t.name("valid");for(let s in e)(0,p0.alwaysValidSchema)(o,e[s])||(t.if((0,Ai.propertyInData)(t,i,s,o.opts.ownProperties),()=>{let u=r.subschema({keyword:n,schemaProp:s},a);r.mergeValidEvaluated(u,a)},()=>t.var(a,!0)),r.ok(a))}Et.validateSchemaDeps=Qu;Et.default=m0});var td=x(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});var ed=W(),_0=X(),g0={message:"property name must be valid",params:({params:r})=>(0,ed._)`{propertyName: ${r.propertyName}}`},y0={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:g0,code(r){let{gen:e,schema:t,data:i,it:n}=r;if((0,_0.alwaysValidSchema)(n,t))return;let o=e.name("valid");e.forIn("key",i,a=>{r.setParams({propertyName:a}),r.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),e.if((0,ed.not)(o),()=>{r.error(!0),n.allErrors||e.break()})}),r.ok(o)}};Na.default=y0});var ka=x(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});var Kn=ot(),dt=W(),v0=Ft(),Gn=X(),C0={message:"must NOT have additional properties",params:({params:r})=>(0,dt._)`{additionalProperty: ${r.additionalProperty}}`},w0={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:C0,code(r){let{gen:e,schema:t,parentSchema:i,data:n,errsCount:o,it:a}=r;if(!o)throw new Error("ajv implementation error");let{allErrors:s,opts:u}=a;if(a.props=!0,u.removeAdditional!=="all"&&(0,Gn.alwaysValidSchema)(a,t))return;let p=(0,Kn.allSchemaProperties)(i.properties),f=(0,Kn.allSchemaProperties)(i.patternProperties);m(),r.ok((0,dt._)`${o} === ${v0.default.errors}`);function m(){e.forIn("key",n,z=>{!p.length&&!f.length?w(z):e.if(b(z),()=>w(z))})}function b(z){let g;if(p.length>8){let D=(0,Gn.schemaRefOrVal)(a,i.properties,"properties");g=(0,Kn.isOwnProperty)(e,D,z)}else p.length?g=(0,dt.or)(...p.map(D=>(0,dt._)`${z} === ${D}`)):g=dt.nil;return f.length&&(g=(0,dt.or)(g,...f.map(D=>(0,dt._)`${(0,Kn.usePattern)(r,D)}.test(${z})`))),(0,dt.not)(g)}function C(z){e.code((0,dt._)`delete ${n}[${z}]`)}function w(z){if(u.removeAdditional==="all"||u.removeAdditional&&t===!1){C(z);return}if(t===!1){r.setParams({additionalProperty:z}),r.error(),s||e.break();return}if(typeof t=="object"&&!(0,Gn.alwaysValidSchema)(a,t)){let g=e.name("valid");u.removeAdditional==="failing"?(y(z,g,!1),e.if((0,dt.not)(g),()=>{r.reset(),C(z)})):(y(z,g),s||e.if((0,dt.not)(g),()=>e.break()))}}function y(z,g,D){let A={keyword:"additionalProperties",dataProp:z,dataPropType:Gn.Type.Str};D===!1&&Object.assign(A,{compositeRule:!0,createErrors:!1,allErrors:!1}),r.subschema(A,g)}}};Va.default=w0});var nd=x(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});var b0=xi(),rd=ot(),Ma=X(),id=ka(),$0={keyword:"properties",type:"object",schemaType:"object",code(r){let{gen:e,schema:t,parentSchema:i,data:n,it:o}=r;o.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&id.default.code(new b0.KeywordCxt(o,id.default,"additionalProperties"));let a=(0,rd.allSchemaProperties)(t);for(let m of a)o.definedProperties.add(m);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=Ma.mergeEvaluated.props(e,(0,Ma.toHash)(a),o.props));let s=a.filter(m=>!(0,Ma.alwaysValidSchema)(o,t[m]));if(s.length===0)return;let u=e.name("valid");for(let m of s)p(m)?f(m):(e.if((0,rd.propertyInData)(e,n,m,o.opts.ownProperties)),f(m),o.allErrors||e.else().var(u,!0),e.endIf()),r.it.definedProperties.add(m),r.ok(u);function p(m){return o.opts.useDefaults&&!o.compositeRule&&t[m].default!==void 0}function f(m){r.subschema({keyword:"properties",schemaProp:m,dataProp:m},u)}}};Ra.default=$0});var ld=x(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});var od=ot(),Jn=W(),ad=X(),sd=X(),S0={keyword:"patternProperties",type:"object",schemaType:"object",code(r){let{gen:e,schema:t,data:i,parentSchema:n,it:o}=r,{opts:a}=o,s=(0,od.allSchemaProperties)(t),u=s.filter(y=>(0,ad.alwaysValidSchema)(o,t[y]));if(s.length===0||u.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;let p=a.strictSchema&&!a.allowMatchingProperties&&n.properties,f=e.name("valid");o.props!==!0&&!(o.props instanceof Jn.Name)&&(o.props=(0,sd.evaluatedPropsToName)(e,o.props));let{props:m}=o;b();function b(){for(let y of s)p&&C(y),o.allErrors?w(y):(e.var(f,!0),w(y),e.if(f))}function C(y){for(let z in p)new RegExp(y).test(z)&&(0,ad.checkStrictMode)(o,`property ${z} matches pattern ${y} (use allowMatchingProperties)`)}function w(y){e.forIn("key",i,z=>{e.if((0,Jn._)`${(0,od.usePattern)(r,y)}.test(${z})`,()=>{let g=u.includes(y);g||r.subschema({keyword:"patternProperties",schemaProp:y,dataProp:z,dataPropType:sd.Type.Str},f),o.opts.unevaluated&&m!==!0?e.assign((0,Jn._)`${m}[${z}]`,!0):!g&&!o.allErrors&&e.if((0,Jn.not)(f),()=>e.break())})})}}};Fa.default=S0});var cd=x(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});var z0=X(),E0={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){let{gen:e,schema:t,it:i}=r;if((0,z0.alwaysValidSchema)(i,t)){r.fail();return}let n=e.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),r.failResult(n,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};Aa.default=E0});var ud=x(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});var x0=ot(),T0={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:x0.validateUnion,error:{message:"must match a schema in anyOf"}};ja.default=T0});var dd=x(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});var Xn=W(),P0=X(),O0={message:"must match exactly one schema in oneOf",params:({params:r})=>(0,Xn._)`{passingSchemas: ${r.passing}}`},I0={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:O0,code(r){let{gen:e,schema:t,parentSchema:i,it:n}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;let o=t,a=e.let("valid",!1),s=e.let("passing",null),u=e.name("_valid");r.setParams({passing:s}),e.block(p),r.result(a,()=>r.reset(),()=>r.error(!0));function p(){o.forEach((f,m)=>{let b;(0,P0.alwaysValidSchema)(n,f)?e.var(u,!0):b=r.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},u),m>0&&e.if((0,Xn._)`${u} && ${a}`).assign(a,!1).assign(s,(0,Xn._)`[${s}, ${m}]`).else(),e.if(u,()=>{e.assign(a,!0),e.assign(s,m),b&&r.mergeEvaluated(b,Xn.Name)})})}}};qa.default=I0});var fd=x(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});var D0=X(),N0={keyword:"allOf",schemaType:"array",code(r){let{gen:e,schema:t,it:i}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");let n=e.name("valid");t.forEach((o,a)=>{if((0,D0.alwaysValidSchema)(i,o))return;let s=r.subschema({keyword:"allOf",schemaProp:a},n);r.ok(n),r.mergeEvaluated(s)})}};Wa.default=N0});var hd=x(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});var Zn=W(),md=X(),V0={message:({params:r})=>(0,Zn.str)`must match "${r.ifClause}" schema`,params:({params:r})=>(0,Zn._)`{failingKeyword: ${r.ifClause}}`},k0={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:V0,code(r){let{gen:e,parentSchema:t,it:i}=r;t.then===void 0&&t.else===void 0&&(0,md.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let n=pd(i,"then"),o=pd(i,"else");if(!n&&!o)return;let a=e.let("valid",!0),s=e.name("_valid");if(u(),r.reset(),n&&o){let f=e.let("ifClause");r.setParams({ifClause:f}),e.if(s,p("then",f),p("else",f))}else n?e.if(s,p("then")):e.if((0,Zn.not)(s),p("else"));r.pass(a,()=>r.error(!0));function u(){let f=r.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);r.mergeEvaluated(f)}function p(f,m){return()=>{let b=r.subschema({keyword:f},s);e.assign(a,s),r.mergeValidEvaluated(b,a),m?e.assign(m,(0,Zn._)`${f}`):r.setParams({ifClause:f})}}}};function pd(r,e){let t=r.schema[e];return t!==void 0&&!(0,md.alwaysValidSchema)(r,t)}La.default=k0});var _d=x(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});var M0=X(),R0={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:e,it:t}){e.if===void 0&&(0,M0.checkStrictMode)(t,`"${r}" without "if" is ignored`)}};Ua.default=R0});var gd=x(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});var F0=xa(),A0=Ku(),j0=Ta(),q0=Ju(),W0=Xu(),L0=Yu(),U0=td(),H0=ka(),B0=nd(),K0=ld(),G0=cd(),J0=ud(),X0=dd(),Z0=fd(),Q0=hd(),Y0=_d();function e_(r=!1){let e=[G0.default,J0.default,X0.default,Z0.default,Q0.default,Y0.default,U0.default,H0.default,L0.default,B0.default,K0.default];return r?e.push(A0.default,q0.default):e.push(F0.default,j0.default),e.push(W0.default),e}Ha.default=e_});var yd=x(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});var ye=W(),t_={message:({schemaCode:r})=>(0,ye.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,ye._)`{format: ${r}}`},r_={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:t_,code(r,e){let{gen:t,data:i,$data:n,schema:o,schemaCode:a,it:s}=r,{opts:u,errSchemaPath:p,schemaEnv:f,self:m}=s;if(!u.validateFormats)return;n?b():C();function b(){let w=t.scopeValue("formats",{ref:m.formats,code:u.code.formats}),y=t.const("fDef",(0,ye._)`${w}[${a}]`),z=t.let("fType"),g=t.let("format");t.if((0,ye._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>t.assign(z,(0,ye._)`${y}.type || "string"`).assign(g,(0,ye._)`${y}.validate`),()=>t.assign(z,(0,ye._)`"string"`).assign(g,y)),r.fail$data((0,ye.or)(D(),A()));function D(){return u.strictSchema===!1?ye.nil:(0,ye._)`${a} && !${g}`}function A(){let re=f.$async?(0,ye._)`(${y}.async ? await ${g}(${i}) : ${g}(${i}))`:(0,ye._)`${g}(${i})`,k=(0,ye._)`(typeof ${g} == "function" ? ${re} : ${g}.test(${i}))`;return(0,ye._)`${g} && ${g} !== true && ${z} === ${e} && !${k}`}}function C(){let w=m.formats[o];if(!w){D();return}if(w===!0)return;let[y,z,g]=A(w);y===e&&r.pass(re());function D(){if(u.strictSchema===!1){m.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${o}" ignored in schema at path "${p}"`}}function A(k){let Je=k instanceof RegExp?(0,ye.regexpCode)(k):u.code.formats?(0,ye._)`${u.code.formats}${(0,ye.getProperty)(o)}`:void 0,Wt=t.scopeValue("formats",{key:o,ref:k,code:Je});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,ye._)`${Wt}.validate`]:["string",k,Wt]}function re(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!f.$async)throw new Error("async format in sync schema");return(0,ye._)`await ${g}(${i})`}return typeof z=="function"?(0,ye._)`${g}(${i})`:(0,ye._)`${g}.test(${i})`}}}};Ba.default=r_});var vd=x(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});var i_=yd(),n_=[i_.default];Ka.default=n_});var Cd=x(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.contentVocabulary=Qr.metadataVocabulary=void 0;Qr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Qr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var bd=x(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});var o_=Pu(),a_=Lu(),s_=gd(),l_=vd(),wd=Cd(),c_=[o_.default,a_.default,(0,s_.default)(),l_.default,wd.metadataVocabulary,wd.contentVocabulary];Ga.default=c_});var $d=x(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.DiscrError=void 0;var u_;(function(r){r.Tag="tag",r.Mapping="mapping"})(u_=ji.DiscrError||(ji.DiscrError={}))});var zd=x(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});var Yr=W(),Ja=$d(),Sd=Mn(),d_=X(),f_={message:({params:{discrError:r,tagName:e}})=>r===Ja.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:r,tag:e,tagName:t}})=>(0,Yr._)`{error: ${r}, tag: ${t}, tagValue: ${e}}`},p_={keyword:"discriminator",type:"object",schemaType:"object",error:f_,code(r){let{gen:e,data:t,schema:i,parentSchema:n,it:o}=r,{oneOf:a}=n;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let s=i.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let u=e.let("valid",!1),p=e.const("tag",(0,Yr._)`${t}${(0,Yr.getProperty)(s)}`);e.if((0,Yr._)`typeof ${p} == "string"`,()=>f(),()=>r.error(!1,{discrError:Ja.DiscrError.Tag,tag:p,tagName:s})),r.ok(u);function f(){let C=b();e.if(!1);for(let w in C)e.elseIf((0,Yr._)`${p} === ${w}`),e.assign(u,m(C[w]));e.else(),r.error(!1,{discrError:Ja.DiscrError.Mapping,tag:p,tagName:s}),e.endIf()}function m(C){let w=e.name("valid"),y=r.subschema({keyword:"oneOf",schemaProp:C},w);return r.mergeEvaluated(y,Yr.Name),w}function b(){var C;let w={},y=g(n),z=!0;for(let re=0;re<a.length;re++){let k=a[re];k?.$ref&&!(0,d_.schemaHasRulesButRef)(k,o.self.RULES)&&(k=Sd.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,k?.$ref),k instanceof Sd.SchemaEnv&&(k=k.schema));let Je=(C=k?.properties)===null||C===void 0?void 0:C[s];if(typeof Je!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);z=z&&(y||g(k)),D(Je,re)}if(!z)throw new Error(`discriminator: "${s}" must be required`);return w;function g({required:re}){return Array.isArray(re)&&re.includes(s)}function D(re,k){if(re.const)A(re.const,k);else if(re.enum)for(let Je of re.enum)A(Je,k);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function A(re,k){if(typeof re!="string"||re in w)throw new Error(`discriminator: "${s}" values must be unique strings`);w[re]=k}}}};Xa.default=p_});var Ed=x((LC,m_)=>{m_.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Za=x((_e,Td)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.MissingRefError=_e.ValidationError=_e.CodeGen=_e.Name=_e.nil=_e.stringify=_e.str=_e._=_e.KeywordCxt=void 0;var h_=$u(),__=bd(),g_=zd(),xd=Ed(),y_=["/properties"],Qn="http://json-schema.org/draft-07/schema",Yn=class extends h_.default{_addVocabularies(){super._addVocabularies(),__.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(g_.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(xd,y_):xd;this.addMetaSchema(e,Qn,!1),this.refs["http://json-schema.org/schema"]=Qn}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Qn)?Qn:void 0)}};Td.exports=_e=Yn;Object.defineProperty(_e,"__esModule",{value:!0});_e.default=Yn;var v_=xi();Object.defineProperty(_e,"KeywordCxt",{enumerable:!0,get:function(){return v_.KeywordCxt}});var ei=W();Object.defineProperty(_e,"_",{enumerable:!0,get:function(){return ei._}});Object.defineProperty(_e,"str",{enumerable:!0,get:function(){return ei.str}});Object.defineProperty(_e,"stringify",{enumerable:!0,get:function(){return ei.stringify}});Object.defineProperty(_e,"nil",{enumerable:!0,get:function(){return ei.nil}});Object.defineProperty(_e,"Name",{enumerable:!0,get:function(){return ei.Name}});Object.defineProperty(_e,"CodeGen",{enumerable:!0,get:function(){return ei.CodeGen}});var C_=Nn();Object.defineProperty(_e,"ValidationError",{enumerable:!0,get:function(){return C_.default}});var w_=Vn();Object.defineProperty(_e,"MissingRefError",{enumerable:!0,get:function(){return w_.default}})});var Vd=x(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.formatNames=xt.fastFormats=xt.fullFormats=void 0;function ti(r,e){return{validate:r,compare:e}}xt.fullFormats={date:ti(Id,es),time:ti(Dd,ts),"date-time":ti(z_,Nd),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:T_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:k_,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:P_,int32:{type:"number",validate:D_},int64:{type:"number",validate:N_},float:{type:"number",validate:Od},double:{type:"number",validate:Od},password:!0,binary:!0};xt.fastFormats=ge(O({},xt.fullFormats),{date:ti(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,es),time:ti(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,ts),"date-time":ti(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Nd),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});xt.formatNames=Object.keys(xt.fullFormats);function b_(r){return r%4===0&&(r%100!==0||r%400===0)}var $_=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,S_=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Id(r){let e=$_.exec(r);if(!e)return!1;let t=+e[1],i=+e[2],n=+e[3];return i>=1&&i<=12&&n>=1&&n<=(i===2&&b_(t)?29:S_[i])}function es(r,e){if(r&&e)return r>e?1:r<e?-1:0}var Qa=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function Dd(r,e){let t=Qa.exec(r);if(!t)return!1;let i=+t[1],n=+t[2],o=+t[3],a=t[5];return(i<=23&&n<=59&&o<=59||i===23&&n===59&&o===60)&&(!e||a!=="")}function ts(r,e){if(!(r&&e))return;let t=Qa.exec(r),i=Qa.exec(e);if(t&&i)return r=t[1]+t[2]+t[3]+(t[4]||""),e=i[1]+i[2]+i[3]+(i[4]||""),r>e?1:r<e?-1:0}var Ya=/t|\s/i;function z_(r){let e=r.split(Ya);return e.length===2&&Id(e[0])&&Dd(e[1],!0)}function Nd(r,e){if(!(r&&e))return;let[t,i]=r.split(Ya),[n,o]=e.split(Ya),a=es(t,n);if(a!==void 0)return a||ts(i,o)}var E_=/\/|:/,x_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function T_(r){return E_.test(r)&&x_.test(r)}var Pd=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function P_(r){return Pd.lastIndex=0,Pd.test(r)}var O_=-(2**31),I_=2**31-1;function D_(r){return Number.isInteger(r)&&r<=I_&&r>=O_}function N_(r){return Number.isInteger(r)}function Od(){return!0}var V_=/[^\\]\\Z/;function k_(r){if(V_.test(r))return!1;try{return new RegExp(r),!0}catch{return!1}}});var kd=x(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.formatLimitDefinition=void 0;var M_=Za(),ft=W(),tr=ft.operators,eo={formatMaximum:{okStr:"<=",ok:tr.LTE,fail:tr.GT},formatMinimum:{okStr:">=",ok:tr.GTE,fail:tr.LT},formatExclusiveMaximum:{okStr:"<",ok:tr.LT,fail:tr.GTE},formatExclusiveMinimum:{okStr:">",ok:tr.GT,fail:tr.LTE}},R_={message:({keyword:r,schemaCode:e})=>ft.str`should be ${eo[r].okStr} ${e}`,params:({keyword:r,schemaCode:e})=>ft._`{comparison: ${eo[r].okStr}, limit: ${e}}`};ri.formatLimitDefinition={keyword:Object.keys(eo),type:"string",schemaType:"string",$data:!0,error:R_,code(r){let{gen:e,data:t,schemaCode:i,keyword:n,it:o}=r,{opts:a,self:s}=o;if(!a.validateFormats)return;let u=new M_.KeywordCxt(o,s.RULES.all.format.definition,"format");u.$data?p():f();function p(){let b=e.scopeValue("formats",{ref:s.formats,code:a.code.formats}),C=e.const("fmt",ft._`${b}[${u.schemaCode}]`);r.fail$data(ft.or(ft._`typeof ${C} != "object"`,ft._`${C} instanceof RegExp`,ft._`typeof ${C}.compare != "function"`,m(C)))}function f(){let b=u.schema,C=s.formats[b];if(!C||C===!0)return;if(typeof C!="object"||C instanceof RegExp||typeof C.compare!="function")throw new Error(`"${n}": format "${b}" does not define "compare" function`);let w=e.scopeValue("formats",{key:b,ref:C,code:a.code.formats?ft._`${a.code.formats}${ft.getProperty(b)}`:void 0});r.fail$data(m(w))}function m(b){return ft._`${b}.compare(${t}, ${i}) ${eo[n].fail} 0`}},dependencies:["format"]};var F_=r=>(r.addKeyword(ri.formatLimitDefinition),r);ri.default=F_});var Ad=x((qi,Fd)=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});var ii=Vd(),A_=kd(),rs=W(),Md=new rs.Name("fullFormats"),j_=new rs.Name("fastFormats"),is=(r,e={keywords:!0})=>{if(Array.isArray(e))return Rd(r,e,ii.fullFormats,Md),r;let[t,i]=e.mode==="fast"?[ii.fastFormats,j_]:[ii.fullFormats,Md],n=e.formats||ii.formatNames;return Rd(r,n,t,i),e.keywords&&A_.default(r),r};is.get=(r,e="full")=>{let i=(e==="fast"?ii.fastFormats:ii.fullFormats)[r];if(!i)throw new Error(`Unknown format "${r}"`);return i};function Rd(r,e,t,i){var n,o;(n=(o=r.opts.code).formats)!==null&&n!==void 0||(o.formats=rs._`require("ajv-formats/dist/formats").${i}`);for(let a of e)r.addFormat(a,t[a])}Fd.exports=qi=is;Object.defineProperty(qi,"__esModule",{value:!0});qi.default=is});var Sf={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ingoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function Fr(r){return r.merge("sf",Sf)}var ze="/";function go(r){return r==null}function Me(r,e){return r==null?e:`${r}`!="false"}function Ar(r,...e){}function zf(r,e){let t=/^#\/definitions\/(.*)$/.exec(r);if(t&&t[1]){let i=t[1].split(ze),n=e;for(let o of i)if(o=o.replace(/~1/g,ze).replace(/~0/g,"~"),n.hasOwnProperty(o))n=n[o];else throw new Error(`Could not find a definition for ${r}.`);return n}throw new Error(`Could not find a definition for ${r}.`)}function hi(r,e={}){if(r.hasOwnProperty("$ref")){let i=zf(r.$ref,e),t=r,{$ref:n}=t,o=As(t,["$ref"]);return hi(O(O({},i),o),e)}return r}function oc(r,e){let t=(i,n)=>{Ef(i,n),Object.keys(i.properties).forEach(o=>{let a=i.properties[o],s=`$${o}`;a.items&&t(a.items,n[s].$items),a.properties&&t(a,n[s])})};t(r,e)}function Ef(r,e){if(!(r.hasOwnProperty("if")&&r.hasOwnProperty("then")))return null;if(!r.if.properties)throw new Error("if: does not contain 'properties'");let t=Object.keys(r.properties),i=Object.keys(r.if.properties);_o(t,i),_o(t,r.then.required),r.required=r.required.concat(r.then.required);let n=r.hasOwnProperty("else");n&&(_o(t,r.else.required),r.required=r.required.concat(r.else.required));let o={},a={};return i.forEach(s=>{let u=r.if.properties[s].enum;o[s]=u,n&&(a[s]=p=>!u.includes(p))}),r.then.required.forEach(s=>e[`$${s}`].visibleIf=o),n&&r.else.required.forEach(s=>e[`$${s}`].visibleIf=a),r}function _o(r,e){e.forEach(t=>{if(!r.includes(t))throw new Error(`if: properties does not contain '${t}'`)})}function ac(r,e){if(!Array.isArray(e))return r;let t=f=>f.reduce((m,b)=>(m[b]=!0,m),{}),i=f=>`property [${f.join("', '")}]`,n=t(r),o=t(e),a=e.filter(f=>f!=="*"&&!n[f]);if(a.length)throw new Error(`ui schema order list contains extraneous ${i(a)}`);let s=r.filter(f=>!o[f]),u=e.indexOf("*");if(u===-1){if(s.length)throw new Error(`ui schema order list does not contain ${i(s)}`);return e}if(u!==e.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let p=[...e];return p.splice(u,1,...s),p}function sc(r,e,t){return go(r)||!Array.isArray(r)||r.length===0?[]:(typeof r[0]!="object"&&(r=r.map(i=>({label:i,value:i}))),e&&(Array.isArray(e)||(e=[e]),r.forEach(i=>{~e.indexOf(i.value)&&(i.checked=!0)})),t&&r.forEach(i=>i.disabled=!0),r)}function xf(r,e,t){return sc(lr(r||[]),e,t)}function jr(r,e,t,i){return typeof e.asyncData=="function"?e.asyncData(i).pipe(Dr(n=>sc(n,t,r.readOnly))):Ws(xf(r.enum,t,r.readOnly))}var _i=class{constructor(e,t,i,n,o,a,s,u){this.injector=e,this._options=u,this._errors=null,this._valueChanges=new Ir({path:null,pathValue:null,value:null}),this._errorsChanges=new Ir(null),this._visible=!0,this._visibilityChanges=new Ir(!0),this._objErrors={},this._value=null,this.schema=i,this.ui=n,this.schemaValidator=t.createValidatorFn(i,{ingoreKeywords:this.ui.ingoreKeywords,debug:n.debug}),this.formData=o||i.default,this._parent=a,a?this._root=a.root:this._root=this,this.path=s}get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(e=!1){this.widget?.detectChanges(e)}updateValueAndValidity(e){e=O({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updatePath:"",updateValue:null},e),this._updateValue(),e.emitValueEvent&&(e.updatePath=e.updatePath||this.path,e.updateValue=e.updateValue==null?this.value:e.updateValue,this.valueChanges.next({value:this.value,path:e.updatePath,pathValue:e.updateValue})),e.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!e.onlySelf&&this.parent.updateValueAndValidity(ge(O({},e),{emitValidator:!1}))}searchProperty(e){let t=this,i=null,n=null;if(e[0]===ze)i=this.findRoot(),n=i.getProperty(e.substring(1));else for(;n===null&&t.parent!==null;)t=i=t.parent,n=i.getProperty(e);return n}findRoot(){let e=this;for(;e.parent!==null;)e=e.parent;return e}isEmptyData(e){if(go(e))return!0;switch(this.type){case"string":return`${e}`.length===0}return!1}_runValidation(){let e,t=this.isEmptyData(this._value);t&&this.ui._required?e=[{keyword:"required"}]:t?e=[]:e=this.schemaValidator(this._value)||[];let i=this.ui.validator;if(typeof i=="function"){let n=i(this.value,this,this.findRoot());if(n instanceof qs){n.subscribe(o=>{this.setCustomErrors(e,o),this.cd(!1)});return}this.setCustomErrors(e,n);return}this._errors=e,this.setErrors(this._errors)}setCustomErrors(e,t){let i=Array.isArray(t)&&t.length>0;i&&t.forEach(n=>{if(!n.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");n.keyword=null}),this._errors=i?e.concat(...t):e,this.setErrors(this._errors)}setErrors(e=[],t=!0){let i=Array.isArray(e)?e:[e];if(t&&i&&!this.ui.onlyVisual){let n=this.widget&&this.widget.l.error||{};i=i.map(o=>{let a=o.keyword==null&&o.message?o.message:(this.ui.errors||{})[o.keyword]||this._options.errors[o.keyword]||n[o.keyword]||"";return a&&typeof a=="function"&&(a=a(o)),a&&(~a.indexOf("{")&&o.params&&(a=a.replace(/{([\.a-zA-Z0-9]+)}/g,(s,u)=>o.params[u]||"")),o.message=a),o})}this._errors=i,this._errorsChanges.next(i),this._parent&&this._parent.setParentAndPlatErrors(i,this.path)}setParentAndPlatErrors(e,t){this._objErrors[t]=e;let i=[];Object.keys(this._objErrors).forEach(n=>{let o=this.searchProperty(n);o&&!o.visible||i.push(...this._objErrors[n])}),this.setErrors(i,!1)}setVisible(e){return this._visible=e,this._visibilityChanges.next(e),e&&this.injector.get(Ht).onStable.pipe(Bs(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let e=this.ui.visibleIf;if(typeof e=="object"&&Object.keys(e).length===0)this.setVisible(!1);else if(e!=null){let t=[];for(let i in e)if(e.hasOwnProperty(i)){let n=this.searchProperty(i);if(n){let o=n.valueChanges.pipe(Dr(u=>{let p=e[i];if(typeof p=="function"){let f=p(u.value,n);if(typeof f=="object"){let m=O({show:!1,required:!1},f),b=this.parent?.schema.required;if(b&&this.propertyId){let C=b.findIndex(w=>w===this.propertyId);m.required?C===-1&&b.push(this.propertyId):C!==-1&&b.splice(C,1),this.ui._required=m.required}return m.show}return f}return p.indexOf("$ANY$")!==-1?u.value&&u.value.length>0:p.indexOf(u.value)!==-1})),a=n._visibilityChanges,s=po([o,a]).pipe(Dr(u=>u[0]&&u[1]));t.push(s)}}po(t).pipe(Dr(i=>this.ui.visibleIfLogical==="and"?i.every(n=>n):i.some(n=>n)),Zi()).subscribe(i=>this.setVisible(i))}}updateFeedback(e=""){this.ui.feedback=e,this.widget?.injector.get(Mr).formStatusChanges.next({status:e,hasFeedback:!!e}),this.cd(!0)}},$t=class r extends _i{constructor(){super(...arguments),this.properties=null}getProperty(e){let t=e.indexOf(ze),i=t!==-1?e.substring(0,t):e,n=this.properties[i];if(n!==null&&t!==-1&&n instanceof r){let o=e.substring(t+1);n=n.getProperty(o)}return n}forEachChild(e){for(let t in this.properties)if(this.properties.hasOwnProperty(t)){let i=this.properties[t];e(i,t)}}forEachChildRecursive(e){this.forEachChild(t=>{e(t),t instanceof r&&t.forEachChildRecursive(e)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(e=>{e._bindVisibility()})}isRoot(){return this===this.root}};var qr=class extends $t{get propertiesId(){return this._propertiesId}constructor(e,t,i,n,o,a,s,u,p){super(e,i,n,o,a,s,u,p),this.formPropertyFactory=t,this._propertiesId=[],this.createProperties()}createProperties(){this.properties={},this._propertiesId=[];let e;try{e=ac(Object.keys(this.schema.properties),this.ui.order)}catch(t){console.error(`Invalid ${this.schema.title||"root"} object field configuration:`,t)}e.forEach(t=>{this.properties[t]=this.formPropertyFactory.createProperty(this.schema.properties[t],this.ui[`$${t}`],(this.formData||{})[t],this,t),this._propertiesId.push(t)})}setValue(e,t){let i=this.properties;for(let n in e)e.hasOwnProperty(n)&&i[n]&&i[n].setValue(e[n],!0);this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}resetValue(e,t){e=e||this.schema.default||{};let i=this.properties;for(let n in this.schema.properties)this.schema.properties.hasOwnProperty(n)&&i[n].resetValue(e[n],!0);this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let e={};this.forEachChild((t,i)=>{t.visible&&t._hasValue()&&(e[i]=t.value)}),this._value=e}};var Wr=class extends $t{constructor(e,t,i,n,o,a,s,u,p){super(e,i,n,o,a,s,u,p),this.formPropertyFactory=t,this.properties=[]}getProperty(e){let t=e.indexOf(ze),i=+(t!==-1?e.substring(0,t):e),n=this.properties;if(isNaN(i)||i>=n.length)return;let o=e.substring(t+1);return n[i].getProperty(o)}setValue(e,t){this.properties=[],this.clearErrors(),this.resetProperties(e),this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}resetValue(e,t){this._value=e||this.schema.default||[],this.setValue(this._value,t)}_hasValue(){return!0}_updateValue(){let e=[];this.forEachChild(t=>{t.visible&&e.push(O(O({},this.widget?.cleanValue?null:t.formData),t.value))}),this._value=e}addProperty(e){let t=this.formPropertyFactory.createProperty(lr(this.schema.items),lr(this.ui.$items),e,this);return this.properties.push(t),t}resetProperties(e){for(let t of e)this.addProperty(t).resetValue(t,!0)}clearErrors(e){(e||this)._objErrors={}}add(e){let t=this.addProperty(e);return t.resetValue(e,!1),t}remove(e){let t=this.properties;this.clearErrors(),t.splice(e,1),t.forEach((i,n)=>{i.path=[i.parent.path,n].join(ze),this.clearErrors(i),i instanceof qr&&i.forEachChild(o=>{o.updateValueAndValidity({emitValueEvent:!1})})}),t.length===0&&this.updateValueAndValidity()}};var Kt=class extends _i{setValue(e,t){this._value=e,this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}resetValue(e,t){e==null&&(e=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=e,this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0}),this.widget&&(this.widget.reset(e),this.cd(t))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}};var gn=class extends Kt{fallbackValue(){return null}};var yn=class extends Kt{fallbackValue(){return null}setValue(e,t){typeof e=="string"&&(e.length?e=e.indexOf(".")>-1?parseFloat(e):parseInt(e,10):e=void 0),this._value=e,this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}};var vn=class extends Kt{fallbackValue(){return null}setValue(e,t){this._value=e??"",this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}};var Lr=class{constructor(e,t,i){this.injector=e,this.schemaValidatorFactory=t,this.options=Fr(i)}createProperty(e,t,i,n=null,o){let a=null,s="";if(n)switch(s+=n.path,n.parent!==null&&(s+=ze),n.type){case"object":s+=o;break;case"array":s+=n.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${n.type}`)}else s=ze;if(e.$ref){let u=hi(e,n.root.schema.definitions);a=this.createProperty(u,t,i,n,s)}else switch((o&&n.schema.required.indexOf(o.split(ze).pop())!==-1||t.showRequired===!0)&&(t._required=!0),e.title==null&&(e.title=o),(e.type==="string"||e.type==="number")&&!e.format&&!t.format?t.widget==="date"?t._format=e.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:t.widget==="time"&&(t._format=e.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):t._format=t.format,e.type){case"integer":case"number":a=new yn(this.injector,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"string":a=new vn(this.injector,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"boolean":a=new gn(this.injector,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"object":a=new qr(this.injector,this,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"array":a=new Wr(this.injector,this,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;default:throw new TypeError(`Undefined type ${e.type}`)}return a.propertyId=o,a instanceof $t&&this.initializeRoot(a),a}initializeRoot(e){e._bindVisibility()}};var cr=class{constructor(){this.onDestroy=new Or}destroy(){this.onDestroy.next(!0)}};var jd=js(Za()),qd=js(Ad());var yr=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mi({token:e,factory:e.\u0275fac});let r=e;return r})(),to=(()=>{let e=class e extends yr{constructor(){if(super(),this.ngZone=Q(Ht),this.cogSrv=Q(Ct),!(typeof document=="object"&&document))return;this.options=Fr(this.cogSrv);let i=this.options.ajv||{};this.ngZone.runOutsideAngular(()=>{this.ajv=new jd.default(ge(O({allErrors:!0,loopEnum:50},i),{formats:O({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:mn.color,mobile:mn.mobile,"id-card":mn.idCard},i.formats)})),(0,qd.default)(this.ajv)})}createValidatorFn(i,n){let o=[...this.options.ingoreKeywords,...n.ingoreKeywords||[]];return a=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(i,a))}catch{}let s=this.ajv.errors;return this.options&&o&&s&&(s=s.filter(u=>o.indexOf(u.keyword)===-1)),s}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mi({token:e,factory:e.\u0275fac});let r=e;return r})();var Tt=class{constructor(){this._widgets={}}get widgets(){return this._widgets}setDefault(e){this.defaultWidget=e}register(e,t){this._widgets[e]=t}has(e){return this._widgets.hasOwnProperty(e)}getType(e){return this.has(e)?this._widgets[e]:this.defaultWidget}},ro=(()=>{let e=class e{constructor(){this.registry=Q(Tt)}createWidget(i,n){this.registry.has(n);let o=this.registry.getType(n);return i.createComponent(o)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mi({token:e,factory:e.\u0275fac});let r=e;return r})();var q_=["target"];function W_(r,e){}function L_(r,e){r&1&&il(0)}var U_=0,qt=(()=>{let e=class e{constructor(){this.widgetFactory=Q(ro),this.terminator=Q(cr),this.destroy$=new Or,this.widget=null,this.footer=null}onWidgetInstanciated(i){this.widget=i;let n=`_sf-${U_++}`,o=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=o,this.widget.id=n,this.formProperty.widget=i}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let i=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,i.ui.widget||i.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:i}=this;i.next(),i.complete(),this.ref.destroy()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=te({type:e,selectors:[["sf-item"]],viewQuery:function(n,o){if(n&1&&ol(q_,7,Ys),n&2){let a;al(a=sl())&&(o.container=a.first)}},hostVars:2,hostBindings:function(n,o){n&2&&Ee("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],features:[sn([Mr]),Ut],decls:3,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(n,o){n&1&&I(0,W_,0,0,"ng-template",null,0,qe)(2,L_,1,0,"ng-container",1),n&2&&(S(2),$("ngTemplateOutlet",o.footer))},dependencies:[We],encapsulation:2});let r=e;return r})();var Wi=(()=>{let e=class e{constructor(){this.el=Q(en).nativeElement,this.render=Q(Zs),this._inited=!1}init(){if(!this._inited||this.num==null||this.num<=0)return;let i=this.el,n=i.querySelector(".ant-row")||i;this.render.addClass(n,"sf__fixed");let o=n.querySelector(".ant-form-item-label"),a=n.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),s=`${this.num}px`;o?(this.render.setStyle(o,"flex",`0 0 ${s}`),this.render.setStyle(a,"max-width",`calc(100% - ${s})`)):this.render.setStyle(a,"margin-left",s)}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=kt({type:e,selectors:[["","fixed-label",""]],inputs:{num:[je.HasDecoratorInputTransform,"fixed-label","num",i=>ul(i,0)]},features:[rn,Ut]});let r=e;return r})();function K_(r,e){r&1&&an(0)}function G_(r,e){if(r&1&&ie(0,"i",10),r&2){let t=v(5);$("nzType",t._btn.submit_icon.type)("nzTheme",t._btn.submit_icon.theme)("nzTwotoneColor",t._btn.submit_icon.twoToneColor)("nzIconfont",t._btn.submit_icon.iconfont)}}function J_(r,e){if(r&1&&ie(0,"i",10),r&2){let t=v(6);$("nzType",t._btn.reset_icon.type)("nzTheme",t._btn.reset_icon.theme)("nzTwotoneColor",t._btn.reset_icon.twoToneColor)("nzIconfont",t._btn.reset_icon.iconfont)}}function X_(r,e){if(r&1){let t=he();T(0,"button",12),Y("click",function(){R(t);let n=v(5);return F(n.reset(!0))}),I(1,J_,1,4,"i",10),ue(2),P()}if(r&2){let t=v(5);$("nzType",t._btn.reset_type)("nzSize",t._btn.render.size)("disabled",t.loading),S(),V(1,t._btn.reset_icon?1:-1),S(),Se(" ",t._btn.reset," ")}}function Z_(r,e){if(r&1&&(T(0,"button",9),I(1,G_,1,4,"i",10),ue(2),P(),I(3,X_,3,5,"button",11)),r&2){let t=v(4);$("nzType",t._btn.submit_type)("nzSize",t._btn.render.size)("nzLoading",t.loading)("disabled",t.liveValidate&&!t.valid),S(),V(1,t._btn.submit_icon?1:-1),S(),Se(" ",t._btn.submit," "),S(),V(3,t._btn.reset?3:-1)}}function Q_(r,e){}function Y_(r,e){if(r&1&&I(0,Q_,0,0,"ng-template",13),r&2){v(4);let t=Ie(1);$("ngTemplateOutlet",t)}}function eg(r,e){if(r&1&&(T(0,"nz-form-item",5)(1,"div",6)(2,"div",7)(3,"div",8),I(4,Z_,4,7)(5,Y_,1,1),P()()()()),r&2){let t=v(3);$("ngClass",t._btn.render.class)("fixed-label",t._btn.render.spanLabelFixed),S(),$("nzSpan",t.btnGrid.span)("nzOffset",t.btnGrid.offset)("nzXs",t.btnGrid.xs)("nzSm",t.btnGrid.sm)("nzMd",t.btnGrid.md)("nzLg",t.btnGrid.lg)("nzXl",t.btnGrid.xl)("nzXXl",t.btnGrid.xxl),S(3),V(4,t.button?4:5)}}function tg(r,e){if(r&1&&I(0,eg,6,11,"nz-form-item",4),r&2){let t=v(2);V(0,t._btn&&t._btn.render?0:-1)}}function rg(r,e){}function ig(r,e){if(r&1&&I(0,rg,0,0,"ng-template",13),r&2){v(2);let t=Ie(1);$("ngTemplateOutlet",t)}}function ng(r,e){if(r&1&&I(0,tg,1,1)(1,ig,1,1),r&2){let t=v();V(0,t.button!=="none"?0:1)}}function og(r,e){if(r&1&&ie(0,"sf-item",3),r&2){let t=v(),i=Ie(3);$("formProperty",t.rootProperty)("footer",i)}}var ag=["*"];function sg(r,e,t){return new Lr(r,e,t)}var Ui=(()=>{let e=class e{get btnGrid(){return this._btn.render.grid}set mode(i){switch(i){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=i}get mode(){return this._mode}get valid(){return this._valid}get value(){return this._item}getProperty(i){return this.rootProperty?.searchProperty(i)}getValue(i){return this.getProperty(i)?.value}setValue(i,n){let o=this.getProperty(i);if(!o)throw new Error(`Invalid path: ${i}`);return o.resetValue(n,!1),this}setDisabled(i,n){let o=this.getProperty(i);if(!o)throw new Error(`Invalid path: ${i}`);return o.schema.readOnly=n,o.widget.detectChanges(),this}setRequired(i,n){let o=this.getProperty(i);if(!o)throw new Error(`Invalid path: ${i}`);let a=i.split(ze).pop(),s=o.parent?.schema.required||[],u=s.findIndex(p=>p===a);return n?u===-1&&s.push(a):u!==-1&&s.splice(u,1),o.parent.schema.required=s,o.ui._required=n,o.widget.detectChanges(),this.validator({onlyRoot:!1}),this}updateFeedback(i,n=""){return this.getProperty(i)?.updateFeedback(n),this}onSubmit(i){i.preventDefault(),i.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(i){this.formPropertyFactory=Q(Lr),this.terminator=Q(cr),this.dom=Q(ln),this.cdr=Q(tn),this.localeSrv=Q(vl),this.aclSrv=Q(pl,{optional:!0}),this.i18nSrv=Q(ml,{optional:!0}),this.platform=Q(hl),this._renders=new Map,this._valid=!0,this._inited=!1,this.locale={},this.rootProperty=null,this.layout="horizontal",this.button={},this.liveValidate=!0,this.firstVisual=!0,this.onlyVisual=!1,this.compact=!1,this.loading=!1,this.disabled=!1,this.noColon=!1,this.cleanValue=!1,this.delay=!1,this.formValueChange=new Nr,this.formChange=new Nr,this.formSubmit=new Nr,this.formReset=new Nr,this.formError=new Nr,this.options=Fr(i),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(ho()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())});let n=[this.aclSrv?this.aclSrv.change:null,this.i18nSrv?this.i18nSrv.change:null].filter(o=>o!=null);n.length>0&&Ls(...n).pipe(Us(()=>this._inited),ho()).subscribe(()=>this.refreshSchema())}fanyi(i){return(this.i18nSrv?this.i18nSrv.fanyi(i):"")||i}inheritUI(i){["optionalHelp"].filter(n=>!!this._defUi[n]).forEach(n=>i[n]=O(O({},this._defUi[n]),i[n]))}coverProperty(){let i=this.layout==="horizontal",n=lr(this.schema),{definitions:o}=n,a=(s,u,p,f,m)=>{Array.isArray(s.required)||(s.required=[]),Object.keys(s.properties).forEach(b=>{let C="$",w=C+b,y=hi(s.properties[b],o),z=O(O({},y.ui),p[w]),g=O(O(O(O(ge(O(O({},this._defUi),f),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:y.type}),y.format&&this.options.formatMap[y.format]),typeof y.ui=="string"?{widget:y.ui}:null),!y.format&&!y.ui&&Array.isArray(y.enum)&&y.enum.length>0?{widget:"select"}:null),z);if(Object.keys(g).filter(D=>D.startsWith(C)).forEach(D=>delete g[D]),i?f.spanLabelFixed?z.spanLabelFixed||(g.spanLabelFixed=f.spanLabelFixed):(g.spanLabel||(g.spanLabel=typeof f.spanLabel>"u"?5:f.spanLabel),g.spanControl||(g.spanControl=typeof f.spanControl>"u"?19:f.spanControl),g.offsetControl||(g.offsetControl=typeof f.offsetControl>"u"?null:f.offsetControl)):(g.spanLabel=null,g.spanControl=null,g.offsetControl=null),this.layout==="inline"&&delete g.grid,this.layout!=="horizontal"&&(g.spanLabelFixed=null),g.spanLabelFixed!=null&&g.spanLabelFixed>0&&(g.spanLabel=null,g.spanControl=null),g.widget==="date"&&g.end!=null){let D=s.properties[g.end];D?D.ui=ge(O({},D.ui),{widget:g.widget,hidden:!0}):g.end=null}if(this.inheritUI(g),g.optionalHelp){typeof g.optionalHelp=="string"&&(g.optionalHelp={text:g.optionalHelp});let D=g.optionalHelp=O({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},g.optionalHelp);D.i18n&&(D.text=this.fanyi(D.i18n)),D.text||(g.optionalHelp=void 0)}if(g.i18n&&(y.title=this.fanyi(g.i18n)),g.descriptionI18n&&(y.description=this.fanyi(g.descriptionI18n)),y.description&&(g._description=this.dom.bypassSecurityTrustHtml(y.description)),g.hidden=typeof g.hidden=="boolean"?g.hidden:!1,g.hidden===!1&&g.acl&&this.aclSrv&&!this.aclSrv.can(g.acl)&&(g.hidden=!0),m[w]=g,delete y.ui,g.hidden===!0){let D=s.required.indexOf(b);D!==-1&&s.required.splice(D,1)}y.items&&(g.$items=O(O(O({},y.items.ui),p[w]),g.$items),a(y.items,y.items,p[w]?.$items??{},g.$items,g.$items)),y.properties&&Object.keys(y.properties).length&&a(y,s,p[w]||{},g,g)})};this.ui==null&&(this.ui={}),this._defUi=O(O(O({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),n.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=O({},this._defUi),a(n,n,this.ui,this.ui,this._ui),oc(n,this._ui),this._schema=n,delete n.ui,Ar(this._ui,"cover schema & ui",this._ui,n)}coverButtonProperty(){this._btn=O(O(O({render:{size:"default"}},this.locale),this.options.button),this.button);let i=Object.keys(this._ui).find(o=>o.startsWith("$")),n=this._btn.render;if(this.layout==="horizontal"){let o=i?this._ui[i]:this._defUi;n.grid||(n.grid={offset:o.spanLabel,span:o.spanControl}),n.spanLabelFixed==null&&(n.spanLabelFixed=o.spanLabelFixed),!n.class&&typeof o.spanLabelFixed=="number"&&o.spanLabelFixed>0&&(n.class="text-center")}else n.grid={};this._mode&&(this.mode=this._mode),Ar(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(i){if(!this.platform.isBrowser)return;let n=["disabled","loading"];if(Object.keys(i).every(o=>n.includes(o))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(i,n){this._inited&&(this._renders.has(i)||(this._renders.set(i,n),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((i,n)=>{let o=this.rootProperty?.searchProperty(n);o!=null&&(o.ui._render=i)})}validator(i={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let n=a=>{a._runValidation(),!(!(a instanceof $t)||!a.properties)&&(Array.isArray(a.properties)?a.properties.forEach(s=>n(s)):Object.keys(a.properties).forEach(s=>n(a.properties[s])))};i.onlyRoot?this.rootProperty._runValidation():n(this.rootProperty);let o=this.rootProperty.errors;return this._valid=!(o&&o.length),i.emitError&&!this._valid&&this.formError.emit(o),this.cdr.detectChanges(),this._valid}refreshSchema(i,n){if(!this.platform.isBrowser)return this;if(i&&(this.schema=i),n&&(this.ui=n),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=O({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let o=!0;return this.rootProperty.valueChanges.subscribe(a=>{if(this._item=O(O({},this.cleanValue?null:this.formData),a.value),o){o=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:a.path,pathValue:a.pathValue})}),this.rootProperty.errorsChanges.subscribe(a=>{this._valid=!(a&&a.length),this.formError.emit(a),this.cdr.detectChanges()}),this}reset(i=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),i&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}};e.\u0275fac=function(n){return new(n||e)(Qs(Ct))},e.\u0275cmp=te({type:e,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(n,o){n&2&&Ee("sf",!0)("sf__inline",o.layout==="inline")("sf__horizontal",o.layout==="horizontal")("sf__search",o.mode==="search")("sf__edit",o.mode==="edit")("sf__no-error",o.onlyVisual)("sf__no-colon",o.noColon)("sf__compact",o.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:[je.HasDecoratorInputTransform,"liveValidate","liveValidate",vt],autocomplete:"autocomplete",firstVisual:[je.HasDecoratorInputTransform,"firstVisual","firstVisual",vt],onlyVisual:[je.HasDecoratorInputTransform,"onlyVisual","onlyVisual",vt],compact:[je.HasDecoratorInputTransform,"compact","compact",vt],mode:"mode",loading:[je.HasDecoratorInputTransform,"loading","loading",vt],disabled:[je.HasDecoratorInputTransform,"disabled","disabled",vt],noColon:[je.HasDecoratorInputTransform,"noColon","noColon",vt],cleanValue:[je.HasDecoratorInputTransform,"cleanValue","cleanValue",vt],delay:[je.HasDecoratorInputTransform,"delay","delay",vt]},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],features:[sn([ro,{provide:Lr,useFactory:sg,deps:[Yi,yr,Ct]},cr]),rn,Ut],ngContentSelectors:ag,decls:6,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"nzLayout","submit"],[3,"formProperty","footer"],["class","sf-btns",3,"ngClass","fixed-label"],[1,"sf-btns",3,"ngClass","fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],["nz-icon","",3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled","click"],[3,"ngTemplateOutlet"]],template:function(n,o){n&1&&(on(),I(0,K_,1,0,"ng-template",null,0,qe)(2,ng,2,1,"ng-template",null,1,qe),T(4,"form",2),Y("submit",function(s){return o.onSubmit(s)}),I(5,og,1,2,"sf-item",3),P()),n&2&&(S(4),$("nzLayout",o.layout),Ye("autocomplete",o.autocomplete),S(),V(5,o.rootProperty?5:-1))},dependencies:[kr,We,$l,wl,bl,un,Le,cn,bt,wt,Yl,Rr,it,qt,Wi],encapsulation:2,changeDetection:0});let r=e;return r})();function lg(r,e){if(r&1&&ie(0,"i",11),r&2){let t=v(4);$("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipColor",t.oh.bgColor)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function cg(r,e){if(r&1&&(T(0,"span",10),ue(1),I(2,lg,1,9,"i",11),P()),r&2){let t=v(3);S(),Se(" ",t.ui.optional," "),S(),V(2,t.oh?2:-1)}}function ug(r,e){if(r&1&&(T(0,"label")(1,"span",8),ue(2),P(),I(3,cg,3,2,"span",9),P()),r&2){let t=v(2);Ee("ant-form-item-required",t.ui._required),Ye("for",t.id),S(2),Vr(t.t),S(),V(3,t.ui.optional||t.oh?3:-1)}}function dg(r,e){if(r&1&&(T(0,"div",6),I(1,ug,4,5,"label",7),P()),r&2){let t=v();$("nzSpan",t.ui.spanLabel),S(),V(1,t.t?1:-1)}}function fg(r,e){if(r&1&&(T(0,"div",12)(1,"div",13),ue(2),P()()),r&2){let t=v();$("@helpMotion",void 0),S(2),Se(" ",t.error," ")}}function pg(r,e){if(r&1&&ie(0,"div",14),r&2){let t=v();$("innerHTML",t.ui._description,yt)}}var mg=["*"],ve=(()=>{let e=class e{constructor(){this.statusSrv=Q(Mr),this._showTitle=!1,this.title=null}set showTitle(i){this._showTitle=!!i}get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}ngOnChanges(){let i=!!this.error;this.statusSrv.formStatusChanges.next({status:i?"error":"",hasFeedback:!!this.ui.feedback})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=te({type:e,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},features:[Ut],ngContentSelectors:mg,decls:8,vars:21,consts:[["nz-col","","class","ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["class","ant-form-item-explain ant-form-item-explain-connected"],["class","ant-form-item-extra",3,"innerHTML"],["nz-col","",1,"ant-form-item-label",3,"nzSpan"],[3,"ant-form-item-required"],[1,"sf__label-text"],["class","sf__optional"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],["role","alert",1,"ant-form-item-explain-error"],[1,"ant-form-item-extra",3,"innerHTML"]],template:function(n,o){n&1&&(on(),T(0,"nz-form-item"),I(1,dg,2,2,"div",0),T(2,"div",1)(3,"div",2)(4,"div",3),an(5),P()(),I(6,fg,3,2,"div",4)(7,pg,1,1,"div",5),P()()),n&2&&(nn("width",o.ui.width,"px"),Ee("ant-form-item-has-error",o.showError)("ant-form-item-with-help",o.showError)("ant-form-item-has-success",o.ui.feedback==="success")("ant-form-item-has-warning",o.ui.feedback==="warning")("ant-form-item-has-error",o.ui.feedback==="error")("ant-form-item-is-validating",o.ui.feedback==="validating")("ant-form-item-has-feedback",o.ui.feedback),S(),V(1,o._showTitle?1:-1),S(),$("nzSpan",o.ui.spanControl)("nzOffset",o.ui.offsetControl),S(4),V(6,!o.ui.onlyVisual&&o.showError?6:-1),S(),V(7,o.schema.description?7:-1))},dependencies:[Le,bt,wt,Rr,it,Bt],encapsulation:2,data:{animation:[zl]}});let r=e;return r})();var hg=(()=>{let e=class e{constructor(){this.table=Q(Ui),this.templateRef=Q(nl)}ngOnInit(){this.table._addTpl(this.path.startsWith(ze)?this.path:ze+this.path,this.templateRef)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=kt({type:e,selectors:[["","sf-template",""]],inputs:{path:[je.None,"sf-template","path"]}});let r=e;return r})();var as=(()=>{let e=class e{constructor(){this.cd=Q(tn),this.injector=Q(Yi),this.sfItemComp=Q(qt),this.sfComp=Q(Ui),this.showError=!1,this.id=""}get cls(){return this.ui.class||""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(ln)}get cleanValue(){return this.sfComp?.cleanValue}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(Lt(this.sfItemComp.destroy$)).subscribe(i=>{if(i==null)return;Ar(this.ui,"errorsChanges",this.formProperty.path,i);let n=this.sfComp?.firstVisual;(n||!n&&this.sfComp?._inited)&&(this.showError=i.length>0,this.error=this.showError?i[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(i){this.formProperty.setValue(i,!1),Ar(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(i=!1){i?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=kt({type:e,hostVars:2,hostBindings:function(n,o){n&2&&el(o.cls)}});let r=e;return r})();var $e=(()=>{let e=class e extends as{reset(i){}afterViewInit(){}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275dir=kt({type:e,features:[ae]});let r=e;return r})(),Ud=(()=>{let e=class e extends as{reset(i){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(Lt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275dir=kt({type:e,features:[ae]});let r=e;return r})(),Hd=(()=>{let e=class e extends as{reset(i){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(Lt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275dir=kt({type:e,features:[ae]});let r=e;return r})();function gg(r,e){if(r&1&&ie(0,"i",9),r&2){let t=v(2);$("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function yg(r,e){if(r&1){let t=he();T(0,"div",7)(1,"label"),ue(2),T(3,"span",8),ue(4),I(5,gg,1,8,"i",9),P()(),T(6,"div",10)(7,"button",11),Y("click",function(){R(t);let n=v();return F(n.addItem())}),P()()()}if(r&2){let t=v();$("nzSpan",t.ui.spanLabel),S(),Ee("ant-form-item-required",t.ui.required),S(),Se(" ",t.schema.title," "),S(2),Se(" ",t.ui.optional," "),S(),V(5,t.oh?5:-1),S(2),$("nzType",t.addType)("disabled",t.addDisabled)("innerHTML",t.addTitle,yt)}}function vg(r,e){if(r&1){let t=he();T(0,"span",16),Y("click",function(){R(t);let n=v(2).index,o=v();return F(o.removeItem(n))}),ie(1,"i",17),P()}if(r&2){let t=v(3);Ye("title",t.removeTitle)}}function Cg(r,e){if(r&1&&(T(0,"div",13)(1,"nz-card"),ie(2,"sf-item",14),I(3,vg,2,1,"span",15),P()()),r&2){let t=v(),i=t.index,n=t.$implicit,o=v();$("nzSpan",o.arraySpan),Ye("data-index",i),S(2),$("formProperty",n),S(),V(3,o.showRemove?3:-1)}}function wg(r,e){if(r&1&&(tl(0),I(1,Cg,4,4,"div",12),rl()),r&2){let t=e.$implicit;S(),V(1,t.visible&&!t.ui.hidden?1:-1)}}function bg(r,e){if(r&1&&(T(0,"div",18),ue(1),P()),r&2){let t=v();S(),Vr(t.error)}}function $g(r,e){if(r&1&&ie(0,"div",19),r&2){let t=v();$("innerHTML",t.ui._description,yt)}}var ss=(()=>{let e=class e extends Ud{constructor(){super(...arguments),this.arraySpan=8}get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:i,addTitle:n,addType:o,removable:a,removeTitle:s}=this.ui;i&&i.arraySpan&&(this.arraySpan=i.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(n||this.l.addText),this.addType=o||"dashed",this.removeTitle=a===!1?null:s||this.l.removeText}reValid(i){this.formProperty.updateValueAndValidity(O({onlySelf:!1,emitValueEvent:!1,emitValidator:!0},i))}addItem(){let i=this.formProperty.add({});this.reValid(),this.ui.add?.(i)}removeItem(i){let n=this.formProperty.properties[i].path;this.formProperty.remove(i),this.reValid({updatePath:n,emitValueEvent:!0}),this.ui.remove?.(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-array"]],hostVars:2,hostBindings:function(n,o){n&2&&Ee("sf__array",!0)},features:[ae],decls:8,vars:10,consts:[["nz-col","","class","ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],[4,"ngFor","ngForOf"],["class","ant-form-explain"],["class","ant-form-extra",3,"innerHTML"],["nz-col","",1,"ant-form-item-label",3,"nzSpan"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__array-add"],["type","button","nz-button","",3,"nzType","disabled","innerHTML","click"],["nz-col","","class","sf__array-item",3,"nzSpan"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],["class","sf__array-remove"],[1,"sf__array-remove",3,"click"],["nz-icon","","nzType","delete"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"]],template:function(n,o){n&1&&(T(0,"nz-form-item"),I(1,yg,8,9,"div",0),T(2,"div",1)(3,"div",2)(4,"div",3),I(5,wg,2,1,"ng-container",4),P(),I(6,bg,2,1,"div",5)(7,$g,1,1,"div",6),P()()()),n&2&&(Ee("ant-form-item-with-help",o.showError),S(),V(1,o.schema.title?1:-1),S(),$("nzSpan",o.ui.spanControl)("nzOffset",o.ui.offsetControl),S(),Ee("has-error",o.showError),S(2),$("ngForOf",o.formProperty.properties),S(),V(6,!o.ui.onlyVisual&&o.showError?6:-1),S(),V(7,o.schema.description?7:-1))},dependencies:[dl,un,Le,cn,_n,bt,wt,Rr,it,Bt,qt],encapsulation:2});let r=e;return r})();var ls=(()=>{let e=class e extends $e{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-boolean"]],features:[ae],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading","ngModelChange"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0)(1,"nz-switch",1),Y("ngModelChange",function(s){return o.setValue(s)}),P()()),n&2&&($("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(),$("ngModel",o.value)("nzDisabled",o.disabled)("nzSize",o.ui.size)("nzCheckedChildren",o.ui.checkedChildren)("nzUnCheckedChildren",o.ui.unCheckedChildren)("nzLoading",o.ui.loading))},dependencies:[De,Ne,rc,ve],encapsulation:2});let r=e;return r})();function Sg(r,e){if(r&1){let t=he();T(0,"label",3),Y("ngModelChange",function(n){R(t);let o=v(2);return F(o.allChecked=n)})("ngModelChange",function(){R(t);let n=v(2);return F(n.onAllChecked())}),ue(1),P()}if(r&2){let t=v(2);$("ngModel",t.allChecked)("nzIndeterminate",t.indeterminate),S(),Se(" ",t.ui.checkAllText||t.l.checkAllText," ")}}function zg(r,e){if(r&1&&I(0,Sg,2,3,"label",2),r&2){let t=v();V(0,t.ui.checkAll?0:-1)}}function Eg(r,e){if(r&1&&ie(0,"i",7),r&2){let t=v(3);$("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function xg(r,e){if(r&1){let t=he();T(0,"label",5),Y("ngModelChange",function(n){R(t);let o=v(2);return F(o._setValue(n))}),ue(1),T(2,"span",6),ue(3),I(4,Eg,1,8,"i",7),P()()}if(r&2){let t=v(2);$("nzDisabled",t.disabled)("ngModel",t.value),S(),Se(" ",t.schema.title," "),S(2),Se(" ",t.ui.optional," "),S(),V(4,t.oh?4:-1)}}function Tg(r,e){}function Pg(r,e){if(r&1){let t=he();I(0,Tg,0,0,"ng-template",8),T(1,"nz-checkbox-group",9),Y("ngModelChange",function(){R(t);let n=v(3);return F(n.notifySet())}),P()}if(r&2){let t=v(3),i=Ie(1);$("ngTemplateOutlet",i),S(),$("ngModel",t.data)}}function Og(r,e){}function Ig(r,e){if(r&1&&(T(0,"div",12),I(1,Og,0,0,"ng-template",8),P()),r&2){let t=v(4),i=Ie(1);$("nzSpan",t.grid_span),S(),$("ngTemplateOutlet",i)}}function Dg(r,e){if(r&1&&(T(0,"div",12)(1,"label",13),ue(2),P()()),r&2){let t=e.$implicit,i=v(4);$("nzSpan",i.grid_span),S(),$("nzValue",t.value)("ngModel",t.checked)("nzDisabled",t.disabled),S(),Se(" ",t.label," ")}}function Ng(r,e){if(r&1){let t=he();T(0,"nz-checkbox-wrapper",10),Y("nzOnChange",function(n){R(t);let o=v(3);return F(o.groupInGridChange(n))}),T(1,"div",11),I(2,Ig,2,2,"div",12),tt(3,Dg,3,5,"div",12,et),P()()}if(r&2){let t=v(3);S(2),V(2,t.ui.checkAll?2:-1),S(),rt(t.data)}}function Vg(r,e){if(r&1&&I(0,Pg,2,2)(1,Ng,5,1),r&2){let t=v(2);V(0,t.grid_span===0?0:1)}}function kg(r,e){if(r&1&&I(0,xg,5,5,"label",4)(1,Vg,2,1),r&2){let t=v();V(0,t.data.length===0?0:1)}}var cs=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.data=[],this.allChecked=!1,this.indeterminate=!1,this.labelTitle="",this.inited=!1}reset(i){this.inited=!1,jr(this.schema,this.ui,i).subscribe(n=>{this.data=n,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=n.length===0?"":this.schema.title;let{span:o}=this.ui;this.grid_span=o&&o>0?o:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(i){this.setValue(i),this.detectChanges(),this.notifyChange(i)}notifySet(){let i=this.data.filter(n=>n.checked);this.updateAllChecked().setValue(i.map(n=>n.value)),this.notifyChange(i)}groupInGridChange(i){this.data.forEach(n=>n.checked=i.indexOf(n.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(i=>i.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(i=>i.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(i=>i.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(i){this.ui.change&&this.ui.change(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-checkbox"]],features:[ae],decls:4,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","","class","sf__checkbox-all mr-sm",3,"ngModel","nzIndeterminate"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModel","nzIndeterminate","ngModelChange"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-checkbox","",3,"nzDisabled","ngModel","ngModelChange"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[3,"ngTemplateOutlet"],[3,"ngModel","ngModelChange"],[1,"sf__checkbox-list",3,"nzOnChange"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(n,o){n&1&&(I(0,zg,1,1,"ng-template",null,0,qe),T(2,"sf-item-wrap",1),I(3,kg,2,1),P()),n&2&&(S(2),$("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",!0)("title",o.labelTitle),S(),V(3,o.inited?3:-1))},dependencies:[We,De,Ne,Le,xl,Tl,El,bt,wt,it,Bt,ve],encapsulation:2});let r=e;return r})();function Mg(r,e){}var Rg=(r,e,t)=>({$implicit:r,schema:e,ui:t}),us=(()=>{let e=class e extends $e{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-custom"]],features:[ae],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0),I(1,Mg,0,0,"ng-template",1),P()),n&2&&($("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(),$("ngTemplateOutlet",o.ui._render)("ngTemplateOutletContext",cl(8,Rg,o,o.schema,o.ui)))},dependencies:[We,ve],encapsulation:2});let r=e;return r})();function Fg(r,e){if(r&1){let t=he();T(0,"nz-year-picker",1),Y("ngModelChange",function(n){R(t);let o=v();return F(o.displayValue=n)})("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))}),P()}if(r&2){let t=v();$("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function Ag(r,e){if(r&1){let t=he();T(0,"nz-month-picker",1),Y("ngModelChange",function(n){R(t);let o=v();return F(o.displayValue=n)})("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))}),P()}if(r&2){let t=v();$("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function jg(r,e){if(r&1){let t=he();T(0,"nz-week-picker",2),Y("ngModelChange",function(n){R(t);let o=v();return F(o.displayValue=n)})("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))}),P()}if(r&2){let t=v();$("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function qg(r,e){if(r&1){let t=he();T(0,"nz-range-picker",3),Y("ngModelChange",function(n){R(t);let o=v();return F(o.displayValue=n)})("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))})("nzOnOk",function(n){R(t);let o=v();return F(o._ok(n))}),P()}if(r&2){let t=v();$("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzDisabledTime",t.ui.disabledTime)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzRanges",t.ui.ranges)("nzShowTime",t.ui.showTime)("nzSeparator",t.ui.separator)("nzShowWeekNumber",t.ui.showWeekNumber||!1)("nzMode",t.ui.rangeMode)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function Wg(r,e){if(r&1){let t=he();T(0,"nz-date-picker",4),Y("ngModelChange",function(n){R(t);let o=v();return F(o.displayValue=n)})("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))})("nzOnOk",function(n){R(t);let o=v();return F(o._ok(n))}),P()}if(r&2){let t=v();$("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat)("ngModel",t.displayValue)("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzDisabledTime",t.ui.disabledTime)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzShowTime",t.ui.showTime)("nzShowToday",t.i.showToday)("nzShowWeekNumber",t.ui.showWeekNumber||!1)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}var ds=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.flatRange=!1,this.displayValue=null}ngOnInit(){let{mode:i,end:n,displayFormat:o,allowClear:a,showToday:s}=this.ui;if(this.mode=i||"date",this.flatRange=n!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let u=this.endProperty.ui;this.endFormat=u.format?u._format:this.startFormat}if(o)this.displayFormat=o;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:Me(a,!0),showToday:Me(s,!0)}}reset(i){let n={formatString:this.startFormat,defaultValue:null};if(Array.isArray(i)?i=i.map(o=>fn(o,n)):i=fn(i,n),this.flatRange){let o=fn(this.endProperty.formData,{formatString:this.endFormat||this.startFormat,defaultValue:null});this.displayValue=i==null||o==null?[]:[i,o]}else this.displayValue=i;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(i,n=!0){if(n&&this.ui.change&&this.ui.change(i),i==null||Array.isArray(i)&&i.length<2){this.setValue(null),this.setEnd(null);return}let o=Array.isArray(i)?[dn(i[0],this.startFormat),dn(i[1],this.endFormat||this.startFormat)]:dn(i,this.startFormat);this.flatRange?(this.setValue(o[0]),this.setEnd(o[1])):this.setValue(o)}_openChange(i){this.ui.onOpenChange&&this.ui.onOpenChange(i)}_ok(i){this.ui.onOk&&this.ui.onOk(i)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(i){this.flatRange&&(this.endProperty.setValue(i,!0),this.endProperty.updateValueAndValidity())}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-date"]],features:[ae],decls:6,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange","nzOnOk"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange","nzOnOk"]],template:function(n,o){if(n&1&&(T(0,"sf-item-wrap",0),I(1,Fg,1,15)(2,Ag,1,15)(3,jg,1,14)(4,qg,1,21)(5,Wg,1,19),P()),n&2){let a;$("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(),V(1,(a=o.mode)==="year"?1:a==="month"?2:a==="week"?3:a==="range"?4:5)}},dependencies:[kr,De,Ne,Bl,Gl,Kl,Xl,Jl,ve],encapsulation:2});let r=e;return r})();var Lg=r=>({"ant-input-number__hide-step":r}),no=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.formatter=i=>i,this.parser=i=>i,this.width=""}ngOnInit(){let{minimum:i,exclusiveMinimum:n,maximum:o,exclusiveMaximum:a,multipleOf:s,type:u}=this.schema;this.step=s||1,typeof i<"u"&&(this.min=n?i+this.step:i),typeof o<"u"&&(this.max=a?o-this.step:o),u==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let p=this.ui;p.prefix!=null&&(p.formatter=f=>f==null?"":`${p.prefix} ${f}`,p.parser=f=>f.replace(`${p.prefix} `,"")),p.unit!=null&&(p.formatter=f=>f==null?"":`${f} ${p.unit}`,p.parser=f=>f.replace(` ${p.unit}`,"")),p.formatter&&(this.formatter=p.formatter),p.parser&&(this.parser=p.parser),this.width=typeof p.widgetWidth=="number"?`${p.widgetWidth}px`:p.widgetWidth??"90px"}_setValue(i){this.setValue(this.schema.type==="integer"?Math.floor(i):i),this.ui.change&&this.ui.change(this.value)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-number"]],features:[ae],decls:2,vars:22,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder","ngClass","ngModelChange"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0)(1,"nz-input-number",1),Y("ngModelChange",function(s){return o._setValue(s)}),P()()),n&2&&($("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(),nn("width",o.width),$("nzId",o.id)("ngModel",o.value)("nzDisabled",o.disabled)("nzSize",o.ui.size)("nzMin",o.min)("nzMax",o.max)("nzStep",o.step)("nzFormatter",o.formatter)("nzParser",o.parser)("nzPrecision",o.ui.precision)("nzPlaceHolder",o.ui.placeholder||"")("ngClass",ll(20,Lg,o.ui.hideStep)))},dependencies:[kr,De,Ne,Ul,ve],encapsulation:2});let r=e;return r})();function Ug(r,e){if(r&1&&(T(0,"div",4),ue(1),P()),r&2){let t=v(2);S(),Vr(t.title)}}function Hg(r,e){if(r&1&&(T(0,"div",5),ie(1,"sf-item",6),P()),r&2){let t=v().$implicit;$("nzSpan",t.grid.span)("nzOffset",t.grid.offset)("nzXs",t.grid.xs)("nzSm",t.grid.sm)("nzMd",t.grid.md)("nzLg",t.grid.lg)("nzXl",t.grid.xl)("nzXXl",t.grid.xxl),S(),$("formProperty",t.property)("fixed-label",t.spanLabelFixed)}}function Bg(r,e){if(r&1&&I(0,Hg,2,10,"div",5),r&2){let t=e.$implicit;V(0,t.property.visible&&t.show?0:-1)}}function Kg(r,e){if(r&1&&(T(0,"div",3),tt(1,Bg,1,1,null,null,et),P()),r&2){let t=v(2);$("nzGutter",t.grid.gutter),S(),rt(t.list)}}function Gg(r,e){if(r&1&&ie(0,"sf-item",6),r&2){let t=v().$implicit;$("formProperty",t.property)("fixed-label",t.spanLabelFixed)}}function Jg(r,e){if(r&1&&I(0,Gg,1,2,"sf-item",6),r&2){let t=e.$implicit;V(0,t.property.visible&&t.show?0:-1)}}function Xg(r,e){if(r&1&&tt(0,Jg,1,1,null,null,et),r&2){let t=v(2);rt(t.list)}}function Zg(r,e){if(r&1&&I(0,Ug,2,1,"div",2)(1,Kg,3,1,"div",3)(2,Xg,2,0),r&2){let t=e.$implicit,i=v();V(0,!t&&i.title?0:-1),S(),V(1,i.grid?1:2)}}function Qg(r,e){if(r&1&&ie(0,"i",13),r&2){let t=v(3);$("nzType",t.expand?"down":"up")}}function Yg(r,e){if(r&1&&ie(0,"i",15),r&2){let t=v(4);$("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipColor",t.oh.bgColor)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function ey(r,e){if(r&1&&(T(0,"span",14),ue(1),I(2,Yg,1,9,"i",15),P()),r&2){let t=v(3);S(),Se(" ",t.ui.optional," "),S(),V(2,t.oh?2:-1)}}function ty(r,e){if(r&1){let t=he();T(0,"div",10),Y("click",function(){R(t);let n=v(2);return F(n.changeExpand())}),I(1,Qg,1,1,"i",11),ue(2),I(3,ey,3,2,"span",12),P()}if(r&2){let t=v(2);Ee("point",t.showExpand),S(),V(1,t.showExpand?1:-1),S(),Se(" ",t.title," "),S(),V(3,t.ui.optional||t.oh?3:-1)}}function ry(r,e){}var iy=()=>[],ny=()=>({$implicit:!0});function oy(r,e){if(r&1&&(T(0,"nz-card",7),I(1,ty,4,5,"ng-template",null,8,qe)(3,ry,0,0,"ng-template",9),P()),r&2){let t=Ie(2),i=v(),n=Ie(1);Ee("sf__object-card-fold",!i.expand),$("nzTitle",t)("nzExtra",i.ui.cardExtra)("nzSize",i.ui.cardSize||"small")("nzActions",i.ui.cardActions||mo(11,iy))("nzBodyStyle",i.ui.cardBodyStyle)("nzBordered",i.ui.cardBordered||!0)("nzBorderless",i.ui.cardBorderless||!1),S(3),$("ngTemplateOutlet",n)("ngTemplateOutletContext",mo(12,ny))}}function ay(r,e){}function sy(r,e){if(r&1&&I(0,ay,0,0,"ng-template",16),r&2){v();let t=Ie(1);$("ngTemplateOutlet",t)}}var fs=(()=>{let e=class e extends Hd{constructor(){super(...arguments),this.type="default",this.list=[],this.showExpand=!0,this.expand=!0}ngOnInit(){let{formProperty:i,ui:n}=this,{grid:o,showTitle:a,type:s}=n;this.showExpand=Me(n.showExpand,!0),this.expand=Me(n.expand,!0),this.type=s??"default",(this.type==="card"||!i.isRoot()&&!(i.parent instanceof Wr)&&a===!0)&&(this.title=this.schema.title),this.grid=o;let u=[];for(let p of i.propertiesId){let f=i.properties[p],m={property:f,grid:f.ui.grid||o||{},spanLabelFixed:f.ui.spanLabelFixed,show:f.ui.hidden===!1};u.push(m)}this.list=u}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-object"]],features:[ae],decls:4,vars:1,consts:[["default",""],["class","sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless","sf__object-card-fold"],["class","sf__title"],["nz-row","",3,"nzGutter"],[1,"sf__title"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless"],["cardTitleTpl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],["nz-icon","","class","mr-xs text-xs",3,"nzType"],["class","sf__optional"],["nz-icon","",1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["s","","nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[3,"ngTemplateOutlet"]],template:function(n,o){n&1&&I(0,Zg,3,2,"ng-template",null,0,qe)(2,oy,4,13,"nz-card",1)(3,sy,1,1),n&2&&(S(2),V(2,o.type==="card"?2:3))},dependencies:[We,Le,_n,bt,wt,it,Bt,qt,Wi],encapsulation:2});let r=e;return r})();function ly(r,e){if(r&1&&(T(0,"label",2),ie(1,"span",3),P()),r&2){let t=e.$implicit,i=v(2);$("nzValue",t.value)("nzDisabled",i.disabled||t.disabled),S(),$("innerHTML",t.label,yt)}}function cy(r,e){if(r&1&&tt(0,ly,2,3,"label",2,et),r&2){let t=v();rt(t.data)}}function uy(r,e){if(r&1&&(T(0,"label",4),ie(1,"span",3),P()),r&2){let t=e.$implicit,i=v(2);$("nzValue",t.value)("nzDisabled",i.disabled||t.disabled),S(),$("innerHTML",t.label,yt)}}function dy(r,e){if(r&1&&tt(0,uy,2,3,"label",4,et),r&2){let t=v();rt(t.data)}}var ps=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.data=[]}reset(i){this.styleType=(this.ui.styleType||"default")==="default",jr(this.schema,this.ui,i).subscribe(n=>{this.data=n,this.detectChanges()})}_setValue(i){this.setValue(i),this.ui.change&&this.ui.change(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-radio"]],features:[ae],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzSize","nzName","ngModel","nzButtonStyle","ngModelChange"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0)(1,"nz-radio-group",1),Y("ngModelChange",function(s){return o._setValue(s)}),I(2,cy,2,0)(3,dy,2,0),P()()),n&2&&($("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(),$("nzSize",o.ui.size)("nzName",o.id)("ngModel",o.value)("nzButtonStyle",o.ui.buttonStyle||"outline"),S(),V(2,o.styleType?2:3))},dependencies:[De,Ne,Dl,Ol,Il,ve],encapsulation:2});let r=e;return r})();function fy(r,e){if(r&1&&ie(0,"nz-option",3),r&2){let t=e.$implicit;$("nzLabel",t.label)("nzValue",t.value)("nzHide",t.hide)("nzDisabled",t.disabled)}}function py(r,e){if(r&1&&tt(0,fy,1,4,"nz-option",3,et),r&2){let t=v();rt(t.data)}}function my(r,e){if(r&1&&ie(0,"nz-option",5),r&2){let t=e.$implicit;$("nzLabel",t.label)("nzValue",t.value)("nzDisabled",t.disabled)("nzHide",t.hide)}}function hy(r,e){if(r&1&&(T(0,"nz-option-group",4),tt(1,my,1,4,"nz-option",5,et),P()),r&2){let t=e.$implicit;$("nzLabel",t.label),S(),rt(t.children)}}function _y(r,e){if(r&1&&tt(0,hy,3,1,"nz-option-group",4,et),r&2){let t=v();rt(t.data)}}function gy(r,e){if(r&1&&(T(0,"nz-option",2),ie(1,"i",6),ue(2),P()),r&2){let t=v();S(2),Se(" ",t.ui.searchLoadingText," ")}}var ms=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.search$=new Or,this.data=[],this.hasGroup=!1,this.loading=!1}checkGroup(i){this.hasGroup=(i||[]).filter(n=>n.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:i,borderless:n,autoFocus:o,dropdownMatchSelectWidth:a,serverSearch:s,maxMultipleCount:u,mode:p,showSearch:f,tokenSeparators:m,maxTagCount:b,compareWith:C,optionHeightPx:w,optionOverflowSize:y,showArrow:z}=this.ui;this.i={autoClearSearchValue:Me(i,!0),borderless:Me(n,!1),autoFocus:Me(o,!1),dropdownMatchSelectWidth:Me(a,!0),serverSearch:Me(s,!1),maxMultipleCount:u||1/0,mode:p||"default",showSearch:Me(f,!0),tokenSeparators:m||[],maxTagCount:b||void 0,optionHeightPx:w||32,optionOverflowSize:y||8,showArrow:typeof z!="boolean"?void 0:z,compareWith:C||((D,A)=>D===A)};let g=this.ui.onSearch;g&&this.search$.pipe(Lt(this.sfItemComp.destroy$),Zi(),Xi(this.ui.searchDebounceTime||300),Qi(D=>g(D)),Hs(()=>[])).subscribe(D=>{this.data=D,this.checkGroup(D),this.loading=!1,this.detectChanges()})}reset(i){let n=this.ui.onSearch;jr(this.schema,this.ui,i).subscribe(o=>{this._value=i,n==null&&(this.data=o),this.checkGroup(o),this.detectChanges()}),i&&n!=null&&this.search$.next(i)}change(i){this.ui.change&&this.ui.change(i,this.getOrgData(i)),this.setValue(i??void 0)}getOrgData(i){let n=this.injector.get(nc);return Array.isArray(i)?i.map(o=>n.findTree(this.data,a=>a.value===o)):n.findTree(this.data,o=>o.value===i)}openChange(i){this.ui.openChange&&this.ui.openChange(i)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(i){this.ui.onSearch&&(this.loading=!0,this.search$.next(i))}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-select"]],features:[ae],decls:5,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzBorderless","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize","ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom"],["nzDisabled","","nzCustomContent",""],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nz-icon","","nzType","loading"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0)(1,"nz-select",1),Y("ngModelChange",function(s){return o._value=s})("ngModelChange",function(s){return o.change(s)})("nzOpenChange",function(s){return o.openChange(s)})("nzOnSearch",function(s){return o.onSearch(s)})("nzScrollToBottom",function(){return o.scrollToBottom()}),I(2,py,2,0)(3,_y,2,0)(4,gy,3,1,"nz-option",2),P()()),n&2&&($("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(),$("nzId",o.id)("nzDisabled",o.disabled)("ngModel",o._value)("nzSize",o.ui.size)("nzPlaceHolder",o.ui.placeholder)("nzNotFoundContent",o.ui.notFoundContent)("nzDropdownClassName",o.ui.dropdownClassName)("nzAllowClear",o.ui.allowClear)("nzDropdownStyle",o.ui.dropdownStyle)("nzCustomTemplate",o.ui.customTemplate)("nzSuffixIcon",o.ui.suffixIcon)("nzRemoveIcon",o.ui.removeIcon)("nzClearIcon",o.ui.clearIcon)("nzMenuItemSelectedIcon",o.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",o.ui.maxTagPlaceholder)("nzDropdownRender",o.ui.dropdownRender)("nzAutoClearSearchValue",o.i.autoClearSearchValue)("nzBorderless",o.i.borderless)("nzAutoFocus",o.i.autoFocus)("nzDropdownMatchSelectWidth",o.i.dropdownMatchSelectWidth)("nzServerSearch",o.i.serverSearch)("nzMaxMultipleCount",o.i.maxMultipleCount)("nzMode",o.i.mode)("nzShowSearch",o.i.showSearch)("nzShowArrow",o.i.showArrow)("nzTokenSeparators",o.i.tokenSeparators)("nzMaxTagCount",o.i.maxTagCount)("compareWith",o.i.compareWith)("nzOptionHeightPx",o.i.optionHeightPx)("nzOptionOverflowSize",o.i.optionOverflowSize),S(),V(2,!o.loading&&!o.hasGroup?2:-1),S(),V(3,!o.loading&&o.hasGroup?3:-1),S(),V(4,o.loading?4:-1))},dependencies:[De,Ne,Le,it,Ml,Rl,kl,ve],encapsulation:2});let r=e;return r})();function vy(r,e){if(r&1){let t=he();T(0,"input",3),Y("ngModelChange",function(n){R(t);let o=v();return F(o.change(n))})("keyup.enter",function(n){R(t);let o=v();return F(o.enter(n))})("focus",function(n){R(t);let o=v();return F(o.focus(n))})("blur",function(n){R(t);let o=v();return F(o.blur(n))}),P()}if(r&2){let t=v();$("disabled",t.disabled)("nzSize",t.ui.size)("nzBorderless",t.ui.borderless)("ngModel",t.value),Ye("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength||null)("type",t.ui.type||"text")("placeholder",t.ui.placeholder)("autocomplete",t.ui.autocomplete)("autoFocus",t.ui.autofocus)}}function Cy(r,e){}function wy(r,e){if(r&1&&(T(0,"nz-input-group",2),I(1,Cy,0,0,"ng-template",4),P()),r&2){let t=v(),i=Ie(2);$("nzAddOnBefore",t.ui.addOnBefore)("nzAddOnAfter",t.ui.addOnAfter)("nzAddOnBeforeIcon",t.ui.addOnBeforeIcon)("nzAddOnAfterIcon",t.ui.addOnAfterIcon)("nzPrefix",t.ui.prefix)("nzPrefixIcon",t.ui.prefixIcon)("nzSuffix",t.ui.suffix)("nzSuffixIcon",t.ui.suffixIcon),S(),$("ngTemplateOutlet",i)}}function by(r,e){}function $y(r,e){if(r&1&&I(0,by,0,0,"ng-template",4),r&2){v();let t=Ie(2);$("ngTemplateOutlet",t)}}var oo=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.change$=null}ngOnInit(){let{addOnAfter:i,addOnAfterIcon:n,addOnBefore:o,addOnBeforeIcon:a,prefix:s,prefixIcon:u,suffix:p,suffixIcon:f,autofocus:m}=this.ui;this.type=i||o||n||a||s||u||p||f?"addon":"",m===!0&&setTimeout(()=>{this.injector.get(en).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(i){!i&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let i=this.ui.changeDebounceTime,n=this.ui.change;if(i==null||i<=0||n==null)return;this.change$=new Ir(this.value);let o=this.change$.asObservable().pipe(Xi(i),Lt(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(o=o.pipe(Qi(this.ui.changeMap))),o.subscribe(a=>n(a))}change(i){if(this.setValue(i),this.change$!=null){this.change$.next(i);return}this.ui.change&&this.ui.change(i)}focus(i){this.ui.focus&&this.ui.focus(i)}blur(i){this.ui.blur&&this.ui.blur(i)}enter(i){this.ui.enter&&this.ui.enter(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-string"]],features:[ae],decls:5,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],["ipt",""],[3,"nzAddOnBefore","nzAddOnAfter","nzAddOnBeforeIcon","nzAddOnAfterIcon","nzPrefix","nzPrefixIcon","nzSuffix","nzSuffixIcon"],["nz-input","",3,"disabled","nzSize","nzBorderless","ngModel","ngModelChange","keyup.enter","focus","blur"],[3,"ngTemplateOutlet"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0),I(1,vy,1,11,"ng-template",null,1,qe)(3,wy,2,9,"nz-input-group",2)(4,$y,1,1),P()),n&2&&($("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(3),V(3,o.type==="addon"?3:4))},dependencies:[We,pn,De,Ne,Le,hn,jl,Al,ve],encapsulation:2});let r=e;return r})();function Sy(r,e){if(r&1&&ie(0,"span",1),r&2){let t=v();$("innerHTML",t.text,yt)}}function zy(r,e){if(r&1&&ie(0,"span",2),r&2){let t=v();$("innerText",t.text)}}var hs=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.text=""}ngOnInit(){this.ui._required=!1,this.ui.html=Me(this.ui.html,!0)}reset(i){this.text=i||this.ui.defaultText||"-"}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-text"]],features:[ae],decls:3,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0),I(1,Sy,1,1,"span",1)(2,zy,1,1),P()),n&2&&(Ee("sf__text-html",o.ui.html),$("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(),V(1,o.ui.html?1:2))},dependencies:[ve],encapsulation:2});let r=e;return r})();function Ey(r,e){if(r&1){let t=he();T(0,"textarea",3),Y("ngModelChange",function(n){R(t);let o=v();return F(o.change(n))})("focus",function(n){R(t);let o=v();return F(o.focus(n))})("blur",function(n){R(t);let o=v();return F(o.blur(n))}),ue(1,"      "),P()}if(r&2){let t=v();$("disabled",t.disabled)("nzSize",t.ui.size)("ngModel",t.value)("nzAutosize",t.autosize)("nzBorderless",t.ui.borderless),Ye("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength||null)("placeholder",t.ui.placeholder)}}function xy(r,e){if(r&1){let t=he();T(0,"nz-textarea-count",2)(1,"textarea",3),Y("ngModelChange",function(n){R(t);let o=v();return F(o.change(n))})("focus",function(n){R(t);let o=v();return F(o.focus(n))})("blur",function(n){R(t);let o=v();return F(o.blur(n))}),ue(2,"        "),P()()}if(r&2){let t=v();$("nzMaxCharacterCount",t.ui.maxCharacterCount)("nzComputeCharacterCount",t.ui.computeCharacterCount),S(),$("disabled",t.disabled)("nzSize",t.ui.size)("ngModel",t.value)("nzAutosize",t.autosize)("nzBorderless",t.ui.borderless),Ye("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength||null)("placeholder",t.ui.placeholder)}}function Ty(r,e){}function Py(r,e){if(r&1&&I(0,Ty,0,0,"ng-template",4),r&2){v();let t=Ie(2);$("ngTemplateOutlet",t)}}var _s=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.autosize=!0}ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=i=>i.length)}change(i){this.setValue(i),this.ui.change&&this.ui.change(i)}focus(i){this.ui.focus&&this.ui.focus(i)}blur(i){this.ui.blur&&this.ui.blur(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-textarea"]],features:[ae],decls:5,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],["ipt",""],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],["nz-input","",3,"disabled","nzSize","ngModel","nzAutosize","nzBorderless","ngModelChange","focus","blur"],[3,"ngTemplateOutlet"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0),I(1,Ey,2,9,"ng-template",null,1,qe)(3,xy,3,11,"nz-textarea-count",2)(4,Py,1,1),P()),n&2&&($("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(3),V(3,o.ui.maxCharacterCount?3:4))},dependencies:[We,pn,De,Ne,Wl,hn,ql,ve],encapsulation:2});let r=e;return r})();var oi=class extends Tt{constructor(){super(),this.register("object",fs),this.register("array",ss),this.register("text",hs),this.register("string",oo),this.register("number",no),this.register("integer",no),this.register("date",ds),this.register("radio",ps),this.register("checkbox",cs),this.register("boolean",ls),this.register("textarea",_s),this.register("select",ms),this.register("custom",us),this.setDefault(oo)}};var Oy=[gl,tc,Pl,Zl,ec,Ql,_l,Ll,Hl,yl,Nl,Fl,ic,Vl];var Yb=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:yr,useClass:to,deps:[Ct,Ht]},{provide:Tt,useClass:oi}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Gs({type:e}),e.\u0275inj=Ks({imports:[fl,Sl,Cl,Oy]});let r=e;return r})();function a$(r){let e=[{provide:yr,useClass:to,deps:[Ct,Ht]},{provide:Tt,useClass:oi}];return r?.widgets&&e.push({provide:Js,multi:!0,useValue:()=>{let t=Q(Tt);r?.widgets?.forEach(i=>t.register(i.KEY,i.type))}}),Xs(e)}export{Me as a,sc as b,xf as c,jr as d,Ui as e,ve as f,hg as g,$e as h,Yb as i,a$ as j};
