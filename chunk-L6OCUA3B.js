import{Aa as I,Ab as j,Bb as V,Db as R,Eb as O,Ha as _,Ja as l,Ka as h,Lb as b,Sa as E,Ta as T,Ua as A,Va as u,Vf as B,Wa as w,Wf as k,Xa as N,ca as d,cb as z,cc as P,ec as Q,ge as W,ha as S,hb as f,he as p,ia as v,ib as m,jb as D,nb as M,pa as g,q as c,qa as C,qb as F,qe as q,ra as y,sb as o,xa as x,zb as G}from"./chunk-FML4Y3RM.js";var U=["textEl"];function L(e,i){if(e&1&&D(0,"span",1),e&2){let r=o();u("nzType",r.nzIcon)}}function X(e,i){if(e&1){let r=M();f(0,"img",4),F("error",function(n){C(r);let t=o();return y(t.imgError(n))}),m()}if(e&2){let r=o();u("src",r.nzSrc,_),A("srcset",r.nzSrcSet)("alt",r.nzAlt)}}function Z(e,i){if(e&1&&(f(0,"span",3,0),R(2),m()),e&2){let r=o();l(2),O(r.nzText)}}var $="avatar",J=(()=>{let i=class i{constructor(a,n,t){this.nzConfigService=a,this.elementRef=n,this.cdr=t,this._nzModuleName=$,this.nzShape="circle",this.nzSize="default",this.nzGap=4,this.nzError=new x,this.hasText=!1,this.hasSrc=!0,this.hasIcon=!1,this.classMap={},this.customSize=null,this.el=this.elementRef.nativeElement}imgError(a){this.nzError.emit(a),a.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.calcStringSize())}ngOnChanges(){this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setSizeStyle(),this.calcStringSize()}ngAfterViewInit(){this.calcStringSize()}calcStringSize(){if(!this.hasText||!this.textEl)return;let a=this.textEl.nativeElement,n=a.offsetWidth,t=this.el.getBoundingClientRect?.().width??0,s=this.nzGap*2<t?this.nzGap*2:8,H=t-s<n?(t-s)/n:1;a.style.transform=`scale(${H}) translateX(-50%)`,a.style.lineHeight=this.customSize||""}setSizeStyle(){typeof this.nzSize=="number"?this.customSize=`${this.nzSize}px`:this.customSize=null,this.cdr.markForCheck()}};i.\u0275fac=function(n){return new(n||i)(h(W),h(I),h(P))},i.\u0275cmp=S({type:i,selectors:[["nz-avatar"]],viewQuery:function(n,t){if(n&1&&G(U,5),n&2){let s;j(s=V())&&(t.textEl=s.first)}},hostAttrs:[1,"ant-avatar"],hostVars:20,hostBindings:function(n,t){n&2&&(w("width",t.customSize)("height",t.customSize)("line-height",t.customSize)("font-size",t.hasIcon&&t.customSize?t.nzSize/2:null,"px"),N("ant-avatar-lg",t.nzSize==="large")("ant-avatar-sm",t.nzSize==="small")("ant-avatar-square",t.nzShape==="square")("ant-avatar-circle",t.nzShape==="circle")("ant-avatar-icon",t.nzIcon)("ant-avatar-image",t.hasSrc))},inputs:{nzShape:"nzShape",nzSize:"nzSize",nzGap:[2,"nzGap","nzGap",Q],nzText:"nzText",nzSrc:"nzSrc",nzSrcSet:"nzSrcSet",nzAlt:"nzAlt",nzIcon:"nzIcon"},outputs:{nzError:"nzError"},exportAs:["nzAvatar"],standalone:!0,features:[E,g,b],decls:3,vars:3,consts:[["textEl",""],["nz-icon","",3,"nzType"],[3,"src"],[1,"ant-avatar-string"],[3,"error","src"]],template:function(n,t){n&1&&T(0,L,1,1,"span",1)(1,X,1,3,"img",2)(2,Z,3,1,"span",3),n&2&&(z(t.nzIcon&&t.hasIcon?0:-1),l(),z(t.nzSrc&&t.hasSrc?1:-1),l(),z(t.nzText&&t.hasText?2:-1))},dependencies:[k,B,q],encapsulation:2,changeDetection:0});let e=i;return c([p()],e.prototype,"nzShape",void 0),c([p()],e.prototype,"nzSize",void 0),c([p()],e.prototype,"nzGap",void 0),e})();var mt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=v({type:i}),i.\u0275inj=d({imports:[J]});let e=i;return e})();export{J as a,mt as b};
