import{a as vn,b as ic}from"./chunk-UPEO2JTK.js";import{b as gn,f as Gl,g as Jl,h as Xl,i as Zl,j as Ql,k as Yl,l as jr,m as tc,p as rc,u as ac}from"./chunk-3AFCJBAA.js";import{a as Pl,b as Ol,c as Il,d as Dl,e as Nl,f as Vl,g as kl}from"./chunk-IJEK73EE.js";import{a as nc,b as oc}from"./chunk-M7F3I3BC.js";import{h as Rl,i as Fl,o as Al,p as jl,s as St,t as zt,u as ec}from"./chunk-PVWD4DCM.js";import{F as Jt,H as Ml,I as yn,J as ql,K as Wl,L as Ll,M as Ul,N as Hl,O as Bl,P as Kl,d as _n,g as De,h as Sl,k as zl,m as Ne,n as El,v as xl,z as Ar}from"./chunk-HFT7WQJM.js";import{Ab as cl,Ba as Kt,Bb as ul,Ca as oe,Cb as Ie,Da as nn,Db as ue,Eb as Rr,F as Bs,Fa as yt,Fb as Se,H as Ks,Hb as vt,Ib as Ct,J as Gs,Ja as S,Jb as wt,Ka as el,Kb as cn,Kg as wl,L as Yi,La as tl,M as Js,Mb as go,Na as rl,Nb as dl,Oc as dn,P as en,Pa as Gt,Pb as fl,Qa as il,Ra as ae,Sa as on,Ta as I,Ua as Ye,Ug as bl,Va as b,Vg as $l,Wa as an,Wb as qe,X as tn,Xa as Ee,Y as Bt,Za as nl,Zg as hn,a as O,b as ge,ba as Mr,bg as it,c as Ws,ca as je,cb as V,cc as un,cg as vl,d as x,da as te,db as et,dc as bt,dg as Le,ea as Xs,ec as pl,eg as fn,f as Ls,fa as Ft,fb as tt,g as Dr,gb as rt,gg as pn,ha as R,hb as T,ia as F,ib as P,id as dr,ig as Cl,j as Us,jb as ie,k as Nr,kb as ol,l as Vr,la as rn,lb as al,lc as Fr,mb as sl,mc as ml,md as $t,mh as Tl,na as gi,nb as he,nd as _l,oa as Zs,od as yo,qb as Y,qd as gl,s as Hs,sb as v,sc as We,tb as sn,td as yl,ub as ln,ug as mn,va as Q,w as kr,wa as Qs,x as _o,xa as Ys,zb as ll,zc as hl}from"./chunk-CDEDXUOP.js";var bi=x(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.regexpCode=J.getEsmExportName=J.getProperty=J.safeStringify=J.stringify=J.strConcat=J.addCodeArg=J.str=J._=J.nil=J._Code=J.Name=J.IDENTIFIER=J._CodeOrName=void 0;var Ci=class{};J._CodeOrName=Ci;J.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var pr=class extends Ci{constructor(e){if(super(),!J.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};J.Name=pr;var nt=class extends Ci{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((t,i)=>`${t}${i}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((t,i)=>(i instanceof pr&&(t[i.str]=(t[i.str]||0)+1),t),{})}};J._Code=nt;J.nil=new nt("");function uc(r,...e){let t=[r[0]],i=0;for(;i<e.length;)bo(t,e[i]),t.push(r[++i]);return new nt(t)}J._=uc;var wo=new nt("+");function dc(r,...e){let t=[wi(r[0])],i=0;for(;i<e.length;)t.push(wo),bo(t,e[i]),t.push(wo,wi(r[++i]));return Of(t),new nt(t)}J.str=dc;function bo(r,e){e instanceof nt?r.push(...e._items):e instanceof pr?r.push(e):r.push(Nf(e))}J.addCodeArg=bo;function Of(r){let e=1;for(;e<r.length-1;){if(r[e]===wo){let t=If(r[e-1],r[e+1]);if(t!==void 0){r.splice(e-1,3,t);continue}r[e++]="+"}e++}}function If(r,e){if(e==='""')return r;if(r==='""')return e;if(typeof r=="string")return e instanceof pr||r[r.length-1]!=='"'?void 0:typeof e!="string"?`${r.slice(0,-1)}${e}"`:e[0]==='"'?r.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(r instanceof pr))return`"${r}${e.slice(1)}`}function Df(r,e){return e.emptyStr()?r:r.emptyStr()?e:dc`${r}${e}`}J.strConcat=Df;function Nf(r){return typeof r=="number"||typeof r=="boolean"||r===null?r:wi(Array.isArray(r)?r.join(","):r)}function Vf(r){return new nt(wi(r))}J.stringify=Vf;function wi(r){return JSON.stringify(r).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}J.safeStringify=wi;function kf(r){return typeof r=="string"&&J.IDENTIFIER.test(r)?new nt(`.${r}`):uc`[${r}]`}J.getProperty=kf;function Mf(r){if(typeof r=="string"&&J.IDENTIFIER.test(r))return new nt(`${r}`);throw new Error(`CodeGen: invalid export name: ${r}, use explicit $id name mapping`)}J.getEsmExportName=Mf;function Rf(r){return new nt(r.toString())}J.regexpCode=Rf});var Eo=x(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.ValueScope=Re.ValueScopeName=Re.Scope=Re.varKinds=Re.UsedValueState=void 0;var Ue=bi(),$o=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},So;(function(r){r[r.Started=0]="Started",r[r.Completed=1]="Completed"})(So=Re.UsedValueState||(Re.UsedValueState={}));Re.varKinds={const:new Ue.Name("const"),let:new Ue.Name("let"),var:new Ue.Name("var")};var $n=class{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof Ue.Name?e:this.name(e)}name(e){return new Ue.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,i;if(!((i=(t=this._parent)===null||t===void 0?void 0:t._prefixes)===null||i===void 0)&&i.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};Re.Scope=$n;var Sn=class extends Ue.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:i}){this.value=e,this.scopePath=(0,Ue._)`.${new Ue.Name(t)}[${i}]`}};Re.ValueScopeName=Sn;var Ff=(0,Ue._)`\n`,zo=class extends $n{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=ge(O({},e),{_n:e.lines?Ff:Ue.nil})}get(){return this._scope}name(e){return new Sn(e,this._newName(e))}value(e,t){var i;if(t.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(e),{prefix:o}=n,a=(i=t.key)!==null&&i!==void 0?i:t.ref,s=this._values[o];if(s){let f=s.get(a);if(f)return f}else s=this._values[o]=new Map;s.set(a,n);let u=this._scope[o]||(this._scope[o]=[]),p=u.length;return u[p]=t.ref,n.setValue(t,{property:o,itemIndex:p}),n}getValue(e,t){let i=this._values[e];if(i)return i.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,Ue._)`${e}${i.scopePath}`})}scopeCode(e=this._values,t,i){return this._reduceValues(e,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},t,i)}_reduceValues(e,t,i={},n){let o=Ue.nil;for(let a in e){let s=e[a];if(!s)continue;let u=i[a]=i[a]||new Map;s.forEach(p=>{if(u.has(p))return;u.set(p,So.Started);let f=t(p);if(f){let m=this.opts.es5?Re.varKinds.var:Re.varKinds.const;o=(0,Ue._)`${o}${m} ${p} = ${f};${this.opts._n}`}else if(f=n?.(p))o=(0,Ue._)`${o}${f}${this.opts._n}`;else throw new $o(p);u.set(p,So.Completed)})}return o}};Re.ValueScope=zo});var W=x(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.or=L.and=L.not=L.CodeGen=L.operators=L.varKinds=L.ValueScopeName=L.ValueScope=L.Scope=L.Name=L.regexpCode=L.stringify=L.getProperty=L.nil=L.strConcat=L.str=L._=void 0;var H=bi(),lt=Eo(),Zt=bi();Object.defineProperty(L,"_",{enumerable:!0,get:function(){return Zt._}});Object.defineProperty(L,"str",{enumerable:!0,get:function(){return Zt.str}});Object.defineProperty(L,"strConcat",{enumerable:!0,get:function(){return Zt.strConcat}});Object.defineProperty(L,"nil",{enumerable:!0,get:function(){return Zt.nil}});Object.defineProperty(L,"getProperty",{enumerable:!0,get:function(){return Zt.getProperty}});Object.defineProperty(L,"stringify",{enumerable:!0,get:function(){return Zt.stringify}});Object.defineProperty(L,"regexpCode",{enumerable:!0,get:function(){return Zt.regexpCode}});Object.defineProperty(L,"Name",{enumerable:!0,get:function(){return Zt.Name}});var Pn=Eo();Object.defineProperty(L,"Scope",{enumerable:!0,get:function(){return Pn.Scope}});Object.defineProperty(L,"ValueScope",{enumerable:!0,get:function(){return Pn.ValueScope}});Object.defineProperty(L,"ValueScopeName",{enumerable:!0,get:function(){return Pn.ValueScopeName}});Object.defineProperty(L,"varKinds",{enumerable:!0,get:function(){return Pn.varKinds}});L.operators={GT:new H._Code(">"),GTE:new H._Code(">="),LT:new H._Code("<"),LTE:new H._Code("<="),EQ:new H._Code("==="),NEQ:new H._Code("!=="),NOT:new H._Code("!"),OR:new H._Code("||"),AND:new H._Code("&&"),ADD:new H._Code("+")};var At=class{optimizeNodes(){return this}optimizeNames(e,t){return this}},xo=class extends At{constructor(e,t,i){super(),this.varKind=e,this.name=t,this.rhs=i}render({es5:e,_n:t}){let i=e?lt.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=Kr(this.rhs,e,t)),this}get names(){return this.rhs instanceof H._CodeOrName?this.rhs.names:{}}},En=class extends At{constructor(e,t,i){super(),this.lhs=e,this.rhs=t,this.sideEffects=i}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof H.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Kr(this.rhs,e,t),this}get names(){let e=this.lhs instanceof H.Name?{}:O({},this.lhs.names);return Tn(e,this.rhs)}},To=class extends En{constructor(e,t,i,n){super(e,i,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Po=class extends At{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},Oo=class extends At{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},Io=class extends At{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},Do=class extends At{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=Kr(this.code,e,t),this}get names(){return this.code instanceof H._CodeOrName?this.code.names:{}}},$i=class extends At{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,i)=>t+i.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let i=e[t].optimizeNodes();Array.isArray(i)?e.splice(t,1,...i):i?e[t]=i:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:i}=this,n=i.length;for(;n--;){let o=i[n];o.optimizeNames(e,t)||(Af(e,o.names),i.splice(n,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>mr(e,t.names),{})}},jt=class extends $i{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},No=class extends $i{},Vo=(()=>{class r extends jt{}return r.kind="else",r})(),zn=(()=>{class r extends jt{constructor(t,i){super(i),this.condition=t}render(t){let i=`if(${this.condition})`+super.render(t);return this.else&&(i+="else "+this.else.render(t)),i}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let i=this.else;if(i){let n=i.optimizeNodes();i=this.else=Array.isArray(n)?new Vo(n):n}if(i)return t===!1?i instanceof r?i:i.nodes:this.nodes.length?this:new r(_c(t),i instanceof r?[i]:i.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,i){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,i),!!(super.optimizeNames(t,i)||this.else))return this.condition=Kr(this.condition,t,i),this}get names(){let t=super.names;return Tn(t,this.condition),this.else&&mr(t,this.else.names),t}}return r.kind="if",r})(),On=(()=>{class r extends jt{}return r.kind="for",r})(),ko=class extends On{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=Kr(this.iteration,e,t),this}get names(){return mr(super.names,this.iteration.names)}},Mo=class extends On{constructor(e,t,i,n){super(),this.varKind=e,this.name=t,this.from=i,this.to=n}render(e){let t=e.es5?lt.varKinds.var:this.varKind,{name:i,from:n,to:o}=this;return`for(${t} ${i}=${n}; ${i}<${o}; ${i}++)`+super.render(e)}get names(){let e=Tn(super.names,this.from);return Tn(e,this.to)}},xn=class extends On{constructor(e,t,i,n){super(),this.loop=e,this.varKind=t,this.name=i,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=Kr(this.iterable,e,t),this}get names(){return mr(super.names,this.iterable.names)}},fc=(()=>{class r extends jt{constructor(t,i,n){super(),this.name=t,this.args=i,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}}return r.kind="func",r})(),pc=(()=>{class r extends $i{render(t){return"return "+super.render(t)}}return r.kind="return",r})(),Ro=class extends jt{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(t=this.finally)===null||t===void 0||t.optimizeNodes(),this}optimizeNames(e,t){var i,n;return super.optimizeNames(e,t),(i=this.catch)===null||i===void 0||i.optimizeNames(e,t),(n=this.finally)===null||n===void 0||n.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&mr(e,this.catch.names),this.finally&&mr(e,this.finally.names),e}},mc=(()=>{class r extends jt{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}}return r.kind="catch",r})(),hc=(()=>{class r extends jt{render(t){return"finally"+super.render(t)}}return r.kind="finally",r})(),Fo=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts=ge(O({},t),{_n:t.lines?`
`:""}),this._extScope=e,this._scope=new lt.Scope({parent:e}),this._nodes=[new No]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let i=this._extScope.value(e,t);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,i,n){let o=this._scope.toName(t);return i!==void 0&&n&&(this._constants[o.str]=i),this._leafNode(new xo(e,o,i)),o}const(e,t,i){return this._def(lt.varKinds.const,e,t,i)}let(e,t,i){return this._def(lt.varKinds.let,e,t,i)}var(e,t,i){return this._def(lt.varKinds.var,e,t,i)}assign(e,t,i){return this._leafNode(new En(e,t,i))}add(e,t){return this._leafNode(new To(e,L.operators.ADD,t))}code(e){return typeof e=="function"?e():e!==H.nil&&this._leafNode(new Do(e)),this}object(...e){let t=["{"];for(let[i,n]of e)t.length>1&&t.push(","),t.push(i),(i!==n||this.opts.es5)&&(t.push(":"),(0,H.addCodeArg)(t,n));return t.push("}"),new H._Code(t)}if(e,t,i){if(this._blockNode(new zn(e)),t&&i)this.code(t).else().code(i).endIf();else if(t)this.code(t).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new zn(e))}else(){return this._elseNode(new Vo)}endIf(){return this._endBlockNode(zn,Vo)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new ko(e),t)}forRange(e,t,i,n,o=this.opts.es5?lt.varKinds.var:lt.varKinds.let){let a=this._scope.toName(e);return this._for(new Mo(o,a,t,i),()=>n(a))}forOf(e,t,i,n=lt.varKinds.const){let o=this._scope.toName(e);if(this.opts.es5){let a=t instanceof H.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,H._)`${a}.length`,s=>{this.var(o,(0,H._)`${a}[${s}]`),i(o)})}return this._for(new xn("of",n,o,t),()=>i(o))}forIn(e,t,i,n=this.opts.es5?lt.varKinds.var:lt.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,H._)`Object.keys(${t})`,i);let o=this._scope.toName(e);return this._for(new xn("in",n,o,t),()=>i(o))}endFor(){return this._endBlockNode(On)}label(e){return this._leafNode(new Po(e))}break(e){return this._leafNode(new Oo(e))}return(e){let t=new pc;if(this._blockNode(t),this.code(e),t.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(pc)}try(e,t,i){if(!t&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new Ro;if(this._blockNode(n),this.code(e),t){let o=this.name("e");this._currNode=n.catch=new mc(o),t(o)}return i&&(this._currNode=n.finally=new hc,this.code(i)),this._endBlockNode(mc,hc)}throw(e){return this._leafNode(new Io(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(t===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-t;if(i<0||e!==void 0&&i!==e)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=H.nil,i,n){return this._blockNode(new fc(e,t,i)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(fc)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let i=this._currNode;if(i instanceof e||t&&i instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof zn))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}};L.CodeGen=Fo;function mr(r,e){for(let t in e)r[t]=(r[t]||0)+(e[t]||0);return r}function Tn(r,e){return e instanceof H._CodeOrName?mr(r,e.names):r}function Kr(r,e,t){if(r instanceof H.Name)return i(r);if(!n(r))return r;return new H._Code(r._items.reduce((o,a)=>(a instanceof H.Name&&(a=i(a)),a instanceof H._Code?o.push(...a._items):o.push(a),o),[]));function i(o){let a=t[o.str];return a===void 0||e[o.str]!==1?o:(delete e[o.str],a)}function n(o){return o instanceof H._Code&&o._items.some(a=>a instanceof H.Name&&e[a.str]===1&&t[a.str]!==void 0)}}function Af(r,e){for(let t in e)r[t]=(r[t]||0)-(e[t]||0)}function _c(r){return typeof r=="boolean"||typeof r=="number"||r===null?!r:(0,H._)`!${Ao(r)}`}L.not=_c;var jf=gc(L.operators.AND);function qf(...r){return r.reduce(jf)}L.and=qf;var Wf=gc(L.operators.OR);function Lf(...r){return r.reduce(Wf)}L.or=Lf;function gc(r){return(e,t)=>e===H.nil?t:t===H.nil?e:(0,H._)`${Ao(e)} ${r} ${Ao(t)}`}function Ao(r){return r instanceof H.Name?r:(0,H._)`(${r})`}});var X=x(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.checkStrictMode=U.getErrorPath=U.Type=U.useFunc=U.setEvaluated=U.evaluatedPropsToName=U.mergeEvaluated=U.eachItem=U.unescapeJsonPointer=U.escapeJsonPointer=U.escapeFragment=U.unescapeFragment=U.schemaRefOrVal=U.schemaHasRulesButRef=U.schemaHasRules=U.checkUnknownRules=U.alwaysValidSchema=U.toHash=void 0;var ce=W(),Uf=bi();function Hf(r){let e={};for(let t of r)e[t]=!0;return e}U.toHash=Hf;function Bf(r,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(Cc(r,e),!wc(e,r.self.RULES.all))}U.alwaysValidSchema=Bf;function Cc(r,e=r.schema){let{opts:t,self:i}=r;if(!t.strictSchema||typeof e=="boolean")return;let n=i.RULES.keywords;for(let o in e)n[o]||zc(r,`unknown keyword: "${o}"`)}U.checkUnknownRules=Cc;function wc(r,e){if(typeof r=="boolean")return!r;for(let t in r)if(e[t])return!0;return!1}U.schemaHasRules=wc;function Kf(r,e){if(typeof r=="boolean")return!r;for(let t in r)if(t!=="$ref"&&e.all[t])return!0;return!1}U.schemaHasRulesButRef=Kf;function Gf({topSchemaRef:r,schemaPath:e},t,i,n){if(!n){if(typeof t=="number"||typeof t=="boolean")return t;if(typeof t=="string")return(0,ce._)`${t}`}return(0,ce._)`${r}${e}${(0,ce.getProperty)(i)}`}U.schemaRefOrVal=Gf;function Jf(r){return bc(decodeURIComponent(r))}U.unescapeFragment=Jf;function Xf(r){return encodeURIComponent(jo(r))}U.escapeFragment=Xf;function jo(r){return typeof r=="number"?`${r}`:r.replace(/~/g,"~0").replace(/\//g,"~1")}U.escapeJsonPointer=jo;function bc(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}U.unescapeJsonPointer=bc;function Zf(r,e){if(Array.isArray(r))for(let t of r)e(t);else e(r)}U.eachItem=Zf;function yc({mergeNames:r,mergeToName:e,mergeValues:t,resultToName:i}){return(n,o,a,s)=>{let u=a===void 0?o:a instanceof ce.Name?(o instanceof ce.Name?r(n,o,a):e(n,o,a),a):o instanceof ce.Name?(e(n,a,o),o):t(o,a);return s===ce.Name&&!(u instanceof ce.Name)?i(n,u):u}}U.mergeEvaluated={props:yc({mergeNames:(r,e,t)=>r.if((0,ce._)`${t} !== true && ${e} !== undefined`,()=>{r.if((0,ce._)`${e} === true`,()=>r.assign(t,!0),()=>r.assign(t,(0,ce._)`${t} || {}`).code((0,ce._)`Object.assign(${t}, ${e})`))}),mergeToName:(r,e,t)=>r.if((0,ce._)`${t} !== true`,()=>{e===!0?r.assign(t,!0):(r.assign(t,(0,ce._)`${t} || {}`),qo(r,t,e))}),mergeValues:(r,e)=>r===!0?!0:O(O({},r),e),resultToName:$c}),items:yc({mergeNames:(r,e,t)=>r.if((0,ce._)`${t} !== true && ${e} !== undefined`,()=>r.assign(t,(0,ce._)`${e} === true ? true : ${t} > ${e} ? ${t} : ${e}`)),mergeToName:(r,e,t)=>r.if((0,ce._)`${t} !== true`,()=>r.assign(t,e===!0?!0:(0,ce._)`${t} > ${e} ? ${t} : ${e}`)),mergeValues:(r,e)=>r===!0?!0:Math.max(r,e),resultToName:(r,e)=>r.var("items",e)})};function $c(r,e){if(e===!0)return r.var("props",!0);let t=r.var("props",(0,ce._)`{}`);return e!==void 0&&qo(r,t,e),t}U.evaluatedPropsToName=$c;function qo(r,e,t){Object.keys(t).forEach(i=>r.assign((0,ce._)`${e}${(0,ce.getProperty)(i)}`,!0))}U.setEvaluated=qo;var vc={};function Qf(r,e){return r.scopeValue("func",{ref:e,code:vc[e.code]||(vc[e.code]=new Uf._Code(e.code))})}U.useFunc=Qf;var Sc;(function(r){r[r.Num=0]="Num",r[r.Str=1]="Str"})(Sc=U.Type||(U.Type={}));function Yf(r,e,t){if(r instanceof ce.Name){let i=e===Sc.Num;return t?i?(0,ce._)`"[" + ${r} + "]"`:(0,ce._)`"['" + ${r} + "']"`:i?(0,ce._)`"/" + ${r}`:(0,ce._)`"/" + ${r}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return t?(0,ce.getProperty)(r).toString():"/"+jo(r)}U.getErrorPath=Yf;function zc(r,e,t=r.opts.strictSchema){if(t){if(e=`strict mode: ${e}`,t===!0)throw new Error(e);r.self.logger.warn(e)}}U.checkStrictMode=zc});var qt=x(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});var Ve=W(),ep={data:new Ve.Name("data"),valCxt:new Ve.Name("valCxt"),instancePath:new Ve.Name("instancePath"),parentData:new Ve.Name("parentData"),parentDataProperty:new Ve.Name("parentDataProperty"),rootData:new Ve.Name("rootData"),dynamicAnchors:new Ve.Name("dynamicAnchors"),vErrors:new Ve.Name("vErrors"),errors:new Ve.Name("errors"),this:new Ve.Name("this"),self:new Ve.Name("self"),scope:new Ve.Name("scope"),json:new Ve.Name("json"),jsonPos:new Ve.Name("jsonPos"),jsonLen:new Ve.Name("jsonLen"),jsonPart:new Ve.Name("jsonPart")};Wo.default=ep});var Si=x(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.extendErrors=ke.resetErrorsCount=ke.reportExtraError=ke.reportError=ke.keyword$DataError=ke.keywordError=void 0;var K=W(),In=X(),Fe=qt();ke.keywordError={message:({keyword:r})=>(0,K.str)`must pass "${r}" keyword validation`};ke.keyword$DataError={message:({keyword:r,schemaType:e})=>e?(0,K.str)`"${r}" keyword must be ${e} ($data)`:(0,K.str)`"${r}" keyword is invalid ($data)`};function tp(r,e=ke.keywordError,t,i){let{it:n}=r,{gen:o,compositeRule:a,allErrors:s}=n,u=Tc(r,e,t);i??(a||s)?Ec(o,u):xc(n,(0,K._)`[${u}]`)}ke.reportError=tp;function rp(r,e=ke.keywordError,t){let{it:i}=r,{gen:n,compositeRule:o,allErrors:a}=i,s=Tc(r,e,t);Ec(n,s),o||a||xc(i,Fe.default.vErrors)}ke.reportExtraError=rp;function ip(r,e){r.assign(Fe.default.errors,e),r.if((0,K._)`${Fe.default.vErrors} !== null`,()=>r.if(e,()=>r.assign((0,K._)`${Fe.default.vErrors}.length`,e),()=>r.assign(Fe.default.vErrors,null)))}ke.resetErrorsCount=ip;function np({gen:r,keyword:e,schemaValue:t,data:i,errsCount:n,it:o}){if(n===void 0)throw new Error("ajv implementation error");let a=r.name("err");r.forRange("i",n,Fe.default.errors,s=>{r.const(a,(0,K._)`${Fe.default.vErrors}[${s}]`),r.if((0,K._)`${a}.instancePath === undefined`,()=>r.assign((0,K._)`${a}.instancePath`,(0,K.strConcat)(Fe.default.instancePath,o.errorPath))),r.assign((0,K._)`${a}.schemaPath`,(0,K.str)`${o.errSchemaPath}/${e}`),o.opts.verbose&&(r.assign((0,K._)`${a}.schema`,t),r.assign((0,K._)`${a}.data`,i))})}ke.extendErrors=np;function Ec(r,e){let t=r.const("err",e);r.if((0,K._)`${Fe.default.vErrors} === null`,()=>r.assign(Fe.default.vErrors,(0,K._)`[${t}]`),(0,K._)`${Fe.default.vErrors}.push(${t})`),r.code((0,K._)`${Fe.default.errors}++`)}function xc(r,e){let{gen:t,validateName:i,schemaEnv:n}=r;n.$async?t.throw((0,K._)`new ${r.ValidationError}(${e})`):(t.assign((0,K._)`${i}.errors`,e),t.return(!1))}var hr={keyword:new K.Name("keyword"),schemaPath:new K.Name("schemaPath"),params:new K.Name("params"),propertyName:new K.Name("propertyName"),message:new K.Name("message"),schema:new K.Name("schema"),parentSchema:new K.Name("parentSchema")};function Tc(r,e,t){let{createErrors:i}=r.it;return i===!1?(0,K._)`{}`:op(r,e,t)}function op(r,e,t={}){let{gen:i,it:n}=r,o=[ap(n,t),sp(r,t)];return lp(r,e,o),i.object(...o)}function ap({errorPath:r},{instancePath:e}){let t=e?(0,K.str)`${r}${(0,In.getErrorPath)(e,In.Type.Str)}`:r;return[Fe.default.instancePath,(0,K.strConcat)(Fe.default.instancePath,t)]}function sp({keyword:r,it:{errSchemaPath:e}},{schemaPath:t,parentSchema:i}){let n=i?e:(0,K.str)`${e}/${r}`;return t&&(n=(0,K.str)`${n}${(0,In.getErrorPath)(t,In.Type.Str)}`),[hr.schemaPath,n]}function lp(r,{params:e,message:t},i){let{keyword:n,data:o,schemaValue:a,it:s}=r,{opts:u,propertyName:p,topSchemaRef:f,schemaPath:m}=s;i.push([hr.keyword,n],[hr.params,typeof e=="function"?e(r):e||(0,K._)`{}`]),u.messages&&i.push([hr.message,typeof t=="function"?t(r):t]),u.verbose&&i.push([hr.schema,a],[hr.parentSchema,(0,K._)`${f}${m}`],[Fe.default.data,o]),p&&i.push([hr.propertyName,p])}});var Oc=x(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.boolOrEmptySchema=Gr.topBoolOrEmptySchema=void 0;var cp=Si(),up=W(),dp=qt(),fp={message:"boolean schema is false"};function pp(r){let{gen:e,schema:t,validateName:i}=r;t===!1?Pc(r,!1):typeof t=="object"&&t.$async===!0?e.return(dp.default.data):(e.assign((0,up._)`${i}.errors`,null),e.return(!0))}Gr.topBoolOrEmptySchema=pp;function mp(r,e){let{gen:t,schema:i}=r;i===!1?(t.var(e,!1),Pc(r)):t.var(e,!0)}Gr.boolOrEmptySchema=mp;function Pc(r,e){let{gen:t,data:i}=r,n={gen:t,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:r};(0,cp.reportError)(n,fp,void 0,e)}});var Lo=x(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.getRules=Jr.isJSONType=void 0;var hp=["string","number","integer","boolean","null","object","array"],_p=new Set(hp);function gp(r){return typeof r=="string"&&_p.has(r)}Jr.isJSONType=gp;function yp(){let r={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:ge(O({},r),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},r.number,r.string,r.array,r.object],post:{rules:[]},all:{},keywords:{}}}Jr.getRules=yp});var Uo=x(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.shouldUseRule=Qt.shouldUseGroup=Qt.schemaHasRulesForType=void 0;function vp({schema:r,self:e},t){let i=e.RULES.types[t];return i&&i!==!0&&Ic(r,i)}Qt.schemaHasRulesForType=vp;function Ic(r,e){return e.rules.some(t=>Dc(r,t))}Qt.shouldUseGroup=Ic;function Dc(r,e){var t;return r[e.keyword]!==void 0||((t=e.definition.implements)===null||t===void 0?void 0:t.some(i=>r[i]!==void 0))}Qt.shouldUseRule=Dc});var Ei=x(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.reportTypeError=xe.checkDataTypes=xe.checkDataType=xe.coerceAndCheckDataType=xe.getJSONTypes=xe.getSchemaTypes=xe.DataType=void 0;var Cp=Lo(),wp=Uo(),bp=Si(),q=W(),Nc=X(),zi;(function(r){r[r.Correct=0]="Correct",r[r.Wrong=1]="Wrong"})(zi=xe.DataType||(xe.DataType={}));function $p(r){let e=Vc(r.type);if(e.includes("null")){if(r.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&r.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');r.nullable===!0&&e.push("null")}return e}xe.getSchemaTypes=$p;function Vc(r){let e=Array.isArray(r)?r:r?[r]:[];if(e.every(Cp.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}xe.getJSONTypes=Vc;function Sp(r,e){let{gen:t,data:i,opts:n}=r,o=zp(e,n.coerceTypes),a=e.length>0&&!(o.length===0&&e.length===1&&(0,wp.schemaHasRulesForType)(r,e[0]));if(a){let s=Bo(e,i,n.strictNumbers,zi.Wrong);t.if(s,()=>{o.length?Ep(r,e,o):Ko(r)})}return a}xe.coerceAndCheckDataType=Sp;var kc=new Set(["string","number","integer","boolean","null"]);function zp(r,e){return e?r.filter(t=>kc.has(t)||e==="array"&&t==="array"):[]}function Ep(r,e,t){let{gen:i,data:n,opts:o}=r,a=i.let("dataType",(0,q._)`typeof ${n}`),s=i.let("coerced",(0,q._)`undefined`);o.coerceTypes==="array"&&i.if((0,q._)`${a} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>i.assign(n,(0,q._)`${n}[0]`).assign(a,(0,q._)`typeof ${n}`).if(Bo(e,n,o.strictNumbers),()=>i.assign(s,n))),i.if((0,q._)`${s} !== undefined`);for(let p of t)(kc.has(p)||p==="array"&&o.coerceTypes==="array")&&u(p);i.else(),Ko(r),i.endIf(),i.if((0,q._)`${s} !== undefined`,()=>{i.assign(n,s),xp(r,s)});function u(p){switch(p){case"string":i.elseIf((0,q._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,q._)`"" + ${n}`).elseIf((0,q._)`${n} === null`).assign(s,(0,q._)`""`);return;case"number":i.elseIf((0,q._)`${a} == "boolean" || ${n} === null
              || (${a} == "string" && ${n} && ${n} == +${n})`).assign(s,(0,q._)`+${n}`);return;case"integer":i.elseIf((0,q._)`${a} === "boolean" || ${n} === null
              || (${a} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(s,(0,q._)`+${n}`);return;case"boolean":i.elseIf((0,q._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(s,!1).elseIf((0,q._)`${n} === "true" || ${n} === 1`).assign(s,!0);return;case"null":i.elseIf((0,q._)`${n} === "" || ${n} === 0 || ${n} === false`),i.assign(s,null);return;case"array":i.elseIf((0,q._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${n} === null`).assign(s,(0,q._)`[${n}]`)}}}function xp({gen:r,parentData:e,parentDataProperty:t},i){r.if((0,q._)`${e} !== undefined`,()=>r.assign((0,q._)`${e}[${t}]`,i))}function Ho(r,e,t,i=zi.Correct){let n=i===zi.Correct?q.operators.EQ:q.operators.NEQ,o;switch(r){case"null":return(0,q._)`${e} ${n} null`;case"array":o=(0,q._)`Array.isArray(${e})`;break;case"object":o=(0,q._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":o=a((0,q._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":o=a();break;default:return(0,q._)`typeof ${e} ${n} ${r}`}return i===zi.Correct?o:(0,q.not)(o);function a(s=q.nil){return(0,q.and)((0,q._)`typeof ${e} == "number"`,s,t?(0,q._)`isFinite(${e})`:q.nil)}}xe.checkDataType=Ho;function Bo(r,e,t,i){if(r.length===1)return Ho(r[0],e,t,i);let n,o=(0,Nc.toHash)(r);if(o.array&&o.object){let a=(0,q._)`typeof ${e} != "object"`;n=o.null?a:(0,q._)`!${e} || ${a}`,delete o.null,delete o.array,delete o.object}else n=q.nil;o.number&&delete o.integer;for(let a in o)n=(0,q.and)(n,Ho(a,e,t,i));return n}xe.checkDataTypes=Bo;var Tp={message:({schema:r})=>`must be ${r}`,params:({schema:r,schemaValue:e})=>typeof r=="string"?(0,q._)`{type: ${r}}`:(0,q._)`{type: ${e}}`};function Ko(r){let e=Pp(r);(0,bp.reportError)(e,Tp)}xe.reportTypeError=Ko;function Pp(r){let{gen:e,data:t,schema:i}=r,n=(0,Nc.schemaRefOrVal)(r,i,"type");return{gen:e,keyword:"type",data:t,schema:i.type,schemaCode:n,schemaValue:n,parentSchema:i,params:{},it:r}}});var Rc=x(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.assignDefaults=void 0;var Xr=W(),Op=X();function Ip(r,e){let{properties:t,items:i}=r.schema;if(e==="object"&&t)for(let n in t)Mc(r,n,t[n].default);else e==="array"&&Array.isArray(i)&&i.forEach((n,o)=>Mc(r,o,n.default))}Dn.assignDefaults=Ip;function Mc(r,e,t){let{gen:i,compositeRule:n,data:o,opts:a}=r;if(t===void 0)return;let s=(0,Xr._)`${o}${(0,Xr.getProperty)(e)}`;if(n){(0,Op.checkStrictMode)(r,`default is ignored for: ${s}`);return}let u=(0,Xr._)`${s} === undefined`;a.useDefaults==="empty"&&(u=(0,Xr._)`${u} || ${s} === null || ${s} === ""`),i.if(u,(0,Xr._)`${s} = ${(0,Xr.stringify)(t)}`)}});var ot=x(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.validateUnion=se.validateArray=se.usePattern=se.callValidateCode=se.schemaProperties=se.allSchemaProperties=se.noPropertyInData=se.propertyInData=se.isOwnProperty=se.hasPropFunc=se.reportMissingProp=se.checkMissingProp=se.checkReportMissingProp=void 0;var de=W(),Go=X(),Yt=qt(),Dp=X();function Np(r,e){let{gen:t,data:i,it:n}=r;t.if(Xo(t,i,e,n.opts.ownProperties),()=>{r.setParams({missingProperty:(0,de._)`${e}`},!0),r.error()})}se.checkReportMissingProp=Np;function Vp({gen:r,data:e,it:{opts:t}},i,n){return(0,de.or)(...i.map(o=>(0,de.and)(Xo(r,e,o,t.ownProperties),(0,de._)`${n} = ${o}`)))}se.checkMissingProp=Vp;function kp(r,e){r.setParams({missingProperty:e},!0),r.error()}se.reportMissingProp=kp;function Fc(r){return r.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,de._)`Object.prototype.hasOwnProperty`})}se.hasPropFunc=Fc;function Jo(r,e,t){return(0,de._)`${Fc(r)}.call(${e}, ${t})`}se.isOwnProperty=Jo;function Mp(r,e,t,i){let n=(0,de._)`${e}${(0,de.getProperty)(t)} !== undefined`;return i?(0,de._)`${n} && ${Jo(r,e,t)}`:n}se.propertyInData=Mp;function Xo(r,e,t,i){let n=(0,de._)`${e}${(0,de.getProperty)(t)} === undefined`;return i?(0,de.or)(n,(0,de.not)(Jo(r,e,t))):n}se.noPropertyInData=Xo;function Ac(r){return r?Object.keys(r).filter(e=>e!=="__proto__"):[]}se.allSchemaProperties=Ac;function Rp(r,e){return Ac(e).filter(t=>!(0,Go.alwaysValidSchema)(r,e[t]))}se.schemaProperties=Rp;function Fp({schemaCode:r,data:e,it:{gen:t,topSchemaRef:i,schemaPath:n,errorPath:o},it:a},s,u,p){let f=p?(0,de._)`${r}, ${e}, ${i}${n}`:e,m=[[Yt.default.instancePath,(0,de.strConcat)(Yt.default.instancePath,o)],[Yt.default.parentData,a.parentData],[Yt.default.parentDataProperty,a.parentDataProperty],[Yt.default.rootData,Yt.default.rootData]];a.opts.dynamicRef&&m.push([Yt.default.dynamicAnchors,Yt.default.dynamicAnchors]);let $=(0,de._)`${f}, ${t.object(...m)}`;return u!==de.nil?(0,de._)`${s}.call(${u}, ${$})`:(0,de._)`${s}(${$})`}se.callValidateCode=Fp;var Ap=(0,de._)`new RegExp`;function jp({gen:r,it:{opts:e}},t){let i=e.unicodeRegExp?"u":"",{regExp:n}=e.code,o=n(t,i);return r.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,de._)`${n.code==="new RegExp"?Ap:(0,Dp.useFunc)(r,n)}(${t}, ${i})`})}se.usePattern=jp;function qp(r){let{gen:e,data:t,keyword:i,it:n}=r,o=e.name("valid");if(n.allErrors){let s=e.let("valid",!0);return a(()=>e.assign(s,!1)),s}return e.var(o,!0),a(()=>e.break()),o;function a(s){let u=e.const("len",(0,de._)`${t}.length`);e.forRange("i",0,u,p=>{r.subschema({keyword:i,dataProp:p,dataPropType:Go.Type.Num},o),e.if((0,de.not)(o),s)})}}se.validateArray=qp;function Wp(r){let{gen:e,schema:t,keyword:i,it:n}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");if(t.some(u=>(0,Go.alwaysValidSchema)(n,u))&&!n.opts.unevaluated)return;let a=e.let("valid",!1),s=e.name("_valid");e.block(()=>t.forEach((u,p)=>{let f=r.subschema({keyword:i,schemaProp:p,compositeRule:!0},s);e.assign(a,(0,de._)`${a} || ${s}`),r.mergeValidEvaluated(f,s)||e.if((0,de.not)(a))})),r.result(a,()=>r.reset(),()=>r.error(!0))}se.validateUnion=Wp});var Wc=x(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.validateKeywordUsage=xt.validSchemaType=xt.funcKeywordCode=xt.macroKeywordCode=void 0;var Ae=W(),_r=qt(),Lp=ot(),Up=Si();function Hp(r,e){let{gen:t,keyword:i,schema:n,parentSchema:o,it:a}=r,s=e.macro.call(a.self,n,o,a),u=qc(t,i,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);let p=t.name("valid");r.subschema({schema:s,schemaPath:Ae.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:u,compositeRule:!0},p),r.pass(p,()=>r.error(!0))}xt.macroKeywordCode=Hp;function Bp(r,e){var t;let{gen:i,keyword:n,schema:o,parentSchema:a,$data:s,it:u}=r;Gp(u,e);let p=!s&&e.compile?e.compile.call(u.self,o,a,u):e.validate,f=qc(i,n,p),m=i.let("valid");r.block$data(m,$),r.ok((t=e.valid)!==null&&t!==void 0?t:m);function $(){if(e.errors===!1)y(),e.modifying&&jc(r),z(()=>r.error());else{let g=e.async?C():w();e.modifying&&jc(r),z(()=>Kp(r,g))}}function C(){let g=i.let("ruleErrs",null);return i.try(()=>y((0,Ae._)`await `),D=>i.assign(m,!1).if((0,Ae._)`${D} instanceof ${u.ValidationError}`,()=>i.assign(g,(0,Ae._)`${D}.errors`),()=>i.throw(D))),g}function w(){let g=(0,Ae._)`${f}.errors`;return i.assign(g,null),y(Ae.nil),g}function y(g=e.async?(0,Ae._)`await `:Ae.nil){let D=u.opts.passContext?_r.default.this:_r.default.self,A=!("compile"in e&&!s||e.schema===!1);i.assign(m,(0,Ae._)`${g}${(0,Lp.callValidateCode)(r,f,D,A)}`,e.modifying)}function z(g){var D;i.if((0,Ae.not)((D=e.valid)!==null&&D!==void 0?D:m),g)}}xt.funcKeywordCode=Bp;function jc(r){let{gen:e,data:t,it:i}=r;e.if(i.parentData,()=>e.assign(t,(0,Ae._)`${i.parentData}[${i.parentDataProperty}]`))}function Kp(r,e){let{gen:t}=r;t.if((0,Ae._)`Array.isArray(${e})`,()=>{t.assign(_r.default.vErrors,(0,Ae._)`${_r.default.vErrors} === null ? ${e} : ${_r.default.vErrors}.concat(${e})`).assign(_r.default.errors,(0,Ae._)`${_r.default.vErrors}.length`),(0,Up.extendErrors)(r)},()=>r.error())}function Gp({schemaEnv:r},e){if(e.async&&!r.$async)throw new Error("async keyword in sync schema")}function qc(r,e,t){if(t===void 0)throw new Error(`keyword "${e}" failed to compile`);return r.scopeValue("keyword",typeof t=="function"?{ref:t}:{ref:t,code:(0,Ae.stringify)(t)})}function Jp(r,e,t=!1){return!e.length||e.some(i=>i==="array"?Array.isArray(r):i==="object"?r&&typeof r=="object"&&!Array.isArray(r):typeof r==i||t&&typeof r>"u")}xt.validSchemaType=Jp;function Xp({schema:r,opts:e,self:t,errSchemaPath:i},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");let a=n.dependencies;if(a?.some(s=>!Object.prototype.hasOwnProperty.call(r,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(n.validateSchema&&!n.validateSchema(r[o])){let u=`keyword "${o}" value is invalid at path "${i}": `+t.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")t.logger.error(u);else throw new Error(u)}}xt.validateKeywordUsage=Xp});var Uc=x(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.extendSubschemaMode=er.extendSubschemaData=er.getSubschema=void 0;var Tt=W(),Lc=X();function Zp(r,{keyword:e,schemaProp:t,schema:i,schemaPath:n,errSchemaPath:o,topSchemaRef:a}){if(e!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let s=r.schema[e];return t===void 0?{schema:s,schemaPath:(0,Tt._)`${r.schemaPath}${(0,Tt.getProperty)(e)}`,errSchemaPath:`${r.errSchemaPath}/${e}`}:{schema:s[t],schemaPath:(0,Tt._)`${r.schemaPath}${(0,Tt.getProperty)(e)}${(0,Tt.getProperty)(t)}`,errSchemaPath:`${r.errSchemaPath}/${e}/${(0,Lc.escapeFragment)(t)}`}}if(i!==void 0){if(n===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}er.getSubschema=Zp;function Qp(r,e,{dataProp:t,dataPropType:i,data:n,dataTypes:o,propertyName:a}){if(n!==void 0&&t!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:s}=e;if(t!==void 0){let{errorPath:p,dataPathArr:f,opts:m}=e,$=s.let("data",(0,Tt._)`${e.data}${(0,Tt.getProperty)(t)}`,!0);u($),r.errorPath=(0,Tt.str)`${p}${(0,Lc.getErrorPath)(t,i,m.jsPropertySyntax)}`,r.parentDataProperty=(0,Tt._)`${t}`,r.dataPathArr=[...f,r.parentDataProperty]}if(n!==void 0){let p=n instanceof Tt.Name?n:s.let("data",n,!0);u(p),a!==void 0&&(r.propertyName=a)}o&&(r.dataTypes=o);function u(p){r.data=p,r.dataLevel=e.dataLevel+1,r.dataTypes=[],e.definedProperties=new Set,r.parentData=e.data,r.dataNames=[...e.dataNames,p]}}er.extendSubschemaData=Qp;function Yp(r,{jtdDiscriminator:e,jtdMetadata:t,compositeRule:i,createErrors:n,allErrors:o}){i!==void 0&&(r.compositeRule=i),n!==void 0&&(r.createErrors=n),o!==void 0&&(r.allErrors=o),r.jtdDiscriminator=e,r.jtdMetadata=t}er.extendSubschemaMode=Yp});var Zo=x((Gv,Hc)=>{"use strict";Hc.exports=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,n,o;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(n=i;n--!==0;)if(!r(e[n],t[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),i=o.length,i!==Object.keys(t).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return!1;for(n=i;n--!==0;){var a=o[n];if(!r(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}});var Kc=x((Jv,Bc)=>{"use strict";var tr=Bc.exports=function(r,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var i=typeof t=="function"?t:t.pre||function(){},n=t.post||function(){};Nn(e,i,n,r,"",r)};tr.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};tr.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};tr.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};tr.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Nn(r,e,t,i,n,o,a,s,u,p){if(i&&typeof i=="object"&&!Array.isArray(i)){e(i,n,o,a,s,u,p);for(var f in i){var m=i[f];if(Array.isArray(m)){if(f in tr.arrayKeywords)for(var $=0;$<m.length;$++)Nn(r,e,t,m[$],n+"/"+f+"/"+$,o,n,f,i,$)}else if(f in tr.propsKeywords){if(m&&typeof m=="object")for(var C in m)Nn(r,e,t,m[C],n+"/"+f+"/"+em(C),o,n,f,i,C)}else(f in tr.keywords||r.allKeys&&!(f in tr.skipKeywords))&&Nn(r,e,t,m,n+"/"+f,o,n,f,i)}t(i,n,o,a,s,u,p)}}function em(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}});var xi=x(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.getSchemaRefs=He.resolveUrl=He.normalizeId=He._getFullPath=He.getFullPath=He.inlineRef=void 0;var tm=X(),rm=Zo(),im=Kc(),nm=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function om(r,e=!0){return typeof r=="boolean"?!0:e===!0?!Qo(r):e?Gc(r)<=e:!1}He.inlineRef=om;var am=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Qo(r){for(let e in r){if(am.has(e))return!0;let t=r[e];if(Array.isArray(t)&&t.some(Qo)||typeof t=="object"&&Qo(t))return!0}return!1}function Gc(r){let e=0;for(let t in r){if(t==="$ref")return 1/0;if(e++,!nm.has(t)&&(typeof r[t]=="object"&&(0,tm.eachItem)(r[t],i=>e+=Gc(i)),e===1/0))return 1/0}return e}function Jc(r,e="",t){t!==!1&&(e=Zr(e));let i=r.parse(e);return Xc(r,i)}He.getFullPath=Jc;function Xc(r,e){return r.serialize(e).split("#")[0]+"#"}He._getFullPath=Xc;var sm=/#\/?$/;function Zr(r){return r?r.replace(sm,""):""}He.normalizeId=Zr;function lm(r,e,t){return t=Zr(t),r.resolve(e,t)}He.resolveUrl=lm;var cm=/^[a-z_][-a-z0-9._]*$/i;function um(r,e){if(typeof r=="boolean")return{};let{schemaId:t,uriResolver:i}=this.opts,n=Zr(r[t]||e),o={"":n},a=Jc(i,n,!1),s={},u=new Set;return im(r,{allKeys:!0},(m,$,C,w)=>{if(w===void 0)return;let y=a+$,z=o[w];typeof m[t]=="string"&&(z=g.call(this,m[t])),D.call(this,m.$anchor),D.call(this,m.$dynamicAnchor),o[$]=z;function g(A){let re=this.opts.uriResolver.resolve;if(A=Zr(z?re(z,A):A),u.has(A))throw f(A);u.add(A);let k=this.refs[A];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?p(m,k.schema,A):A!==Zr(y)&&(A[0]==="#"?(p(m,s[A],A),s[A]=m):this.refs[A]=y),A}function D(A){if(typeof A=="string"){if(!cm.test(A))throw new Error(`invalid anchor "${A}"`);g.call(this,`#${A}`)}}}),s;function p(m,$,C){if($!==void 0&&!rm(m,$))throw f(C)}function f(m){return new Error(`reference "${m}" resolves to more than one schema`)}}He.getSchemaRefs=um});var Oi=x(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.getData=rr.KeywordCxt=rr.validateFunctionCode=void 0;var tu=Oc(),Zc=Ei(),ea=Uo(),Vn=Ei(),dm=Rc(),Pi=Wc(),Yo=Uc(),N=W(),M=qt(),fm=xi(),Wt=X(),Ti=Si();function pm(r){if(nu(r)&&(ou(r),iu(r))){_m(r);return}ru(r,()=>(0,tu.topBoolOrEmptySchema)(r))}rr.validateFunctionCode=pm;function ru({gen:r,validateName:e,schema:t,schemaEnv:i,opts:n},o){n.code.es5?r.func(e,(0,N._)`${M.default.data}, ${M.default.valCxt}`,i.$async,()=>{r.code((0,N._)`"use strict"; ${Qc(t,n)}`),hm(r,n),r.code(o)}):r.func(e,(0,N._)`${M.default.data}, ${mm(n)}`,i.$async,()=>r.code(Qc(t,n)).code(o))}function mm(r){return(0,N._)`{${M.default.instancePath}="", ${M.default.parentData}, ${M.default.parentDataProperty}, ${M.default.rootData}=${M.default.data}${r.dynamicRef?(0,N._)`, ${M.default.dynamicAnchors}={}`:N.nil}}={}`}function hm(r,e){r.if(M.default.valCxt,()=>{r.var(M.default.instancePath,(0,N._)`${M.default.valCxt}.${M.default.instancePath}`),r.var(M.default.parentData,(0,N._)`${M.default.valCxt}.${M.default.parentData}`),r.var(M.default.parentDataProperty,(0,N._)`${M.default.valCxt}.${M.default.parentDataProperty}`),r.var(M.default.rootData,(0,N._)`${M.default.valCxt}.${M.default.rootData}`),e.dynamicRef&&r.var(M.default.dynamicAnchors,(0,N._)`${M.default.valCxt}.${M.default.dynamicAnchors}`)},()=>{r.var(M.default.instancePath,(0,N._)`""`),r.var(M.default.parentData,(0,N._)`undefined`),r.var(M.default.parentDataProperty,(0,N._)`undefined`),r.var(M.default.rootData,M.default.data),e.dynamicRef&&r.var(M.default.dynamicAnchors,(0,N._)`{}`)})}function _m(r){let{schema:e,opts:t,gen:i}=r;ru(r,()=>{t.$comment&&e.$comment&&su(r),wm(r),i.let(M.default.vErrors,null),i.let(M.default.errors,0),t.unevaluated&&gm(r),au(r),Sm(r)})}function gm(r){let{gen:e,validateName:t}=r;r.evaluated=e.const("evaluated",(0,N._)`${t}.evaluated`),e.if((0,N._)`${r.evaluated}.dynamicProps`,()=>e.assign((0,N._)`${r.evaluated}.props`,(0,N._)`undefined`)),e.if((0,N._)`${r.evaluated}.dynamicItems`,()=>e.assign((0,N._)`${r.evaluated}.items`,(0,N._)`undefined`))}function Qc(r,e){let t=typeof r=="object"&&r[e.schemaId];return t&&(e.code.source||e.code.process)?(0,N._)`/*# sourceURL=${t} */`:N.nil}function ym(r,e){if(nu(r)&&(ou(r),iu(r))){vm(r,e);return}(0,tu.boolOrEmptySchema)(r,e)}function iu({schema:r,self:e}){if(typeof r=="boolean")return!r;for(let t in r)if(e.RULES.all[t])return!0;return!1}function nu(r){return typeof r.schema!="boolean"}function vm(r,e){let{schema:t,gen:i,opts:n}=r;n.$comment&&t.$comment&&su(r),bm(r),$m(r);let o=i.const("_errs",M.default.errors);au(r,o),i.var(e,(0,N._)`${o} === ${M.default.errors}`)}function ou(r){(0,Wt.checkUnknownRules)(r),Cm(r)}function au(r,e){if(r.opts.jtd)return Yc(r,[],!1,e);let t=(0,Zc.getSchemaTypes)(r.schema),i=(0,Zc.coerceAndCheckDataType)(r,t);Yc(r,t,!i,e)}function Cm(r){let{schema:e,errSchemaPath:t,opts:i,self:n}=r;e.$ref&&i.ignoreKeywordsWithRef&&(0,Wt.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${t}"`)}function wm(r){let{schema:e,opts:t}=r;e.default!==void 0&&t.useDefaults&&t.strictSchema&&(0,Wt.checkStrictMode)(r,"default is ignored in the schema root")}function bm(r){let e=r.schema[r.opts.schemaId];e&&(r.baseId=(0,fm.resolveUrl)(r.opts.uriResolver,r.baseId,e))}function $m(r){if(r.schema.$async&&!r.schemaEnv.$async)throw new Error("async schema in sync schema")}function su({gen:r,schemaEnv:e,schema:t,errSchemaPath:i,opts:n}){let o=t.$comment;if(n.$comment===!0)r.code((0,N._)`${M.default.self}.logger.log(${o})`);else if(typeof n.$comment=="function"){let a=(0,N.str)`${i}/$comment`,s=r.scopeValue("root",{ref:e.root});r.code((0,N._)`${M.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function Sm(r){let{gen:e,schemaEnv:t,validateName:i,ValidationError:n,opts:o}=r;t.$async?e.if((0,N._)`${M.default.errors} === 0`,()=>e.return(M.default.data),()=>e.throw((0,N._)`new ${n}(${M.default.vErrors})`)):(e.assign((0,N._)`${i}.errors`,M.default.vErrors),o.unevaluated&&zm(r),e.return((0,N._)`${M.default.errors} === 0`))}function zm({gen:r,evaluated:e,props:t,items:i}){t instanceof N.Name&&r.assign((0,N._)`${e}.props`,t),i instanceof N.Name&&r.assign((0,N._)`${e}.items`,i)}function Yc(r,e,t,i){let{gen:n,schema:o,data:a,allErrors:s,opts:u,self:p}=r,{RULES:f}=p;if(o.$ref&&(u.ignoreKeywordsWithRef||!(0,Wt.schemaHasRulesButRef)(o,f))){n.block(()=>cu(r,"$ref",f.all.$ref.definition));return}u.jtd||Em(r,e),n.block(()=>{for(let $ of f.rules)m($);m(f.post)});function m($){(0,ea.shouldUseGroup)(o,$)&&($.type?(n.if((0,Vn.checkDataType)($.type,a,u.strictNumbers)),eu(r,$),e.length===1&&e[0]===$.type&&t&&(n.else(),(0,Vn.reportTypeError)(r)),n.endIf()):eu(r,$),s||n.if((0,N._)`${M.default.errors} === ${i||0}`))}}function eu(r,e){let{gen:t,schema:i,opts:{useDefaults:n}}=r;n&&(0,dm.assignDefaults)(r,e.type),t.block(()=>{for(let o of e.rules)(0,ea.shouldUseRule)(i,o)&&cu(r,o.keyword,o.definition,e.type)})}function Em(r,e){r.schemaEnv.meta||!r.opts.strictTypes||(xm(r,e),r.opts.allowUnionTypes||Tm(r,e),Pm(r,r.dataTypes))}function xm(r,e){if(e.length){if(!r.dataTypes.length){r.dataTypes=e;return}e.forEach(t=>{lu(r.dataTypes,t)||ta(r,`type "${t}" not allowed by context "${r.dataTypes.join(",")}"`)}),Im(r,e)}}function Tm(r,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ta(r,"use allowUnionTypes to allow union type keyword")}function Pm(r,e){let t=r.self.RULES.all;for(let i in t){let n=t[i];if(typeof n=="object"&&(0,ea.shouldUseRule)(r.schema,n)){let{type:o}=n.definition;o.length&&!o.some(a=>Om(e,a))&&ta(r,`missing type "${o.join(",")}" for keyword "${i}"`)}}}function Om(r,e){return r.includes(e)||e==="number"&&r.includes("integer")}function lu(r,e){return r.includes(e)||e==="integer"&&r.includes("number")}function Im(r,e){let t=[];for(let i of r.dataTypes)lu(e,i)?t.push(i):e.includes("integer")&&i==="number"&&t.push("integer");r.dataTypes=t}function ta(r,e){let t=r.schemaEnv.baseId+r.errSchemaPath;e+=` at "${t}" (strictTypes)`,(0,Wt.checkStrictMode)(r,e,r.opts.strictTypes)}var kn=class{constructor(e,t,i){if((0,Pi.validateKeywordUsage)(e,t,i),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=i,this.data=e.data,this.schema=e.schema[i],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Wt.schemaRefOrVal)(e,this.schema,i,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",uu(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Pi.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:t.errors!==!1)&&(this.errsCount=e.gen.const("_errs",M.default.errors))}result(e,t,i){this.failResult((0,N.not)(e),t,i)}failResult(e,t,i){this.gen.if(e),i?i():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,N.not)(e),void 0,t)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,N._)`${t} !== undefined && (${(0,N.or)(this.invalid$data(),e)})`)}error(e,t,i){if(t){this.setParams(t),this._error(e,i),this.setParams({});return}this._error(e,i)}_error(e,t){(e?Ti.reportExtraError:Ti.reportError)(this,this.def.error,t)}$dataError(){(0,Ti.reportError)(this,this.def.$dataError||Ti.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ti.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,i=N.nil){this.gen.block(()=>{this.check$data(e,i),t()})}check$data(e=N.nil,t=N.nil){if(!this.$data)return;let{gen:i,schemaCode:n,schemaType:o,def:a}=this;i.if((0,N.or)((0,N._)`${n} === undefined`,t)),e!==N.nil&&i.assign(e,!0),(o.length||a.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),e!==N.nil&&i.assign(e,!1)),i.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:i,def:n,it:o}=this;return(0,N.or)(a(),s());function a(){if(i.length){if(!(t instanceof N.Name))throw new Error("ajv implementation error");let u=Array.isArray(i)?i:[i];return(0,N._)`${(0,Vn.checkDataTypes)(u,t,o.opts.strictNumbers,Vn.DataType.Wrong)}`}return N.nil}function s(){if(n.validateSchema){let u=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,N._)`!${u}(${t})`}return N.nil}}subschema(e,t){let i=(0,Yo.getSubschema)(this.it,e);(0,Yo.extendSubschemaData)(i,this.it,e),(0,Yo.extendSubschemaMode)(i,e);let n=ge(O(O({},this.it),i),{items:void 0,props:void 0});return ym(n,t),n}mergeEvaluated(e,t){let{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&e.props!==void 0&&(i.props=Wt.mergeEvaluated.props(n,e.props,i.props,t)),i.items!==!0&&e.items!==void 0&&(i.items=Wt.mergeEvaluated.items(n,e.items,i.items,t)))}mergeValidEvaluated(e,t){let{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(t,()=>this.mergeEvaluated(e,N.Name)),!0}};rr.KeywordCxt=kn;function cu(r,e,t,i){let n=new kn(r,t,e);"code"in t?t.code(n,i):n.$data&&t.validate?(0,Pi.funcKeywordCode)(n,t):"macro"in t?(0,Pi.macroKeywordCode)(n,t):(t.compile||t.validate)&&(0,Pi.funcKeywordCode)(n,t)}var Dm=/^\/(?:[^~]|~0|~1)*$/,Nm=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function uu(r,{dataLevel:e,dataNames:t,dataPathArr:i}){let n,o;if(r==="")return M.default.rootData;if(r[0]==="/"){if(!Dm.test(r))throw new Error(`Invalid JSON-pointer: ${r}`);n=r,o=M.default.rootData}else{let p=Nm.exec(r);if(!p)throw new Error(`Invalid JSON-pointer: ${r}`);let f=+p[1];if(n=p[2],n==="#"){if(f>=e)throw new Error(u("property/index",f));return i[e-f]}if(f>e)throw new Error(u("data",f));if(o=t[e-f],!n)return o}let a=o,s=n.split("/");for(let p of s)p&&(o=(0,N._)`${o}${(0,N.getProperty)((0,Wt.unescapeJsonPointer)(p))}`,a=(0,N._)`${a} && ${o}`);return a;function u(p,f){return`Cannot access ${p} ${f} levels up, current level is ${e}`}}rr.getData=uu});var Mn=x(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});var ra=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};ia.default=ra});var Rn=x(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});var na=xi(),oa=class extends Error{constructor(e,t,i,n){super(n||`can't resolve reference ${i} from id ${t}`),this.missingRef=(0,na.resolveUrl)(e,t,i),this.missingSchema=(0,na.normalizeId)((0,na.getFullPath)(e,this.missingRef))}};aa.default=oa});var An=x(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.resolveSchema=at.getCompilingSchema=at.resolveRef=at.compileSchema=at.SchemaEnv=void 0;var ct=W(),Vm=Mn(),gr=qt(),ut=xi(),du=X(),km=Oi(),Qr=class{constructor(e){var t;this.refs={},this.dynamicAnchors={};let i;typeof e.schema=="object"&&(i=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(t=e.baseId)!==null&&t!==void 0?t:(0,ut.normalizeId)(i?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=i?.$async,this.refs={}}};at.SchemaEnv=Qr;function la(r){let e=fu.call(this,r);if(e)return e;let t=(0,ut.getFullPath)(this.opts.uriResolver,r.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:o}=this.opts,a=new ct.CodeGen(this.scope,{es5:i,lines:n,ownProperties:o}),s;r.$async&&(s=a.scopeValue("Error",{ref:Vm.default,code:(0,ct._)`require("ajv/dist/runtime/validation_error").default`}));let u=a.scopeName("validate");r.validateName=u;let p={gen:a,allErrors:this.opts.allErrors,data:gr.default.data,parentData:gr.default.parentData,parentDataProperty:gr.default.parentDataProperty,dataNames:[gr.default.data],dataPathArr:[ct.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:r.schema,code:(0,ct.stringify)(r.schema)}:{ref:r.schema}),validateName:u,ValidationError:s,schema:r.schema,schemaEnv:r,rootId:t,baseId:r.baseId||t,schemaPath:ct.nil,errSchemaPath:r.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ct._)`""`,opts:this.opts,self:this},f;try{this._compilations.add(r),(0,km.validateFunctionCode)(p),a.optimize(this.opts.code.optimize);let m=a.toString();f=`${a.scopeRefs(gr.default.scope)}return ${m}`,this.opts.code.process&&(f=this.opts.code.process(f,r));let C=new Function(`${gr.default.self}`,`${gr.default.scope}`,f)(this,this.scope.get());if(this.scope.value(u,{ref:C}),C.errors=null,C.schema=r.schema,C.schemaEnv=r,r.$async&&(C.$async=!0),this.opts.code.source===!0&&(C.source={validateName:u,validateCode:m,scopeValues:a._values}),this.opts.unevaluated){let{props:w,items:y}=p;C.evaluated={props:w instanceof ct.Name?void 0:w,items:y instanceof ct.Name?void 0:y,dynamicProps:w instanceof ct.Name,dynamicItems:y instanceof ct.Name},C.source&&(C.source.evaluated=(0,ct.stringify)(C.evaluated))}return r.validate=C,r}catch(m){throw delete r.validate,delete r.validateName,f&&this.logger.error("Error compiling schema, function code:",f),m}finally{this._compilations.delete(r)}}at.compileSchema=la;function Mm(r,e,t){var i;t=(0,ut.resolveUrl)(this.opts.uriResolver,e,t);let n=r.refs[t];if(n)return n;let o=Am.call(this,r,t);if(o===void 0){let a=(i=r.localRefs)===null||i===void 0?void 0:i[t],{schemaId:s}=this.opts;a&&(o=new Qr({schema:a,schemaId:s,root:r,baseId:e}))}if(o!==void 0)return r.refs[t]=Rm.call(this,o)}at.resolveRef=Mm;function Rm(r){return(0,ut.inlineRef)(r.schema,this.opts.inlineRefs)?r.schema:r.validate?r:la.call(this,r)}function fu(r){for(let e of this._compilations)if(Fm(e,r))return e}at.getCompilingSchema=fu;function Fm(r,e){return r.schema===e.schema&&r.root===e.root&&r.baseId===e.baseId}function Am(r,e){let t;for(;typeof(t=this.refs[e])=="string";)e=t;return t||this.schemas[e]||Fn.call(this,r,e)}function Fn(r,e){let t=this.opts.uriResolver.parse(e),i=(0,ut._getFullPath)(this.opts.uriResolver,t),n=(0,ut.getFullPath)(this.opts.uriResolver,r.baseId,void 0);if(Object.keys(r.schema).length>0&&i===n)return sa.call(this,t,r);let o=(0,ut.normalizeId)(i),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){let s=Fn.call(this,r,a);return typeof s?.schema!="object"?void 0:sa.call(this,t,s)}if(typeof a?.schema=="object"){if(a.validate||la.call(this,a),o===(0,ut.normalizeId)(e)){let{schema:s}=a,{schemaId:u}=this.opts,p=s[u];return p&&(n=(0,ut.resolveUrl)(this.opts.uriResolver,n,p)),new Qr({schema:s,schemaId:u,root:r,baseId:n})}return sa.call(this,t,a)}}at.resolveSchema=Fn;var jm=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function sa(r,{baseId:e,schema:t,root:i}){var n;if(((n=r.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let s of r.fragment.slice(1).split("/")){if(typeof t=="boolean")return;let u=t[(0,du.unescapeFragment)(s)];if(u===void 0)return;t=u;let p=typeof t=="object"&&t[this.opts.schemaId];!jm.has(s)&&p&&(e=(0,ut.resolveUrl)(this.opts.uriResolver,e,p))}let o;if(typeof t!="boolean"&&t.$ref&&!(0,du.schemaHasRulesButRef)(t,this.RULES)){let s=(0,ut.resolveUrl)(this.opts.uriResolver,e,t.$ref);o=Fn.call(this,i,s)}let{schemaId:a}=this.opts;if(o=o||new Qr({schema:t,schemaId:a,root:i,baseId:e}),o.schema!==o.root.schema)return o}});var pu=x((rC,qm)=>{qm.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var hu=x((jn,mu)=>{"use strict";(function(r,e){typeof jn=="object"&&typeof mu<"u"?e(jn):typeof define=="function"&&define.amd?define(["exports"],e):e(r.URI=r.URI||{})})(jn,function(r){"use strict";function e(){for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];if(l.length>1){l[0]=l[0].slice(0,-1);for(var h=l.length-1,_=1;_<h;++_)l[_]=l[_].slice(1,-1);return l[h]=l[h].slice(1),l.join("")}else return l[0]}function t(c){return"(?:"+c+")"}function i(c){return c===void 0?"undefined":c===null?"null":Object.prototype.toString.call(c).split(" ").pop().split("]").shift().toLowerCase()}function n(c){return c.toUpperCase()}function o(c){return c!=null?c instanceof Array?c:typeof c.length!="number"||c.split||c.setInterval||c.call?[c]:Array.prototype.slice.call(c):[]}function a(c,l){var d=c;if(l)for(var h in l)d[h]=l[h];return d}function s(c){var l="[A-Za-z]",d="[\\x0D]",h="[0-9]",_="[\\x22]",E=e(h,"[A-Fa-f]"),j="[\\x0A]",G="[\\x20]",ee=t(t("%[EFef]"+E+"%"+E+E+"%"+E+E)+"|"+t("%[89A-Fa-f]"+E+"%"+E+E)+"|"+t("%"+E+E)),Ce="[\\:\\/\\?\\#\\[\\]\\@]",B="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",pe=e(Ce,B),we=c?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",fe=c?"[\\uE000-\\uF8FF]":"[]",Z=e(l,h,"[\\-\\.\\_\\~]",we),me=t(l+e(l,h,"[\\+\\-\\.]")+"*"),ne=t(t(ee+"|"+e(Z,B,"[\\:]"))+"*"),lr=t(t("25[0-5]")+"|"+t("2[0-4]"+h)+"|"+t("1"+h+h)+"|"+t("[1-9]"+h)+"|"+h),Ke=t(t("25[0-5]")+"|"+t("2[0-4]"+h)+"|"+t("1"+h+h)+"|"+t("0?[1-9]"+h)+"|0?0?"+h),Ze=t(Ke+"\\."+Ke+"\\."+Ke+"\\."+Ke),le=t(E+"{1,4}"),Ge=t(t(le+"\\:"+le)+"|"+Ze),Qe=t(t(le+"\\:")+"{6}"+Ge),gt=t("\\:\\:"+t(le+"\\:")+"{5}"+Ge),cr=t(t(le)+"?\\:\\:"+t(le+"\\:")+"{4}"+Ge),kt=t(t(t(le+"\\:")+"{0,1}"+le)+"?\\:\\:"+t(le+"\\:")+"{3}"+Ge),fi=t(t(t(le+"\\:")+"{0,2}"+le)+"?\\:\\:"+t(le+"\\:")+"{2}"+Ge),Xi=t(t(t(le+"\\:")+"{0,3}"+le)+"?\\:\\:"+le+"\\:"+Ge),Zi=t(t(t(le+"\\:")+"{0,4}"+le)+"?\\:\\:"+Ge),Er=t(t(t(le+"\\:")+"{0,5}"+le)+"?\\:\\:"+le),xr=t(t(t(le+"\\:")+"{0,6}"+le)+"?\\:\\:"),Mt=t([Qe,gt,cr,kt,fi,Xi,Zi,Er,xr].join("|")),Tr=t(t(Z+"|"+ee)+"+"),mo=t(Mt+"\\%25"+Tr),ur=t(Mt+t("\\%25|\\%(?!"+E+"{2})")+Tr),vf=t("[vV]"+E+"+\\."+e(Z,B,"[\\:]")+"+"),Cf=t("\\["+t(ur+"|"+Mt+"|"+vf)+"\\]"),Fs=t(t(ee+"|"+e(Z,B))+"*"),pi=t(Cf+"|"+Ze+"(?!"+Fs+")|"+Fs),mi=t(h+"*"),As=t(t(ne+"@")+"?"+pi+t("\\:"+mi)+"?"),hi=t(ee+"|"+e(Z,B,"[\\:\\@]")),wf=t(hi+"*"),js=t(hi+"+"),bf=t(t(ee+"|"+e(Z,B,"[\\@]"))+"+"),Rt=t(t("\\/"+wf)+"*"),Pr=t("\\/"+t(js+Rt)+"?"),ho=t(bf+Rt),Qi=t(js+Rt),Or="(?!"+hi+")",Ny=t(Rt+"|"+Pr+"|"+ho+"|"+Qi+"|"+Or),Ir=t(t(hi+"|"+e("[\\/\\?]",fe))+"*"),_i=t(t(hi+"|[\\/\\?]")+"*"),qs=t(t("\\/\\/"+As+Rt)+"|"+Pr+"|"+Qi+"|"+Or),$f=t(me+"\\:"+qs+t("\\?"+Ir)+"?"+t("\\#"+_i)+"?"),Sf=t(t("\\/\\/"+As+Rt)+"|"+Pr+"|"+ho+"|"+Or),zf=t(Sf+t("\\?"+Ir)+"?"+t("\\#"+_i)+"?"),Vy=t($f+"|"+zf),ky=t(me+"\\:"+qs+t("\\?"+Ir)+"?"),My="^("+me+")\\:"+t(t("\\/\\/("+t("("+ne+")@")+"?("+pi+")"+t("\\:("+mi+")")+"?)")+"?("+Rt+"|"+Pr+"|"+Qi+"|"+Or+")")+t("\\?("+Ir+")")+"?"+t("\\#("+_i+")")+"?$",Ry="^(){0}"+t(t("\\/\\/("+t("("+ne+")@")+"?("+pi+")"+t("\\:("+mi+")")+"?)")+"?("+Rt+"|"+Pr+"|"+ho+"|"+Or+")")+t("\\?("+Ir+")")+"?"+t("\\#("+_i+")")+"?$",Fy="^("+me+")\\:"+t(t("\\/\\/("+t("("+ne+")@")+"?("+pi+")"+t("\\:("+mi+")")+"?)")+"?("+Rt+"|"+Pr+"|"+Qi+"|"+Or+")")+t("\\?("+Ir+")")+"?$",Ay="^"+t("\\#("+_i+")")+"?$",jy="^"+t("("+ne+")@")+"?("+pi+")"+t("\\:("+mi+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",l,h,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",Z,B),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",Z,B),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",Z,B),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",Z,B),"g"),NOT_QUERY:new RegExp(e("[^\\%]",Z,B,"[\\:\\@\\/\\?]",fe),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",Z,B,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",Z,B),"g"),UNRESERVED:new RegExp(Z,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",Z,pe),"g"),PCT_ENCODED:new RegExp(ee,"g"),IPV4ADDRESS:new RegExp("^("+Ze+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Mt+")"+t(t("\\%25|\\%(?!"+E+"{2})")+"("+Tr+")")+"?\\]?$")}}var u=s(!1),p=s(!0),f=function(){function c(l,d){var h=[],_=!0,E=!1,j=void 0;try{for(var G=l[Symbol.iterator](),ee;!(_=(ee=G.next()).done)&&(h.push(ee.value),!(d&&h.length===d));_=!0);}catch(Ce){E=!0,j=Ce}finally{try{!_&&G.return&&G.return()}finally{if(E)throw j}}return h}return function(l,d){if(Array.isArray(l))return l;if(Symbol.iterator in Object(l))return c(l,d);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(c){if(Array.isArray(c)){for(var l=0,d=Array(c.length);l<c.length;l++)d[l]=c[l];return d}else return Array.from(c)},$=2147483647,C=36,w=1,y=26,z=38,g=700,D=72,A=128,re="-",k=/^xn--/,Je=/[^\0-\x7E]/,Ht=/[\x2E\u3002\uFF0E\uFF61]/g,ci={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ar=C-w,Oe=Math.floor,sr=String.fromCharCode;function pt(c){throw new RangeError(ci[c])}function Gi(c,l){for(var d=[],h=c.length;h--;)d[h]=l(c[h]);return d}function Ji(c,l){var d=c.split("@"),h="";d.length>1&&(h=d[0]+"@",c=d[1]),c=c.replace(Ht,".");var _=c.split("."),E=Gi(_,l).join(".");return h+E}function Cs(c){for(var l=[],d=0,h=c.length;d<h;){var _=c.charCodeAt(d++);if(_>=55296&&_<=56319&&d<h){var E=c.charCodeAt(d++);(E&64512)==56320?l.push(((_&1023)<<10)+(E&1023)+65536):(l.push(_),d--)}else l.push(_)}return l}var Gd=function(l){return String.fromCodePoint.apply(String,m(l))},Jd=function(l){return l-48<10?l-22:l-65<26?l-65:l-97<26?l-97:C},ws=function(l,d){return l+22+75*(l<26)-((d!=0)<<5)},bs=function(l,d,h){var _=0;for(l=h?Oe(l/g):l>>1,l+=Oe(l/d);l>ar*y>>1;_+=C)l=Oe(l/ar);return Oe(_+(ar+1)*l/(l+z))},$s=function(l){var d=[],h=l.length,_=0,E=A,j=D,G=l.lastIndexOf(re);G<0&&(G=0);for(var ee=0;ee<G;++ee)l.charCodeAt(ee)>=128&&pt("not-basic"),d.push(l.charCodeAt(ee));for(var Ce=G>0?G+1:0;Ce<h;){for(var B=_,pe=1,we=C;;we+=C){Ce>=h&&pt("invalid-input");var fe=Jd(l.charCodeAt(Ce++));(fe>=C||fe>Oe(($-_)/pe))&&pt("overflow"),_+=fe*pe;var Z=we<=j?w:we>=j+y?y:we-j;if(fe<Z)break;var me=C-Z;pe>Oe($/me)&&pt("overflow"),pe*=me}var ne=d.length+1;j=bs(_-B,ne,B==0),Oe(_/ne)>$-E&&pt("overflow"),E+=Oe(_/ne),_%=ne,d.splice(_++,0,E)}return String.fromCodePoint.apply(String,d)},Ss=function(l){var d=[];l=Cs(l);var h=l.length,_=A,E=0,j=D,G=!0,ee=!1,Ce=void 0;try{for(var B=l[Symbol.iterator](),pe;!(G=(pe=B.next()).done);G=!0){var we=pe.value;we<128&&d.push(sr(we))}}catch(ur){ee=!0,Ce=ur}finally{try{!G&&B.return&&B.return()}finally{if(ee)throw Ce}}var fe=d.length,Z=fe;for(fe&&d.push(re);Z<h;){var me=$,ne=!0,lr=!1,Ke=void 0;try{for(var Ze=l[Symbol.iterator](),le;!(ne=(le=Ze.next()).done);ne=!0){var Ge=le.value;Ge>=_&&Ge<me&&(me=Ge)}}catch(ur){lr=!0,Ke=ur}finally{try{!ne&&Ze.return&&Ze.return()}finally{if(lr)throw Ke}}var Qe=Z+1;me-_>Oe(($-E)/Qe)&&pt("overflow"),E+=(me-_)*Qe,_=me;var gt=!0,cr=!1,kt=void 0;try{for(var fi=l[Symbol.iterator](),Xi;!(gt=(Xi=fi.next()).done);gt=!0){var Zi=Xi.value;if(Zi<_&&++E>$&&pt("overflow"),Zi==_){for(var Er=E,xr=C;;xr+=C){var Mt=xr<=j?w:xr>=j+y?y:xr-j;if(Er<Mt)break;var Tr=Er-Mt,mo=C-Mt;d.push(sr(ws(Mt+Tr%mo,0))),Er=Oe(Tr/mo)}d.push(sr(ws(Er,0))),j=bs(E,Qe,Z==fe),E=0,++Z}}}catch(ur){cr=!0,kt=ur}finally{try{!gt&&fi.return&&fi.return()}finally{if(cr)throw kt}}++E,++_}return d.join("")},Xd=function(l){return Ji(l,function(d){return k.test(d)?$s(d.slice(4).toLowerCase()):d})},Zd=function(l){return Ji(l,function(d){return Je.test(d)?"xn--"+Ss(d):d})},br={version:"2.1.0",ucs2:{decode:Cs,encode:Gd},decode:$s,encode:Ss,toASCII:Zd,toUnicode:Xd},Xe={};function mt(c){var l=c.charCodeAt(0),d=void 0;return l<16?d="%0"+l.toString(16).toUpperCase():l<128?d="%"+l.toString(16).toUpperCase():l<2048?d="%"+(l>>6|192).toString(16).toUpperCase()+"%"+(l&63|128).toString(16).toUpperCase():d="%"+(l>>12|224).toString(16).toUpperCase()+"%"+(l>>6&63|128).toString(16).toUpperCase()+"%"+(l&63|128).toString(16).toUpperCase(),d}function $r(c){for(var l="",d=0,h=c.length;d<h;){var _=parseInt(c.substr(d+1,2),16);if(_<128)l+=String.fromCharCode(_),d+=3;else if(_>=194&&_<224){if(h-d>=6){var E=parseInt(c.substr(d+4,2),16);l+=String.fromCharCode((_&31)<<6|E&63)}else l+=c.substr(d,6);d+=6}else if(_>=224){if(h-d>=9){var j=parseInt(c.substr(d+4,2),16),G=parseInt(c.substr(d+7,2),16);l+=String.fromCharCode((_&15)<<12|(j&63)<<6|G&63)}else l+=c.substr(d,9);d+=9}else l+=c.substr(d,3),d+=3}return l}function co(c,l){function d(h){var _=$r(h);return _.match(l.UNRESERVED)?_:h}return c.scheme&&(c.scheme=String(c.scheme).replace(l.PCT_ENCODED,d).toLowerCase().replace(l.NOT_SCHEME,"")),c.userinfo!==void 0&&(c.userinfo=String(c.userinfo).replace(l.PCT_ENCODED,d).replace(l.NOT_USERINFO,mt).replace(l.PCT_ENCODED,n)),c.host!==void 0&&(c.host=String(c.host).replace(l.PCT_ENCODED,d).toLowerCase().replace(l.NOT_HOST,mt).replace(l.PCT_ENCODED,n)),c.path!==void 0&&(c.path=String(c.path).replace(l.PCT_ENCODED,d).replace(c.scheme?l.NOT_PATH:l.NOT_PATH_NOSCHEME,mt).replace(l.PCT_ENCODED,n)),c.query!==void 0&&(c.query=String(c.query).replace(l.PCT_ENCODED,d).replace(l.NOT_QUERY,mt).replace(l.PCT_ENCODED,n)),c.fragment!==void 0&&(c.fragment=String(c.fragment).replace(l.PCT_ENCODED,d).replace(l.NOT_FRAGMENT,mt).replace(l.PCT_ENCODED,n)),c}function uo(c){return c.replace(/^0*(.*)/,"$1")||"0"}function fo(c,l){var d=c.match(l.IPV4ADDRESS)||[],h=f(d,2),_=h[1];return _?_.split(".").map(uo).join("."):c}function zs(c,l){var d=c.match(l.IPV6ADDRESS)||[],h=f(d,3),_=h[1],E=h[2];if(_){for(var j=_.toLowerCase().split("::").reverse(),G=f(j,2),ee=G[0],Ce=G[1],B=Ce?Ce.split(":").map(uo):[],pe=ee.split(":").map(uo),we=l.IPV4ADDRESS.test(pe[pe.length-1]),fe=we?7:8,Z=pe.length-fe,me=Array(fe),ne=0;ne<fe;++ne)me[ne]=B[ne]||pe[Z+ne]||"";we&&(me[fe-1]=fo(me[fe-1],l));var lr=me.reduce(function(Qe,gt,cr){if(!gt||gt==="0"){var kt=Qe[Qe.length-1];kt&&kt.index+kt.length===cr?kt.length++:Qe.push({index:cr,length:1})}return Qe},[]),Ke=lr.sort(function(Qe,gt){return gt.length-Qe.length})[0],Ze=void 0;if(Ke&&Ke.length>1){var le=me.slice(0,Ke.index),Ge=me.slice(Ke.index+Ke.length);Ze=le.join(":")+"::"+Ge.join(":")}else Ze=me.join(":");return E&&(Ze+="%"+E),Ze}else return c}var Qd=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Yd="".match(/(){0}/)[1]===void 0;function Nt(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d={},h=l.iri!==!1?p:u;l.reference==="suffix"&&(c=(l.scheme?l.scheme+":":"")+"//"+c);var _=c.match(Qd);if(_){Yd?(d.scheme=_[1],d.userinfo=_[3],d.host=_[4],d.port=parseInt(_[5],10),d.path=_[6]||"",d.query=_[7],d.fragment=_[8],isNaN(d.port)&&(d.port=_[5])):(d.scheme=_[1]||void 0,d.userinfo=c.indexOf("@")!==-1?_[3]:void 0,d.host=c.indexOf("//")!==-1?_[4]:void 0,d.port=parseInt(_[5],10),d.path=_[6]||"",d.query=c.indexOf("?")!==-1?_[7]:void 0,d.fragment=c.indexOf("#")!==-1?_[8]:void 0,isNaN(d.port)&&(d.port=c.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?_[4]:void 0)),d.host&&(d.host=zs(fo(d.host,h),h)),d.scheme===void 0&&d.userinfo===void 0&&d.host===void 0&&d.port===void 0&&!d.path&&d.query===void 0?d.reference="same-document":d.scheme===void 0?d.reference="relative":d.fragment===void 0?d.reference="absolute":d.reference="uri",l.reference&&l.reference!=="suffix"&&l.reference!==d.reference&&(d.error=d.error||"URI is not a "+l.reference+" reference.");var E=Xe[(l.scheme||d.scheme||"").toLowerCase()];if(!l.unicodeSupport&&(!E||!E.unicodeSupport)){if(d.host&&(l.domainHost||E&&E.domainHost))try{d.host=br.toASCII(d.host.replace(h.PCT_ENCODED,$r).toLowerCase())}catch(j){d.error=d.error||"Host's domain name can not be converted to ASCII via punycode: "+j}co(d,u)}else co(d,h);E&&E.parse&&E.parse(d,l)}else d.error=d.error||"URI can not be parsed.";return d}function ef(c,l){var d=l.iri!==!1?p:u,h=[];return c.userinfo!==void 0&&(h.push(c.userinfo),h.push("@")),c.host!==void 0&&h.push(zs(fo(String(c.host),d),d).replace(d.IPV6ADDRESS,function(_,E,j){return"["+E+(j?"%25"+j:"")+"]"})),(typeof c.port=="number"||typeof c.port=="string")&&(h.push(":"),h.push(String(c.port))),h.length?h.join(""):void 0}var Es=/^\.\.?\//,xs=/^\/\.(\/|$)/,Ts=/^\/\.\.(\/|$)/,tf=/^\/?(?:.|\n)*?(?=\/|$)/;function Sr(c){for(var l=[];c.length;)if(c.match(Es))c=c.replace(Es,"");else if(c.match(xs))c=c.replace(xs,"/");else if(c.match(Ts))c=c.replace(Ts,"/"),l.pop();else if(c==="."||c==="..")c="";else{var d=c.match(tf);if(d){var h=d[0];c=c.slice(h.length),l.push(h)}else throw new Error("Unexpected dot segment condition")}return l.join("")}function ht(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=l.iri?p:u,h=[],_=Xe[(l.scheme||c.scheme||"").toLowerCase()];if(_&&_.serialize&&_.serialize(c,l),c.host&&!d.IPV6ADDRESS.test(c.host)){if(l.domainHost||_&&_.domainHost)try{c.host=l.iri?br.toUnicode(c.host):br.toASCII(c.host.replace(d.PCT_ENCODED,$r).toLowerCase())}catch(G){c.error=c.error||"Host's domain name can not be converted to "+(l.iri?"Unicode":"ASCII")+" via punycode: "+G}}co(c,d),l.reference!=="suffix"&&c.scheme&&(h.push(c.scheme),h.push(":"));var E=ef(c,l);if(E!==void 0&&(l.reference!=="suffix"&&h.push("//"),h.push(E),c.path&&c.path.charAt(0)!=="/"&&h.push("/")),c.path!==void 0){var j=c.path;!l.absolutePath&&(!_||!_.absolutePath)&&(j=Sr(j)),E===void 0&&(j=j.replace(/^\/\//,"/%2F")),h.push(j)}return c.query!==void 0&&(h.push("?"),h.push(c.query)),c.fragment!==void 0&&(h.push("#"),h.push(c.fragment)),h.join("")}function Ps(c,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=arguments[3],_={};return h||(c=Nt(ht(c,d),d),l=Nt(ht(l,d),d)),d=d||{},!d.tolerant&&l.scheme?(_.scheme=l.scheme,_.userinfo=l.userinfo,_.host=l.host,_.port=l.port,_.path=Sr(l.path||""),_.query=l.query):(l.userinfo!==void 0||l.host!==void 0||l.port!==void 0?(_.userinfo=l.userinfo,_.host=l.host,_.port=l.port,_.path=Sr(l.path||""),_.query=l.query):(l.path?(l.path.charAt(0)==="/"?_.path=Sr(l.path):((c.userinfo!==void 0||c.host!==void 0||c.port!==void 0)&&!c.path?_.path="/"+l.path:c.path?_.path=c.path.slice(0,c.path.lastIndexOf("/")+1)+l.path:_.path=l.path,_.path=Sr(_.path)),_.query=l.query):(_.path=c.path,l.query!==void 0?_.query=l.query:_.query=c.query),_.userinfo=c.userinfo,_.host=c.host,_.port=c.port),_.scheme=c.scheme),_.fragment=l.fragment,_}function rf(c,l,d){var h=a({scheme:"null"},d);return ht(Ps(Nt(c,h),Nt(l,h),h,!0),h)}function nf(c,l){return typeof c=="string"?c=ht(Nt(c,l),l):i(c)==="object"&&(c=Nt(ht(c,l),l)),c}function of(c,l,d){return typeof c=="string"?c=ht(Nt(c,d),d):i(c)==="object"&&(c=ht(c,d)),typeof l=="string"?l=ht(Nt(l,d),d):i(l)==="object"&&(l=ht(l,d)),c===l}function af(c,l){return c&&c.toString().replace(!l||!l.iri?u.ESCAPE:p.ESCAPE,mt)}function Vt(c,l){return c&&c.toString().replace(!l||!l.iri?u.PCT_ENCODED:p.PCT_ENCODED,$r)}var ui={scheme:"http",domainHost:!0,parse:function(l,d){return l.host||(l.error=l.error||"HTTP URIs must have a host."),l},serialize:function(l,d){var h=String(l.scheme).toLowerCase()==="https";return(l.port===(h?443:80)||l.port==="")&&(l.port=void 0),l.path||(l.path="/"),l}},Os={scheme:"https",domainHost:ui.domainHost,parse:ui.parse,serialize:ui.serialize};function Is(c){return typeof c.secure=="boolean"?c.secure:String(c.scheme).toLowerCase()==="wss"}var di={scheme:"ws",domainHost:!0,parse:function(l,d){var h=l;return h.secure=Is(h),h.resourceName=(h.path||"/")+(h.query?"?"+h.query:""),h.path=void 0,h.query=void 0,h},serialize:function(l,d){if((l.port===(Is(l)?443:80)||l.port==="")&&(l.port=void 0),typeof l.secure=="boolean"&&(l.scheme=l.secure?"wss":"ws",l.secure=void 0),l.resourceName){var h=l.resourceName.split("?"),_=f(h,2),E=_[0],j=_[1];l.path=E&&E!=="/"?E:void 0,l.query=j,l.resourceName=void 0}return l.fragment=void 0,l}},Ds={scheme:"wss",domainHost:di.domainHost,parse:di.parse,serialize:di.serialize},sf={},lf=!0,Ns="[A-Za-z0-9\\-\\.\\_\\~"+(lf?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",_t="[0-9A-Fa-f]",cf=t(t("%[EFef]"+_t+"%"+_t+_t+"%"+_t+_t)+"|"+t("%[89A-Fa-f]"+_t+"%"+_t+_t)+"|"+t("%"+_t+_t)),uf="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",df="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ff=e(df,'[\\"\\\\]'),pf="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",mf=new RegExp(Ns,"g"),zr=new RegExp(cf,"g"),hf=new RegExp(e("[^]",uf,"[\\.]",'[\\"]',ff),"g"),Vs=new RegExp(e("[^]",Ns,pf),"g"),_f=Vs;function po(c){var l=$r(c);return l.match(mf)?l:c}var ks={scheme:"mailto",parse:function(l,d){var h=l,_=h.to=h.path?h.path.split(","):[];if(h.path=void 0,h.query){for(var E=!1,j={},G=h.query.split("&"),ee=0,Ce=G.length;ee<Ce;++ee){var B=G[ee].split("=");switch(B[0]){case"to":for(var pe=B[1].split(","),we=0,fe=pe.length;we<fe;++we)_.push(pe[we]);break;case"subject":h.subject=Vt(B[1],d);break;case"body":h.body=Vt(B[1],d);break;default:E=!0,j[Vt(B[0],d)]=Vt(B[1],d);break}}E&&(h.headers=j)}h.query=void 0;for(var Z=0,me=_.length;Z<me;++Z){var ne=_[Z].split("@");if(ne[0]=Vt(ne[0]),d.unicodeSupport)ne[1]=Vt(ne[1],d).toLowerCase();else try{ne[1]=br.toASCII(Vt(ne[1],d).toLowerCase())}catch(lr){h.error=h.error||"Email address's domain name can not be converted to ASCII via punycode: "+lr}_[Z]=ne.join("@")}return h},serialize:function(l,d){var h=l,_=o(l.to);if(_){for(var E=0,j=_.length;E<j;++E){var G=String(_[E]),ee=G.lastIndexOf("@"),Ce=G.slice(0,ee).replace(zr,po).replace(zr,n).replace(hf,mt),B=G.slice(ee+1);try{B=d.iri?br.toUnicode(B):br.toASCII(Vt(B,d).toLowerCase())}catch(Z){h.error=h.error||"Email address's domain name can not be converted to "+(d.iri?"Unicode":"ASCII")+" via punycode: "+Z}_[E]=Ce+"@"+B}h.path=_.join(",")}var pe=l.headers=l.headers||{};l.subject&&(pe.subject=l.subject),l.body&&(pe.body=l.body);var we=[];for(var fe in pe)pe[fe]!==sf[fe]&&we.push(fe.replace(zr,po).replace(zr,n).replace(Vs,mt)+"="+pe[fe].replace(zr,po).replace(zr,n).replace(_f,mt));return we.length&&(h.query=we.join("&")),h}},gf=/^([^\:]+)\:(.*)/,Ms={scheme:"urn",parse:function(l,d){var h=l.path&&l.path.match(gf),_=l;if(h){var E=d.scheme||_.scheme||"urn",j=h[1].toLowerCase(),G=h[2],ee=E+":"+(d.nid||j),Ce=Xe[ee];_.nid=j,_.nss=G,_.path=void 0,Ce&&(_=Ce.parse(_,d))}else _.error=_.error||"URN can not be parsed.";return _},serialize:function(l,d){var h=d.scheme||l.scheme||"urn",_=l.nid,E=h+":"+(d.nid||_),j=Xe[E];j&&(l=j.serialize(l,d));var G=l,ee=l.nss;return G.path=(_||d.nid)+":"+ee,G}},yf=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Rs={scheme:"urn:uuid",parse:function(l,d){var h=l;return h.uuid=h.nss,h.nss=void 0,!d.tolerant&&(!h.uuid||!h.uuid.match(yf))&&(h.error=h.error||"UUID is not valid."),h},serialize:function(l,d){var h=l;return h.nss=(l.uuid||"").toLowerCase(),h}};Xe[ui.scheme]=ui,Xe[Os.scheme]=Os,Xe[di.scheme]=di,Xe[Ds.scheme]=Ds,Xe[ks.scheme]=ks,Xe[Ms.scheme]=Ms,Xe[Rs.scheme]=Rs,r.SCHEMES=Xe,r.pctEncChar=mt,r.pctDecChars=$r,r.parse=Nt,r.removeDotSegments=Sr,r.serialize=ht,r.resolveComponents=Ps,r.resolve=rf,r.normalize=nf,r.equal=of,r.escapeComponent=af,r.unescapeComponent=Vt,Object.defineProperty(r,"__esModule",{value:!0})})});var gu=x(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});var _u=hu();_u.code='require("ajv/dist/runtime/uri").default';ca.default=_u});var zu=x(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.CodeGen=Te.Name=Te.nil=Te.stringify=Te.str=Te._=Te.KeywordCxt=void 0;var Wm=Oi();Object.defineProperty(Te,"KeywordCxt",{enumerable:!0,get:function(){return Wm.KeywordCxt}});var Yr=W();Object.defineProperty(Te,"_",{enumerable:!0,get:function(){return Yr._}});Object.defineProperty(Te,"str",{enumerable:!0,get:function(){return Yr.str}});Object.defineProperty(Te,"stringify",{enumerable:!0,get:function(){return Yr.stringify}});Object.defineProperty(Te,"nil",{enumerable:!0,get:function(){return Yr.nil}});Object.defineProperty(Te,"Name",{enumerable:!0,get:function(){return Yr.Name}});Object.defineProperty(Te,"CodeGen",{enumerable:!0,get:function(){return Yr.CodeGen}});var Lm=Mn(),bu=Rn(),Um=Lo(),Ii=An(),Hm=W(),Di=xi(),qn=Ei(),da=X(),yu=pu(),Bm=gu(),$u=(r,e)=>new RegExp(r,e);$u.code="new RegExp";var Km=["removeAdditional","useDefaults","coerceTypes"],Gm=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Jm={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Xm={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},vu=200;function Zm(r){var e,t,i,n,o,a,s,u,p,f,m,$,C,w,y,z,g,D,A,re,k,Je,Ht,ci,ar;let Oe=r.strict,sr=(e=r.code)===null||e===void 0?void 0:e.optimize,pt=sr===!0||sr===void 0?1:sr||0,Gi=(i=(t=r.code)===null||t===void 0?void 0:t.regExp)!==null&&i!==void 0?i:$u,Ji=(n=r.uriResolver)!==null&&n!==void 0?n:Bm.default;return{strictSchema:(a=(o=r.strictSchema)!==null&&o!==void 0?o:Oe)!==null&&a!==void 0?a:!0,strictNumbers:(u=(s=r.strictNumbers)!==null&&s!==void 0?s:Oe)!==null&&u!==void 0?u:!0,strictTypes:(f=(p=r.strictTypes)!==null&&p!==void 0?p:Oe)!==null&&f!==void 0?f:"log",strictTuples:($=(m=r.strictTuples)!==null&&m!==void 0?m:Oe)!==null&&$!==void 0?$:"log",strictRequired:(w=(C=r.strictRequired)!==null&&C!==void 0?C:Oe)!==null&&w!==void 0?w:!1,code:r.code?ge(O({},r.code),{optimize:pt,regExp:Gi}):{optimize:pt,regExp:Gi},loopRequired:(y=r.loopRequired)!==null&&y!==void 0?y:vu,loopEnum:(z=r.loopEnum)!==null&&z!==void 0?z:vu,meta:(g=r.meta)!==null&&g!==void 0?g:!0,messages:(D=r.messages)!==null&&D!==void 0?D:!0,inlineRefs:(A=r.inlineRefs)!==null&&A!==void 0?A:!0,schemaId:(re=r.schemaId)!==null&&re!==void 0?re:"$id",addUsedSchema:(k=r.addUsedSchema)!==null&&k!==void 0?k:!0,validateSchema:(Je=r.validateSchema)!==null&&Je!==void 0?Je:!0,validateFormats:(Ht=r.validateFormats)!==null&&Ht!==void 0?Ht:!0,unicodeRegExp:(ci=r.unicodeRegExp)!==null&&ci!==void 0?ci:!0,int32range:(ar=r.int32range)!==null&&ar!==void 0?ar:!0,uriResolver:Ji}}var Ni=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=O(O({},e),Zm(e));let{es5:t,lines:i}=this.opts.code;this.scope=new Hm.ValueScope({scope:{},prefixes:Gm,es5:t,lines:i}),this.logger=ih(e.logger);let n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,Um.getRules)(),Cu.call(this,Jm,e,"NOT SUPPORTED"),Cu.call(this,Xm,e,"DEPRECATED","warn"),this._metaOpts=th.call(this),e.formats&&Ym.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&eh.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Qm.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:i}=this.opts,n=yu;i==="id"&&(n=O({},yu),n.id=n.$id,delete n.$id),t&&e&&this.addMetaSchema(n,n[i],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[t]||e:void 0}validate(e,t){let i;if(typeof e=="string"){if(i=this.getSchema(e),!i)throw new Error(`no schema with key or ref "${e}"`)}else i=this.compile(e);let n=i(t);return"$async"in i||(this.errors=i.errors),n}compile(e,t){let i=this._addSchema(e,t);return i.validate||this._compileSchemaEnv(i)}compileAsync(e,t){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return n.call(this,e,t);function n(f,m){return Dr(this,null,function*(){yield o.call(this,f.$schema);let $=this._addSchema(f,m);return $.validate||a.call(this,$)})}function o(f){return Dr(this,null,function*(){f&&!this.getSchema(f)&&(yield n.call(this,{$ref:f},!0))})}function a(f){return Dr(this,null,function*(){try{return this._compileSchemaEnv(f)}catch(m){if(!(m instanceof bu.default))throw m;return s.call(this,m),yield u.call(this,m.missingSchema),a.call(this,f)}})}function s({missingSchema:f,missingRef:m}){if(this.refs[f])throw new Error(`AnySchema ${f} is loaded but ${m} cannot be resolved`)}function u(f){return Dr(this,null,function*(){let m=yield p.call(this,f);this.refs[f]||(yield o.call(this,m.$schema)),this.refs[f]||this.addSchema(m,f,t)})}function p(f){return Dr(this,null,function*(){let m=this._loading[f];if(m)return m;try{return yield this._loading[f]=i(f)}finally{delete this._loading[f]}})}}addSchema(e,t,i,n=this.opts.validateSchema){if(Array.isArray(e)){for(let a of e)this.addSchema(a,void 0,i,n);return this}let o;if(typeof e=="object"){let{schemaId:a}=this.opts;if(o=e[a],o!==void 0&&typeof o!="string")throw new Error(`schema ${a} must be string`)}return t=(0,Di.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,i,t,n,!0),this}addMetaSchema(e,t,i=this.opts.validateSchema){return this.addSchema(e,t,!0,i),this}validateSchema(e,t){if(typeof e=="boolean")return!0;let i;if(i=e.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(i,e);if(!n&&t){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return n}getSchema(e){let t;for(;typeof(t=wu.call(this,e))=="string";)e=t;if(t===void 0){let{schemaId:i}=this.opts,n=new Ii.SchemaEnv({schema:{},schemaId:i});if(t=Ii.resolveSchema.call(this,n,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=wu.call(this,e);return typeof t=="object"&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let t=e;this._cache.delete(t);let i=e[this.opts.schemaId];return i&&(i=(0,Di.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let i;if(typeof e=="string")i=e,typeof t=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=i);else if(typeof e=="object"&&t===void 0){if(t=e,i=t.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(oh.call(this,i,t),!t)return(0,da.eachItem)(i,o=>ua.call(this,o)),this;sh.call(this,t);let n=ge(O({},t),{type:(0,qn.getJSONTypes)(t.type),schemaType:(0,qn.getJSONTypes)(t.schemaType)});return(0,da.eachItem)(i,n.type.length===0?o=>ua.call(this,o,n):o=>n.type.forEach(a=>ua.call(this,o,n,a))),this}getKeyword(e){let t=this.RULES.all[e];return typeof t=="object"?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(let i of t.rules){let n=i.rules.findIndex(o=>o.keyword===e);n>=0&&i.rules.splice(n,1)}return this}addFormat(e,t){return typeof t=="string"&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:i="data"}={}){return!e||e.length===0?"No errors":e.map(n=>`${i}${n.instancePath} ${n.message}`).reduce((n,o)=>n+t+o)}$dataMetaSchema(e,t){let i=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let n of t){let o=n.split("/").slice(1),a=e;for(let s of o)a=a[s];for(let s in i){let u=i[s];if(typeof u!="object")continue;let{$data:p}=u.definition,f=a[s];p&&f&&(a[s]=Su(f))}}return e}_removeAllSchemas(e,t){for(let i in e){let n=e[i];(!t||t.test(i))&&(typeof n=="string"?delete e[i]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[i]))}}_addSchema(e,t,i,n=this.opts.validateSchema,o=this.opts.addUsedSchema){let a,{schemaId:s}=this.opts;if(typeof e=="object")a=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let u=this._cache.get(e);if(u!==void 0)return u;i=(0,Di.normalizeId)(a||i);let p=Di.getSchemaRefs.call(this,e,i);return u=new Ii.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:i,localRefs:p}),this._cache.set(u.schema,u),o&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=u),n&&this.validateSchema(e,!0),u}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Ii.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{Ii.compileSchema.call(this,e)}finally{this.opts=t}}};Te.default=Ni;Ni.ValidationError=Lm.default;Ni.MissingRefError=bu.default;function Cu(r,e,t,i="error"){for(let n in r){let o=n;o in e&&this.logger[i](`${t}: option ${n}. ${r[o]}`)}}function wu(r){return r=(0,Di.normalizeId)(r),this.schemas[r]||this.refs[r]}function Qm(){let r=this.opts.schemas;if(r)if(Array.isArray(r))this.addSchema(r);else for(let e in r)this.addSchema(r[e],e)}function Ym(){for(let r in this.opts.formats){let e=this.opts.formats[r];e&&this.addFormat(r,e)}}function eh(r){if(Array.isArray(r)){this.addVocabulary(r);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in r){let t=r[e];t.keyword||(t.keyword=e),this.addKeyword(t)}}function th(){let r=O({},this.opts);for(let e of Km)delete r[e];return r}var rh={log(){},warn(){},error(){}};function ih(r){if(r===!1)return rh;if(r===void 0)return console;if(r.log&&r.warn&&r.error)return r;throw new Error("logger must implement log, warn and error methods")}var nh=/^[a-z_$][a-z0-9_$:-]*$/i;function oh(r,e){let{RULES:t}=this;if((0,da.eachItem)(r,i=>{if(t.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!nh.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function ua(r,e,t){var i;let n=e?.post;if(t&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,a=n?o.post:o.rules.find(({type:u})=>u===t);if(a||(a={type:t,rules:[]},o.rules.push(a)),o.keywords[r]=!0,!e)return;let s={keyword:r,definition:ge(O({},e),{type:(0,qn.getJSONTypes)(e.type),schemaType:(0,qn.getJSONTypes)(e.schemaType)})};e.before?ah.call(this,a,s,e.before):a.rules.push(s),o.all[r]=s,(i=e.implements)===null||i===void 0||i.forEach(u=>this.addKeyword(u))}function ah(r,e,t){let i=r.rules.findIndex(n=>n.keyword===t);i>=0?r.rules.splice(i,0,e):(r.rules.push(e),this.logger.warn(`rule ${t} is not defined`))}function sh(r){let{metaSchema:e}=r;e!==void 0&&(r.$data&&this.opts.$data&&(e=Su(e)),r.validateSchema=this.compile(e,!0))}var lh={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Su(r){return{anyOf:[r,lh]}}});var Eu=x(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});var ch={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};fa.default=ch});var Ou=x(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.callRef=yr.getValidate=void 0;var uh=Rn(),xu=ot(),Be=W(),ei=qt(),Tu=An(),Wn=X(),dh={keyword:"$ref",schemaType:"string",code(r){let{gen:e,schema:t,it:i}=r,{baseId:n,schemaEnv:o,validateName:a,opts:s,self:u}=i,{root:p}=o;if((t==="#"||t==="#/")&&n===p.baseId)return m();let f=Tu.resolveRef.call(u,p,n,t);if(f===void 0)throw new uh.default(i.opts.uriResolver,n,t);if(f instanceof Tu.SchemaEnv)return $(f);return C(f);function m(){if(o===p)return Ln(r,a,o,o.$async);let w=e.scopeValue("root",{ref:p});return Ln(r,(0,Be._)`${w}.validate`,p,p.$async)}function $(w){let y=Pu(r,w);Ln(r,y,w,w.$async)}function C(w){let y=e.scopeValue("schema",s.code.source===!0?{ref:w,code:(0,Be.stringify)(w)}:{ref:w}),z=e.name("valid"),g=r.subschema({schema:w,dataTypes:[],schemaPath:Be.nil,topSchemaRef:y,errSchemaPath:t},z);r.mergeEvaluated(g),r.ok(z)}}};function Pu(r,e){let{gen:t}=r;return e.validate?t.scopeValue("validate",{ref:e.validate}):(0,Be._)`${t.scopeValue("wrapper",{ref:e})}.validate`}yr.getValidate=Pu;function Ln(r,e,t,i){let{gen:n,it:o}=r,{allErrors:a,schemaEnv:s,opts:u}=o,p=u.passContext?ei.default.this:Be.nil;i?f():m();function f(){if(!s.$async)throw new Error("async schema referenced by sync schema");let w=n.let("valid");n.try(()=>{n.code((0,Be._)`await ${(0,xu.callValidateCode)(r,e,p)}`),C(e),a||n.assign(w,!0)},y=>{n.if((0,Be._)`!(${y} instanceof ${o.ValidationError})`,()=>n.throw(y)),$(y),a||n.assign(w,!1)}),r.ok(w)}function m(){r.result((0,xu.callValidateCode)(r,e,p),()=>C(e),()=>$(e))}function $(w){let y=(0,Be._)`${w}.errors`;n.assign(ei.default.vErrors,(0,Be._)`${ei.default.vErrors} === null ? ${y} : ${ei.default.vErrors}.concat(${y})`),n.assign(ei.default.errors,(0,Be._)`${ei.default.vErrors}.length`)}function C(w){var y;if(!o.opts.unevaluated)return;let z=(y=t?.validate)===null||y===void 0?void 0:y.evaluated;if(o.props!==!0)if(z&&!z.dynamicProps)z.props!==void 0&&(o.props=Wn.mergeEvaluated.props(n,z.props,o.props));else{let g=n.var("props",(0,Be._)`${w}.evaluated.props`);o.props=Wn.mergeEvaluated.props(n,g,o.props,Be.Name)}if(o.items!==!0)if(z&&!z.dynamicItems)z.items!==void 0&&(o.items=Wn.mergeEvaluated.items(n,z.items,o.items));else{let g=n.var("items",(0,Be._)`${w}.evaluated.items`);o.items=Wn.mergeEvaluated.items(n,g,o.items,Be.Name)}}}yr.callRef=Ln;yr.default=dh});var Iu=x(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var fh=Eu(),ph=Ou(),mh=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",fh.default,ph.default];pa.default=mh});var Du=x(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});var Un=W(),ir=Un.operators,Hn={maximum:{okStr:"<=",ok:ir.LTE,fail:ir.GT},minimum:{okStr:">=",ok:ir.GTE,fail:ir.LT},exclusiveMaximum:{okStr:"<",ok:ir.LT,fail:ir.GTE},exclusiveMinimum:{okStr:">",ok:ir.GT,fail:ir.LTE}},hh={message:({keyword:r,schemaCode:e})=>(0,Un.str)`must be ${Hn[r].okStr} ${e}`,params:({keyword:r,schemaCode:e})=>(0,Un._)`{comparison: ${Hn[r].okStr}, limit: ${e}}`},_h={keyword:Object.keys(Hn),type:"number",schemaType:"number",$data:!0,error:hh,code(r){let{keyword:e,data:t,schemaCode:i}=r;r.fail$data((0,Un._)`${t} ${Hn[e].fail} ${i} || isNaN(${t})`)}};ma.default=_h});var Nu=x(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});var Vi=W(),gh={message:({schemaCode:r})=>(0,Vi.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,Vi._)`{multipleOf: ${r}}`},yh={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:gh,code(r){let{gen:e,data:t,schemaCode:i,it:n}=r,o=n.opts.multipleOfPrecision,a=e.let("res"),s=o?(0,Vi._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,Vi._)`${a} !== parseInt(${a})`;r.fail$data((0,Vi._)`(${i} === 0 || (${a} = ${t}/${i}, ${s}))`)}};ha.default=yh});var ku=x(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});function Vu(r){let e=r.length,t=0,i=0,n;for(;i<e;)t++,n=r.charCodeAt(i++),n>=55296&&n<=56319&&i<e&&(n=r.charCodeAt(i),(n&64512)===56320&&i++);return t}_a.default=Vu;Vu.code='require("ajv/dist/runtime/ucs2length").default'});var Mu=x(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});var vr=W(),vh=X(),Ch=ku(),wh={message({keyword:r,schemaCode:e}){let t=r==="maxLength"?"more":"fewer";return(0,vr.str)`must NOT have ${t} than ${e} characters`},params:({schemaCode:r})=>(0,vr._)`{limit: ${r}}`},bh={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:wh,code(r){let{keyword:e,data:t,schemaCode:i,it:n}=r,o=e==="maxLength"?vr.operators.GT:vr.operators.LT,a=n.opts.unicode===!1?(0,vr._)`${t}.length`:(0,vr._)`${(0,vh.useFunc)(r.gen,Ch.default)}(${t})`;r.fail$data((0,vr._)`${a} ${o} ${i}`)}};ga.default=bh});var Ru=x(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});var $h=ot(),Bn=W(),Sh={message:({schemaCode:r})=>(0,Bn.str)`must match pattern "${r}"`,params:({schemaCode:r})=>(0,Bn._)`{pattern: ${r}}`},zh={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Sh,code(r){let{data:e,$data:t,schema:i,schemaCode:n,it:o}=r,a=o.opts.unicodeRegExp?"u":"",s=t?(0,Bn._)`(new RegExp(${n}, ${a}))`:(0,$h.usePattern)(r,i);r.fail$data((0,Bn._)`!${s}.test(${e})`)}};ya.default=zh});var Fu=x(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});var ki=W(),Eh={message({keyword:r,schemaCode:e}){let t=r==="maxProperties"?"more":"fewer";return(0,ki.str)`must NOT have ${t} than ${e} properties`},params:({schemaCode:r})=>(0,ki._)`{limit: ${r}}`},xh={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Eh,code(r){let{keyword:e,data:t,schemaCode:i}=r,n=e==="maxProperties"?ki.operators.GT:ki.operators.LT;r.fail$data((0,ki._)`Object.keys(${t}).length ${n} ${i}`)}};va.default=xh});var Au=x(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});var Mi=ot(),Ri=W(),Th=X(),Ph={message:({params:{missingProperty:r}})=>(0,Ri.str)`must have required property '${r}'`,params:({params:{missingProperty:r}})=>(0,Ri._)`{missingProperty: ${r}}`},Oh={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Ph,code(r){let{gen:e,schema:t,schemaCode:i,data:n,$data:o,it:a}=r,{opts:s}=a;if(!o&&t.length===0)return;let u=t.length>=s.loopRequired;if(a.allErrors?p():f(),s.strictRequired){let C=r.parentSchema.properties,{definedProperties:w}=r.it;for(let y of t)if(C?.[y]===void 0&&!w.has(y)){let z=a.schemaEnv.baseId+a.errSchemaPath,g=`required property "${y}" is not defined at "${z}" (strictRequired)`;(0,Th.checkStrictMode)(a,g,a.opts.strictRequired)}}function p(){if(u||o)r.block$data(Ri.nil,m);else for(let C of t)(0,Mi.checkReportMissingProp)(r,C)}function f(){let C=e.let("missing");if(u||o){let w=e.let("valid",!0);r.block$data(w,()=>$(C,w)),r.ok(w)}else e.if((0,Mi.checkMissingProp)(r,t,C)),(0,Mi.reportMissingProp)(r,C),e.else()}function m(){e.forOf("prop",i,C=>{r.setParams({missingProperty:C}),e.if((0,Mi.noPropertyInData)(e,n,C,s.ownProperties),()=>r.error())})}function $(C,w){r.setParams({missingProperty:C}),e.forOf(C,i,()=>{e.assign(w,(0,Mi.propertyInData)(e,n,C,s.ownProperties)),e.if((0,Ri.not)(w),()=>{r.error(),e.break()})},Ri.nil)}}};Ca.default=Oh});var ju=x(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});var Fi=W(),Ih={message({keyword:r,schemaCode:e}){let t=r==="maxItems"?"more":"fewer";return(0,Fi.str)`must NOT have ${t} than ${e} items`},params:({schemaCode:r})=>(0,Fi._)`{limit: ${r}}`},Dh={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Ih,code(r){let{keyword:e,data:t,schemaCode:i}=r,n=e==="maxItems"?Fi.operators.GT:Fi.operators.LT;r.fail$data((0,Fi._)`${t}.length ${n} ${i}`)}};wa.default=Dh});var Kn=x(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});var qu=Zo();qu.code='require("ajv/dist/runtime/equal").default';ba.default=qu});var Wu=x(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});var $a=Ei(),Pe=W(),Nh=X(),Vh=Kn(),kh={message:({params:{i:r,j:e}})=>(0,Pe.str)`must NOT have duplicate items (items ## ${e} and ${r} are identical)`,params:({params:{i:r,j:e}})=>(0,Pe._)`{i: ${r}, j: ${e}}`},Mh={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:kh,code(r){let{gen:e,data:t,$data:i,schema:n,parentSchema:o,schemaCode:a,it:s}=r;if(!i&&!n)return;let u=e.let("valid"),p=o.items?(0,$a.getSchemaTypes)(o.items):[];r.block$data(u,f,(0,Pe._)`${a} === false`),r.ok(u);function f(){let w=e.let("i",(0,Pe._)`${t}.length`),y=e.let("j");r.setParams({i:w,j:y}),e.assign(u,!0),e.if((0,Pe._)`${w} > 1`,()=>(m()?$:C)(w,y))}function m(){return p.length>0&&!p.some(w=>w==="object"||w==="array")}function $(w,y){let z=e.name("item"),g=(0,$a.checkDataTypes)(p,z,s.opts.strictNumbers,$a.DataType.Wrong),D=e.const("indices",(0,Pe._)`{}`);e.for((0,Pe._)`;${w}--;`,()=>{e.let(z,(0,Pe._)`${t}[${w}]`),e.if(g,(0,Pe._)`continue`),p.length>1&&e.if((0,Pe._)`typeof ${z} == "string"`,(0,Pe._)`${z} += "_"`),e.if((0,Pe._)`typeof ${D}[${z}] == "number"`,()=>{e.assign(y,(0,Pe._)`${D}[${z}]`),r.error(),e.assign(u,!1).break()}).code((0,Pe._)`${D}[${z}] = ${w}`)})}function C(w,y){let z=(0,Nh.useFunc)(e,Vh.default),g=e.name("outer");e.label(g).for((0,Pe._)`;${w}--;`,()=>e.for((0,Pe._)`${y} = ${w}; ${y}--;`,()=>e.if((0,Pe._)`${z}(${t}[${w}], ${t}[${y}])`,()=>{r.error(),e.assign(u,!1).break(g)})))}}};Sa.default=Mh});var Lu=x(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});var za=W(),Rh=X(),Fh=Kn(),Ah={message:"must be equal to constant",params:({schemaCode:r})=>(0,za._)`{allowedValue: ${r}}`},jh={keyword:"const",$data:!0,error:Ah,code(r){let{gen:e,data:t,$data:i,schemaCode:n,schema:o}=r;i||o&&typeof o=="object"?r.fail$data((0,za._)`!${(0,Rh.useFunc)(e,Fh.default)}(${t}, ${n})`):r.fail((0,za._)`${o} !== ${t}`)}};Ea.default=jh});var Uu=x(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});var Ai=W(),qh=X(),Wh=Kn(),Lh={message:"must be equal to one of the allowed values",params:({schemaCode:r})=>(0,Ai._)`{allowedValues: ${r}}`},Uh={keyword:"enum",schemaType:"array",$data:!0,error:Lh,code(r){let{gen:e,data:t,$data:i,schema:n,schemaCode:o,it:a}=r;if(!i&&n.length===0)throw new Error("enum must have non-empty array");let s=n.length>=a.opts.loopEnum,u,p=()=>u??(u=(0,qh.useFunc)(e,Wh.default)),f;if(s||i)f=e.let("valid"),r.block$data(f,m);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let C=e.const("vSchema",o);f=(0,Ai.or)(...n.map((w,y)=>$(C,y)))}r.pass(f);function m(){e.assign(f,!1),e.forOf("v",o,C=>e.if((0,Ai._)`${p()}(${t}, ${C})`,()=>e.assign(f,!0).break()))}function $(C,w){let y=n[w];return typeof y=="object"&&y!==null?(0,Ai._)`${p()}(${t}, ${C}[${w}])`:(0,Ai._)`${t} === ${y}`}}};xa.default=Uh});var Hu=x(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});var Hh=Du(),Bh=Nu(),Kh=Mu(),Gh=Ru(),Jh=Fu(),Xh=Au(),Zh=ju(),Qh=Wu(),Yh=Lu(),e0=Uu(),t0=[Hh.default,Bh.default,Kh.default,Gh.default,Jh.default,Xh.default,Zh.default,Qh.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Yh.default,e0.default];Ta.default=t0});var Oa=x(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.validateAdditionalItems=void 0;var Cr=W(),Pa=X(),r0={message:({params:{len:r}})=>(0,Cr.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,Cr._)`{limit: ${r}}`},i0={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:r0,code(r){let{parentSchema:e,it:t}=r,{items:i}=e;if(!Array.isArray(i)){(0,Pa.checkStrictMode)(t,'"additionalItems" is ignored when "items" is not an array of schemas');return}Bu(r,i)}};function Bu(r,e){let{gen:t,schema:i,data:n,keyword:o,it:a}=r;a.items=!0;let s=t.const("len",(0,Cr._)`${n}.length`);if(i===!1)r.setParams({len:e.length}),r.pass((0,Cr._)`${s} <= ${e.length}`);else if(typeof i=="object"&&!(0,Pa.alwaysValidSchema)(a,i)){let p=t.var("valid",(0,Cr._)`${s} <= ${e.length}`);t.if((0,Cr.not)(p),()=>u(p)),r.ok(p)}function u(p){t.forRange("i",e.length,s,f=>{r.subschema({keyword:o,dataProp:f,dataPropType:Pa.Type.Num},p),a.allErrors||t.if((0,Cr.not)(p),()=>t.break())})}}ji.validateAdditionalItems=Bu;ji.default=i0});var Ia=x(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.validateTuple=void 0;var Ku=W(),Gn=X(),n0=ot(),o0={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(r){let{schema:e,it:t}=r;if(Array.isArray(e))return Gu(r,"additionalItems",e);t.items=!0,!(0,Gn.alwaysValidSchema)(t,e)&&r.ok((0,n0.validateArray)(r))}};function Gu(r,e,t=r.schema){let{gen:i,parentSchema:n,data:o,keyword:a,it:s}=r;f(n),s.opts.unevaluated&&t.length&&s.items!==!0&&(s.items=Gn.mergeEvaluated.items(i,t.length,s.items));let u=i.name("valid"),p=i.const("len",(0,Ku._)`${o}.length`);t.forEach((m,$)=>{(0,Gn.alwaysValidSchema)(s,m)||(i.if((0,Ku._)`${p} > ${$}`,()=>r.subschema({keyword:a,schemaProp:$,dataProp:$},u)),r.ok(u))});function f(m){let{opts:$,errSchemaPath:C}=s,w=t.length,y=w===m.minItems&&(w===m.maxItems||m[e]===!1);if($.strictTuples&&!y){let z=`"${a}" is ${w}-tuple, but minItems or maxItems/${e} are not specified or different at path "${C}"`;(0,Gn.checkStrictMode)(s,z,$.strictTuples)}}}qi.validateTuple=Gu;qi.default=o0});var Ju=x(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});var a0=Ia(),s0={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,a0.validateTuple)(r,"items")};Da.default=s0});var Zu=x(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});var Xu=W(),l0=X(),c0=ot(),u0=Oa(),d0={message:({params:{len:r}})=>(0,Xu.str)`must NOT have more than ${r} items`,params:({params:{len:r}})=>(0,Xu._)`{limit: ${r}}`},f0={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:d0,code(r){let{schema:e,parentSchema:t,it:i}=r,{prefixItems:n}=t;i.items=!0,!(0,l0.alwaysValidSchema)(i,e)&&(n?(0,u0.validateAdditionalItems)(r,n):r.ok((0,c0.validateArray)(r)))}};Na.default=f0});var Qu=x(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});var st=W(),Jn=X(),p0={message:({params:{min:r,max:e}})=>e===void 0?(0,st.str)`must contain at least ${r} valid item(s)`:(0,st.str)`must contain at least ${r} and no more than ${e} valid item(s)`,params:({params:{min:r,max:e}})=>e===void 0?(0,st._)`{minContains: ${r}}`:(0,st._)`{minContains: ${r}, maxContains: ${e}}`},m0={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:p0,code(r){let{gen:e,schema:t,parentSchema:i,data:n,it:o}=r,a,s,{minContains:u,maxContains:p}=i;o.opts.next?(a=u===void 0?1:u,s=p):a=1;let f=e.const("len",(0,st._)`${n}.length`);if(r.setParams({min:a,max:s}),s===void 0&&a===0){(0,Jn.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,Jn.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),r.fail();return}if((0,Jn.alwaysValidSchema)(o,t)){let y=(0,st._)`${f} >= ${a}`;s!==void 0&&(y=(0,st._)`${y} && ${f} <= ${s}`),r.pass(y);return}o.items=!0;let m=e.name("valid");s===void 0&&a===1?C(m,()=>e.if(m,()=>e.break())):a===0?(e.let(m,!0),s!==void 0&&e.if((0,st._)`${n}.length > 0`,$)):(e.let(m,!1),$()),r.result(m,()=>r.reset());function $(){let y=e.name("_valid"),z=e.let("count",0);C(y,()=>e.if(y,()=>w(z)))}function C(y,z){e.forRange("i",0,f,g=>{r.subschema({keyword:"contains",dataProp:g,dataPropType:Jn.Type.Num,compositeRule:!0},y),z()})}function w(y){e.code((0,st._)`${y}++`),s===void 0?e.if((0,st._)`${y} >= ${a}`,()=>e.assign(m,!0).break()):(e.if((0,st._)`${y} > ${s}`,()=>e.assign(m,!1).break()),a===1?e.assign(m,!0):e.if((0,st._)`${y} >= ${a}`,()=>e.assign(m,!0)))}}};Va.default=m0});var td=x(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.validateSchemaDeps=Pt.validatePropertyDeps=Pt.error=void 0;var ka=W(),h0=X(),Wi=ot();Pt.error={message:({params:{property:r,depsCount:e,deps:t}})=>{let i=e===1?"property":"properties";return(0,ka.str)`must have ${i} ${t} when property ${r} is present`},params:({params:{property:r,depsCount:e,deps:t,missingProperty:i}})=>(0,ka._)`{property: ${r},
    missingProperty: ${i},
    depsCount: ${e},
    deps: ${t}}`};var _0={keyword:"dependencies",type:"object",schemaType:"object",error:Pt.error,code(r){let[e,t]=g0(r);Yu(r,e),ed(r,t)}};function g0({schema:r}){let e={},t={};for(let i in r){if(i==="__proto__")continue;let n=Array.isArray(r[i])?e:t;n[i]=r[i]}return[e,t]}function Yu(r,e=r.schema){let{gen:t,data:i,it:n}=r;if(Object.keys(e).length===0)return;let o=t.let("missing");for(let a in e){let s=e[a];if(s.length===0)continue;let u=(0,Wi.propertyInData)(t,i,a,n.opts.ownProperties);r.setParams({property:a,depsCount:s.length,deps:s.join(", ")}),n.allErrors?t.if(u,()=>{for(let p of s)(0,Wi.checkReportMissingProp)(r,p)}):(t.if((0,ka._)`${u} && (${(0,Wi.checkMissingProp)(r,s,o)})`),(0,Wi.reportMissingProp)(r,o),t.else())}}Pt.validatePropertyDeps=Yu;function ed(r,e=r.schema){let{gen:t,data:i,keyword:n,it:o}=r,a=t.name("valid");for(let s in e)(0,h0.alwaysValidSchema)(o,e[s])||(t.if((0,Wi.propertyInData)(t,i,s,o.opts.ownProperties),()=>{let u=r.subschema({keyword:n,schemaProp:s},a);r.mergeValidEvaluated(u,a)},()=>t.var(a,!0)),r.ok(a))}Pt.validateSchemaDeps=ed;Pt.default=_0});var id=x(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});var rd=W(),y0=X(),v0={message:"property name must be valid",params:({params:r})=>(0,rd._)`{propertyName: ${r.propertyName}}`},C0={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:v0,code(r){let{gen:e,schema:t,data:i,it:n}=r;if((0,y0.alwaysValidSchema)(n,t))return;let o=e.name("valid");e.forIn("key",i,a=>{r.setParams({propertyName:a}),r.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),e.if((0,rd.not)(o),()=>{r.error(!0),n.allErrors||e.break()})}),r.ok(o)}};Ma.default=C0});var Fa=x(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});var Xn=ot(),dt=W(),w0=qt(),Zn=X(),b0={message:"must NOT have additional properties",params:({params:r})=>(0,dt._)`{additionalProperty: ${r.additionalProperty}}`},$0={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:b0,code(r){let{gen:e,schema:t,parentSchema:i,data:n,errsCount:o,it:a}=r;if(!o)throw new Error("ajv implementation error");let{allErrors:s,opts:u}=a;if(a.props=!0,u.removeAdditional!=="all"&&(0,Zn.alwaysValidSchema)(a,t))return;let p=(0,Xn.allSchemaProperties)(i.properties),f=(0,Xn.allSchemaProperties)(i.patternProperties);m(),r.ok((0,dt._)`${o} === ${w0.default.errors}`);function m(){e.forIn("key",n,z=>{!p.length&&!f.length?w(z):e.if($(z),()=>w(z))})}function $(z){let g;if(p.length>8){let D=(0,Zn.schemaRefOrVal)(a,i.properties,"properties");g=(0,Xn.isOwnProperty)(e,D,z)}else p.length?g=(0,dt.or)(...p.map(D=>(0,dt._)`${z} === ${D}`)):g=dt.nil;return f.length&&(g=(0,dt.or)(g,...f.map(D=>(0,dt._)`${(0,Xn.usePattern)(r,D)}.test(${z})`))),(0,dt.not)(g)}function C(z){e.code((0,dt._)`delete ${n}[${z}]`)}function w(z){if(u.removeAdditional==="all"||u.removeAdditional&&t===!1){C(z);return}if(t===!1){r.setParams({additionalProperty:z}),r.error(),s||e.break();return}if(typeof t=="object"&&!(0,Zn.alwaysValidSchema)(a,t)){let g=e.name("valid");u.removeAdditional==="failing"?(y(z,g,!1),e.if((0,dt.not)(g),()=>{r.reset(),C(z)})):(y(z,g),s||e.if((0,dt.not)(g),()=>e.break()))}}function y(z,g,D){let A={keyword:"additionalProperties",dataProp:z,dataPropType:Zn.Type.Str};D===!1&&Object.assign(A,{compositeRule:!0,createErrors:!1,allErrors:!1}),r.subschema(A,g)}}};Ra.default=$0});var ad=x(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});var S0=Oi(),nd=ot(),Aa=X(),od=Fa(),z0={keyword:"properties",type:"object",schemaType:"object",code(r){let{gen:e,schema:t,parentSchema:i,data:n,it:o}=r;o.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&od.default.code(new S0.KeywordCxt(o,od.default,"additionalProperties"));let a=(0,nd.allSchemaProperties)(t);for(let m of a)o.definedProperties.add(m);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=Aa.mergeEvaluated.props(e,(0,Aa.toHash)(a),o.props));let s=a.filter(m=>!(0,Aa.alwaysValidSchema)(o,t[m]));if(s.length===0)return;let u=e.name("valid");for(let m of s)p(m)?f(m):(e.if((0,nd.propertyInData)(e,n,m,o.opts.ownProperties)),f(m),o.allErrors||e.else().var(u,!0),e.endIf()),r.it.definedProperties.add(m),r.ok(u);function p(m){return o.opts.useDefaults&&!o.compositeRule&&t[m].default!==void 0}function f(m){r.subschema({keyword:"properties",schemaProp:m,dataProp:m},u)}}};ja.default=z0});var ud=x(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});var sd=ot(),Qn=W(),ld=X(),cd=X(),E0={keyword:"patternProperties",type:"object",schemaType:"object",code(r){let{gen:e,schema:t,data:i,parentSchema:n,it:o}=r,{opts:a}=o,s=(0,sd.allSchemaProperties)(t),u=s.filter(y=>(0,ld.alwaysValidSchema)(o,t[y]));if(s.length===0||u.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;let p=a.strictSchema&&!a.allowMatchingProperties&&n.properties,f=e.name("valid");o.props!==!0&&!(o.props instanceof Qn.Name)&&(o.props=(0,cd.evaluatedPropsToName)(e,o.props));let{props:m}=o;$();function $(){for(let y of s)p&&C(y),o.allErrors?w(y):(e.var(f,!0),w(y),e.if(f))}function C(y){for(let z in p)new RegExp(y).test(z)&&(0,ld.checkStrictMode)(o,`property ${z} matches pattern ${y} (use allowMatchingProperties)`)}function w(y){e.forIn("key",i,z=>{e.if((0,Qn._)`${(0,sd.usePattern)(r,y)}.test(${z})`,()=>{let g=u.includes(y);g||r.subschema({keyword:"patternProperties",schemaProp:y,dataProp:z,dataPropType:cd.Type.Str},f),o.opts.unevaluated&&m!==!0?e.assign((0,Qn._)`${m}[${z}]`,!0):!g&&!o.allErrors&&e.if((0,Qn.not)(f),()=>e.break())})})}}};qa.default=E0});var dd=x(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});var x0=X(),T0={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){let{gen:e,schema:t,it:i}=r;if((0,x0.alwaysValidSchema)(i,t)){r.fail();return}let n=e.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),r.failResult(n,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};Wa.default=T0});var fd=x(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});var P0=ot(),O0={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:P0.validateUnion,error:{message:"must match a schema in anyOf"}};La.default=O0});var pd=x(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});var Yn=W(),I0=X(),D0={message:"must match exactly one schema in oneOf",params:({params:r})=>(0,Yn._)`{passingSchemas: ${r.passing}}`},N0={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:D0,code(r){let{gen:e,schema:t,parentSchema:i,it:n}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;let o=t,a=e.let("valid",!1),s=e.let("passing",null),u=e.name("_valid");r.setParams({passing:s}),e.block(p),r.result(a,()=>r.reset(),()=>r.error(!0));function p(){o.forEach((f,m)=>{let $;(0,I0.alwaysValidSchema)(n,f)?e.var(u,!0):$=r.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},u),m>0&&e.if((0,Yn._)`${u} && ${a}`).assign(a,!1).assign(s,(0,Yn._)`[${s}, ${m}]`).else(),e.if(u,()=>{e.assign(a,!0),e.assign(s,m),$&&r.mergeEvaluated($,Yn.Name)})})}}};Ua.default=N0});var md=x(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});var V0=X(),k0={keyword:"allOf",schemaType:"array",code(r){let{gen:e,schema:t,it:i}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");let n=e.name("valid");t.forEach((o,a)=>{if((0,V0.alwaysValidSchema)(i,o))return;let s=r.subschema({keyword:"allOf",schemaProp:a},n);r.ok(n),r.mergeEvaluated(s)})}};Ha.default=k0});var gd=x(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});var eo=W(),_d=X(),M0={message:({params:r})=>(0,eo.str)`must match "${r.ifClause}" schema`,params:({params:r})=>(0,eo._)`{failingKeyword: ${r.ifClause}}`},R0={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:M0,code(r){let{gen:e,parentSchema:t,it:i}=r;t.then===void 0&&t.else===void 0&&(0,_d.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let n=hd(i,"then"),o=hd(i,"else");if(!n&&!o)return;let a=e.let("valid",!0),s=e.name("_valid");if(u(),r.reset(),n&&o){let f=e.let("ifClause");r.setParams({ifClause:f}),e.if(s,p("then",f),p("else",f))}else n?e.if(s,p("then")):e.if((0,eo.not)(s),p("else"));r.pass(a,()=>r.error(!0));function u(){let f=r.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);r.mergeEvaluated(f)}function p(f,m){return()=>{let $=r.subschema({keyword:f},s);e.assign(a,s),r.mergeValidEvaluated($,a),m?e.assign(m,(0,eo._)`${f}`):r.setParams({ifClause:f})}}}};function hd(r,e){let t=r.schema[e];return t!==void 0&&!(0,_d.alwaysValidSchema)(r,t)}Ba.default=R0});var yd=x(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});var F0=X(),A0={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:e,it:t}){e.if===void 0&&(0,F0.checkStrictMode)(t,`"${r}" without "if" is ignored`)}};Ka.default=A0});var vd=x(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});var j0=Oa(),q0=Ju(),W0=Ia(),L0=Zu(),U0=Qu(),H0=td(),B0=id(),K0=Fa(),G0=ad(),J0=ud(),X0=dd(),Z0=fd(),Q0=pd(),Y0=md(),e_=gd(),t_=yd();function r_(r=!1){let e=[X0.default,Z0.default,Q0.default,Y0.default,e_.default,t_.default,B0.default,K0.default,H0.default,G0.default,J0.default];return r?e.push(q0.default,L0.default):e.push(j0.default,W0.default),e.push(U0.default),e}Ga.default=r_});var Cd=x(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});var ye=W(),i_={message:({schemaCode:r})=>(0,ye.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,ye._)`{format: ${r}}`},n_={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:i_,code(r,e){let{gen:t,data:i,$data:n,schema:o,schemaCode:a,it:s}=r,{opts:u,errSchemaPath:p,schemaEnv:f,self:m}=s;if(!u.validateFormats)return;n?$():C();function $(){let w=t.scopeValue("formats",{ref:m.formats,code:u.code.formats}),y=t.const("fDef",(0,ye._)`${w}[${a}]`),z=t.let("fType"),g=t.let("format");t.if((0,ye._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>t.assign(z,(0,ye._)`${y}.type || "string"`).assign(g,(0,ye._)`${y}.validate`),()=>t.assign(z,(0,ye._)`"string"`).assign(g,y)),r.fail$data((0,ye.or)(D(),A()));function D(){return u.strictSchema===!1?ye.nil:(0,ye._)`${a} && !${g}`}function A(){let re=f.$async?(0,ye._)`(${y}.async ? await ${g}(${i}) : ${g}(${i}))`:(0,ye._)`${g}(${i})`,k=(0,ye._)`(typeof ${g} == "function" ? ${re} : ${g}.test(${i}))`;return(0,ye._)`${g} && ${g} !== true && ${z} === ${e} && !${k}`}}function C(){let w=m.formats[o];if(!w){D();return}if(w===!0)return;let[y,z,g]=A(w);y===e&&r.pass(re());function D(){if(u.strictSchema===!1){m.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${o}" ignored in schema at path "${p}"`}}function A(k){let Je=k instanceof RegExp?(0,ye.regexpCode)(k):u.code.formats?(0,ye._)`${u.code.formats}${(0,ye.getProperty)(o)}`:void 0,Ht=t.scopeValue("formats",{key:o,ref:k,code:Je});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,ye._)`${Ht}.validate`]:["string",k,Ht]}function re(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!f.$async)throw new Error("async format in sync schema");return(0,ye._)`await ${g}(${i})`}return typeof z=="function"?(0,ye._)`${g}(${i})`:(0,ye._)`${g}.test(${i})`}}}};Ja.default=n_});var wd=x(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});var o_=Cd(),a_=[o_.default];Xa.default=a_});var bd=x(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.contentVocabulary=ti.metadataVocabulary=void 0;ti.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];ti.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Sd=x(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});var s_=Iu(),l_=Hu(),c_=vd(),u_=wd(),$d=bd(),d_=[s_.default,l_.default,(0,c_.default)(),u_.default,$d.metadataVocabulary,$d.contentVocabulary];Za.default=d_});var zd=x(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.DiscrError=void 0;var f_;(function(r){r.Tag="tag",r.Mapping="mapping"})(f_=Li.DiscrError||(Li.DiscrError={}))});var xd=x(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});var ri=W(),Qa=zd(),Ed=An(),p_=X(),m_={message:({params:{discrError:r,tagName:e}})=>r===Qa.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:r,tag:e,tagName:t}})=>(0,ri._)`{error: ${r}, tag: ${t}, tagValue: ${e}}`},h_={keyword:"discriminator",type:"object",schemaType:"object",error:m_,code(r){let{gen:e,data:t,schema:i,parentSchema:n,it:o}=r,{oneOf:a}=n;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let s=i.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let u=e.let("valid",!1),p=e.const("tag",(0,ri._)`${t}${(0,ri.getProperty)(s)}`);e.if((0,ri._)`typeof ${p} == "string"`,()=>f(),()=>r.error(!1,{discrError:Qa.DiscrError.Tag,tag:p,tagName:s})),r.ok(u);function f(){let C=$();e.if(!1);for(let w in C)e.elseIf((0,ri._)`${p} === ${w}`),e.assign(u,m(C[w]));e.else(),r.error(!1,{discrError:Qa.DiscrError.Mapping,tag:p,tagName:s}),e.endIf()}function m(C){let w=e.name("valid"),y=r.subschema({keyword:"oneOf",schemaProp:C},w);return r.mergeEvaluated(y,ri.Name),w}function $(){var C;let w={},y=g(n),z=!0;for(let re=0;re<a.length;re++){let k=a[re];k?.$ref&&!(0,p_.schemaHasRulesButRef)(k,o.self.RULES)&&(k=Ed.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,k?.$ref),k instanceof Ed.SchemaEnv&&(k=k.schema));let Je=(C=k?.properties)===null||C===void 0?void 0:C[s];if(typeof Je!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);z=z&&(y||g(k)),D(Je,re)}if(!z)throw new Error(`discriminator: "${s}" must be required`);return w;function g({required:re}){return Array.isArray(re)&&re.includes(s)}function D(re,k){if(re.const)A(re.const,k);else if(re.enum)for(let Je of re.enum)A(Je,k);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function A(re,k){if(typeof re!="string"||re in w)throw new Error(`discriminator: "${s}" values must be unique strings`);w[re]=k}}}};Ya.default=h_});var Td=x((HC,__)=>{__.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var es=x((_e,Od)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.MissingRefError=_e.ValidationError=_e.CodeGen=_e.Name=_e.nil=_e.stringify=_e.str=_e._=_e.KeywordCxt=void 0;var g_=zu(),y_=Sd(),v_=xd(),Pd=Td(),C_=["/properties"],to="http://json-schema.org/draft-07/schema",ro=class extends g_.default{_addVocabularies(){super._addVocabularies(),y_.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(v_.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Pd,C_):Pd;this.addMetaSchema(e,to,!1),this.refs["http://json-schema.org/schema"]=to}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(to)?to:void 0)}};Od.exports=_e=ro;Object.defineProperty(_e,"__esModule",{value:!0});_e.default=ro;var w_=Oi();Object.defineProperty(_e,"KeywordCxt",{enumerable:!0,get:function(){return w_.KeywordCxt}});var ii=W();Object.defineProperty(_e,"_",{enumerable:!0,get:function(){return ii._}});Object.defineProperty(_e,"str",{enumerable:!0,get:function(){return ii.str}});Object.defineProperty(_e,"stringify",{enumerable:!0,get:function(){return ii.stringify}});Object.defineProperty(_e,"nil",{enumerable:!0,get:function(){return ii.nil}});Object.defineProperty(_e,"Name",{enumerable:!0,get:function(){return ii.Name}});Object.defineProperty(_e,"CodeGen",{enumerable:!0,get:function(){return ii.CodeGen}});var b_=Mn();Object.defineProperty(_e,"ValidationError",{enumerable:!0,get:function(){return b_.default}});var $_=Rn();Object.defineProperty(_e,"MissingRefError",{enumerable:!0,get:function(){return $_.default}})});var Md=x(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.formatNames=Ot.fastFormats=Ot.fullFormats=void 0;function ni(r,e){return{validate:r,compare:e}}Ot.fullFormats={date:ni(Nd,is),time:ni(Vd,ns),"date-time":ni(x_,kd),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:O_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:R_,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:I_,int32:{type:"number",validate:V_},int64:{type:"number",validate:k_},float:{type:"number",validate:Dd},double:{type:"number",validate:Dd},password:!0,binary:!0};Ot.fastFormats=ge(O({},Ot.fullFormats),{date:ni(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,is),time:ni(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,ns),"date-time":ni(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,kd),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});Ot.formatNames=Object.keys(Ot.fullFormats);function S_(r){return r%4===0&&(r%100!==0||r%400===0)}var z_=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,E_=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Nd(r){let e=z_.exec(r);if(!e)return!1;let t=+e[1],i=+e[2],n=+e[3];return i>=1&&i<=12&&n>=1&&n<=(i===2&&S_(t)?29:E_[i])}function is(r,e){if(r&&e)return r>e?1:r<e?-1:0}var ts=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function Vd(r,e){let t=ts.exec(r);if(!t)return!1;let i=+t[1],n=+t[2],o=+t[3],a=t[5];return(i<=23&&n<=59&&o<=59||i===23&&n===59&&o===60)&&(!e||a!=="")}function ns(r,e){if(!(r&&e))return;let t=ts.exec(r),i=ts.exec(e);if(t&&i)return r=t[1]+t[2]+t[3]+(t[4]||""),e=i[1]+i[2]+i[3]+(i[4]||""),r>e?1:r<e?-1:0}var rs=/t|\s/i;function x_(r){let e=r.split(rs);return e.length===2&&Nd(e[0])&&Vd(e[1],!0)}function kd(r,e){if(!(r&&e))return;let[t,i]=r.split(rs),[n,o]=e.split(rs),a=is(t,n);if(a!==void 0)return a||ns(i,o)}var T_=/\/|:/,P_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function O_(r){return T_.test(r)&&P_.test(r)}var Id=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function I_(r){return Id.lastIndex=0,Id.test(r)}var D_=-(2**31),N_=2**31-1;function V_(r){return Number.isInteger(r)&&r<=N_&&r>=D_}function k_(r){return Number.isInteger(r)}function Dd(){return!0}var M_=/[^\\]\\Z/;function R_(r){if(M_.test(r))return!1;try{return new RegExp(r),!0}catch{return!1}}});var Rd=x(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.formatLimitDefinition=void 0;var F_=es(),ft=W(),nr=ft.operators,io={formatMaximum:{okStr:"<=",ok:nr.LTE,fail:nr.GT},formatMinimum:{okStr:">=",ok:nr.GTE,fail:nr.LT},formatExclusiveMaximum:{okStr:"<",ok:nr.LT,fail:nr.GTE},formatExclusiveMinimum:{okStr:">",ok:nr.GT,fail:nr.LTE}},A_={message:({keyword:r,schemaCode:e})=>ft.str`should be ${io[r].okStr} ${e}`,params:({keyword:r,schemaCode:e})=>ft._`{comparison: ${io[r].okStr}, limit: ${e}}`};oi.formatLimitDefinition={keyword:Object.keys(io),type:"string",schemaType:"string",$data:!0,error:A_,code(r){let{gen:e,data:t,schemaCode:i,keyword:n,it:o}=r,{opts:a,self:s}=o;if(!a.validateFormats)return;let u=new F_.KeywordCxt(o,s.RULES.all.format.definition,"format");u.$data?p():f();function p(){let $=e.scopeValue("formats",{ref:s.formats,code:a.code.formats}),C=e.const("fmt",ft._`${$}[${u.schemaCode}]`);r.fail$data(ft.or(ft._`typeof ${C} != "object"`,ft._`${C} instanceof RegExp`,ft._`typeof ${C}.compare != "function"`,m(C)))}function f(){let $=u.schema,C=s.formats[$];if(!C||C===!0)return;if(typeof C!="object"||C instanceof RegExp||typeof C.compare!="function")throw new Error(`"${n}": format "${$}" does not define "compare" function`);let w=e.scopeValue("formats",{key:$,ref:C,code:a.code.formats?ft._`${a.code.formats}${ft.getProperty($)}`:void 0});r.fail$data(m(w))}function m($){return ft._`${$}.compare(${t}, ${i}) ${io[n].fail} 0`}},dependencies:["format"]};var j_=r=>(r.addKeyword(oi.formatLimitDefinition),r);oi.default=j_});var qd=x((Ui,jd)=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});var ai=Md(),q_=Rd(),os=W(),Fd=new os.Name("fullFormats"),W_=new os.Name("fastFormats"),as=(r,e={keywords:!0})=>{if(Array.isArray(e))return Ad(r,e,ai.fullFormats,Fd),r;let[t,i]=e.mode==="fast"?[ai.fastFormats,W_]:[ai.fullFormats,Fd],n=e.formats||ai.formatNames;return Ad(r,n,t,i),e.keywords&&q_.default(r),r};as.get=(r,e="full")=>{let i=(e==="fast"?ai.fastFormats:ai.fullFormats)[r];if(!i)throw new Error(`Unknown format "${r}"`);return i};function Ad(r,e,t,i){var n,o;(n=(o=r.opts.code).formats)!==null&&n!==void 0||(o.formats=os._`require("ajv-formats/dist/formats").${i}`);for(let a of e)r.addFormat(a,t[a])}jd.exports=Ui=as;Object.defineProperty(Ui,"__esModule",{value:!0});Ui.default=as});var Ef={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ingoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function qr(r){return r.merge("sf",Ef)}var ze="/";function Co(r){return r==null}function Me(r,e){return r==null?e:`${r}`!="false"}function Wr(r,...e){}function xf(r,e){let t=/^#\/definitions\/(.*)$/.exec(r);if(t&&t[1]){let i=t[1].split(ze),n=e;for(let o of i)if(o=o.replace(/~1/g,ze).replace(/~0/g,"~"),n.hasOwnProperty(o))n=n[o];else throw new Error(`Could not find a definition for ${r}.`);return n}throw new Error(`Could not find a definition for ${r}.`)}function yi(r,e={}){if(r.hasOwnProperty("$ref")){let i=xf(r.$ref,e),t=r,{$ref:n}=t,o=Ws(t,["$ref"]);return yi(O(O({},i),o),e)}return r}function sc(r,e){let t=(i,n)=>{Tf(i,n),Object.keys(i.properties).forEach(o=>{let a=i.properties[o],s=`$${o}`;a.items&&t(a.items,n[s].$items),a.properties&&t(a,n[s])})};t(r,e)}function Tf(r,e){if(!(r.hasOwnProperty("if")&&r.hasOwnProperty("then")))return null;if(!r.if.properties)throw new Error("if: does not contain 'properties'");let t=Object.keys(r.properties),i=Object.keys(r.if.properties);vo(t,i),vo(t,r.then.required),r.required=r.required.concat(r.then.required);let n=r.hasOwnProperty("else");n&&(vo(t,r.else.required),r.required=r.required.concat(r.else.required));let o={},a={};return i.forEach(s=>{let u=r.if.properties[s].enum;o[s]=u,n&&(a[s]=p=>!u.includes(p))}),r.then.required.forEach(s=>e[`$${s}`].visibleIf=o),n&&r.else.required.forEach(s=>e[`$${s}`].visibleIf=a),r}function vo(r,e){e.forEach(t=>{if(!r.includes(t))throw new Error(`if: properties does not contain '${t}'`)})}function lc(r,e){if(!Array.isArray(e))return r;let t=f=>f.reduce((m,$)=>(m[$]=!0,m),{}),i=f=>`property [${f.join("', '")}]`,n=t(r),o=t(e),a=e.filter(f=>f!=="*"&&!n[f]);if(a.length)throw new Error(`ui schema order list contains extraneous ${i(a)}`);let s=r.filter(f=>!o[f]),u=e.indexOf("*");if(u===-1){if(s.length)throw new Error(`ui schema order list does not contain ${i(s)}`);return e}if(u!==e.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let p=[...e];return p.splice(u,1,...s),p}function cc(r,e,t){return Co(r)||!Array.isArray(r)||r.length===0?[]:(typeof r[0]!="object"&&(r=r.map(i=>({label:i,value:i}))),e&&(Array.isArray(e)||(e=[e]),r.forEach(i=>{~e.indexOf(i.value)&&(i.checked=!0)})),t&&r.forEach(i=>i.disabled=!0),r)}function Pf(r,e,t){return cc(dr(r||[]),e,t)}function Lr(r,e,t,i){return typeof e.asyncData=="function"?e.asyncData(i).pipe(kr(n=>cc(n,t,r.readOnly))):Hs(Pf(r.enum,t,r.readOnly))}var vi=class{constructor(e,t,i,n,o,a,s,u){this.injector=e,this._options=u,this._errors=null,this._valueChanges=new Vr({path:null,pathValue:null,value:null}),this._errorsChanges=new Vr(null),this._visible=!0,this._visibilityChanges=new Vr(!0),this._objErrors={},this._value=null,this.schema=i,this.ui=n,this.schemaValidator=t.createValidatorFn(i,{ingoreKeywords:this.ui.ingoreKeywords,debug:n.debug}),this.formData=o||i.default,this._parent=a,a?this._root=a.root:this._root=this,this.path=s}get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(e=!1){this.widget?.detectChanges(e)}updateValueAndValidity(e){e=O({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updatePath:"",updateValue:null},e),this._updateValue(),e.emitValueEvent&&(e.updatePath=e.updatePath||this.path,e.updateValue=e.updateValue==null?this.value:e.updateValue,this.valueChanges.next({value:this.value,path:e.updatePath,pathValue:e.updateValue})),e.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!e.onlySelf&&this.parent.updateValueAndValidity(ge(O({},e),{emitValidator:!1}))}searchProperty(e){let t=this,i=null,n=null;if(e[0]===ze)i=this.findRoot(),n=i.getProperty(e.substring(1));else for(;n===null&&t.parent!==null;)t=i=t.parent,n=i.getProperty(e);return n}findRoot(){let e=this;for(;e.parent!==null;)e=e.parent;return e}isEmptyData(e){if(Co(e))return!0;switch(this.type){case"string":return`${e}`.length===0}return!1}_runValidation(){let e,t=this.isEmptyData(this._value);t&&this.ui._required?e=[{keyword:"required"}]:t?e=[]:e=this.schemaValidator(this._value)||[];let i=this.ui.validator;if(typeof i=="function"){let n=i(this.value,this,this.findRoot());if(n instanceof Us){n.subscribe(o=>{this.setCustomErrors(e,o),this.cd(!1)});return}this.setCustomErrors(e,n);return}this._errors=e,this.setErrors(this._errors)}setCustomErrors(e,t){let i=Array.isArray(t)&&t.length>0;i&&t.forEach(n=>{if(!n.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");n.keyword=null}),this._errors=i?e.concat(...t):e,this.setErrors(this._errors)}setErrors(e=[],t=!0){let i=Array.isArray(e)?e:[e];if(t&&i&&!this.ui.onlyVisual){let n=this.widget&&this.widget.l.error||{};i=i.map(o=>{let a=o.keyword==null&&o.message?o.message:(this.ui.errors||{})[o.keyword]||this._options.errors[o.keyword]||n[o.keyword]||"";return a&&typeof a=="function"&&(a=a(o)),a&&(~a.indexOf("{")&&o.params&&(a=a.replace(/{([\.a-zA-Z0-9]+)}/g,(s,u)=>o.params[u]||"")),o.message=a),o})}this._errors=i,this._errorsChanges.next(i),this._parent&&this._parent.setParentAndPlatErrors(i,this.path)}setParentAndPlatErrors(e,t){this._objErrors[t]=e;let i=[];Object.keys(this._objErrors).forEach(n=>{let o=this.searchProperty(n);o&&!o.visible||i.push(...this._objErrors[n])}),this.setErrors(i,!1)}setVisible(e){return this._visible=e,this._visibilityChanges.next(e),e&&this.injector.get(Gt).onStable.pipe(Js(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let e=this.ui.visibleIf;if(typeof e=="object"&&Object.keys(e).length===0)this.setVisible(!1);else if(e!=null){let t=[];for(let i in e)if(e.hasOwnProperty(i)){let n=this.searchProperty(i);if(n){let o=n.valueChanges.pipe(kr(u=>{let p=e[i];if(typeof p=="function"){let f=p(u.value,n);if(typeof f=="object"){let m=O({show:!1,required:!1},f),$=this.parent?.schema.required;if($&&this.propertyId){let C=$.findIndex(w=>w===this.propertyId);m.required?C===-1&&$.push(this.propertyId):C!==-1&&$.splice(C,1),this.ui._required=m.required}return m.show}return f}return p.indexOf("$ANY$")!==-1?u.value&&u.value.length>0:p.indexOf(u.value)!==-1})),a=n._visibilityChanges,s=_o([o,a]).pipe(kr(u=>u[0]&&u[1]));t.push(s)}}_o(t).pipe(kr(i=>this.ui.visibleIfLogical==="and"?i.every(n=>n):i.some(n=>n)),en()).subscribe(i=>this.setVisible(i))}}updateFeedback(e=""){this.ui.feedback=e,this.widget?.injector.get(Ar).formStatusChanges.next({status:e,hasFeedback:!!e}),this.cd(!0)}},Et=class r extends vi{constructor(){super(...arguments),this.properties=null}getProperty(e){let t=e.indexOf(ze),i=t!==-1?e.substring(0,t):e,n=this.properties[i];if(n!==null&&t!==-1&&n instanceof r){let o=e.substring(t+1);n=n.getProperty(o)}return n}forEachChild(e){for(let t in this.properties)if(this.properties.hasOwnProperty(t)){let i=this.properties[t];e(i,t)}}forEachChildRecursive(e){this.forEachChild(t=>{e(t),t instanceof r&&t.forEachChildRecursive(e)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(e=>{e._bindVisibility()})}isRoot(){return this===this.root}};var Ur=class extends Et{get propertiesId(){return this._propertiesId}constructor(e,t,i,n,o,a,s,u,p){super(e,i,n,o,a,s,u,p),this.formPropertyFactory=t,this._propertiesId=[],this.createProperties()}createProperties(){this.properties={},this._propertiesId=[];let e;try{e=lc(Object.keys(this.schema.properties),this.ui.order)}catch(t){console.error(`Invalid ${this.schema.title||"root"} object field configuration:`,t)}e.forEach(t=>{this.properties[t]=this.formPropertyFactory.createProperty(this.schema.properties[t],this.ui[`$${t}`],(this.formData||{})[t],this,t),this._propertiesId.push(t)})}setValue(e,t){let i=this.properties;for(let n in e)e.hasOwnProperty(n)&&i[n]&&i[n].setValue(e[n],!0);this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}resetValue(e,t){e=e||this.schema.default||{};let i=this.properties;for(let n in this.schema.properties)this.schema.properties.hasOwnProperty(n)&&i[n].resetValue(e[n],!0);this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let e={};this.forEachChild((t,i)=>{t.visible&&t._hasValue()&&(e[i]=t.value)}),this._value=e}};var Hr=class extends Et{constructor(e,t,i,n,o,a,s,u,p){super(e,i,n,o,a,s,u,p),this.formPropertyFactory=t,this.properties=[]}getProperty(e){let t=e.indexOf(ze),i=+(t!==-1?e.substring(0,t):e),n=this.properties;if(isNaN(i)||i>=n.length)return;let o=e.substring(t+1);return n[i].getProperty(o)}setValue(e,t){this.properties=[],this.clearErrors(),this.resetProperties(e),this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}resetValue(e,t){this._value=e||this.schema.default||[],this.setValue(this._value,t)}_hasValue(){return!0}_updateValue(){let e=[];this.forEachChild(t=>{t.visible&&e.push(O(O({},this.widget?.cleanValue?null:t.formData),t.value))}),this._value=e}addProperty(e){let t=this.formPropertyFactory.createProperty(dr(this.schema.items),dr(this.ui.$items),e,this);return this.properties.push(t),t}resetProperties(e){for(let t of e)this.addProperty(t).resetValue(t,!0)}clearErrors(e){(e||this)._objErrors={}}add(e){let t=this.addProperty(e);return t.resetValue(e,!1),t}remove(e){let t=this.properties;this.clearErrors(),t.splice(e,1),t.forEach((i,n)=>{i.path=[i.parent.path,n].join(ze),this.clearErrors(i),i instanceof Ur&&i.forEachChild(o=>{o.updateValueAndValidity({emitValueEvent:!1})})}),t.length===0&&this.updateValueAndValidity()}};var Xt=class extends vi{setValue(e,t){this._value=e,this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}resetValue(e,t){e==null&&(e=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=e,this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0}),this.widget&&(this.widget.reset(e),this.cd(t))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}};var Cn=class extends Xt{fallbackValue(){return null}};var wn=class extends Xt{fallbackValue(){return null}setValue(e,t){typeof e=="string"&&(e.length?e=e.indexOf(".")>-1?parseFloat(e):parseInt(e,10):e=void 0),this._value=e,this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}};var bn=class extends Xt{fallbackValue(){return null}setValue(e,t){this._value=e??"",this.cd(t),this.updateValueAndValidity({onlySelf:t,emitValueEvent:!0})}};var Br=class{constructor(e,t,i){this.injector=e,this.schemaValidatorFactory=t,this.options=qr(i)}createProperty(e,t,i,n=null,o){let a=null,s="";if(n)switch(s+=n.path,n.parent!==null&&(s+=ze),n.type){case"object":s+=o;break;case"array":s+=n.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${n.type}`)}else s=ze;if(e.$ref){let u=yi(e,n.root.schema.definitions);a=this.createProperty(u,t,i,n,s)}else switch((o&&n.schema.required.indexOf(o.split(ze).pop())!==-1||t.showRequired===!0)&&(t._required=!0),e.title==null&&(e.title=o),(e.type==="string"||e.type==="number")&&!e.format&&!t.format?t.widget==="date"?t._format=e.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:t.widget==="time"&&(t._format=e.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):t._format=t.format,e.type){case"integer":case"number":a=new wn(this.injector,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"string":a=new bn(this.injector,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"boolean":a=new Cn(this.injector,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"object":a=new Ur(this.injector,this,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;case"array":a=new Hr(this.injector,this,this.schemaValidatorFactory,e,t,i,n,s,this.options);break;default:throw new TypeError(`Undefined type ${e.type}`)}return a.propertyId=o,a instanceof Et&&this.initializeRoot(a),a}initializeRoot(e){e._bindVisibility()}};var fr=class{constructor(){this.onDestroy=new Nr}destroy(){this.onDestroy.next(!0)}};var Wd=Ls(es()),Ld=Ls(qd());var wr=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=gi({token:e,factory:e.\u0275fac});let r=e;return r})(),no=(()=>{let e=class e extends wr{constructor(){if(super(),this.ngZone=Q(Gt),this.cogSrv=Q($t),!(typeof document=="object"&&document))return;this.options=qr(this.cogSrv);let i=this.options.ajv||{};this.ngZone.runOutsideAngular(()=>{this.ajv=new Wd.default(ge(O({allErrors:!0,loopEnum:50},i),{formats:O({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:gn.color,mobile:gn.mobile,"id-card":gn.idCard},i.formats)})),(0,Ld.default)(this.ajv)})}createValidatorFn(i,n){let o=[...this.options.ingoreKeywords,...n.ingoreKeywords||[]];return a=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(i,a))}catch{}let s=this.ajv.errors;return this.options&&o&&s&&(s=s.filter(u=>o.indexOf(u.keyword)===-1)),s}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=gi({token:e,factory:e.\u0275fac});let r=e;return r})();var It=class{constructor(){this._widgets={}}get widgets(){return this._widgets}setDefault(e){this.defaultWidget=e}register(e,t){this._widgets[e]=t}has(e){return this._widgets.hasOwnProperty(e)}getType(e){return this.has(e)?this._widgets[e]:this.defaultWidget}},oo=(()=>{let e=class e{constructor(){this.registry=Q(It)}createWidget(i,n){this.registry.has(n);let o=this.registry.getType(n);return i.createComponent(o)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=gi({token:e,factory:e.\u0275fac});let r=e;return r})();var L_=["target"];function U_(r,e){}function H_(r,e){r&1&&sl(0)}var B_=0,Ut=(()=>{let e=class e{constructor(){this.widgetFactory=Q(oo),this.terminator=Q(fr),this.destroy$=new Nr,this.widget=null,this.footer=null}onWidgetInstanciated(i){this.widget=i;let n=`_sf-${B_++}`,o=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=o,this.widget.id=n,this.formProperty.widget=i}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let i=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,i.ui.widget||i.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:i}=this;i.next(),i.complete(),this.ref.destroy()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=te({type:e,selectors:[["sf-item"]],viewQuery:function(n,o){if(n&1&&ll(L_,7,il),n&2){let a;cl(a=ul())&&(o.container=a.first)}},hostVars:2,hostBindings:function(n,o){n&2&&Ee("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],features:[cn([Ar]),Kt],decls:3,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(n,o){n&1&&I(0,U_,0,0,"ng-template",null,0,qe)(2,H_,1,0,"ng-container",1),n&2&&(S(2),b("ngTemplateOutlet",o.footer))},dependencies:[We],encapsulation:2});let r=e;return r})();var Hi=(()=>{let e=class e{constructor(){this.el=Q(rn).nativeElement,this.render=Q(rl),this._inited=!1}init(){if(!this._inited||this.num==null||this.num<=0)return;let i=this.el,n=i.querySelector(".ant-row")||i;this.render.addClass(n,"sf__fixed");let o=n.querySelector(".ant-form-item-label"),a=n.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),s=`${this.num}px`;o?(this.render.setStyle(o,"flex",`0 0 ${s}`),this.render.setStyle(a,"max-width",`calc(100% - ${s})`)):this.render.setStyle(a,"margin-left",s)}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ft({type:e,selectors:[["","fixed-label",""]],inputs:{num:[je.HasDecoratorInputTransform,"fixed-label","num",i=>pl(i,0)]},features:[on,Kt]});let r=e;return r})();function J_(r,e){r&1&&ln(0)}function X_(r,e){if(r&1&&ie(0,"i",10),r&2){let t=v(5);b("nzType",t._btn.submit_icon.type)("nzTheme",t._btn.submit_icon.theme)("nzTwotoneColor",t._btn.submit_icon.twoToneColor)("nzIconfont",t._btn.submit_icon.iconfont)}}function Z_(r,e){if(r&1&&ie(0,"i",10),r&2){let t=v(6);b("nzType",t._btn.reset_icon.type)("nzTheme",t._btn.reset_icon.theme)("nzTwotoneColor",t._btn.reset_icon.twoToneColor)("nzIconfont",t._btn.reset_icon.iconfont)}}function Q_(r,e){if(r&1){let t=he();T(0,"button",12),Y("click",function(){R(t);let n=v(5);return F(n.reset(!0))}),I(1,Z_,1,4,"i",10),ue(2),P()}if(r&2){let t=v(5);b("nzType",t._btn.reset_type)("nzSize",t._btn.render.size)("disabled",t.loading),S(),V(1,t._btn.reset_icon?1:-1),S(),Se(" ",t._btn.reset," ")}}function Y_(r,e){if(r&1&&(T(0,"button",9),I(1,X_,1,4,"i",10),ue(2),P(),I(3,Q_,3,5,"button",11)),r&2){let t=v(4);b("nzType",t._btn.submit_type)("nzSize",t._btn.render.size)("nzLoading",t.loading)("disabled",t.liveValidate&&!t.valid),S(),V(1,t._btn.submit_icon?1:-1),S(),Se(" ",t._btn.submit," "),S(),V(3,t._btn.reset?3:-1)}}function eg(r,e){}function tg(r,e){if(r&1&&I(0,eg,0,0,"ng-template",13),r&2){v(4);let t=Ie(1);b("ngTemplateOutlet",t)}}function rg(r,e){if(r&1&&(T(0,"nz-form-item",5)(1,"div",6)(2,"div",7)(3,"div",8),I(4,Y_,4,7)(5,tg,1,1),P()()()()),r&2){let t=v(3);b("ngClass",t._btn.render.class)("fixed-label",t._btn.render.spanLabelFixed),S(),b("nzSpan",t.btnGrid.span)("nzOffset",t.btnGrid.offset)("nzXs",t.btnGrid.xs)("nzSm",t.btnGrid.sm)("nzMd",t.btnGrid.md)("nzLg",t.btnGrid.lg)("nzXl",t.btnGrid.xl)("nzXXl",t.btnGrid.xxl),S(3),V(4,t.button?4:5)}}function ig(r,e){if(r&1&&I(0,rg,6,11,"nz-form-item",4),r&2){let t=v(2);V(0,t._btn&&t._btn.render?0:-1)}}function ng(r,e){}function og(r,e){if(r&1&&I(0,ng,0,0,"ng-template",13),r&2){v(2);let t=Ie(1);b("ngTemplateOutlet",t)}}function ag(r,e){if(r&1&&I(0,ig,1,1)(1,og,1,1),r&2){let t=v();V(0,t.button!=="none"?0:1)}}function sg(r,e){if(r&1&&ie(0,"sf-item",3),r&2){let t=v(),i=Ie(3);b("formProperty",t.rootProperty)("footer",i)}}var lg=["*"];function cg(r,e,t){return new Br(r,e,t)}var Ki=(()=>{let e=class e{get btnGrid(){return this._btn.render.grid}set mode(i){switch(i){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=i}get mode(){return this._mode}get valid(){return this._valid}get value(){return this._item}getProperty(i){return this.rootProperty?.searchProperty(i)}getValue(i){return this.getProperty(i)?.value}setValue(i,n){let o=this.getProperty(i);if(!o)throw new Error(`Invalid path: ${i}`);return o.resetValue(n,!1),this}setDisabled(i,n){let o=this.getProperty(i);if(!o)throw new Error(`Invalid path: ${i}`);return o.schema.readOnly=n,o.widget.detectChanges(),this}setRequired(i,n){let o=this.getProperty(i);if(!o)throw new Error(`Invalid path: ${i}`);let a=i.split(ze).pop(),s=o.parent?.schema.required||[],u=s.findIndex(p=>p===a);return n?u===-1&&s.push(a):u!==-1&&s.splice(u,1),o.parent.schema.required=s,o.ui._required=n,o.widget.detectChanges(),this.validator({onlyRoot:!1}),this}updateFeedback(i,n=""){return this.getProperty(i)?.updateFeedback(n),this}onSubmit(i){i.preventDefault(),i.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(i){this.formPropertyFactory=Q(Br),this.terminator=Q(fr),this.dom=Q(dn),this.cdr=Q(un),this.localeSrv=Q(bl),this.aclSrv=Q(_l,{optional:!0}),this.i18nSrv=Q(gl,{optional:!0}),this.platform=Q(yl),this._renders=new Map,this._valid=!0,this._inited=!1,this.locale={},this.rootProperty=null,this.layout="horizontal",this.button={},this.liveValidate=!0,this.firstVisual=!0,this.onlyVisual=!1,this.compact=!1,this.loading=!1,this.disabled=!1,this.noColon=!1,this.cleanValue=!1,this.delay=!1,this.formValueChange=new Mr,this.formChange=new Mr,this.formSubmit=new Mr,this.formReset=new Mr,this.formError=new Mr,this.options=qr(i),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(yo()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())});let n=[this.aclSrv?this.aclSrv.change:null,this.i18nSrv?this.i18nSrv.change:null].filter(o=>o!=null);n.length>0&&Bs(...n).pipe(Ks(()=>this._inited),yo()).subscribe(()=>this.refreshSchema())}fanyi(i){return(this.i18nSrv?this.i18nSrv.fanyi(i):"")||i}inheritUI(i){["optionalHelp"].filter(n=>!!this._defUi[n]).forEach(n=>i[n]=O(O({},this._defUi[n]),i[n]))}coverProperty(){let i=this.layout==="horizontal",n=dr(this.schema),{definitions:o}=n,a=(s,u,p,f,m)=>{Array.isArray(s.required)||(s.required=[]),Object.keys(s.properties).forEach($=>{let C="$",w=C+$,y=yi(s.properties[$],o),z=O(O({},y.ui),p[w]),g=O(O(O(O(ge(O(O({},this._defUi),f),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:y.type}),y.format&&this.options.formatMap[y.format]),typeof y.ui=="string"?{widget:y.ui}:null),!y.format&&!y.ui&&Array.isArray(y.enum)&&y.enum.length>0?{widget:"select"}:null),z);if(Object.keys(g).filter(D=>D.startsWith(C)).forEach(D=>delete g[D]),i?f.spanLabelFixed?z.spanLabelFixed||(g.spanLabelFixed=f.spanLabelFixed):(g.spanLabel||(g.spanLabel=typeof f.spanLabel>"u"?5:f.spanLabel),g.spanControl||(g.spanControl=typeof f.spanControl>"u"?19:f.spanControl),g.offsetControl||(g.offsetControl=typeof f.offsetControl>"u"?null:f.offsetControl)):(g.spanLabel=null,g.spanControl=null,g.offsetControl=null),this.layout==="inline"&&delete g.grid,this.layout!=="horizontal"&&(g.spanLabelFixed=null),g.spanLabelFixed!=null&&g.spanLabelFixed>0&&(g.spanLabel=null,g.spanControl=null),g.widget==="date"&&g.end!=null){let D=s.properties[g.end];D?D.ui=ge(O({},D.ui),{widget:g.widget,hidden:!0}):g.end=null}if(this.inheritUI(g),g.optionalHelp){typeof g.optionalHelp=="string"&&(g.optionalHelp={text:g.optionalHelp});let D=g.optionalHelp=O({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},g.optionalHelp);D.i18n&&(D.text=this.fanyi(D.i18n)),D.text||(g.optionalHelp=void 0)}if(g.i18n&&(y.title=this.fanyi(g.i18n)),g.descriptionI18n&&(y.description=this.fanyi(g.descriptionI18n)),y.description&&(g._description=this.dom.bypassSecurityTrustHtml(y.description)),g.hidden=typeof g.hidden=="boolean"?g.hidden:!1,g.hidden===!1&&g.acl&&this.aclSrv&&!this.aclSrv.can(g.acl)&&(g.hidden=!0),m[w]=g,delete y.ui,g.hidden===!0){let D=s.required.indexOf($);D!==-1&&s.required.splice(D,1)}y.items&&(g.$items=O(O(O({},y.items.ui),p[w]),g.$items),a(y.items,y.items,p[w]?.$items??{},g.$items,g.$items)),y.properties&&Object.keys(y.properties).length&&a(y,s,p[w]||{},g,g)})};this.ui==null&&(this.ui={}),this._defUi=O(O(O({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),n.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=O({},this._defUi),a(n,n,this.ui,this.ui,this._ui),sc(n,this._ui),this._schema=n,delete n.ui,Wr(this._ui,"cover schema & ui",this._ui,n)}coverButtonProperty(){this._btn=O(O(O({render:{size:"default"}},this.locale),this.options.button),this.button);let i=Object.keys(this._ui).find(o=>o.startsWith("$")),n=this._btn.render;if(this.layout==="horizontal"){let o=i?this._ui[i]:this._defUi;n.grid||(n.grid={offset:o.spanLabel,span:o.spanControl}),n.spanLabelFixed==null&&(n.spanLabelFixed=o.spanLabelFixed),!n.class&&typeof o.spanLabelFixed=="number"&&o.spanLabelFixed>0&&(n.class="text-center")}else n.grid={};this._mode&&(this.mode=this._mode),Wr(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(i){if(!this.platform.isBrowser)return;let n=["disabled","loading"];if(Object.keys(i).every(o=>n.includes(o))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(i,n){this._inited&&(this._renders.has(i)||(this._renders.set(i,n),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((i,n)=>{let o=this.rootProperty?.searchProperty(n);o!=null&&(o.ui._render=i)})}validator(i={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let n=a=>{a._runValidation(),!(!(a instanceof Et)||!a.properties)&&(Array.isArray(a.properties)?a.properties.forEach(s=>n(s)):Object.keys(a.properties).forEach(s=>n(a.properties[s])))};i.onlyRoot?this.rootProperty._runValidation():n(this.rootProperty);let o=this.rootProperty.errors;return this._valid=!(o&&o.length),i.emitError&&!this._valid&&this.formError.emit(o),this.cdr.detectChanges(),this._valid}refreshSchema(i,n){if(!this.platform.isBrowser)return this;if(i&&(this.schema=i),n&&(this.ui=n),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=O({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let o=!0;return this.rootProperty.valueChanges.subscribe(a=>{if(this._item=O(O({},this.cleanValue?null:this.formData),a.value),o){o=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:a.path,pathValue:a.pathValue})}),this.rootProperty.errorsChanges.subscribe(a=>{this._valid=!(a&&a.length),this.formError.emit(a),this.cdr.detectChanges()}),this}reset(i=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),i&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}};e.\u0275fac=function(n){return new(n||e)(el($t))},e.\u0275cmp=te({type:e,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(n,o){n&2&&Ee("sf",!0)("sf__inline",o.layout==="inline")("sf__horizontal",o.layout==="horizontal")("sf__search",o.mode==="search")("sf__edit",o.mode==="edit")("sf__no-error",o.onlyVisual)("sf__no-colon",o.noColon)("sf__compact",o.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:[je.HasDecoratorInputTransform,"liveValidate","liveValidate",bt],autocomplete:"autocomplete",firstVisual:[je.HasDecoratorInputTransform,"firstVisual","firstVisual",bt],onlyVisual:[je.HasDecoratorInputTransform,"onlyVisual","onlyVisual",bt],compact:[je.HasDecoratorInputTransform,"compact","compact",bt],mode:"mode",loading:[je.HasDecoratorInputTransform,"loading","loading",bt],disabled:[je.HasDecoratorInputTransform,"disabled","disabled",bt],noColon:[je.HasDecoratorInputTransform,"noColon","noColon",bt],cleanValue:[je.HasDecoratorInputTransform,"cleanValue","cleanValue",bt],delay:[je.HasDecoratorInputTransform,"delay","delay",bt]},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],features:[cn([oo,{provide:Br,useFactory:cg,deps:[nn,wr,$t]},fr]),on,Kt],ngContentSelectors:lg,decls:6,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"nzLayout","submit"],[3,"formProperty","footer"],["class","sf-btns",3,"ngClass","fixed-label"],[1,"sf-btns",3,"ngClass","fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],["nz-icon","",3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled","click"],[3,"ngTemplateOutlet"]],template:function(n,o){n&1&&(sn(),I(0,J_,1,0,"ng-template",null,0,qe)(2,ag,2,1,"ng-template",null,1,qe),T(4,"form",2),Y("submit",function(s){return o.onSubmit(s)}),I(5,sg,1,2,"sf-item",3),P()),n&2&&(S(4),b("nzLayout",o.layout),Ye("autocomplete",o.autocomplete),S(),V(5,o.rootProperty?5:-1))},dependencies:[Fr,We,El,Sl,zl,pn,Le,fn,zt,St,tc,jr,it,Ut,Hi],encapsulation:2,changeDetection:0});let r=e;return r})();function ug(r,e){if(r&1&&ie(0,"i",11),r&2){let t=v(4);b("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipColor",t.oh.bgColor)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function dg(r,e){if(r&1&&(T(0,"span",10),ue(1),I(2,ug,1,9,"i",11),P()),r&2){let t=v(3);S(),Se(" ",t.ui.optional," "),S(),V(2,t.oh?2:-1)}}function fg(r,e){if(r&1&&(T(0,"label")(1,"span",8),ue(2),P(),I(3,dg,3,2,"span",9),P()),r&2){let t=v(2);Ee("ant-form-item-required",t.ui._required),Ye("for",t.id),S(2),Rr(t.t),S(),V(3,t.ui.optional||t.oh?3:-1)}}function pg(r,e){if(r&1&&(T(0,"div",6),I(1,fg,4,5,"label",7),P()),r&2){let t=v();b("nzSpan",t.ui.spanLabel),S(),V(1,t.t?1:-1)}}function mg(r,e){if(r&1&&(T(0,"div",12)(1,"div",13),ue(2),P()()),r&2){let t=v();b("@helpMotion",void 0),S(2),Se(" ",t.error," ")}}function hg(r,e){if(r&1&&ie(0,"div",14),r&2){let t=v();b("innerHTML",t.ui._description,yt)}}var _g=["*"],ve=(()=>{let e=class e{constructor(){this.statusSrv=Q(Ar),this._showTitle=!1,this.title=null}set showTitle(i){this._showTitle=!!i}get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}ngOnChanges(){let i=!!this.error;this.statusSrv.formStatusChanges.next({status:i?"error":"",hasFeedback:!!this.ui.feedback})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=te({type:e,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},features:[Kt],ngContentSelectors:_g,decls:8,vars:21,consts:[["nz-col","","class","ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["class","ant-form-item-explain ant-form-item-explain-connected"],["class","ant-form-item-extra",3,"innerHTML"],["nz-col","",1,"ant-form-item-label",3,"nzSpan"],[3,"ant-form-item-required"],[1,"sf__label-text"],["class","sf__optional"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],["role","alert",1,"ant-form-item-explain-error"],[1,"ant-form-item-extra",3,"innerHTML"]],template:function(n,o){n&1&&(sn(),T(0,"nz-form-item"),I(1,pg,2,2,"div",0),T(2,"div",1)(3,"div",2)(4,"div",3),ln(5),P()(),I(6,mg,3,2,"div",4)(7,hg,1,1,"div",5),P()()),n&2&&(an("width",o.ui.width,"px"),Ee("ant-form-item-has-error",o.showError)("ant-form-item-with-help",o.showError)("ant-form-item-has-success",o.ui.feedback==="success")("ant-form-item-has-warning",o.ui.feedback==="warning")("ant-form-item-has-error",o.ui.feedback==="error")("ant-form-item-is-validating",o.ui.feedback==="validating")("ant-form-item-has-feedback",o.ui.feedback),S(),V(1,o._showTitle?1:-1),S(),b("nzSpan",o.ui.spanControl)("nzOffset",o.ui.offsetControl),S(4),V(6,!o.ui.onlyVisual&&o.showError?6:-1),S(),V(7,o.schema.description?7:-1))},dependencies:[Le,zt,St,jr,it,Jt],encapsulation:2,data:{animation:[Tl]}});let r=e;return r})();var gg=(()=>{let e=class e{constructor(){this.table=Q(Ki),this.templateRef=Q(tl)}ngOnInit(){this.table._addTpl(this.path.startsWith(ze)?this.path:ze+this.path,this.templateRef)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ft({type:e,selectors:[["","sf-template",""]],inputs:{path:[je.None,"sf-template","path"]}});let r=e;return r})();var cs=(()=>{let e=class e{constructor(){this.cd=Q(un),this.injector=Q(nn),this.sfItemComp=Q(Ut),this.sfComp=Q(Ki),this.showError=!1,this.id=""}get cls(){return this.ui.class||""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(dn)}get cleanValue(){return this.sfComp?.cleanValue}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(Bt(this.sfItemComp.destroy$)).subscribe(i=>{if(i==null)return;Wr(this.ui,"errorsChanges",this.formProperty.path,i);let n=this.sfComp?.firstVisual;(n||!n&&this.sfComp?._inited)&&(this.showError=i.length>0,this.error=this.showError?i[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(i){this.formProperty.setValue(i,!1),Wr(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(i=!1){i?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ft({type:e,hostVars:2,hostBindings:function(n,o){n&2&&nl(o.cls)}});let r=e;return r})();var $e=(()=>{let e=class e extends cs{reset(i){}afterViewInit(){}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275dir=Ft({type:e,features:[ae]});let r=e;return r})(),Bd=(()=>{let e=class e extends cs{reset(i){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(Bt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275dir=Ft({type:e,features:[ae]});let r=e;return r})(),Kd=(()=>{let e=class e extends cs{reset(i){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(Bt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275dir=Ft({type:e,features:[ae]});let r=e;return r})();function vg(r,e){if(r&1&&ie(0,"i",9),r&2){let t=v(2);b("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function Cg(r,e){if(r&1){let t=he();T(0,"div",7)(1,"label"),ue(2),T(3,"span",8),ue(4),I(5,vg,1,8,"i",9),P()(),T(6,"div",10)(7,"button",11),Y("click",function(){R(t);let n=v();return F(n.addItem())}),P()()()}if(r&2){let t=v();b("nzSpan",t.ui.spanLabel),S(),Ee("ant-form-item-required",t.ui.required),S(),Se(" ",t.schema.title," "),S(2),Se(" ",t.ui.optional," "),S(),V(5,t.oh?5:-1),S(2),b("nzType",t.addType)("disabled",t.addDisabled)("innerHTML",t.addTitle,yt)}}function wg(r,e){if(r&1){let t=he();T(0,"span",16),Y("click",function(){R(t);let n=v(2).index,o=v();return F(o.removeItem(n))}),ie(1,"i",17),P()}if(r&2){let t=v(3);Ye("title",t.removeTitle)}}function bg(r,e){if(r&1&&(T(0,"div",13)(1,"nz-card"),ie(2,"sf-item",14),I(3,wg,2,1,"span",15),P()()),r&2){let t=v(),i=t.index,n=t.$implicit,o=v();b("nzSpan",o.arraySpan),Ye("data-index",i),S(2),b("formProperty",n),S(),V(3,o.showRemove?3:-1)}}function $g(r,e){if(r&1&&(ol(0),I(1,bg,4,4,"div",12),al()),r&2){let t=e.$implicit;S(),V(1,t.visible&&!t.ui.hidden?1:-1)}}function Sg(r,e){if(r&1&&(T(0,"div",18),ue(1),P()),r&2){let t=v();S(),Rr(t.error)}}function zg(r,e){if(r&1&&ie(0,"div",19),r&2){let t=v();b("innerHTML",t.ui._description,yt)}}var us=(()=>{let e=class e extends Bd{constructor(){super(...arguments),this.arraySpan=8}get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:i,addTitle:n,addType:o,removable:a,removeTitle:s}=this.ui;i&&i.arraySpan&&(this.arraySpan=i.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(n||this.l.addText),this.addType=o||"dashed",this.removeTitle=a===!1?null:s||this.l.removeText}reValid(i){this.formProperty.updateValueAndValidity(O({onlySelf:!1,emitValueEvent:!1,emitValidator:!0},i))}addItem(){let i=this.formProperty.add({});this.reValid(),this.ui.add?.(i)}removeItem(i){let n=this.formProperty.properties[i].path;this.formProperty.remove(i),this.reValid({updatePath:n,emitValueEvent:!0}),this.ui.remove?.(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-array"]],hostVars:2,hostBindings:function(n,o){n&2&&Ee("sf__array",!0)},features:[ae],decls:8,vars:10,consts:[["nz-col","","class","ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],[4,"ngFor","ngForOf"],["class","ant-form-explain"],["class","ant-form-extra",3,"innerHTML"],["nz-col","",1,"ant-form-item-label",3,"nzSpan"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__array-add"],["type","button","nz-button","",3,"nzType","disabled","innerHTML","click"],["nz-col","","class","sf__array-item",3,"nzSpan"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],["class","sf__array-remove"],[1,"sf__array-remove",3,"click"],["nz-icon","","nzType","delete"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"]],template:function(n,o){n&1&&(T(0,"nz-form-item"),I(1,Cg,8,9,"div",0),T(2,"div",1)(3,"div",2)(4,"div",3),I(5,$g,2,1,"ng-container",4),P(),I(6,Sg,2,1,"div",5)(7,zg,1,1,"div",6),P()()()),n&2&&(Ee("ant-form-item-with-help",o.showError),S(),V(1,o.schema.title?1:-1),S(),b("nzSpan",o.ui.spanControl)("nzOffset",o.ui.offsetControl),S(),Ee("has-error",o.showError),S(2),b("ngForOf",o.formProperty.properties),S(),V(6,!o.ui.onlyVisual&&o.showError?6:-1),S(),V(7,o.schema.description?7:-1))},dependencies:[ml,pn,Le,fn,vn,zt,St,jr,it,Jt,Ut],encapsulation:2});let r=e;return r})();var ds=(()=>{let e=class e extends $e{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-boolean"]],features:[ae],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading","ngModelChange"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0)(1,"nz-switch",1),Y("ngModelChange",function(s){return o.setValue(s)}),P()()),n&2&&(b("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(),b("ngModel",o.value)("nzDisabled",o.disabled)("nzSize",o.ui.size)("nzCheckedChildren",o.ui.checkedChildren)("nzUnCheckedChildren",o.ui.unCheckedChildren)("nzLoading",o.ui.loading))},dependencies:[De,Ne,nc,ve],encapsulation:2});let r=e;return r})();function Eg(r,e){if(r&1){let t=he();T(0,"label",3),wt("ngModelChange",function(n){R(t);let o=v(2);return Ct(o.allChecked,n)||(o.allChecked=n),F(n)}),Y("ngModelChange",function(){R(t);let n=v(2);return F(n.onAllChecked())}),ue(1),P()}if(r&2){let t=v(2);vt("ngModel",t.allChecked),b("nzIndeterminate",t.indeterminate),S(),Se(" ",t.ui.checkAllText||t.l.checkAllText," ")}}function xg(r,e){if(r&1&&I(0,Eg,2,3,"label",2),r&2){let t=v();V(0,t.ui.checkAll?0:-1)}}function Tg(r,e){if(r&1&&ie(0,"i",7),r&2){let t=v(3);b("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function Pg(r,e){if(r&1){let t=he();T(0,"label",5),Y("ngModelChange",function(n){R(t);let o=v(2);return F(o._setValue(n))}),ue(1),T(2,"span",6),ue(3),I(4,Tg,1,8,"i",7),P()()}if(r&2){let t=v(2);b("nzDisabled",t.disabled)("ngModel",t.value),S(),Se(" ",t.schema.title," "),S(2),Se(" ",t.ui.optional," "),S(),V(4,t.oh?4:-1)}}function Og(r,e){}function Ig(r,e){if(r&1){let t=he();I(0,Og,0,0,"ng-template",8),T(1,"nz-checkbox-group",9),Y("ngModelChange",function(){R(t);let n=v(3);return F(n.notifySet())}),P()}if(r&2){let t=v(3),i=Ie(1);b("ngTemplateOutlet",i),S(),b("ngModel",t.data)}}function Dg(r,e){}function Ng(r,e){if(r&1&&(T(0,"div",12),I(1,Dg,0,0,"ng-template",8),P()),r&2){let t=v(4),i=Ie(1);b("nzSpan",t.grid_span),S(),b("ngTemplateOutlet",i)}}function Vg(r,e){if(r&1&&(T(0,"div",12)(1,"label",13),ue(2),P()()),r&2){let t=e.$implicit,i=v(4);b("nzSpan",i.grid_span),S(),b("nzValue",t.value)("ngModel",t.checked)("nzDisabled",t.disabled),S(),Se(" ",t.label," ")}}function kg(r,e){if(r&1){let t=he();T(0,"nz-checkbox-wrapper",10),Y("nzOnChange",function(n){R(t);let o=v(3);return F(o.groupInGridChange(n))}),T(1,"div",11),I(2,Ng,2,2,"div",12),tt(3,Vg,3,5,"div",12,et),P()()}if(r&2){let t=v(3);S(2),V(2,t.ui.checkAll?2:-1),S(),rt(t.data)}}function Mg(r,e){if(r&1&&I(0,Ig,2,2)(1,kg,5,1),r&2){let t=v(2);V(0,t.grid_span===0?0:1)}}function Rg(r,e){if(r&1&&I(0,Pg,5,5,"label",4)(1,Mg,2,1),r&2){let t=v();V(0,t.data.length===0?0:1)}}var fs=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.data=[],this.allChecked=!1,this.indeterminate=!1,this.labelTitle="",this.inited=!1}reset(i){this.inited=!1,Lr(this.schema,this.ui,i).subscribe(n=>{this.data=n,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=n.length===0?"":this.schema.title;let{span:o}=this.ui;this.grid_span=o&&o>0?o:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(i){this.setValue(i),this.detectChanges(),this.notifyChange(i)}notifySet(){let i=this.data.filter(n=>n.checked);this.updateAllChecked().setValue(i.map(n=>n.value)),this.notifyChange(i)}groupInGridChange(i){this.data.forEach(n=>n.checked=i.indexOf(n.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(i=>i.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(i=>i.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(i=>i.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(i){this.ui.change&&this.ui.change(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-checkbox"]],features:[ae],decls:4,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","","class","sf__checkbox-all mr-sm",3,"ngModel","nzIndeterminate"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModel","nzIndeterminate","ngModelChange"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-checkbox","",3,"nzDisabled","ngModel","ngModelChange"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[3,"ngTemplateOutlet"],[3,"ngModel","ngModelChange"],[1,"sf__checkbox-list",3,"nzOnChange"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(n,o){n&1&&(I(0,xg,1,1,"ng-template",null,0,qe),T(2,"sf-item-wrap",1),I(3,Rg,2,1),P()),n&2&&(S(2),b("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",!0)("title",o.labelTitle),S(),V(3,o.inited?3:-1))},dependencies:[We,De,Ne,Le,Ol,Il,Pl,zt,St,it,Jt,ve],encapsulation:2});let r=e;return r})();function Fg(r,e){}var Ag=(r,e,t)=>({$implicit:r,schema:e,ui:t}),ps=(()=>{let e=class e extends $e{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-custom"]],features:[ae],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0),I(1,Fg,0,0,"ng-template",1),P()),n&2&&(b("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(),b("ngTemplateOutlet",o.ui._render)("ngTemplateOutletContext",fl(8,Ag,o,o.schema,o.ui)))},dependencies:[We,ve],encapsulation:2});let r=e;return r})();function jg(r,e){if(r&1){let t=he();T(0,"nz-year-picker",1),wt("ngModelChange",function(n){R(t);let o=v();return Ct(o.displayValue,n)||(o.displayValue=n),F(n)}),Y("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))}),P()}if(r&2){let t=v();b("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat),vt("ngModel",t.displayValue),b("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function qg(r,e){if(r&1){let t=he();T(0,"nz-month-picker",1),wt("ngModelChange",function(n){R(t);let o=v();return Ct(o.displayValue,n)||(o.displayValue=n),F(n)}),Y("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))}),P()}if(r&2){let t=v();b("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat),vt("ngModel",t.displayValue),b("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function Wg(r,e){if(r&1){let t=he();T(0,"nz-week-picker",2),wt("ngModelChange",function(n){R(t);let o=v();return Ct(o.displayValue,n)||(o.displayValue=n),F(n)}),Y("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))}),P()}if(r&2){let t=v();b("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat),vt("ngModel",t.displayValue),b("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function Lg(r,e){if(r&1){let t=he();T(0,"nz-range-picker",3),wt("ngModelChange",function(n){R(t);let o=v();return Ct(o.displayValue,n)||(o.displayValue=n),F(n)}),Y("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))})("nzOnOk",function(n){R(t);let o=v();return F(o._ok(n))}),P()}if(r&2){let t=v();b("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat),vt("ngModel",t.displayValue),b("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzDisabledTime",t.ui.disabledTime)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzRanges",t.ui.ranges)("nzShowTime",t.ui.showTime)("nzSeparator",t.ui.separator)("nzShowWeekNumber",t.ui.showWeekNumber||!1)("nzMode",t.ui.rangeMode)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}function Ug(r,e){if(r&1){let t=he();T(0,"nz-date-picker",4),wt("ngModelChange",function(n){R(t);let o=v();return Ct(o.displayValue,n)||(o.displayValue=n),F(n)}),Y("ngModelChange",function(n){R(t);let o=v();return F(o._change(n))})("nzOnOpenChange",function(n){R(t);let o=v();return F(o._openChange(n))})("nzOnOk",function(n){R(t);let o=v();return F(o._ok(n))}),P()}if(r&2){let t=v();b("nzId",t.id)("nzDisabled",t.disabled)("nzSize",t.ui.size)("nzFormat",t.displayFormat),vt("ngModel",t.displayValue),b("nzAllowClear",t.i.allowClear)("ngClass",t.ui.className)("nzDisabledDate",t.ui.disabledDate)("nzLocale",t.ui.locale)("nzPlaceHolder",t.ui.placeholder)("nzPopupStyle",t.ui.popupStyle)("nzDropdownClassName",t.ui.dropdownClassName)("nzDisabledTime",t.ui.disabledTime)("nzRenderExtraFooter",t.ui.renderExtraFooter)("nzShowTime",t.ui.showTime)("nzShowToday",t.i.showToday)("nzShowWeekNumber",t.ui.showWeekNumber||!1)("nzInputReadOnly",t.ui.inputReadOnly)("nzInline",t.ui.inline)}}var ms=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.flatRange=!1,this.displayValue=null}ngOnInit(){let{mode:i,end:n,displayFormat:o,allowClear:a,showToday:s}=this.ui;if(this.mode=i||"date",this.flatRange=n!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let u=this.endProperty.ui;this.endFormat=u.format?u._format:this.startFormat}if(o)this.displayFormat=o;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:Me(a,!0),showToday:Me(s,!0)}}reset(i){let n={formatString:this.startFormat,defaultValue:null};if(Array.isArray(i)?i=i.map(o=>hn(o,n)):i=hn(i,n),this.flatRange){let o=hn(this.endProperty.formData,{formatString:this.endFormat||this.startFormat,defaultValue:null});this.displayValue=i==null||o==null?[]:[i,o]}else this.displayValue=i;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(i,n=!0){if(n&&this.ui.change&&this.ui.change(i),i==null||Array.isArray(i)&&i.length<2){this.setValue(null),this.setEnd(null);return}let o=Array.isArray(i)?[mn(i[0],this.startFormat),mn(i[1],this.endFormat||this.startFormat)]:mn(i,this.startFormat);this.flatRange?(this.setValue(o[0]),this.setEnd(o[1])):this.setValue(o)}_openChange(i){this.ui.onOpenChange&&this.ui.onOpenChange(i)}_ok(i){this.ui.onOk&&this.ui.onOk(i)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(i){this.flatRange&&(this.endProperty.setValue(i,!0),this.endProperty.updateValueAndValidity())}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-date"]],features:[ae],decls:6,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange","nzOnOk"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange","nzOnOk"]],template:function(n,o){if(n&1&&(T(0,"sf-item-wrap",0),I(1,jg,1,15)(2,qg,1,15)(3,Wg,1,14)(4,Lg,1,21)(5,Ug,1,19),P()),n&2){let a;b("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(),V(1,(a=o.mode)==="year"?1:a==="month"?2:a==="week"?3:a==="range"?4:5)}},dependencies:[Fr,De,Ne,Gl,Xl,Jl,Ql,Zl,ve],encapsulation:2});let r=e;return r})();var Hg=r=>({"ant-input-number__hide-step":r}),so=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.formatter=i=>i,this.parser=i=>i,this.width=""}ngOnInit(){let{minimum:i,exclusiveMinimum:n,maximum:o,exclusiveMaximum:a,multipleOf:s,type:u}=this.schema;this.step=s||1,typeof i<"u"&&(this.min=n?i+this.step:i),typeof o<"u"&&(this.max=a?o-this.step:o),u==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let p=this.ui;p.prefix!=null&&(p.formatter=f=>f==null?"":`${p.prefix} ${f}`,p.parser=f=>f.replace(`${p.prefix} `,"")),p.unit!=null&&(p.formatter=f=>f==null?"":`${f} ${p.unit}`,p.parser=f=>f.replace(` ${p.unit}`,"")),p.formatter&&(this.formatter=p.formatter),p.parser&&(this.parser=p.parser),this.width=typeof p.widgetWidth=="number"?`${p.widgetWidth}px`:p.widgetWidth??"90px"}_setValue(i){this.setValue(this.schema.type==="integer"?Math.floor(i):i),this.ui.change&&this.ui.change(this.value)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-number"]],features:[ae],decls:2,vars:22,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder","ngClass","ngModelChange"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0)(1,"nz-input-number",1),Y("ngModelChange",function(s){return o._setValue(s)}),P()()),n&2&&(b("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(),an("width",o.width),b("nzId",o.id)("ngModel",o.value)("nzDisabled",o.disabled)("nzSize",o.ui.size)("nzMin",o.min)("nzMax",o.max)("nzStep",o.step)("nzFormatter",o.formatter)("nzParser",o.parser)("nzPrecision",o.ui.precision)("nzPlaceHolder",o.ui.placeholder||"")("ngClass",dl(20,Hg,o.ui.hideStep)))},dependencies:[Fr,De,Ne,Bl,ve],encapsulation:2});let r=e;return r})();function Bg(r,e){if(r&1&&(T(0,"div",4),ue(1),P()),r&2){let t=v(2);S(),Rr(t.title)}}function Kg(r,e){if(r&1&&(T(0,"div",5),ie(1,"sf-item",6),P()),r&2){let t=v().$implicit;b("nzSpan",t.grid.span)("nzOffset",t.grid.offset)("nzXs",t.grid.xs)("nzSm",t.grid.sm)("nzMd",t.grid.md)("nzLg",t.grid.lg)("nzXl",t.grid.xl)("nzXXl",t.grid.xxl),S(),b("formProperty",t.property)("fixed-label",t.spanLabelFixed)}}function Gg(r,e){if(r&1&&I(0,Kg,2,10,"div",5),r&2){let t=e.$implicit;V(0,t.property.visible&&t.show?0:-1)}}function Jg(r,e){if(r&1&&(T(0,"div",3),tt(1,Gg,1,1,null,null,et),P()),r&2){let t=v(2);b("nzGutter",t.grid.gutter),S(),rt(t.list)}}function Xg(r,e){if(r&1&&ie(0,"sf-item",6),r&2){let t=v().$implicit;b("formProperty",t.property)("fixed-label",t.spanLabelFixed)}}function Zg(r,e){if(r&1&&I(0,Xg,1,2,"sf-item",6),r&2){let t=e.$implicit;V(0,t.property.visible&&t.show?0:-1)}}function Qg(r,e){if(r&1&&tt(0,Zg,1,1,null,null,et),r&2){let t=v(2);rt(t.list)}}function Yg(r,e){if(r&1&&I(0,Bg,2,1,"div",2)(1,Jg,3,1,"div",3)(2,Qg,2,0),r&2){let t=e.$implicit,i=v();V(0,!t&&i.title?0:-1),S(),V(1,i.grid?1:2)}}function ey(r,e){if(r&1&&ie(0,"i",13),r&2){let t=v(3);b("nzType",t.expand?"down":"up")}}function ty(r,e){if(r&1&&ie(0,"i",15),r&2){let t=v(4);b("nzTooltipTitle",t.oh.text)("nzTooltipPlacement",t.oh.placement)("nzTooltipTrigger",t.oh.trigger)("nzTooltipColor",t.oh.bgColor)("nzTooltipOverlayClassName",t.oh.overlayClassName)("nzTooltipOverlayStyle",t.oh.overlayStyle)("nzTooltipMouseEnterDelay",t.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",t.oh.mouseLeaveDelay)("nzType",t.oh.icon)}}function ry(r,e){if(r&1&&(T(0,"span",14),ue(1),I(2,ty,1,9,"i",15),P()),r&2){let t=v(3);S(),Se(" ",t.ui.optional," "),S(),V(2,t.oh?2:-1)}}function iy(r,e){if(r&1){let t=he();T(0,"div",10),Y("click",function(){R(t);let n=v(2);return F(n.changeExpand())}),I(1,ey,1,1,"i",11),ue(2),I(3,ry,3,2,"span",12),P()}if(r&2){let t=v(2);Ee("point",t.showExpand),S(),V(1,t.showExpand?1:-1),S(),Se(" ",t.title," "),S(),V(3,t.ui.optional||t.oh?3:-1)}}function ny(r,e){}var oy=()=>[],ay=()=>({$implicit:!0});function sy(r,e){if(r&1&&(T(0,"nz-card",7),I(1,iy,4,5,"ng-template",null,8,qe)(3,ny,0,0,"ng-template",9),P()),r&2){let t=Ie(2),i=v(),n=Ie(1);Ee("sf__object-card-fold",!i.expand),b("nzTitle",t)("nzExtra",i.ui.cardExtra)("nzSize",i.ui.cardSize||"small")("nzActions",i.ui.cardActions||go(11,oy))("nzBodyStyle",i.ui.cardBodyStyle)("nzBordered",i.ui.cardBordered||!0)("nzBorderless",i.ui.cardBorderless||!1),S(3),b("ngTemplateOutlet",n)("ngTemplateOutletContext",go(12,ay))}}function ly(r,e){}function cy(r,e){if(r&1&&I(0,ly,0,0,"ng-template",16),r&2){v();let t=Ie(1);b("ngTemplateOutlet",t)}}var hs=(()=>{let e=class e extends Kd{constructor(){super(...arguments),this.type="default",this.list=[],this.showExpand=!0,this.expand=!0}ngOnInit(){let{formProperty:i,ui:n}=this,{grid:o,showTitle:a,type:s}=n;this.showExpand=Me(n.showExpand,!0),this.expand=Me(n.expand,!0),this.type=s??"default",(this.type==="card"||!i.isRoot()&&!(i.parent instanceof Hr)&&a===!0)&&(this.title=this.schema.title),this.grid=o;let u=[];for(let p of i.propertiesId){let f=i.properties[p],m={property:f,grid:f.ui.grid||o||{},spanLabelFixed:f.ui.spanLabelFixed,show:f.ui.hidden===!1};u.push(m)}this.list=u}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-object"]],features:[ae],decls:4,vars:1,consts:[["default",""],["class","sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless","sf__object-card-fold"],["class","sf__title"],["nz-row","",3,"nzGutter"],[1,"sf__title"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless"],["cardTitleTpl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],["nz-icon","","class","mr-xs text-xs",3,"nzType"],["class","sf__optional"],["nz-icon","",1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["s","","nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[3,"ngTemplateOutlet"]],template:function(n,o){n&1&&I(0,Yg,3,2,"ng-template",null,0,qe)(2,sy,4,13,"nz-card",1)(3,cy,1,1),n&2&&(S(2),V(2,o.type==="card"?2:3))},dependencies:[We,Le,vn,zt,St,it,Jt,Ut,Hi],encapsulation:2});let r=e;return r})();function uy(r,e){if(r&1&&(T(0,"label",2),ie(1,"span",3),P()),r&2){let t=e.$implicit,i=v(2);b("nzValue",t.value)("nzDisabled",i.disabled||t.disabled),S(),b("innerHTML",t.label,yt)}}function dy(r,e){if(r&1&&tt(0,uy,2,3,"label",2,et),r&2){let t=v();rt(t.data)}}function fy(r,e){if(r&1&&(T(0,"label",4),ie(1,"span",3),P()),r&2){let t=e.$implicit,i=v(2);b("nzValue",t.value)("nzDisabled",i.disabled||t.disabled),S(),b("innerHTML",t.label,yt)}}function py(r,e){if(r&1&&tt(0,fy,2,3,"label",4,et),r&2){let t=v();rt(t.data)}}var _s=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.data=[]}reset(i){this.styleType=(this.ui.styleType||"default")==="default",Lr(this.schema,this.ui,i).subscribe(n=>{this.data=n,this.detectChanges()})}_setValue(i){this.setValue(i),this.ui.change&&this.ui.change(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-radio"]],features:[ae],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzSize","nzName","ngModel","nzButtonStyle","ngModelChange"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0)(1,"nz-radio-group",1),Y("ngModelChange",function(s){return o._setValue(s)}),I(2,dy,2,0)(3,py,2,0),P()()),n&2&&(b("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(),b("nzSize",o.ui.size)("nzName",o.id)("ngModel",o.value)("nzButtonStyle",o.ui.buttonStyle||"outline"),S(),V(2,o.styleType?2:3))},dependencies:[De,Ne,Vl,Nl,ve],encapsulation:2});let r=e;return r})();function my(r,e){if(r&1&&ie(0,"nz-option",3),r&2){let t=e.$implicit;b("nzLabel",t.label)("nzValue",t.value)("nzHide",t.hide)("nzDisabled",t.disabled)}}function hy(r,e){if(r&1&&tt(0,my,1,4,"nz-option",3,et),r&2){let t=v();rt(t.data)}}function _y(r,e){if(r&1&&ie(0,"nz-option",5),r&2){let t=e.$implicit;b("nzLabel",t.label)("nzValue",t.value)("nzDisabled",t.disabled)("nzHide",t.hide)}}function gy(r,e){if(r&1&&(T(0,"nz-option-group",4),tt(1,_y,1,4,"nz-option",5,et),P()),r&2){let t=e.$implicit;b("nzLabel",t.label),S(),rt(t.children)}}function yy(r,e){if(r&1&&tt(0,gy,3,1,"nz-option-group",4,et),r&2){let t=v();rt(t.data)}}function vy(r,e){if(r&1&&(T(0,"nz-option",2),ie(1,"i",6),ue(2),P()),r&2){let t=v();S(2),Se(" ",t.ui.searchLoadingText," ")}}var gs=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.search$=new Nr,this.data=[],this.hasGroup=!1,this.loading=!1}checkGroup(i){this.hasGroup=(i||[]).filter(n=>n.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:i,borderless:n,autoFocus:o,dropdownMatchSelectWidth:a,serverSearch:s,maxMultipleCount:u,mode:p,showSearch:f,tokenSeparators:m,maxTagCount:$,compareWith:C,optionHeightPx:w,optionOverflowSize:y,showArrow:z}=this.ui;this.i={autoClearSearchValue:Me(i,!0),borderless:Me(n,!1),autoFocus:Me(o,!1),dropdownMatchSelectWidth:Me(a,!0),serverSearch:Me(s,!1),maxMultipleCount:u||1/0,mode:p||"default",showSearch:Me(f,!0),tokenSeparators:m||[],maxTagCount:$||void 0,optionHeightPx:w||32,optionOverflowSize:y||8,showArrow:typeof z!="boolean"?void 0:z,compareWith:C||((D,A)=>D===A)};let g=this.ui.onSearch;g&&this.search$.pipe(Bt(this.sfItemComp.destroy$),en(),Yi(this.ui.searchDebounceTime||300),tn(D=>g(D)),Gs(()=>[])).subscribe(D=>{this.data=D,this.checkGroup(D),this.loading=!1,this.detectChanges()})}reset(i){let n=this.ui.onSearch;Lr(this.schema,this.ui,i).subscribe(o=>{this._value=i,n==null&&(this.data=o),this.checkGroup(o),this.detectChanges()}),i&&n!=null&&this.search$.next(i)}change(i){this.ui.change&&this.ui.change(i,this.getOrgData(i)),this.setValue(i??void 0)}getOrgData(i){let n=this.injector.get(ac);return Array.isArray(i)?i.map(o=>n.findTree(this.data,a=>a.value===o)):n.findTree(this.data,o=>o.value===i)}openChange(i){this.ui.openChange&&this.ui.openChange(i)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(i){this.ui.onSearch&&(this.loading=!0,this.search$.next(i))}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-select"]],features:[ae],decls:5,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzBorderless","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize","ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom"],["nzDisabled","","nzCustomContent",""],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nz-icon","","nzType","loading"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0)(1,"nz-select",1),wt("ngModelChange",function(s){return Ct(o._value,s)||(o._value=s),s}),Y("ngModelChange",function(s){return o.change(s)})("nzOpenChange",function(s){return o.openChange(s)})("nzOnSearch",function(s){return o.onSearch(s)})("nzScrollToBottom",function(){return o.scrollToBottom()}),I(2,hy,2,0)(3,yy,2,0)(4,vy,3,1,"nz-option",2),P()()),n&2&&(b("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(),b("nzId",o.id)("nzDisabled",o.disabled),vt("ngModel",o._value),b("nzSize",o.ui.size)("nzPlaceHolder",o.ui.placeholder)("nzNotFoundContent",o.ui.notFoundContent)("nzDropdownClassName",o.ui.dropdownClassName)("nzAllowClear",o.ui.allowClear)("nzDropdownStyle",o.ui.dropdownStyle)("nzCustomTemplate",o.ui.customTemplate)("nzSuffixIcon",o.ui.suffixIcon)("nzRemoveIcon",o.ui.removeIcon)("nzClearIcon",o.ui.clearIcon)("nzMenuItemSelectedIcon",o.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",o.ui.maxTagPlaceholder)("nzDropdownRender",o.ui.dropdownRender)("nzAutoClearSearchValue",o.i.autoClearSearchValue)("nzBorderless",o.i.borderless)("nzAutoFocus",o.i.autoFocus)("nzDropdownMatchSelectWidth",o.i.dropdownMatchSelectWidth)("nzServerSearch",o.i.serverSearch)("nzMaxMultipleCount",o.i.maxMultipleCount)("nzMode",o.i.mode)("nzShowSearch",o.i.showSearch)("nzShowArrow",o.i.showArrow)("nzTokenSeparators",o.i.tokenSeparators)("nzMaxTagCount",o.i.maxTagCount)("compareWith",o.i.compareWith)("nzOptionHeightPx",o.i.optionHeightPx)("nzOptionOverflowSize",o.i.optionOverflowSize),S(),V(2,!o.loading&&!o.hasGroup?2:-1),S(),V(3,!o.loading&&o.hasGroup?3:-1),S(),V(4,o.loading?4:-1))},dependencies:[De,Ne,Le,it,Fl,Al,Rl,ve],encapsulation:2});let r=e;return r})();function wy(r,e){if(r&1){let t=he();T(0,"input",3),Y("ngModelChange",function(n){R(t);let o=v();return F(o.change(n))})("keyup.enter",function(n){R(t);let o=v();return F(o.enter(n))})("focus",function(n){R(t);let o=v();return F(o.focus(n))})("blur",function(n){R(t);let o=v();return F(o.blur(n))}),P()}if(r&2){let t=v();b("disabled",t.disabled)("nzSize",t.ui.size)("nzBorderless",t.ui.borderless)("ngModel",t.value),Ye("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength||null)("type",t.ui.type||"text")("placeholder",t.ui.placeholder)("autocomplete",t.ui.autocomplete)("autoFocus",t.ui.autofocus)}}function by(r,e){}function $y(r,e){if(r&1&&(T(0,"nz-input-group",2),I(1,by,0,0,"ng-template",4),P()),r&2){let t=v(),i=Ie(2);b("nzAddOnBefore",t.ui.addOnBefore)("nzAddOnAfter",t.ui.addOnAfter)("nzAddOnBeforeIcon",t.ui.addOnBeforeIcon)("nzAddOnAfterIcon",t.ui.addOnAfterIcon)("nzPrefix",t.ui.prefix)("nzPrefixIcon",t.ui.prefixIcon)("nzSuffix",t.ui.suffix)("nzSuffixIcon",t.ui.suffixIcon),S(),b("ngTemplateOutlet",i)}}function Sy(r,e){}function zy(r,e){if(r&1&&I(0,Sy,0,0,"ng-template",4),r&2){v();let t=Ie(2);b("ngTemplateOutlet",t)}}var lo=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.change$=null}ngOnInit(){let{addOnAfter:i,addOnAfterIcon:n,addOnBefore:o,addOnBeforeIcon:a,prefix:s,prefixIcon:u,suffix:p,suffixIcon:f,autofocus:m}=this.ui;this.type=i||o||n||a||s||u||p||f?"addon":"",m===!0&&setTimeout(()=>{this.injector.get(rn).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(i){!i&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let i=this.ui.changeDebounceTime,n=this.ui.change;if(i==null||i<=0||n==null)return;this.change$=new Vr(this.value);let o=this.change$.asObservable().pipe(Yi(i),Bt(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(o=o.pipe(tn(this.ui.changeMap))),o.subscribe(a=>n(a))}change(i){if(this.setValue(i),this.change$!=null){this.change$.next(i);return}this.ui.change&&this.ui.change(i)}focus(i){this.ui.focus&&this.ui.focus(i)}blur(i){this.ui.blur&&this.ui.blur(i)}enter(i){this.ui.enter&&this.ui.enter(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-string"]],features:[ae],decls:5,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],["ipt",""],[3,"nzAddOnBefore","nzAddOnAfter","nzAddOnBeforeIcon","nzAddOnAfterIcon","nzPrefix","nzPrefixIcon","nzSuffix","nzSuffixIcon"],["nz-input","",3,"disabled","nzSize","nzBorderless","ngModel","ngModelChange","keyup.enter","focus","blur"],[3,"ngTemplateOutlet"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0),I(1,wy,1,11,"ng-template",null,1,qe)(3,$y,2,9,"nz-input-group",2)(4,zy,1,1),P()),n&2&&(b("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(3),V(3,o.type==="addon"?3:4))},dependencies:[We,_n,De,Ne,Le,yn,Wl,ql,ve],encapsulation:2});let r=e;return r})();function Ey(r,e){if(r&1&&ie(0,"span",1),r&2){let t=v();b("innerHTML",t.text,yt)}}function xy(r,e){if(r&1&&ie(0,"span",2),r&2){let t=v();b("innerText",t.text)}}var ys=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.text=""}ngOnInit(){this.ui._required=!1,this.ui.html=Me(this.ui.html,!0)}reset(i){this.text=i||this.ui.defaultText||"-"}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-text"]],features:[ae],decls:3,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0),I(1,Ey,1,1,"span",1)(2,xy,1,1),P()),n&2&&(Ee("sf__text-html",o.ui.html),b("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(),V(1,o.ui.html?1:2))},dependencies:[ve],encapsulation:2});let r=e;return r})();function Ty(r,e){if(r&1){let t=he();T(0,"textarea",3),Y("ngModelChange",function(n){R(t);let o=v();return F(o.change(n))})("focus",function(n){R(t);let o=v();return F(o.focus(n))})("blur",function(n){R(t);let o=v();return F(o.blur(n))}),ue(1,"      "),P()}if(r&2){let t=v();b("disabled",t.disabled)("nzSize",t.ui.size)("ngModel",t.value)("nzAutosize",t.autosize)("nzBorderless",t.ui.borderless),Ye("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength||null)("placeholder",t.ui.placeholder)}}function Py(r,e){if(r&1){let t=he();T(0,"nz-textarea-count",2)(1,"textarea",3),Y("ngModelChange",function(n){R(t);let o=v();return F(o.change(n))})("focus",function(n){R(t);let o=v();return F(o.focus(n))})("blur",function(n){R(t);let o=v();return F(o.blur(n))}),ue(2,"        "),P()()}if(r&2){let t=v();b("nzMaxCharacterCount",t.ui.maxCharacterCount)("nzComputeCharacterCount",t.ui.computeCharacterCount),S(),b("disabled",t.disabled)("nzSize",t.ui.size)("ngModel",t.value)("nzAutosize",t.autosize)("nzBorderless",t.ui.borderless),Ye("id",t.id)("disabled",t.disabled)("maxLength",t.schema.maxLength||null)("placeholder",t.ui.placeholder)}}function Oy(r,e){}function Iy(r,e){if(r&1&&I(0,Oy,0,0,"ng-template",4),r&2){v();let t=Ie(2);b("ngTemplateOutlet",t)}}var vs=(()=>{let e=class e extends $e{constructor(){super(...arguments),this.autosize=!0}ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=i=>i.length)}change(i){this.setValue(i),this.ui.change&&this.ui.change(i)}focus(i){this.ui.focus&&this.ui.focus(i)}blur(i){this.ui.blur&&this.ui.blur(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=oe(e)))(o||e)}})(),e.\u0275cmp=te({type:e,selectors:[["sf-textarea"]],features:[ae],decls:5,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],["ipt",""],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],["nz-input","",3,"disabled","nzSize","ngModel","nzAutosize","nzBorderless","ngModelChange","focus","blur"],[3,"ngTemplateOutlet"]],template:function(n,o){n&1&&(T(0,"sf-item-wrap",0),I(1,Ty,2,9,"ng-template",null,1,qe)(3,Py,3,11,"nz-textarea-count",2)(4,Iy,1,1),P()),n&2&&(b("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),S(3),V(3,o.ui.maxCharacterCount?3:4))},dependencies:[We,_n,De,Ne,Ul,yn,Ll,ve],encapsulation:2});let r=e;return r})();var li=class extends It{constructor(){super(),this.register("object",hs),this.register("array",us),this.register("text",ys),this.register("string",lo),this.register("number",so),this.register("integer",so),this.register("date",ms),this.register("radio",_s),this.register("checkbox",fs),this.register("boolean",ds),this.register("textarea",vs),this.register("select",gs),this.register("custom",ps),this.setDefault(lo)}};var Dy=[Cl,ic,Dl,Yl,rc,ec,vl,Hl,Kl,wl,kl,jl,oc,Ml];var t$=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:wr,useClass:no,deps:[$t,Gt]},{provide:It,useClass:li}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xs({type:e}),e.\u0275inj=Zs({imports:[hl,xl,$l,Dy]});let r=e;return r})();function l$(r){let e=[{provide:wr,useClass:no,deps:[$t,Gt]},{provide:It,useClass:li}];return r?.widgets&&e.push({provide:Qs,multi:!0,useValue:()=>{let t=Q(It);r?.widgets?.forEach(i=>t.register(i.KEY,i.type))}}),Ys(e)}export{Me as a,cc as b,Pf as c,Lr as d,Ki as e,ve as f,gg as g,$e as h,t$ as i,l$ as j};
