import{d as pt,f as gt,h as zt,i as Ce}from"./chunk-AMGAULNX.js";import{a as ht,b as ft}from"./chunk-4BBGKM36.js";import{a as dt,g as ct,m as mt,v as ut}from"./chunk-O3M7IHAF.js";import{$a as Fe,Ac as Ge,Ag as ot,Ba as Oe,Cb as E,Cc as Xe,Ch as lt,Db as he,Eb as fe,Gb as Ve,Gc as se,Hb as Le,Hc as O,Ia as C,Ib as Ue,Ic as ze,Ig as st,J as q,Jb as $e,Jg as rt,Kb as pe,Ke as et,L as ve,La as me,Lb as ne,Ld as D,Mb as ge,Me as tt,Nd as Je,Ob as $,Oc as qe,P as _e,Qa as A,Ra as ue,Rb as _,Sb as W,Tb as We,Ua as Te,Wa as x,Wc as Ze,X as Re,Xd as Qe,Ya as ee,Z as ye,ca as Me,da as Ie,db as te,dh as at,ea as de,ec as je,fb as y,h as ae,ha as S,hb as M,kb as xe,la as V,lb as Pe,m as G,ma as L,mb as v,nb as w,o as X,ob as b,pa as De,pb as P,pc as He,ra as Z,s as Ee,sg as re,t as le,ta as ce,tb as Be,tc as ie,tg as j,ub as ke,uc as Ye,ug as nt,vg as it,wa as J,wb as U,xa as Ae,ya as Q,yc as oe,z as Ne,zb as I,zc as Ke}from"./chunk-BCFC3QQ2.js";var yt=["content"],Mt=["nz-segmented-item",""],wt=["*"];function It(i,c){}function Dt(i,c){if(i&1&&(w(0,"span"),x(1,It,0,0,"ng-template",3),b()),i&2){E(2);let r=ge(5);C(),v("ngTemplateOutlet",r)}}function At(i,c){if(i&1&&(w(0,"span",4),P(1,"nz-icon",5),b(),y(2,Dt,2,1,"span")),i&2){let r=E();C(),v("nzType",c),C(),M(r.hasLabel()?2:-1)}}function Ot(i,c){}function Tt(i,c){if(i&1&&x(0,Ot,0,0,"ng-template",3),i&2){E();let r=ge(5);v("ngTemplateOutlet",r)}}function Ft(i,c){i&1&&fe(0)}var xt=(i,c)=>c.value;function Pt(i,c){if(i&1){let r=U();w(0,"div",1),I("@thumbMotion.done",function(u){V(r);let d=E();return L(d.handleThumbAnimationDone(u))}),b()}if(i&2){let r=E();v("@thumbMotion",r.animationState)}}function Bt(i,c){if(i&1&&(w(0,"label",2),_(1),b()),i&2){let r=c.$implicit;v("nzIcon",r.icon)("nzValue",r.value)("nzDisabled",r.disabled),C(),We(" ",r.label," ")}}function kt(i,c){if(i&1&&xe(0,Bt,2,4,"label",2,xt),i&2){let r=E();Pe(r.normalizedOptions)}}var we=(()=>{class i{name=ce(null);selected$=new X(1);activated$=new X(1);change$=new G;disabled$=new X(1);animationDone$=new G;keydown$=new G;ngOnDestroy(){this.selected$.complete(),this.activated$.complete(),this.change$.complete(),this.disabled$.complete(),this.animationDone$.complete(),this.keydown$.complete()}static \u0275fac=function(a){return new(a||i)};static \u0275prov=Ie({token:i,factory:i.\u0275fac})}return i})(),H=(()=>{class i{service=S(we);elementRef=S(Q);destroyRef=S(Z);templateRef=Ke.required("content",{read:me});nzValue=oe.required();nzIcon=oe();nzDisabled=oe(!1,{transform:O});hasLabel=ie(()=>this.templateRef().createEmbeddedView({}).rootNodes.some(r=>r.textContent.trim().length>0));name=this.service.name.asReadonly();isChecked=ce(!1);parentDisabled=Je(this.service.disabled$,{initialValue:!1});finalDisabled=ie(()=>this.nzDisabled()||this.parentDisabled());ngOnInit(){this.service.selected$.pipe(ye(r=>{this.isChecked.set(!1),r===this.nzValue()&&this.service.activated$.next(this.elementRef.nativeElement)}),Re(r=>this.service.animationDone$.pipe(q(a=>a.toState==="to"||a.toState==="toVertical"),_e(1),Ne(()=>r))),q(r=>r===this.nzValue()),D(this.destroyRef)).subscribe(()=>this.isChecked.set(!0))}handleClick(){!this.nzDisabled()&&!this.parentDisabled()&&(this.service.selected$.next(this.nzValue()),this.service.change$.next(this.nzValue()))}handleKeydown(r){this.finalDisabled()||(r.keyCode===37||r.keyCode===39||r.keyCode===38||r.keyCode===40)&&this.service.keydown$.next(r)}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=A({type:i,selectors:[["label","nz-segmented-item",""],["label","nzSegmentedItem",""]],viewQuery:function(a,u){a&1&&pe(u.templateRef,yt,5,me),a&2&&ne()},hostAttrs:[1,"ant-segmented-item"],hostVars:4,hostBindings:function(a,u){a&1&&I("click",function(){return u.handleClick()})("keydown",function(o){return u.handleKeydown(o)}),a&2&&$("ant-segmented-item-selected",u.isChecked())("ant-segmented-item-disabled",u.finalDisabled())},inputs:{nzValue:[1,"nzValue"],nzIcon:[1,"nzIcon"],nzDisabled:[1,"nzDisabled"]},exportAs:["nzSegmentedItem"],attrs:Mt,ngContentSelectors:wt,decls:6,vars:5,consts:[["content",""],["type","radio",1,"ant-segmented-item-input",3,"click","disabled","checked"],[1,"ant-segmented-item-label"],[3,"ngTemplateOutlet"],[1,"ant-segmented-item-icon"],[3,"nzType"]],template:function(a,u){if(a&1){let d=U();he(),w(0,"input",1),I("click",function(h){return V(d),L(h.stopPropagation())}),b(),w(1,"div",2),y(2,At,3,2)(3,Tt,1,1,null,3),b(),x(4,Ft,1,0,"ng-template",null,0,He)}if(a&2){let d;v("disabled",u.finalDisabled())("checked",u.isChecked()),te("name",u.name()),C(),te("aria-selected",u.isChecked()),C(),M((d=u.nzIcon())?2:3,d)}},dependencies:[j,re,qe],encapsulation:2,changeDetection:0})}return i})();function Vt(i){return i.map(c=>typeof c=="string"||typeof c=="number"?{label:`${c}`,value:c}:c)}var Lt="segmented",bt=(()=>{var a;let i,c=[],r=[];return a=class{_nzModuleName=Lt;nzConfigService=S(et);cdr=S(se);service=S(we);injector=S(De);dir=S(Qe).valueSignal;nzBlock=!1;nzDisabled=!1;nzOptions=[];nzVertical=!1;nzShape="default";nzSize=le(this,c,"default");nzName=le(this,r);nzValueChange=new ee;viewItemCmps=Ge(H);contentItemCmps=Xe(H);renderedItemCmps=ie(()=>this.viewItemCmps().concat(this.contentItemCmps()));isDisabledFirstChange=!0;value;animationState={value:"to",params:Y()};normalizedOptions=[];onChange=()=>{};onTouched=()=>{};constructor(){this.service.selected$.pipe(D()).subscribe(d=>{this.value=d}),this.service.change$.pipe(D()).subscribe(d=>{this.nzValueChange.emit(d),this.onChange(d)}),this.service.activated$.pipe(ve(2,1),D()).subscribe(d=>{this.nzVertical?(this.animationState={value:"fromVertical",params:Y(d[0],!0)},this.cdr.detectChanges(),this.animationState={value:"toVertical",params:Y(d[1],!0)},this.cdr.detectChanges()):(this.animationState={value:"from",params:Y(d[0])},this.cdr.detectChanges(),this.animationState={value:"to",params:Y(d[1])},this.cdr.detectChanges())}),this.service.keydown$.pipe(q(()=>!this.nzDisabled),D()).subscribe(d=>this.onKeyDown(d)),Fe(()=>{Ye(()=>{let d=this.renderedItemCmps();d.length&&(this.value===void 0||!d.some(o=>o.nzValue()===this.value))&&this.service.selected$.next(d[0].nzValue())},{injector:this.injector})})}ngOnChanges(d){let{nzName:o,nzOptions:h,nzDisabled:e}=d;o&&this.service.name.set(this.nzName||null),h&&(this.normalizedOptions=Vt(h.currentValue)),e&&this.service.disabled$.next(e.currentValue)}handleThumbAnimationDone(d){(d.toState==="to"||d.toState==="toVertical")&&(this.animationState=null),this.service.animationDone$.next(d)}onOffset(d){let o=this.renderedItemCmps(),h=o.length,e=o.findIndex(s=>s.nzValue()===this.value),t=(e+d+h)%h;for(;o[t].nzDisabled()&&(t=(t+Math.sign(d)+h)%h,t!==e););let n=o[t];n&&(this.service.selected$.next(n.nzValue()),this.service.change$.next(n.nzValue()))}onKeyDown(d){switch(d.keyCode){case 38:this.onOffset(-1);break;case 37:this.onOffset(this.dir()==="rtl"?1:-1);break;case 40:this.onOffset(1);break;case 39:this.onOffset(this.dir()==="rtl"?-1:1);break}}writeValue(d){this.service.selected$.next(d)}registerOnChange(d){this.onChange=d}registerOnTouched(d){this.onTouched=d}setDisabledState(d){this.nzDisabled=this.isDisabledFirstChange&&this.nzDisabled||d,this.isDisabledFirstChange=!1}},(()=>{let d=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[tt()],Ee(null,null,i,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:o=>"nzSize"in o,get:o=>o.nzSize,set:(o,h)=>{o.nzSize=h}},metadata:d},c,r),d&&Object.defineProperty(a,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d})})(),ae(a,"\u0275fac",function(o){return new(o||a)}),ae(a,"\u0275cmp",A({type:a,selectors:[["nz-segmented"]],contentQueries:function(o,h,e){o&1&&$e(e,h.contentItemCmps,H,4),o&2&&ne()},viewQuery:function(o,h){o&1&&pe(h.viewItemCmps,H,5),o&2&&ne()},hostAttrs:["role","radiogroup","aria-label","segmented control",1,"ant-segmented"],hostVars:15,hostBindings:function(o,h){o&2&&(te("tabindex",h.nzDisabled?void 0:0),$("ant-segmented-disabled",h.nzDisabled)("ant-segmented-rtl",h.dir()==="rtl")("ant-segmented-lg",h.nzSize==="large")("ant-segmented-sm",h.nzSize==="small")("ant-segmented-block",h.nzBlock)("ant-segmented-vertical",h.nzVertical)("ant-segmented-shape-round",h.nzShape==="round"))},inputs:{nzBlock:[2,"nzBlock","nzBlock",O],nzDisabled:[2,"nzDisabled","nzDisabled",O],nzOptions:"nzOptions",nzVertical:[2,"nzVertical","nzVertical",O],nzShape:"nzShape",nzSize:"nzSize",nzName:"nzName"},outputs:{nzValueChange:"nzValueChange"},exportAs:["nzSegmented"],features:[je([we,{provide:dt,useExisting:Me(()=>a),multi:!0}]),J],ngContentSelectors:wt,decls:4,vars:1,consts:[[1,"ant-segmented-group"],[1,"ant-segmented-thumb","ant-segmented-thumb-motion"],["nz-segmented-item","",3,"nzIcon","nzValue","nzDisabled"]],template:function(o,h){o&1&&(he(),w(0,"div",0),y(1,Pt,1,1,"div",1),fe(2,0,null,kt,2,0),b()),o&2&&(C(),M(h.animationState?1:-1))},dependencies:[j,it,H],encapsulation:2,data:{animation:[lt]},changeDetection:0})),a})();function Y(i,c=!1){return c?{transform:i?.offsetTop??0,width:i?.clientWidth??0,height:i?.clientHeight??0,vertical:c}:{transform:i?.offsetLeft??0,width:i?.clientWidth??0}}var B=class i extends zt{static KEY="segmented";_list;get list(){return this._list??[]}reset(c){pt(this.schema,this.ui,c).subscribe(r=>{this._list=r,this.detectChanges()})}valueChange(c){this.ui.valueChange&&this.ui.valueChange({index:c,item:typeof c=="number"?this.list[c]:null})}static \u0275fac=(()=>{let c;return function(a){return(c||(c=Ae(i)))(a||i)}})();static \u0275cmp=A({type:i,selectors:[["sf-segmented"]],features:[Te],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzValueChange","ngModel","nzDisabled","nzSize","nzBlock","nzOptions"]],template:function(r,a){r&1&&(w(0,"sf-item-wrap",0),_(1,`
    `),w(2,"nz-segmented",1),I("ngModelChange",function(d){return a.setValue(d)})("nzValueChange",function(d){return a.valueChange(d)}),b(),_(3,`
  `),b()),r&2&&(v("id",a.id)("schema",a.schema)("ui",a.ui)("showError",a.showError)("error",a.error)("showTitle",a.schema.title),C(2),v("ngModel",a.value)("nzDisabled",a.disabled)("nzSize",a.ui.size)("nzBlock",a.ui.block??!1)("nzOptions",a.list))},dependencies:[ut,ct,mt,Ce,gt,bt],encapsulation:2})};function Hn(){return{KEY:B.KEY,type:B}}var Ut=["canvas"];function $t(i,c){if(i&1&&(Be(0),_(1),ke()),i&2){let r=E(2);C(),W(r.nzStatusRender)}}function Wt(i,c){if(i&1&&(w(0,"div",1),x(1,$t,2,1,"ng-container",2),b()),i&2){let r=E();C(),v("nzStringTemplateOutlet",r.nzStatusRender)}}function jt(i,c){i&1&&P(0,"nz-spin")}function Ht(i,c){if(i&1){let r=U();w(0,"div")(1,"p",3),_(2),b(),w(3,"button",4),I("click",function(){V(r);let u=E(2);return L(u.reloadQRCode())}),P(4,"nz-icon",5),w(5,"span"),_(6),b()()()}if(i&2){let r=E(2);C(2),W(r.locale.expired),C(4),W(r.locale.refresh)}}function Yt(i,c){if(i&1&&(w(0,"div")(1,"p",3),_(2),b()()),i&2){let r=E(2);C(2),W(r.locale.scanned)}}function Kt(i,c){if(i&1&&(w(0,"div",1),y(1,jt,1,0,"nz-spin")(2,Ht,7,2,"div")(3,Yt,3,1,"div"),b()),i&2){let r,a=E();C(),M((r=a.nzStatus)==="loading"?1:r==="expired"?2:r==="scanned"?3:-1)}}function Gt(i,c){i&1&&P(0,"canvas",null,0)}var T;(function(i){let c=(()=>{class o{version;errorCorrectionLevel;static encodeText(e,t){let n=i.QrSegment.makeSegments(e);return o.encodeSegments(n,t)}static encodeBinary(e,t){let n=i.QrSegment.makeBytes(e);return o.encodeSegments([n],t)}static encodeSegments(e,t,n=1,s=40,l=-1,f=!0){if(!(o.MIN_VERSION<=n&&n<=s&&s<=o.MAX_VERSION)||l<-1||l>7)throw new RangeError("Invalid value");let m,g;for(m=n;;m++){let z=o.getNumDataCodewords(m,t)*8,N=d.getTotalBits(e,m);if(N<=z){g=N;break}if(m>=s)throw new RangeError("Data too long")}for(let z of[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH])f&&g<=o.getNumDataCodewords(m,z)*8&&(t=z);let p=[];for(let z of e){r(z.mode.modeBits,4,p),r(z.numChars,z.mode.numCharCountBits(m),p);for(let N of z.getData())p.push(N)}u(p.length==g);let k=o.getNumDataCodewords(m,t)*8;u(p.length<=k),r(0,Math.min(4,k-p.length),p),r(0,(8-p.length%8)%8,p),u(p.length%8==0);for(let z=236;p.length<k;z^=253)r(z,8,p);let R=[];for(;R.length*8<p.length;)R.push(0);return p.forEach((z,N)=>R[N>>>3]|=z<<7-(N&7)),new o(m,t,R,l)}size;mask;modules=[];isFunction=[];constructor(e,t,n,s){if(this.version=e,this.errorCorrectionLevel=t,e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version value out of range");if(s<-1||s>7)throw new RangeError("Mask value out of range");this.size=e*4+17;let l=[];for(let m=0;m<this.size;m++)l.push(!1);for(let m=0;m<this.size;m++)this.modules.push(l.slice()),this.isFunction.push(l.slice());this.drawFunctionPatterns();let f=this.addEccAndInterleave(n);if(this.drawCodewords(f),s==-1){let m=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);let p=this.getPenaltyScore();p<m&&(s=g,m=p),this.applyMask(g)}}u(s>=0&&s<=7),this.mask=s,this.applyMask(s),this.drawFormatBits(s),this.isFunction=[]}getModule(e,t){return e>=0&&e<this.size&&t>=0&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let s=0;s<t;s++)n==0&&s==0||n==0&&s==t-1||n==t-1&&s==0||this.drawAlignmentPattern(e[n],e[s]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let t=this.errorCorrectionLevel.formatBits<<3|e,n=t;for(let l=0;l<10;l++)n=n<<1^(n>>>9)*1335;let s=(t<<10|n)^21522;u(s>>>15==0);for(let l=0;l<=5;l++)this.setFunctionModule(8,l,a(s,l));this.setFunctionModule(8,7,a(s,6)),this.setFunctionModule(8,8,a(s,7)),this.setFunctionModule(7,8,a(s,8));for(let l=9;l<15;l++)this.setFunctionModule(14-l,8,a(s,l));for(let l=0;l<8;l++)this.setFunctionModule(this.size-1-l,8,a(s,l));for(let l=8;l<15;l++)this.setFunctionModule(8,this.size-15+l,a(s,l));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^(e>>>11)*7973;let t=this.version<<12|e;u(t>>>18==0);for(let n=0;n<18;n++){let s=a(t,n),l=this.size-11+n%3,f=Math.floor(n/3);this.setFunctionModule(l,f,s),this.setFunctionModule(f,l,s)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let s=-4;s<=4;s++){let l=Math.max(Math.abs(s),Math.abs(n)),f=e+s,m=t+n;f>=0&&f<this.size&&m>=0&&m<this.size&&this.setFunctionModule(f,m,l!=2&&l!=4)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let s=-2;s<=2;s++)this.setFunctionModule(e+s,t+n,Math.max(Math.abs(s),Math.abs(n))!=1)}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){let t=this.version,n=this.errorCorrectionLevel;if(e.length!=o.getNumDataCodewords(t,n))throw new RangeError("Invalid argument");let s=o.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][t],l=o.ECC_CODEWORDS_PER_BLOCK[n.ordinal][t],f=Math.floor(o.getNumRawDataModules(t)/8),m=s-f%s,g=Math.floor(f/s),p=[],k=o.reedSolomonComputeDivisor(l);for(let z=0,N=0;z<s;z++){let F=e.slice(N,N+g-l+(z<m?0:1));N+=F.length;let St=o.reedSolomonComputeRemainder(F,k);z<m&&F.push(0),p.push(F.concat(St))}let R=[];for(let z=0;z<p[0].length;z++)p.forEach((N,F)=>{(z!=g-l||F>=m)&&R.push(N[z])});return u(R.length==f),R}drawCodewords(e){if(e.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let t=0;for(let n=this.size-1;n>=1;n-=2){n==6&&(n=5);for(let s=0;s<this.size;s++)for(let l=0;l<2;l++){let f=n-l,g=(n+1&2)==0?this.size-1-s:s;!this.isFunction[g][f]&&t<e.length*8&&(this.modules[g][f]=a(e[t>>>3],7-(t&7)),t++)}}u(t==e.length*8)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let s;switch(e){case 0:s=(n+t)%2==0;break;case 1:s=t%2==0;break;case 2:s=n%3==0;break;case 3:s=(n+t)%3==0;break;case 4:s=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:s=n*t%2+n*t%3==0;break;case 6:s=(n*t%2+n*t%3)%2==0;break;case 7:s=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&s&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let l=0;l<this.size;l++){let f=!1,m=0,g=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[l][p]==f?(m++,m==5?e+=o.PENALTY_N1:m>5&&e++):(this.finderPenaltyAddHistory(m,g),f||(e+=this.finderPenaltyCountPatterns(g)*o.PENALTY_N3),f=this.modules[l][p],m=1);e+=this.finderPenaltyTerminateAndCount(f,m,g)*o.PENALTY_N3}for(let l=0;l<this.size;l++){let f=!1,m=0,g=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[p][l]==f?(m++,m==5?e+=o.PENALTY_N1:m>5&&e++):(this.finderPenaltyAddHistory(m,g),f||(e+=this.finderPenaltyCountPatterns(g)*o.PENALTY_N3),f=this.modules[p][l],m=1);e+=this.finderPenaltyTerminateAndCount(f,m,g)*o.PENALTY_N3}for(let l=0;l<this.size-1;l++)for(let f=0;f<this.size-1;f++){let m=this.modules[l][f];m==this.modules[l][f+1]&&m==this.modules[l+1][f]&&m==this.modules[l+1][f+1]&&(e+=o.PENALTY_N2)}let t=0;for(let l of this.modules)t=l.reduce((f,m)=>f+(m?1:0),t);let n=this.size*this.size,s=Math.ceil(Math.abs(t*20-n*10)/n)-1;return u(s>=0&&s<=9),e+=s*o.PENALTY_N4,u(e>=0&&e<=2568888),e}getAlignmentPatternPositions(){if(this.version==1)return[];{let e=Math.floor(this.version/7)+2,t=Math.floor((this.version*8+e*3+5)/(e*4-4))*2,n=[6];for(let s=this.size-7;n.length<e;s-=t)n.splice(1,0,s);return n}}static getNumRawDataModules(e){if(e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version number out of range");let t=(16*e+128)*e+64;if(e>=2){let n=Math.floor(e/7)+2;t-=(25*n-10)*n-55,e>=7&&(t-=36)}return u(t>=208&&t<=29648),t}static getNumDataCodewords(e,t){return Math.floor(o.getNumRawDataModules(e)/8)-o.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*o.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let t=[];for(let s=0;s<e-1;s++)t.push(0);t.push(1);let n=1;for(let s=0;s<e;s++){for(let l=0;l<t.length;l++)t[l]=o.reedSolomonMultiply(t[l],n),l+1<t.length&&(t[l]^=t[l+1]);n=o.reedSolomonMultiply(n,2)}return t}static reedSolomonComputeRemainder(e,t){let n=t.map(s=>0);for(let s of e){let l=s^n.shift();n.push(0),t.forEach((f,m)=>n[m]^=o.reedSolomonMultiply(f,l))}return n}static reedSolomonMultiply(e,t){if(e>>>8||t>>>8)throw new RangeError("Byte out of range");let n=0;for(let s=7;s>=0;s--)n=n<<1^(n>>>7)*285,n^=(t>>>s&1)*e;return u(n>>>8==0),n}finderPenaltyCountPatterns(e){let t=e[1];u(t<=this.size*3);let n=t>0&&e[2]==t&&e[3]==t*3&&e[4]==t&&e[5]==t;return(n&&e[0]>=t*4&&e[6]>=t?1:0)+(n&&e[6]>=t*4&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){t[0]==0&&(e+=this.size),t.pop(),t.unshift(e)}static MIN_VERSION=1;static MAX_VERSION=40;static PENALTY_N1=3;static PENALTY_N2=3;static PENALTY_N3=40;static PENALTY_N4=10;static ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]];static NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]}return o})();i.QrCode=c;function r(o,h,e){if(h<0||h>31||o>>>h)throw new RangeError("Value out of range");for(let t=h-1;t>=0;t--)e.push(o>>>t&1)}function a(o,h){return(o>>>h&1)!=0}function u(o){if(!o)throw new Error("Assertion error")}let d=(()=>{class o{mode;numChars;bitData;static makeBytes(e){let t=[];for(let n of e)r(n,8,t);return new o(o.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!o.isNumeric(e))throw new RangeError("String contains non-numeric characters");let t=[];for(let n=0;n<e.length;){let s=Math.min(e.length-n,3);r(parseInt(e.substring(n,n+s),10),s*3+1,t),n+=s}return new o(o.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!o.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let t=[],n;for(n=0;n+2<=e.length;n+=2){let s=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n))*45;s+=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n+1)),r(s,11,t)}return n<e.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n)),6,t),new o(o.Mode.ALPHANUMERIC,e.length,t)}static makeSegments(e){return e==""?[]:o.isNumeric(e)?[o.makeNumeric(e)]:o.isAlphanumeric(e)?[o.makeAlphanumeric(e)]:[o.makeBytes(o.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)r(e,8,t);else if(e<16384)r(2,2,t),r(e,14,t);else if(e<1e6)r(6,3,t),r(e,21,t);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,t)}static isNumeric(e){return o.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return o.ALPHANUMERIC_REGEX.test(e)}constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(let s of e){let l=s.mode.numCharCountBits(t);if(s.numChars>=1<<l)return 1/0;n+=4+l+s.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)e.charAt(n)!="%"?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2);return t}static NUMERIC_REGEX=/^[0-9]*$/;static ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+./:-]*$/;static ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:"}return o})();i.QrSegment=d})(T||(T={}));(function(i){let c;(function(r){class a{ordinal;formatBits;static LOW=new a(0,1);static MEDIUM=new a(1,0);static QUARTILE=new a(2,3);static HIGH=new a(3,2);constructor(d,o){this.ordinal=d,this.formatBits=o}}r.Ecc=a})(c=i.QrCode||(i.QrCode={}))})(T||(T={}));(function(i){let c;(function(r){class a{modeBits;numBitsCharCount;static NUMERIC=new a(1,[10,12,14]);static ALPHANUMERIC=new a(2,[9,11,13]);static BYTE=new a(4,[8,16,16]);static KANJI=new a(8,[8,10,12]);static ECI=new a(7,[0,0,0]);constructor(d,o){this.modeBits=d,this.numBitsCharCount=o}numCharCountBits(d){return this.numBitsCharCount[Math.floor((d+7)/17)]}}r.Mode=a})(c=i.QrSegment||(i.QrSegment={}))})(T||(T={}));var K=T,Xt={L:K.QrCode.Ecc.LOW,M:K.QrCode.Ecc.MEDIUM,Q:K.QrCode.Ecc.QUARTILE,H:K.QrCode.Ecc.HIGH},qt=160,Zt=10,Jt=10,Qt="#000000",en="#FFFFFF",tn=40,nn="M",on=(i,c=nn)=>i?K.QrCode.encodeText(i,Xt[c]):null;function sn(i,c,r=qt,a=Zt,u=Jt,d=Qt,o=en,h=tn,e){let t=i.getContext("2d"),n=rn(u);if(i.style.width=`${r}px`,i.style.height=`${r}px`,!c){t.fillStyle="rgba(0, 0, 0, 0)",t.fillRect(0,0,i.width,i.height);return}if(i.width=c.size*a+n[1]+n[3],i.height=c.size*a+n[0]+n[2],!e)Se(t,i.width,i.height,a,o),be(t,c,a,n,o,d);else{let s=new Image;s.src=e,s.crossOrigin="anonymous",s.width=h*(i.width/r),s.height=h*(i.width/r);let l=()=>{m(),Se(t,i.width,i.height,a,o),be(t,c,a,n,o,d);let g=i.width/2-h*(i.width/r)/2;t.fillRect(g,g,h*(i.width/r),h*(i.width/r)),t.drawImage(s,g,g,h*(i.width/r),h*(i.width/r))},f=()=>{m(),Se(t,i.width,i.height,a,o),be(t,c,a,n,o,d)},m=()=>{s.removeEventListener("load",l),s.removeEventListener("error",f)};s.addEventListener("load",l),s.addEventListener("error",f)}}function be(i,c,r,a,u,d){for(let o=0;o<c.size;o++)for(let h=0;h<c.size;h++)i.fillStyle=c.getModule(h,o)?d:u,i.fillRect(a[3]+h*r,a[0]+o*r,r,r)}function Se(i,c,r,a,u){i.fillStyle=u,i.fillRect(0,0,c*a,r*a)}function rn(i){return Array.isArray(i)?Array(4).fill(0).map((c,r)=>i[r%i.length]):[i,i,i,i]}var an=(()=>{class i{i18n=S(at);el=S(Q);cdr=S(se);destroyRef=S(Z);isBrowser=Ze(S(Oe));canvas;nzValue="";nzPadding=0;nzColor="#000000";nzBgColor="#FFFFFF";nzSize=160;nzIcon="";nzIconSize=40;nzBordered=!0;nzStatus="active";nzLevel="M";nzStatusRender=null;nzRefresh=new ee;locale;ngOnInit(){this.el.nativeElement.style.backgroundColor=this.nzBgColor,this.i18n.localeChange.pipe(D(this.destroyRef)).subscribe(()=>{this.locale=this.i18n.getLocaleData("QRCode"),this.cdr.markForCheck()})}ngOnChanges(r){let{nzValue:a,nzIcon:u,nzLevel:d,nzSize:o,nzIconSize:h,nzColor:e,nzPadding:t,nzBgColor:n}=r;(a||u||d||o||h||e||t||n)&&this.canvas&&this.drawCanvasQRCode(),n&&(this.el.nativeElement.style.backgroundColor=this.nzBgColor)}ngAfterViewInit(){this.drawCanvasQRCode()}reloadQRCode(){this.drawCanvasQRCode(),this.nzRefresh.emit("refresh")}drawCanvasQRCode(){this.canvas&&sn(this.canvas.nativeElement,on(this.nzValue,this.nzLevel),this.nzSize,10,this.nzPadding,this.nzColor,this.nzBgColor,this.nzIconSize,this.nzIcon)}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=A({type:i,selectors:[["nz-qrcode"]],viewQuery:function(a,u){if(a&1&&Ve(Ut,5),a&2){let d;Le(d=Ue())&&(u.canvas=d.first)}},hostAttrs:[1,"ant-qrcode"],hostVars:2,hostBindings:function(a,u){a&2&&$("ant-qrcode-border",u.nzBordered)},inputs:{nzValue:"nzValue",nzPadding:"nzPadding",nzColor:"nzColor",nzBgColor:"nzBgColor",nzSize:[2,"nzSize","nzSize",ze],nzIcon:"nzIcon",nzIconSize:[2,"nzIconSize","nzIconSize",ze],nzBordered:[2,"nzBordered","nzBordered",O],nzStatus:"nzStatus",nzLevel:"nzLevel",nzStatusRender:"nzStatusRender"},outputs:{nzRefresh:"nzRefresh"},exportAs:["nzQRCode"],features:[J],decls:3,vars:2,consts:[["canvas",""],[1,"ant-qrcode-mask"],[4,"nzStringTemplateOutlet"],[1,"ant-qrcode-expired"],["nz-button","","nzType","link",3,"click"],["nzType","reload","nzTheme","outline"]],template:function(a,u){a&1&&(y(0,Wt,2,1,"div",1)(1,Kt,4,1,"div",1),y(2,Gt,2,0,"canvas")),a&2&&(M(u.nzStatusRender?0:u.nzStatus!=="active"?1:-1),C(2),M(u.isBrowser?2:-1))},dependencies:[ft,ht,rt,st,ot,j,re,nt],encapsulation:2,changeDetection:0})}return i})(),hi=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=ue({type:i});static \u0275inj=de({imports:[an]})}return i})();export{an as a,hi as b,B as c,Hn as d};
