import{a as Lt,b as bt}from"./chunk-T7I2OBCK.js";import{a as j,b as H}from"./chunk-KSQL7I2A.js";import{a as Mt}from"./chunk-IRR56OTQ.js";import{a as wt}from"./chunk-OZHIXC6H.js";import{F as Dt,H as Ot,R as Nt}from"./chunk-IX2EHRLS.js";import{$a as u,Ab as at,Ba as A,C as K,Da as it,Db as ct,Fa as nt,Fb as lt,Ga as F,Gc as Ct,H as W,Id as Z,Ja as a,Jb as pt,Jd as b,Ka as l,Kb as mt,La as ot,Mg as At,Na as E,Oa as rt,Pb as ft,Qb as O,Rb as q,Rc as _t,Sa as p,Sb as dt,Tb as N,Ub as M,Y as J,Zc as xt,Zd as kt,_ as X,_d as w,ab as z,bb as $,cc as L,cd as vt,da as Y,db as V,de as It,eb as P,fb as f,fh as Et,gb as m,gc as ht,ha as v,hb as C,hd as I,ia as tt,ic as U,id as Tt,jd as yt,k as G,lb as Q,ma as et,mc as ut,na as B,nc as gt,oa as R,od as St,pb as T,q as _,rb as d,sb as y,tb as S,ub as st,uc as zt,xb as k,yb as s,zb as D}from"./chunk-SBXYWWID.js";var qt=["ink"];function Ut(i,e){}function Zt(i,e){if(i&1&&(f(0,"nz-affix",2),u(1,Ut,0,0,"ng-template",3),m()),i&2){let t=d(),o=k(2);p("nzOffsetTop",t.nzOffsetTop)("nzTarget",t.container),a(1),p("ngTemplateOutlet",o)}}var Gt=i=>({"ant-anchor-fixed":i});function Kt(i,e){if(i&1&&(f(0,"div",4)(1,"div",5)(2,"div",6),C(3,"div",7,8),m(),S(5),m()()),i&2){let t=d();p("ngStyle",t.wrapperStyle),a(1),p("ngClass",lt(2,Gt,!t.nzAffix&&!t.nzShowInkInFixed))}}var Ht=["*"],Wt=["nzTemplate"],Jt=["linkTitle"];function Xt(i,e){if(i&1&&(f(0,"span"),s(1),m()),i&2){let t=d();a(1),D(t.titleStr)}}function jt(i,e){if(!i||!i.getClientRects().length)return 0;let t=i.getBoundingClientRect();if(t.width||t.height){if(e===window){let o=i.ownerDocument.documentElement;return t.top-o.clientTop}return t.top-e.getBoundingClientRect().top}return t.top}var Yt="anchor",te=/#([^#]+)$/,ee=yt({passive:!0}),x=class x{constructor(e,t,o,n,r,c,h){this.doc=e,this.nzConfigService=t,this.scrollSrv=o,this.cdr=n,this.platform=r,this.zone=c,this.renderer=h,this._nzModuleName=Yt,this.nzAffix=!0,this.nzShowInkInFixed=!1,this.nzBounds=5,this.nzOffsetTop=void 0,this.nzTargetOffset=void 0,this.nzClick=new E,this.nzChange=new E,this.nzScroll=new E,this.visible=!1,this.wrapperStyle={"max-height":"100vh"},this.links=[],this.animating=!1,this.destroy$=new G,this.handleScrollTimeoutID=-1}registerLink(e){this.links.push(e)}unregisterLink(e){this.links.splice(this.links.indexOf(e),1)}getContainer(){return this.container||window}ngAfterViewInit(){this.registerScrollEvent()}ngOnDestroy(){clearTimeout(this.handleScrollTimeoutID),this.destroy$.next(!0),this.destroy$.complete()}registerScrollEvent(){this.platform.isBrowser&&(this.destroy$.next(!0),this.zone.runOutsideAngular(()=>{K(this.getContainer(),"scroll",ee).pipe(X(50),J(this.destroy$)).subscribe(()=>this.handleScroll())}),this.handleScrollTimeoutID=setTimeout(()=>this.handleScroll()))}handleScroll(){if(typeof document>"u"||this.animating)return;let e=[],o=(this.nzTargetOffset?this.nzTargetOffset:this.nzOffsetTop||0)+this.nzBounds;if(this.links.forEach(n=>{let r=te.exec(n.nzHref.toString());if(!r)return;let c=this.doc.getElementById(r[1]);if(c){let h=jt(c,this.getContainer());h<o&&e.push({top:h,comp:n})}}),this.visible=!!e.length,!this.visible)this.clearActive(),this.cdr.detectChanges();else{let n=e.reduce((r,c)=>c.top>r.top?c:r);this.handleActive(n.comp)}this.setVisible()}clearActive(){this.links.forEach(e=>{e.unsetActive()})}setActive(e){let t=this.activeLink,o=this.nzCurrentAnchor&&this.links.find(r=>r.nzHref===this.nzCurrentAnchor)||e;if(!o)return;o.setActive();let n=o.getLinkTitleElement();this.ink.nativeElement.style.top=`${n.offsetTop+n.clientHeight/2-4.5}px`,this.activeLink=(e||o).nzHref,t!==this.activeLink&&this.nzChange.emit(this.activeLink)}handleActive(e){this.clearActive(),this.setActive(e),this.visible=!0,this.setVisible(),this.nzScroll.emit(e)}setVisible(){let e=this.visible,t="visible";this.ink&&(e?this.renderer.addClass(this.ink.nativeElement,t):this.renderer.removeClass(this.ink.nativeElement,t))}handleScrollTo(e){let t=this.doc.querySelector(e.nzHref);if(!t)return;this.animating=!0;let o=this.scrollSrv.getScroll(this.getContainer()),n=jt(t,this.getContainer()),r=o+n;r-=this.nzTargetOffset!==void 0?this.nzTargetOffset:this.nzOffsetTop||0,this.scrollSrv.scrollTo(this.getContainer(),r,{callback:()=>{this.animating=!1,this.handleActive(e)}}),this.nzClick.emit(e.nzHref)}ngOnChanges(e){let{nzOffsetTop:t,nzContainer:o,nzCurrentAnchor:n}=e;if(t&&(this.wrapperStyle={"max-height":`calc(100vh - ${this.nzOffsetTop}px)`}),o){let r=this.nzContainer;this.container=typeof r=="string"?this.doc.querySelector(r):r,this.registerScrollEvent()}n&&this.setActive()}};x.\u0275fac=function(t){return new(t||x)(l(L),l(kt),l(Et),l(ot),l(I),l(rt),l(F))},x.\u0275cmp=v({type:x,selectors:[["nz-anchor"]],viewQuery:function(t,o){if(t&1&&q(qt,5),t&2){let n;O(n=N())&&(o.ink=n.first)}},inputs:{nzAffix:"nzAffix",nzShowInkInFixed:"nzShowInkInFixed",nzBounds:"nzBounds",nzOffsetTop:"nzOffsetTop",nzTargetOffset:"nzTargetOffset",nzContainer:"nzContainer",nzCurrentAnchor:"nzCurrentAnchor"},outputs:{nzClick:"nzClick",nzChange:"nzChange",nzScroll:"nzScroll"},exportAs:["nzAnchor"],features:[et],ngContentSelectors:Ht,decls:3,vars:2,consts:[[3,"nzOffsetTop","nzTarget",4,"ngIf","ngIfElse"],["content",""],[3,"nzOffsetTop","nzTarget"],[3,"ngTemplateOutlet"],[1,"ant-anchor-wrapper",3,"ngStyle"],[1,"ant-anchor",3,"ngClass"],[1,"ant-anchor-ink"],[1,"ant-anchor-ink-ball"],["ink",""]],template:function(t,o){if(t&1&&(y(),u(0,Zt,2,3,"nz-affix",0)(1,Kt,6,4,"ng-template",null,1,M)),t&2){let n=k(2);p("ngIf",o.nzAffix)("ngIfElse",n)}},dependencies:[ht,U,gt,ut,j],encapsulation:2,changeDetection:0});var g=x;_([Z()],g.prototype,"nzAffix",void 0);_([w(),Z()],g.prototype,"nzShowInkInFixed",void 0);_([w(),b()],g.prototype,"nzBounds",void 0);_([b(void 0),w()],g.prototype,"nzOffsetTop",void 0);_([b(void 0),w()],g.prototype,"nzTargetOffset",void 0);var Bt=(()=>{let e=class e{set nzTitle(o){o instanceof ft?(this.titleStr=null,this.titleTpl=o):this.titleStr=o}constructor(o,n,r,c){this.elementRef=o,this.anchorComp=n,this.platform=r,this.renderer=c,this.nzHref="#",this.titleStr=""}ngOnInit(){this.anchorComp.registerLink(this)}getLinkTitleElement(){return this.linkTitle.nativeElement}setActive(){this.renderer.addClass(this.elementRef.nativeElement,"ant-anchor-link-active")}unsetActive(){this.renderer.removeClass(this.elementRef.nativeElement,"ant-anchor-link-active")}goToClick(o){o.preventDefault(),o.stopPropagation(),this.platform.isBrowser&&this.anchorComp.handleScrollTo(this)}ngOnDestroy(){this.anchorComp.unregisterLink(this)}};e.\u0275fac=function(n){return new(n||e)(l(nt),l(g),l(I),l(F))},e.\u0275cmp=v({type:e,selectors:[["nz-link"]],contentQueries:function(n,r,c){if(n&1&&dt(c,Wt,5),n&2){let h;O(h=N())&&(r.nzTemplate=h.first)}},viewQuery:function(n,r){if(n&1&&q(Jt,5),n&2){let c;O(c=N())&&(r.linkTitle=c.first)}},hostAttrs:[1,"ant-anchor-link"],inputs:{nzHref:"nzHref",nzTarget:"nzTarget",nzTitle:"nzTitle"},exportAs:["nzLink"],ngContentSelectors:Ht,decls:4,vars:5,consts:[[1,"ant-anchor-link-title",3,"href","title","target","click"],["linkTitle",""],[4,"ngIf","ngIfElse"]],template:function(n,r){n&1&&(y(),f(0,"a",0,1),T("click",function(h){return r.goToClick(h)}),u(2,Xt,2,1,"span",2),m(),S(3)),n&2&&(p("href",r.nzHref,it)("title",r.titleStr)("target",r.nzTarget),a(2),p("ngIf",r.titleStr)("ngIfElse",r.titleTpl||r.nzTemplate))},dependencies:[U],encapsulation:2,changeDetection:0});let i=e;return i})(),Rt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=Y({imports:[St,zt,H,Tt]});let i=e;return i})();function ne(i,e){if(i&1&&(s(0,`
              `),C(1,"nz-link",2),s(2,`
            `)),i&2){let t=e.$implicit;a(1),p("nzHref","#"+t.id)("nzTitle",t.title)}}function oe(i,e){if(i&1&&(s(0,`
            `),V(1,ne,3,2,null,null,$)),i&2){let t=d().$implicit;a(1),P(t.children)}}function re(i,e){if(i&1&&(s(0,`
        `),f(1,"nz-link",2),s(2,`
          `),u(3,oe,3,0),m(),s(4,`
      `)),i&2){let t=e.$implicit;a(1),p("nzHref","#"+t.id)("nzTitle",t.title),a(2),z(3,t.children&&t.children.length>0?3:-1)}}function se(i,e){if(i&1){let t=Q();s(0,`
  `),f(1,"nz-affix",0),s(2,`
    `),f(3,"nz-anchor",1),T("nzClick",function(n){B(t);let r=d();return R(r.goLink(n))}),s(4,`
      `),V(5,re,5,3,null,null,$),m(),s(7,`
  `),m(),s(8,`
`)}if(i&2){let t=d();a(5),P(t.data.con.toc)}}function ae(i,e){if(i&1&&(s(0),f(1,"a",8),s(2," Help us!"),m(),s(3,`
      `)),i&2){let t=d(3);at(`
        `,t.data.con.meta.i18n==="need-update"?"This article need re-translated, hope that your can PR to translated it.":"This article has not been translated, hope that your can PR to translated it.",`
        `)}}function ce(i,e){if(i&1&&(s(0,`
    `),f(1,"nz-alert",6),s(2,`
      `),u(3,ae,4,1,"ng-template",null,7,M),s(5,`
    `),m(),s(6,`
  `)),i&2){let t=k(4);a(1),p("nzType","warning")("nzCloseable","true")("nzMessage",t)}}function le(i,e){if(i&1){let t=Q();s(0,`
        `),f(1,"div",9),s(2,`
          `),f(3,"span",10),T("click",function(){B(t);let n=d(2);return R(n.copyModule())}),pt(4,"i18n"),s(5,`
            IMPORT MODULE
          `),m(),s(6,`
        `),m(),s(7,`
      `)}if(i&2){let t=d(2);a(3),p("nzTooltipTitle",mt(4,1,"app.content.copy-import-module")+t.data.con.module)}}function pe(i,e){if(i&1&&(s(0,`
    `),C(1,"div",11),s(2,`
  `)),i&2){let t=d(2);a(1),p("innerHTML",t.data.con.content,A)}}function me(i,e){if(i&1&&(s(0,`
    `),C(1,"h2",12),s(2,`
    `),S(3),s(4,`
  `)),i&2){let t=d(2);a(1),st("id",t.demoStr),p("innerHTML",t.demoContent,A)}}function fe(i,e){if(i&1&&(s(0,`
    `),C(1,"div",13),s(2,`
  `)),i&2){let t=d(2);a(1),p("innerHTML",t.data.con.api,A)}}function de(i,e){if(i&1&&(s(0,`
  `),u(1,ce,7,3),f(2,"div",3),s(3,`
    `),f(4,"h1",4),s(5,`
      `),f(6,"strong"),s(7),m(),s(8,`
      `),u(9,le,8,3),C(10,"edit-button",5),s(11,`
    `),m(),s(12,`
  `),m(),s(13,`
  `),u(14,pe,3,1)(15,me,5,2)(16,fe,3,1)),i&2){let t=d();a(1),z(1,!t.meta.item.i18n||t.data.con.meta.i18n==="need-update"?1:-1),a(6),D(t.meta.item.subtitle||t.meta.item.title),a(2),z(9,t.data.con.module?9:-1),a(1),p("item",t.item),a(4),z(14,t.data.con.content?14:-1),a(1),z(15,t.data.demo?15:-1),a(1),z(16,t.data.con.api?16:-1)}}var he=["*"],Ye=(()=>{let e=class e{constructor(o,n,r,c,h,Ft,$t){this.meta=o,this.i18n=n,this.router=r,this.sanitizer=c,this.doc=h,this.msg=Ft,this.data={},this.isBrowser=!0,this.isBrowser=$t.isBrowser,this.i18NChange$=this.i18n.change.pipe(W(()=>!!this.item)).subscribe(()=>{this.init()})}genData(){let o=xt(this.item),n={demo:o.demo,urls:o.urls,con:o.content[this.i18n.currentLang]||o.content[this.i18n.defaultLang]};n.demo&&this.codes&&this.codes.length&&(this.genDemoTitle(),n.con.toc=this.codes.map(r=>({h:3,id:r.id,title:this.i18n.get(r.meta.title)})).concat({id:"API",title:"API",h:2})),n.con.content&&(n.con.content=this.sanitizer.bypassSecurityTrustHtml(n.con.content)),n.con.api&&(n.con.api=this.sanitizer.bypassSecurityTrustHtml(n.con.api)),n.con.meta.module&&(n.con.module=n.con.meta.module),this.data=n,setTimeout(()=>{let r=this.router.parseUrl(this.router.url).fragment||"";if(r){let c=this.doc.querySelector(`#${r}`);c&&c.scrollIntoView()}},200)}goLink(o){window&&(window.location.hash=o)}genDemoTitle(){this.demoStr=this.i18n.fanyi("app.component.examples"),this.demoContent=this.sanitizer.bypassSecurityTrustHtml(`<a class="lake-link"><i data-anchor="${this.demoStr}"></i></a>${this.demoStr}`)}init(){this.genData(),this.genDemoTitle(),this.isBrowser&&setTimeout(()=>{let o=this.doc.querySelectorAll('[class*="language-"], [class*="lang-"]');for(let n=0,r;r=o[n++];)hljs.highlightBlock(r)},250)}copyModule(){At(this.data.con.module).then(()=>{this.msg.success(this.i18n.fanyi("app.demo.copied"))})}ngOnInit(){this.init()}ngOnDestroy(){this.i18NChange$.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(l(wt),l(vt),l(_t),l(Ct),l(L),l(Nt),l(I))},e.\u0275cmp=v({type:e,selectors:[["app-docs"]],inputs:{codes:"codes",item:"item"},standalone:!0,features:[ct],ngContentSelectors:he,decls:2,vars:2,consts:[["nzOffsetTop","16",1,"toc-affix"],["nzShowInkInFixed","","nzAffix","false",3,"nzClick"],[3,"nzHref","nzTitle"],[1,"markdown"],[1,"flex-center"],[3,"item"],["nzBanner","",1,"my-md",3,"nzType","nzCloseable","nzMessage"],["message",""],["href","//github.com/ng-alain/ng-alain/issues/74","target","_blank"],[1,"ml-sm"],["nz-tooltip","",1,"copy-import-module",3,"nzTooltipTitle","click"],["routeTransfer","",1,"markdown",3,"innerHTML"],["routeTransfer","",2,"margin","32px 0 24px 0",3,"id","innerHTML"],["routeTransfer","",1,"markdown","api-container",3,"innerHTML"]],template:function(n,r){n&1&&(y(),u(0,se,9,0)(1,de,17,7)),n&2&&(z(0,r.isBrowser&&(r.data.con.toc!=null&&r.data.con.toc.length)?0:-1),a(1),z(1,r.meta.item?1:-1))},dependencies:[It,H,j,Rt,g,Bt,bt,Lt,Ot,Dt,Mt],encapsulation:2});let i=e;return i})();export{Rt as a,Ye as b};
